webpackJsonp([3],{"/JaN":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,CONTEXT_MENU:32}},"/OwU":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("1GK5"),r=n("O+ca"),s=n("163Z"),o=this&&this.__decorate||function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){this._dispose=[]}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodes},set:function(e){this.setNodes(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginTop",{get:function(){var e=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(e?e.position-e.parent.position-e.parent.getSelfHeight():0)+"px"},enumerable:!0,configurable:!0}),e.prototype.setNodes=function(e){this._nodes=e},e.prototype.ngOnInit=function(){var e=this;this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[Object(r.h)(function(){return e.virtualScroll.getViewportNodes(e.nodes).map(function(e){return e.index})},function(t){e.viewportNodes=t.map(function(t){return e.nodes[t]})},{compareStructural:!0,fireImmediately:!0}),Object(r.h)(function(){return e.nodes},function(t){e.viewportNodes=e.virtualScroll.getViewportNodes(t)})]},e.prototype.ngOnDestroy=function(){this._dispose.forEach(function(e){return e()})},e.prototype.trackNode=function(e,t){return t.id},e.decorators=[{type:i.j,args:[{selector:"tree-node-collection",encapsulation:i.Z.None,template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div\n        [style.margin-top]="marginTop">\n        <tree-node\n          *ngFor="let node of viewportNodes; let i = index; trackBy: trackNode"\n          [node]="node"\n          [index]="i"\n          [templates]="templates">\n        </tree-node>\n      </div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={nodes:[{type:i.y}],treeModel:[{type:i.y}],templates:[{type:i.y}]},o([s.d,a("design:type",Object)],e.prototype,"_nodes",void 0),o([s.d,a("design:type",Array)],e.prototype,"viewportNodes",void 0),o([s.c,a("design:type",String),a("design:paramtypes",[])],e.prototype,"marginTop",null),o([s.b,a("design:type",Function),a("design:paramtypes",[Object]),a("design:returntype",void 0)],e.prototype,"setNodes",null),e}()},"05/P":function(e,t,n){"use strict";function i(){}function r(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:i}var s=n("2K0D"),o=n("WJ2g"),a=n("xEcM"),l=n("gwp7"),c=n("CdVW");class u{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new u;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[a.a])return e[a.a]()}return e||t||n?new o.a(e,t,n):new o.a(l.a)}(e,t,n);if(i?i.call(r,this.source):r.add(this.source||!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}}forEach(e,t){if(t||(s.a.Rx&&s.a.Rx.config&&s.a.Rx.config.Promise?t=s.a.Rx.config.Promise:s.a.Promise&&(t=s.a.Promise)),!t)throw new Error("no Promise impl found");return new t((t,n)=>{let i;i=this.subscribe(t=>{if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)},n,t)})}_subscribe(e){return this.source.subscribe(e)}[c.a](){return this}pipe(...e){return 0===e.length?this:r(e)(this)}toPromise(e){if(e||(s.a.Rx&&s.a.Rx.config&&s.a.Rx.config.Promise?e=s.a.Rx.config.Promise:s.a.Promise&&(e=s.a.Promise)),!e)throw new Error("no Promise impl found");return new e((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}t.a=u,u.create=(e=>new u(e))},"0dVr":function(e,t,n){"use strict";function i(e,t,n){switch(n){case gt.c.points:case gt.c.objs:return e.getEntAttrib(t,n);default:return e.getTopoAttrib(t,n)}}function r(e){return[...e.getAllEntAttribs(),...e.getAllTopoAttribs()]}function s(e){return e.getAllEntAttribs()}function o(e){return e.getAllTopoAttribs()}function a(e,t,n,i){switch(n){case gt.c.points:case gt.c.objs:return e.addEntAttrib(t,n,i);default:return e.addTopoAttrib(t,n,i)}}function l(e){return e.getModel().delAttrib(e)}function c(e){return e.getName()}function u(e,t){return e.setName(t)}function h(e,t){return t.getAttribValue(e)}function d(e,t,n){return t.setAttribValue(e,n)}function p(e,t){return t.getAttribValue(e)}function m(e,t,n){return t.setAttribValue(e,n)}function f(e){return e[0]<0?e[0]=Math.abs(e[0]):e[0]>360&&(e[0]=e[0]%360),e[1]<0?e[1]=Math.abs(e[1]):e[1]>360&&(e[1]=e[0]%360),e[0]>e[1]&&e.reverse(),e}function g(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;if(3!==n.getObjType())throw new Error("Object is not a circle. Object type is: "+n.getObjType());return n}function v(e,t,n){return e.getGeom().addCircle(e,t,n)}function y(e,t){return e.getGeom().addCircle(e,[t,0,0],[0,1,0])}function b(e,t){const n=e.getVectors(),i=new vt.b(...n[0]).setLength(t).toArray(),r=n[1];return e.getGeom().addCircle(e.getOrigin(),i,r)}function _(e,t,n,i){return e.getGeom().addCircle(e,t,n,f(i))}function x(e,t,n){return e.getGeom().addCircle(e,[t,0,0],[0,1,0],f(n))}function w(e,t,n){const i=e.getVectors(),r=new vt.b(...i[0]).setLength(t).toArray(),s=i[1];return e.getGeom().addCircle(e.getOrigin(),r,s,f(n))}function E(e){return e.getOrigin()}function T(e){return e.getVectors()}function S(e){return e.getAngles()}function k(e,t){null===t?e.setAngles(void 0):e.setAngles(f(t))}function A(e){return e.isClosed()}function C(e){e.setAngles(void 0)}function M(e){const t=2*Math.PI*Math.pow(e.getRadius(),2);if(e.isClosed())return t;const n=e.getAngles();return t*((n[1]-n[0])/360)}function R(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;if(4!==n.getObjType())throw new Error("Object is not a ellipse. Object type is: "+n.getObjType());return n}function L(e,t,n){return e.getGeom().addEllipse(e,t,n)}function P(e,t,n){return e.getGeom().addEllipse(e,[t,0,0],[0,n,0])}function O(e,t,n){const i=e.getVectors(),r=new vt.b(...i[0]).setLength(t).toArray(),s=new vt.b(...i[1]).setLength(n).toArray();return e.getGeom().addEllipse(e.getOrigin(),r,s)}function D(e,t,n,i){return e.getGeom().addEllipse(e,t,n,f(i))}function F(e,t,n,i){return e.getGeom().addEllipse(e,[t,0,0],[0,n,0],f(i))}function I(e,t,n,i){const r=e.getVectors(),s=new vt.b(...r[0]).setLength(t).toArray(),o=new vt.b(...r[1]).setLength(n).toArray();return e.getGeom().addEllipse(e.getOrigin(),s,o,f(i))}function N(e){return e.getOrigin()}function B(e){return e.getVectors()}function j(e){return e.getAngles()}function z(e,t){null===t?e.setAngles(void 0):e.setAngles(f(t))}function U(e){return e.isClosed()}function V(e){e.setAngles(void 0)}function G(e){throw new Error("Method not implemented.")}function H(){return gt.r()}function W(e){return new gt.d}function $(e){return new gt.d(JSON.parse(e))}function q(e,t){new File([e.toJSON()],t);return function(e){if(window.navigator.msSaveBlob){const t=new Blob([e.content],{type:e.type});window.navigator.msSaveBlob(t,e.filename)}else{const t=document.createElement("a"),n=e.content,i=["data:",e.type,","].join("");t.href=i+n,t.download=e.filename,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}({type:"text/plain;charset=utf-8",filename:t,content:e.toJSON()}),!0}function X(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;switch(n.getObjType()){case 1:case 1:case 1:case 1:case 1:case 1:return n}}function Y(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;if(2!==n.getObjType())throw new Error("Object is not a plane. Object type is: "+n.getObjType());return n}function K(e,t,n){return e.getGeom().addPlane(e,t,n)}function Z(e,t,n=!1){const i=new vt.b;return i.subVectors(e,t),n&&i.normalize(),i}function J(e,t,n=!1){const i=new vt.b;return i.addVectors(e,t),n&&i.normalize(),i}function Q(e,t,n,i=!0){const r=new vt.b(...e.getPosition()),s=new vt.b(...t.getPosition()),o=Z(s,r);o.setLength(n);const a=J(s,o).toArray();if(i){return e.getGeom().addPoint(a)}return t.setPosition(a),t}function ee(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;if(100!==n.getObjType())throw new Error("Object is not a polyline. Object type is: "+n.getObjType());return n}function te(e,t){if(e.length<2)throw new Error("A minimum of two points are required.");const n=e[0].getModel();for(const i of e)if(i.getModel()!==n)throw new Error("All points must be in the same model.");return n.getGeom().addPolyline(e,t)}function ne(e,t){return this.FromPoints([e,t],!1)}function ie(e,t,n=-1){let i=e.getPointsArr();if(e.isClosed()&&i.push(i[0]),-1!==n){if(n>i.length-1)throw new Error("segments_index is out of range.");i=i.splice(n,2)}return function(e,t){const n=e[0].getGeom();if(0===t)return n.addPoint(e[0].getPosition());if(1===t)return n.addPoint(e[e.length-1].getPosition());if(t<0||t>1)throw new Error("t parameter is out of range");const i=e.map(e=>new vt.b(...e.getPosition())),r=e.length-1,s=[];let o=0;for(let l=0;l<r;l++)o+=Z(i[l+1],i[l]).length(),s.push(o);const a=t*o;for(let l=0;l<i.length-1;l++)if(a>=s[l]&&a<s[l+1]){const e=i[l],t=Z(e,i[l+1]),r=s[l-1];t.setLength(a-r);const o=J(e,t).toArray();return n.addPoint(o)}}(i,t)}function re(e,t){return this.extract(e,gt.a.makeSeq(e.getWires()[0].numEdges()),t)}function se(e,t,n,i,r){const s=e.getPointsArr();switch(t){case 0:case 2:const e=Q(s[1],s[0],n,i);i&&s.unshift(e);case 1:case 2:const r=Q(s[s.length-2],s[s.length-1],n,i);i&&s.push(r)}const o=e.getModel(),a=o.getGeom().addPolyline(s,!1);return r||o.getGeom().delObj(e,!1),a}function oe(e,t,n){const i=e.getModel(),r=[],s=e.getPointsArr();for(const o of t)o<s.length-1&&r.push(i.getGeom().addPolyline([s[o],s[o+1]],!1));return n||i.getGeom().delObj(e,!1),r}function ae(e,t,n,i){const r=e.getModel(),s=e.getPointsArr(),o=[];for(let l=0;l<s.length;l++){const e=l%2;0===e&&o.push([]);const n=o[o.length-1],i=s[l].getPosition();n[e]=s[l],n[3-e]=r.getGeom().addPoint([i[0]+t[0],i[1]+t[1],i[2]+t[2]])}const a=r.getGeom().addPolymesh(o);return i||r.getGeom().delObj(e,!1),a}function le(e){return e.isClosed()}function ce(e,t=!1,n){const i=e[0].getModel();if(t&&e.push(e[0]),e.length<2)throw new Error("Too few polylines to loft.");const r=e[0].getWires()[0].numVertices(),s=e.length,o=e[0].isClosed();for(let c=1;c<s;c++){if(e[c].getWires()[0].numVertices()!==r)throw new Error("Plines do not have equal numbers of points.");if(e[c].isClosed()!==o)throw new Error("Plines must all be either open or closed.")}const a=[];for(let c=0;c<s-1;c++){const t=e[c].getPointsArr(),n=e[c+1].getPointsArr();o&&(t.push(t[0]),n.push(n[0]));for(let e=0;e<r-1;e++){const i=e%2;0===i&&a.push([]);const r=a[a.length-1];r[i]=t[e],r[3-i]=n[e]}}const l=i.getGeom().addPolymesh(a);if(!n)for(const c of e)i.getGeom().delObj(c,!1);return l}function ue(e,t,n=!0){const i=e.getModel();if(t.getModel()!==i)throw new Error("The pline and the rail must be in the same model.");const r=e.getPointsArr();e.isClosed&&r.push(r[0]);const s=t.getPointsArr();t.isClosed&&s.push(s[0]);const o=[],a=r[0].getPosition();for(let c=0;c<r.length-1;c++){const e=r[c].getPosition(),t=r[c+1].getPosition(),n=[e[0]-a[0],e[1]-a[1],e[2]-a[2]],l=[t[0]-a[0],t[1]-a[1],t[2]-a[2]];for(let r=0;r<s.length-1;r++){const e=s[r].getPosition(),t=s[r+1].getPosition(),a=r%2;let c;0===a?(o.push([]),c=n):c=l;const u=o[o.length-1],h=[e[0]+c[0],e[1]+c[1],e[2]+c[2]],d=[t[0]+c[0],t[1]+c[1],t[2]+c[2]];u[a]=i.getGeom().addPoint(h),u[3-a]=i.getGeom().addPoint(d)}}const l=i.getGeom().addPolymesh(o);return n||(i.getGeom().delObj(e,!1),i.getGeom().delObj(t,!1)),l}function he(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;if(200!==n.getObjType())throw new Error("Object is not a polymesh. Object type is: "+n.getObjType());return n}function de(e,t){const n=e.getGeom().getPoint(t);return void 0===n?null:n}function pe(e,t){return e.getGeom().addPoint(t.getPosition())}function me(e,t){return e.getGeom().addPoint(t)}function fe(e){const t=e[0].getModel();for(const i of e)if(i.getModel()!==t)throw new Error("All points must be in the same model.");const n=[0,0,0];for(const i of e){const e=i.getPosition();n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}return t.getGeom().addPoint([n[0]/e.length,n[1]/e.length,n[2]/e.length])}function ge(e){return e.getPosition()}function ve(e,t){const n=e.getGeom().getObj(t);if(void 0===n)return null;if(1!==n.getObjType())throw new Error("Object is not a ray. Object type is: "+n.getObjType());return n}function ye(e,t){return e.getGeom().addRay(e,t)}function be(e){return e.slice()}function _e(e,t){return gt.a.makeSeq(t-e).map(t=>t+e)}function xe(e){return e.length}function we(e,t){return e.push(t),e}function Ee(e,t){return e.unshift(t),e}function Te(e,t){return e.concat(t)}function Se(e,t){return t.concat(e)}function ke(e){return gt.a.flatten(e)}function Ae(e,t){return e.splice(t,1),e}function Ce(e,t,n){for(let i=e.length-1;i>=0&&(e[i]!==t||(e.splice(i,1),!1!==n));i--);return e}function Me(e){return e.reverse(),e}function Re(e){return e.sort(),e}function Le(e){return e.sort(function(e,t){return e-t}),e}function Pe(e,t,n){return e.slice(t,n)}function Oe(e,t,n,i){return e.splice(t,n,...i)}function De(){return Math.PI}function Fe(){return Number.POSITIVE_INFINITY}function Ie(){return Number.NEGATIVE_INFINITY}function Ne(e){return Math.cos(e*(180/Math.PI))}function Be(e){return Math.sin(e*(180/Math.PI))}function je(e){return Math.tan(e*(180/Math.PI))}function ze(e,t){return Math.pow(e,t)}function Ue(e){return Math.ceil(e)}function Ve(e){return Math.floor(e)}function Ge(e){return Math.abs(e)}function He(e){let t=Number.NEGATIVE_INFINITY;for(const n of e)n>t&&(t=n);return t}function We(e){let t=Number.POSITIVE_INFINITY;for(const n of e)n<t&&(t=n);return t}function $e(){return Math.random()}function qe(e,t){const n=Math.ceil(e),i=Math.floor(t);return Math.floor(Math.random()*(i-n))+n}function Xe(e,t){const n=Math.ceil(e),i=Math.floor(t);return Math.floor(Math.random()*(i-n+1))+n}function Ye(e,t){return e.endsWith(t)}function Ke(e,t){return e.includes(t)}function Ze(e){return e.length}function Je(e,t,n){return e.replace(t,n)}function Qe(e,t){return e.search(t)}function et(e,t){return e.split(t)}function tt(e,t,n){return e.substring(t,n)}var nt={};n.d(nt,"Get",function(){return i}),n.d(nt,"getAll",function(){return r}),n.d(nt,"getAllEnts",function(){return s}),n.d(nt,"getAllTopos",function(){return o}),n.d(nt,"Create",function(){return a}),n.d(nt,"del",function(){return l}),n.d(nt,"getName",function(){return c}),n.d(nt,"setName",function(){return u}),n.d(nt,"getEntValue",function(){return h}),n.d(nt,"setEntValue",function(){return d}),n.d(nt,"getTopoValue",function(){return p}),n.d(nt,"setTopoValue",function(){return m});var it={};n.d(it,"Get",function(){return g}),n.d(it,"FromOriginVectors",function(){return v}),n.d(it,"FromOrigin",function(){return y}),n.d(it,"FromPlane",function(){return b}),n.d(it,"ArcFromOriginVectors",function(){return _}),n.d(it,"ArcFromOrigin",function(){return x}),n.d(it,"ArcFromPlane",function(){return w}),n.d(it,"getOrigin",function(){return E}),n.d(it,"getVectors",function(){return T}),n.d(it,"getArcAngles",function(){return S}),n.d(it,"setArcAngles",function(){return k}),n.d(it,"isClosed",function(){return A}),n.d(it,"close",function(){return C}),n.d(it,"length",function(){return M});var rt={};n.d(rt,"Get",function(){return R}),n.d(rt,"FromOriginVectors",function(){return L}),n.d(rt,"FromOrigin",function(){return P}),n.d(rt,"FromPlane",function(){return O}),n.d(rt,"ArcFromOriginVectors",function(){return D}),n.d(rt,"ArcFromOrigin",function(){return F}),n.d(rt,"ArcFromPlane",function(){return I}),n.d(rt,"getOrigin",function(){return N}),n.d(rt,"getVectors",function(){return B}),n.d(rt,"getArcAngles",function(){return j}),n.d(rt,"setArcAngles",function(){return z}),n.d(rt,"isClosed",function(){return U}),n.d(rt,"close",function(){return V}),n.d(rt,"length",function(){return G});var st={};n.d(st,"getTorus",function(){return H});var ot={};n.d(ot,"New",function(){return W}),n.d(ot,"Load",function(){return $}),n.d(ot,"save",function(){return q});var at={};n.d(at,"Get",function(){return X});var lt={};n.d(lt,"Get",function(){return Y}),n.d(lt,"_FromOriginVectors",function(){return K});var ct={};n.d(ct,"Get",function(){return ee}),n.d(ct,"FromPoints",function(){return te}),n.d(ct,"LineFromPoints",function(){return ne}),n.d(ct,"evalParam",function(){return ie}),n.d(ct,"explode",function(){return re}),n.d(ct,"extend",function(){return se}),n.d(ct,"extract",function(){return oe}),n.d(ct,"extrude",function(){return ae}),n.d(ct,"isCLosed",function(){return le}),n.d(ct,"loft",function(){return ce}),n.d(ct,"sweep",function(){return ue});var ut={};n.d(ut,"Get",function(){return he});var ht={};n.d(ht,"GetByID",function(){return de}),n.d(ht,"Copy",function(){return pe}),n.d(ht,"FromXYZ",function(){return me}),n.d(ht,"FromPointsMean",function(){return fe}),n.d(ht,"getXYZ",function(){return ge});var dt={};n.d(dt,"Get",function(){return ve}),n.d(dt,"FromOriginVector",function(){return ye});var pt={};n.d(pt,"Copy",function(){return be}),n.d(pt,"FromRange",function(){return _e}),n.d(pt,"len",function(){return xe}),n.d(pt,"append",function(){return we}),n.d(pt,"appendFront",function(){return Ee}),n.d(pt,"extend",function(){return Te}),n.d(pt,"extendFront",function(){return Se}),n.d(pt,"flatten",function(){return ke}),n.d(pt,"removeIndex",function(){return Ae}),n.d(pt,"removeValue",function(){return Ce}),n.d(pt,"reverse",function(){return Me}),n.d(pt,"sortAlpha",function(){return Re}),n.d(pt,"sortNum",function(){return Le}),n.d(pt,"slice",function(){return Pe}),n.d(pt,"splice",function(){return Oe});var mt={};n.d(mt,"PI",function(){return De}),n.d(mt,"POSITIVE_INFINITY",function(){return Fe}),n.d(mt,"NEGATIVE_INFINITY",function(){return Ie}),n.d(mt,"cos",function(){return Ne}),n.d(mt,"sin",function(){return Be}),n.d(mt,"tan",function(){return je}),n.d(mt,"pow",function(){return ze}),n.d(mt,"ceiling",function(){return Ue}),n.d(mt,"floor",function(){return Ve}),n.d(mt,"abs",function(){return Ge}),n.d(mt,"max",function(){return He}),n.d(mt,"min",function(){return We}),n.d(mt,"random",function(){return $e}),n.d(mt,"randomInt",function(){return qe}),n.d(mt,"randomIntInclusive",function(){return Xe});var ft={};n.d(ft,"endsWith",function(){return Ye}),n.d(ft,"includes",function(){return Ke}),n.d(ft,"len",function(){return Ze}),n.d(ft,"replace",function(){return Je}),n.d(ft,"search",function(){return Qe}),n.d(ft,"split",function(){return et}),n.d(ft,"substring",function(){return tt});var gt=n("7TGV"),vt=n("joIC"),yt=n("IP8f");var bt=n("Zvad"),_t=n("a6y4"),xt=n("LT8/");n.d(t,"a",function(){return nt}),n.d(t,"b",function(){return it}),n.d(t,"c",function(){return rt}),n.d(t,"d",function(){return st}),n.d(t,"e",function(){return yt}),n.d(t,"h",function(){return ot}),n.d(t,"i",function(){return at}),n.d(t,"j",function(){return lt}),n.d(t,"k",function(){return ct}),n.d(t,"l",function(){return ut}),n.d(t,"m",function(){return ht}),n.d(t,"n",function(){return bt}),n.d(t,"o",function(){return dt}),n.d(t,"p",function(){return _t}),n.d(t,"r",function(){return xt}),n.d(t,"f",function(){return pt}),n.d(t,"g",function(){return mt}),n.d(t,"q",function(){return ft})},"0hEB":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.decorators=[{type:i.j,args:[{selector:"TreeNodeExpander, tree-node-expander",encapsulation:i.Z.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <span\n        *ngIf="node.hasChildren"\n        [class.toggle-children-wrapper-expanded]="node.isExpanded"\n        [class.toggle-children-wrapper-collapsed]="node.isCollapsed"\n        class="toggle-children-wrapper"\n        (click)="node.mouseAction(\'expanderClick\', $event)">\n\n        <span class="toggle-children"></span>\n      </span>\n      <span\n        *ngIf="!node.hasChildren"\n        class="toggle-children-placeholder">\n      </span>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={node:[{type:i.y}]},e}()},"0hNI":function(e,t,n){"use strict";function i(e){return a._38(2,[],null,null)}function r(e){return a._38(2,[a._28(null,0),(e()(),a._15(1,0,null,null,3,"div",[["class","mat-expansion-panel-content"]],[[2,"mat-expanded",null],[24,"@bodyExpansion",0],[8,"id",0]],null,null,null,null)),(e()(),a._15(2,0,null,null,1,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),a._28(null,1),a._28(null,2)],null,function(e,t){var n=t.component;e(t,1,0,n.expanded,n._getExpandedState(),n.id)})}function s(e){return a._38(0,[(e()(),a._15(0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component._getExpandedState())})}function o(e){return a._38(2,[(e()(),a._15(0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),a._28(null,0),a._28(null,1),a._28(null,2),(e()(),a._10(16777216,null,null,1,null,s)),a._14(5,16384,null,0,c.g,[a.Y,a.T],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component._showToggle())},null)}n.d(t,"a",function(){return g}),t.d=r,n.d(t,"b",function(){return v}),t.c=o;var a=n("1GK5"),l=n("waJ0"),c=n("AdGS"),u=n("tksO"),h=n("3P+V"),d=n("nTP9"),p=n("3bUk"),m=n("IMoF"),f=(a._12(l.b,[],function(e){return a._26([a._27(512,a.k,a._8,[[8,[]],[3,a.k],a.D]),a._27(4608,c.i,c.h,[a.B,[2,c.n]]),a._27(4608,u.a,u.a,[]),a._27(4608,h.j,h.j,[u.a]),a._27(4608,h.i,h.i,[h.j,a.F,c.b]),a._27(136192,h.e,h.c,[[3,h.e],c.b]),a._27(5120,h.n,h.m,[[3,h.n],[2,h.k],c.b]),a._27(5120,h.h,h.f,[[3,h.h],a.F,u.a]),a._27(5120,d.c,d.d,[[3,d.c]]),a._27(512,c.a,c.a,[]),a._27(512,u.b,u.b,[]),a._27(512,h.a,h.a,[]),a._27(512,p.c,p.c,[]),a._27(512,l.b,l.b,[])])}),a._13({encapsulation:2,styles:[],data:{}})),g=(a._11("ng-component",l.d,function(e){return a._38(0,[(e()(),a._15(0,0,null,null,1,"ng-component",[],null,null,null,i,f)),a._14(1,180224,null,0,l.d,[l.a,a.h,d.c],null,null)],null,null)},{expanded:"expanded"},{closed:"closed",opened:"opened",destroyed:"destroyed"},[]),a._13({encapsulation:2,styles:[".mat-expansion-panel{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);box-sizing:content-box;display:block;margin:0;transition:margin 225ms cubic-bezier(.4,0,.2,1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-expanded .mat-expansion-panel-content{overflow:visible}.mat-expansion-panel-content,.mat-expansion-panel-content.ng-animating{overflow:hidden}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion .mat-expansion-panel-spacing:first-child{margin-top:0}.mat-accordion .mat-expansion-panel-spacing:last-child{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}})),v=(a._11("mat-expansion-panel",l.c,function(e){return a._38(0,[(e()(),a._15(0,0,null,null,2,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"mat-expansion-panel-spacing",null]],null,null,r,g)),a._33(6144,null,m.E,null,[l.c]),a._14(2,704512,null,0,l.c,[[2,l.a],a.h,d.c],null,null)],null,function(e,t){e(t,0,0,a._29(t,2).expanded,a._29(t,2)._hasSpacing())})},{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle"},{opened:"opened",closed:"closed"},["mat-expansion-panel-header","*","mat-action-row"]),a._13({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}}));a._11("mat-expansion-panel-header",l.f,function(e){return a._38(0,[(e()(),a._15(0,0,null,null,3,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keyup"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==a._29(e,1)._toggle()&&i),"keyup"===t&&(i=!1!==a._29(e,1)._keyup(n)&&i),i},o,v)),a._14(1,180224,null,0,l.f,[l.c,a.o,h.h,a.h],null,null),a._31(2,{collapsedHeight:0,expandedHeight:1}),a._31(3,{value:0,params:1})],null,function(e,t){e(t,0,0,a._29(t,1).panel.disabled?-1:0,a._29(t,1)._getPanelId(),a._29(t,1)._isExpanded(),a._29(t,1).panel.disabled,a._29(t,1)._isExpanded(),e(t,3,0,a._29(t,1)._getExpandedState(),e(t,2,0,a._29(t,1).collapsedHeight,a._29(t,1).expandedHeight)))})},{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},{},["mat-panel-title","mat-panel-description","*"])},"0mJR":function(e,t,n){"use strict";function i(e){return e.reduce((e,t)=>e.concat(t instanceof c?t.errors:t),[])}var r=n("ElHI"),s=n("tiL7"),o=n("GcAb"),a=n("CLKv"),l=n("jLix");class c extends Error{constructor(e){super(),this.errors=e;const t=Error.call(this,e?`${e.length} errors occurred during unsubscription:\n  ${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"");this.name=t.name="UnsubscriptionError",this.stack=t.stack,this.message=t.message}}class u{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:u,_unsubscribe:h,_subscriptions:d}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let p=-1,m=u?u.length:0;for(;n;)n.remove(this),n=++p<m&&u[p]||null;if(Object(o.a)(h)){Object(a.a)(h).call(this)===l.a&&(t=!0,e=e||(l.a.e instanceof c?i(l.a.e.errors):[l.a.e]))}if(Object(r.a)(d))for(p=-1,m=d.length;++p<m;){const n=d[p];if(Object(s.a)(n)){if(Object(a.a)(n.unsubscribe).call(n)===l.a){t=!0,e=e||[];let n=l.a.e;n instanceof c?e=e.concat(i(n.errors)):e.push(n)}}}if(t)throw new c(e)}add(e){if(!e||e===u.EMPTY)return u.EMPTY;if(e===this)return this;let t=e;switch(typeof e){case"function":t=new u(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){const e=t;(t=new u)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e}}t.a=u,u.EMPTY=function(e){return e.closed=!0,e}(new u)},"163Z":function(e,t,n){"use strict";var i=n("1GK5"),r=n("8+46"),s=n("O+ca"),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.templateRef=t,r.viewContainer=n,r.renderer=i,r}return o(t,e),t.prototype.autoDetect=function(e){console.warn("mobxAutorunSync is deprected, please use mobxAutorun instead - it's doing exactly the same thing"),this.dispose=Object(s.b)(function(){e.detectChanges()})},t.decorators=[{type:i.n,args:[{selector:"[mobxAutorunSync]"}]}],t.ctorParameters=function(){return[{type:i.T},{type:i.Y},{type:i.L}]},t}(r.a),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.templateRef=t,r.viewContainer=n,r.renderer=i,r}return l(t,e),t.prototype.autoDetect=function(e){this.dispose=Object(s.h)(this.mobxReaction,function(){e.detectChanges()},{fireImmediately:!0})},t.decorators=[{type:i.n,args:[{selector:"[mobxReaction]"}]}],t.ctorParameters=function(){return[{type:i.T},{type:i.Y},{type:i.L}]},t.propDecorators={mobxReaction:[{type:i.y}]},t}(r.a);n.d(t,"a",function(){return h}),t.b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.a.apply(void 0,e)},t.c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.c.apply(void 0,e)},t.d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.g.apply(void 0,e)},n.d(t,!1,function(){return r.a}),n.d(t,!1,function(){return a}),n.d(t,!1,function(){return c});var u=[r.a,a,c],h=function(){function e(){}return e.decorators=[{type:i.C,args:[{declarations:u.slice(),exports:u.slice(),imports:[],providers:[]}]}],e.ctorParameters=function(){return[]},e}()},"1GK5":function(e,t,n){"use strict";(function(e){function i(e,t,n,i){function s(e){if(this instanceof s)return o.call(this,e),this;const t=new s(e),n=function(e){return(e.hasOwnProperty(Xn)?e[Xn]:Object.defineProperty(e,Xn,{value:[]})[Xn]).push(t),e};return i&&i(n),n}const o=r(t);return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}function r(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function s(e,t,n){function i(...e){function t(e,t,i){const r=e.hasOwnProperty(Yn)?e[Yn]:Object.defineProperty(e,Yn,{value:[]})[Yn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(n),e}if(this instanceof i)return s.apply(this,e),this;const n=new i(...e);return t.annotation=n,t}const s=r(t);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function o(e,t,n){function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return function(e,n){const i=e.constructor,r=i.hasOwnProperty(Kn)?i[Kn]:Object.defineProperty(i,Kn,{value:{}})[Kn];r[n]=r.hasOwnProperty(n)&&r[n]||[],r[n].unshift(t)}}const s=r(t);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function a(){if(!Si){const e=Ti.Symbol;if(e&&e.iterator)Si=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Si=n)}}}return Si}function l(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function c(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function u(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e){return e.__forward_ref__=h,e.toString=function(){return u(this())},e}function d(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===h?e():e}function p(e){const t=function(e){let t=Ri;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let i=6,r=d(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof vi||n==vi?i|=1:n instanceof _i||n==_i?i&=-3:n instanceof bi||n==bi?i&=-5:r=n instanceof gi?n.token:d(n)}t.push({token:r,options:i})}}else if(e.useExisting){const n=d(e.useExisting);t=[{token:n,options:6}]}else if(!(n||Fi in e))throw y("'deps' required",e);return t}(e);let n=Mi,i=Ri,r=!1,s=d(e.provide);if(Fi in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=d(e.useClass);else{if("function"!=typeof s)throw y("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=s}return{deps:t,fn:n,useNew:r,value:i}}function m(e){return y("Cannot mix multi providers and regular providers",e)}function f(e,t){if(t)if((t=d(t))instanceof Array)for(let n=0;n<t.length;n++)f(e,t[n]);else{if("function"==typeof t)throw y("Function/Class not supported",t);if(!t||"object"!=typeof t||!t.provide)throw y("Unexpected provider",t);{let n=d(t.provide);const i=p(t);if(!0===t.multi){let i=e.get(n);if(i){if(i.fn!==Pi)throw m(n)}else e.set(n,i={token:t.provide,deps:[],useNew:!1,fn:Pi,value:Ri});n=t,i.deps.push({token:n,options:6})}const r=e.get(n);if(r&&r.fn==Pi)throw m(n);e.set(n,i)}}}function g(e,t,n,i,r){try{return function(e,t,n,i,r){let s;if(t){if((s=t.value)==Li)throw Error(zi+"Circular dependency");if(s===Ri){t.value=Li;let e=void 0,r=t.useNew,o=t.fn,a=t.deps,l=Ri;if(a.length){l=[];for(let e=0;e<a.length;e++){const t=a[e],r=t.options,s=2&r?n.get(t.token):void 0;l.push(g(t.token,s,n,s||4&r?i:Bi,1&r?null:Ci.THROW_IF_NOT_FOUND))}}t.value=s=r?new o(...l):o.apply(e,l)}}else s=i.get(e,r);return s}(e,t,n,i,r)}catch(n){n instanceof Error||(n=new Error(n));throw(n[Ni]=n[Ni]||[]).unshift(e),t&&t.value==Li&&(t.value=Ri),n}}function v(e,t){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==zi?e.substr(2):e;let n=u(t);if(t instanceof Array)n=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}n=`{${e.join(", ")}}`}return`StaticInjectorError[${n}]: ${e.replace(ji,"\n  ")}`}function y(e,t){return new Error(v(e,t))}function b(e){return e[Ui]}function _(e){return e[Vi]}function x(e){if(e.length>1){return" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>u(e.token)).join(" -> ")+")"}return""}function w(e,t,n,i){const r=[t],s=n(r),o=i?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,i=Error(n);return i[Vi]=t,i}(s,i):Error(s);return o.addKey=E,o.keys=r,o.injectors=[e],o.constructResolvingMessage=n,o[Vi]=i,o}function E(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function T(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const e=t[i];e&&0!=e.length?n.push(e.map(u).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+u(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+u(e)+"' is decorated with Injectable.")}function S(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}function k(e){return"function"==typeof e}function A(e){return e?e.map(e=>{return new(0,e.type.annotationCls)(...e.args?e.args:[])}):[]}function C(e){const t=Object.getPrototypeOf(e.prototype);return(t?t.constructor:null)||Object}function M(e){let t,n;if(e.useClass){const i=d(e.useClass);t=Yi.factory(i),n=O(i)}else e.useExisting?(t=(e=>e),n=[Ki.fromKey(Wi.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>D(e,t,n))}return O(e)}(e.useFactory,e.deps)):(t=(()=>e.useValue),n=Zi);return new Qi(t,n)}function R(e){return new Ji(Wi.get(e.provide),[M(e)],e.multi||!1)}function L(e){const t=function(e,t){for(let n=0;n<e.length;n++){const i=e[n],r=t.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw S(r,i);if(i.multiProvider)for(let e=0;e<i.resolvedFactories.length;e++)r.resolvedFactories.push(i.resolvedFactories[e]);else t.set(i.key.id,i)}else{let e;e=i.multiProvider?new Ji(i.key,i.resolvedFactories.slice(),i.multiProvider):i,t.set(i.key.id,e)}}return t}(P(e,[]).map(R),new Map);return Array.from(t.values())}function P(e,t){return e.forEach(e=>{if(e instanceof qi)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!(e instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(e);P(e,t)}}),t}function O(e){const t=Yi.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw T(e,t);return t.map(n=>D(e,n,t))}function D(e,t,n){let i=null,r=!1;if(!Array.isArray(t))return F(t instanceof gi?t.token:t,r,null);let s=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof qi?i=e:e instanceof gi?i=e.token:e instanceof vi?r=!0:e instanceof bi||e instanceof _i?s=e:e instanceof qn&&(i=e)}if(null!=(i=d(i)))return F(i,r,s);throw T(e,n)}function F(e,t,n){return new Ki(Wi.get(e),t,n)}function I(e){return!!e&&"function"==typeof e.then}function N(e){return!!e&&"function"==typeof e.subscribe}function B(){return`${j()}${j()}${j()}`}function j(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function z(){throw new Error("Runtime compiler is not loaded")}function U(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t[fr]=e,t}function V(){}function G(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function H(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function W(e){e._nesting--,G(e)}function $(e){Or=e}function q(){if(Fr)throw new Error("Cannot enable prod mode after platform setup.");Dr=!1}function X(){return Fr=!0,Dr}function Y(e,t,n=[]){const i=new qn(`Platform: ${t}`);return(t=[])=>{let r=K();return r&&!r.injector.get(Ir,!1)||(e?e(n.concat(t).concat({provide:i,useValue:!0})):function(e){if(Pr&&!Pr.destroyed&&!Pr.injector.get(Ir,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Pr=e.get(Br);const t=e.get(ar,null);t&&t.forEach(e=>e())}(Ci.create(n.concat(t).concat({provide:i,useValue:!0})))),function(e){const t=K();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function K(){return Pr&&!Pr.destroyed?Pr:null}function Z(e,t){return e=Array.isArray(t)?t.reduce(Z,e):Object.assign({},e,t)}function J(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Q(e){return e.reduce((e,t)=>{const n=Array.isArray(t)?Q(t):t;return e.concat(n)},[])}function ee(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}function te(e,t,n){e.childNodes.forEach(e=>{e instanceof ts&&(t(e)&&n.push(e),te(e,t,n))})}function ne(e,t,n){e instanceof ts&&e.childNodes.forEach(e=>{t(e)&&n.push(e),e instanceof ts&&ne(e,t,n)})}function ie(e){return ns.get(e)||null}function re(e){ns.set(e.nativeNode,e)}function se(e,t){const n=oe(e),i=oe(t);if(n&&i)return function(e,t,n){const i=e[a()](),r=t[a()]();for(;;){const e=i.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,se);return!(n||!(e&&("object"==typeof e||"function"==typeof e))||i||!(t&&("object"==typeof t||"function"==typeof t)))||c(e,t)}function oe(e){return!!ae(e)&&(Array.isArray(e)||!(e instanceof Map)&&a()in e)}function ae(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function le(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function ce(){return ds}function ue(){return ps}function he(e){return e||"en-US"}function de(e,t,n){const i=e.state,r=1792&i;return r===t?(e.state=-1793&i|n,e.initIndex=-1,!0):r===n}function pe(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function me(e,t){return e.nodes[t]}function fe(e,t){return e.nodes[t]}function ge(e,t){return e.nodes[t]}function ve(e,t){return e.nodes[t]}function ye(e,t){return e.nodes[t]}function be(e,t,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return _e(n,t),n}(r,e)}function _e(e,t){e[Ui]=t,e[Gi]=t.logError.bind(t)}function xe(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function we(e){let t=ws.get(e);return t||(t=u(e)+"_"+ws.size,ws.set(e,t)),t}function Ee(e,t,n,i){if(i instanceof is){i=i.wrapped;let r=e.def.nodes[t].bindingIndex+n,s=e.oldValues[r];s instanceof is&&(s=s.wrapped),e.oldValues[r]=new is(s)}return i}function Te(e){return{id:Es,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}function Se(e,t,n,i){const r=e.oldValues;return!(!(2&e.state)&&c(r[t.bindingIndex+n],i))}function ke(e,t,n,i){return!!Se(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Ae(e,t,n,i){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!se(r,i))throw be(_s.createDebugContext(e,t.nodeIndex),r,i,0!=(1&e.state))}function Ce(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Me(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Re(e,t,n,i){try{return Ce(33554432&e.def.nodes[t].flags?fe(e,t).componentView:e),_s.handleEvent(e,t,n,i)}catch(t){e.root.errorHandler.handleError(t)}}function Le(e){if(e.parent){return fe(e.parent,e.parentNodeDef.nodeIndex)}return null}function Pe(e){return e.parent?e.parentNodeDef.parent:null}function Oe(e,t){switch(201347067&t.flags){case 1:return fe(e,t.nodeIndex).renderElement;case 2:return me(e,t.nodeIndex).renderText}}function De(e,t){return e?`${e}:${t}`:t}function Fe(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Ie(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ne(e){return 1<<e%32}function Be(e){const t={};let n=0;const i={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=Ne(e)):i[e]=r}),{matchedQueries:t,references:i,matchedQueryIds:n}}function je(e){return e.map(e=>{let t,n;return Array.isArray(e)?[n,t]=e:(n=0,t=e),{flags:n,token:t,tokenKey:we(t)}})}function ze(e,t,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===pi.Native?fe(e,n.renderParent.nodeIndex).renderElement:void 0:t}function Ue(e){let t=ks.get(e);return t||((t=e(()=>xs)).factory=e,ks.set(e,t)),t}function Ve(e,t,n,i,r){3===t&&(n=e.renderer.parentNode(Oe(e,e.def.lastRenderRootNode))),Ge(e,t,0,e.def.nodes.length-1,n,i,r)}function Ge(e,t,n,i,r,s,o){for(let a=n;a<=i;a++){const n=e.def.nodes[a];11&n.flags&&We(e,n,t,r,s,o),a+=n.childCount}}function He(e,t,n,i,r,s){let o=e;for(;o&&!Fe(o);)o=o.parent;const a=o.parent,l=Pe(o),c=l.nodeIndex+1,u=l.nodeIndex+l.childCount;for(let h=c;h<=u;h++){const e=a.def.nodes[h];e.ngContentIndex===t&&We(a,e,n,i,r,s),h+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)$e(e,o[t],n,i,r,s)}}function We(e,t,n,i,r,s){if(8&t.flags)He(e,t.ngContent.index,n,i,r,s);else{const o=Oe(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&$e(e,o,n,i,r,s),32&t.bindingFlags){$e(fe(e,t.nodeIndex).componentView,o,n,i,r,s)}}else $e(e,o,n,i,r,s);if(16777216&t.flags){const o=fe(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)Ve(o[e],n,i,r,s)}1&t.flags&&!t.element.name&&Ge(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,r,s)}}function $e(e,t,n,i,r,s){const o=e.renderer;switch(n){case 1:o.appendChild(i,t);break;case 2:o.insertBefore(i,t,r);break;case 3:o.removeChild(i,t);break;case 0:s.push(t)}}function qe(e){if(":"===e[0]){const t=e.match(As);return[t[1],t[2]]}return["",e]}function Xe(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Ye(e,t,n,i,r,s,o,a,l,c,u,h,d,p,m,f,g,v,y,b){switch(e){case 1:return t+Ke(n)+i;case 2:return t+Ke(n)+i+Ke(r)+s;case 3:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a;case 4:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a+Ke(l)+c;case 5:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a+Ke(l)+c+Ke(u)+h;case 6:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a+Ke(l)+c+Ke(u)+h+Ke(d)+p;case 7:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a+Ke(l)+c+Ke(u)+h+Ke(d)+p+Ke(m)+f;case 8:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a+Ke(l)+c+Ke(u)+h+Ke(d)+p+Ke(m)+f+Ke(g)+v;case 9:return t+Ke(n)+i+Ke(r)+s+Ke(o)+a+Ke(l)+c+Ke(u)+h+Ke(d)+p+Ke(m)+f+Ke(g)+v+Ke(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ke(e){return null!=e?e.toString():""}function Ze(e,t,n,i,r,s){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Be(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Ue(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||xs},provider:null,text:null,query:null,ngContent:null}}function Je(e,t,n,i,r,s,o=[],a,l,c,u,h){c||(c=xs);const{matchedQueries:d,references:p,matchedQueryIds:m}=Be(n);let f=null,g=null;s&&([f,g]=qe(s)),a=a||[];const v=new Array(a.length);for(let _=0;_<a.length;_++){const[e,t,n]=a[_],[i,r]=qe(t);let s=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}v[_]={flags:e,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}l=l||[];const y=new Array(l.length);for(let _=0;_<l.length;_++){const[e,t]=l[_];y[_]={type:0,target:e,eventName:t,propName:null}}const b=(o=o||[]).map(([e,t])=>{const[n,i]=qe(e);return[n,i,t]});return h=function(e){if(e&&e.id===Es){const t=null!=e.encapsulation&&e.encapsulation!==pi.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Ss++}`:Ts}return e&&e.id===Ts&&(e=null),e||null}(h),u&&(t|=33554432),t|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:p,ngContentIndex:i,childCount:r,bindings:v,bindingFlags:Xe(v),outputs:y,element:{ns:f,name:g,attrs:b,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||xs},provider:null,text:null,query:null,ngContent:null}}function Qe(e,t,n){const i=n.element,r=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=ze(e,t,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[e,t,n]=i.attrs[a];s.setAttribute(o,t,n,e)}return o}function et(e,t,n,i){for(let r=0;r<n.outputs.length;r++){const s=n.outputs[r],o=function(e,t,n){return i=>Re(e,t,n,i)}(e,n.nodeIndex,De(s.target,s.eventName));let a=s.target,l=e;"component"===s.target&&(a=null,l=t);const c=l.renderer.listen(a||i,s.eventName,o);e.disposables[n.outputIndex+r]=c}}function tt(e,t,n,i){if(!ke(e,t,n,i))return!1;const r=t.bindings[n],s=fe(e,t.nodeIndex),o=s.renderElement,a=r.name;switch(15&r.flags){case 1:!function(e,t,n,i,r,s){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=e.renderer;null!=s?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(e,r,o,r.ns,a,i);break;case 2:!function(e,t,n,i){const r=e.renderer;i?r.addClass(t,n):r.removeClass(t,n)}(e,o,a,i);break;case 4:!function(e,t,n,i,r){let s=e.root.sanitizer.sanitize(ys.STYLE,r);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const o=e.renderer;null!=s?o.setStyle(n,i,s):o.removeStyle(n,i)}(e,r,o,a,i);break;case 8:!function(e,t,n,i,r){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,r):r;e.renderer.setProperty(n,i,o)}(33554432&t.flags&&32&r.flags?s.componentView:e,r,o,a,i)}return!0}function nt(e,t,n,i){n=d(n);return{index:-1,deps:je(i),flags:e,token:t,value:n}}function it(e){const t={};for(let n=0;n<e.length;n++){const i=e[n];i.index=n,t[we(i.token)]=i}return{factory:null,providersByKey:t,providers:e}}function rt(e,t,n=Ci.THROW_IF_NOT_FOUND){if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case Ms:case Rs:return e}const r=e._def.providersByKey[i];if(r){let t=e._providers[r.index];return void 0===t&&(t=e._providers[r.index]=st(e,r)),t===Cs?void 0:t}return e._parent.get(t.token,n)}function st(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const i=n.length;switch(i){case 0:return new t;case 1:return new t(rt(e,n[0]));case 2:return new t(rt(e,n[0]),rt(e,n[1]));case 3:return new t(rt(e,n[0]),rt(e,n[1]),rt(e,n[2]));default:const r=new Array(i);for(let t=0;t<i;t++)r[t]=rt(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const i=n.length;switch(i){case 0:return t();case 1:return t(rt(e,n[0]));case 2:return t(rt(e,n[0]),rt(e,n[1]));case 3:return t(rt(e,n[0]),rt(e,n[1]),rt(e,n[2]));default:const r=Array(i);for(let t=0;t<i;t++)r[t]=rt(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=rt(e,t.deps[0]);break;case 256:n=t.value}return void 0===n?Cs:n}function ot(e,t,n,i){let r=t.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=r.length),i.viewContainerParent=e,ut(r,n,i),function(e,t){const n=Le(t);if(!n||n===e||16&t.state)return;t.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]);i.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,i),_s.dirtyParentQueries(i);lt(t,n>0?r[n-1]:null,i)}function at(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const i=n[t];return i.viewContainerParent=null,ht(n,t),_s.dirtyParentQueries(i),ct(i),i}function lt(e,t,n){const i=t?Oe(t,t.def.lastRenderRootNode):e.renderElement;Ve(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function ct(e){Ve(e,3,null,null,void 0)}function ut(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ht(e,t){t>=e.length-1?e.pop():e.splice(t,1)}function dt(e,t,n,i,r,s){return new class extends mr{constructor(e,t,n,i,r,s){super(),this.selector=e,this.componentType=t,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t){const i=t[n];e.push({propName:n,templateName:i})}return e}get outputs(){const e=[];for(let t in this._outputs){const n=this._outputs[t];e.push({propName:t,templateName:n})}return e}create(e,t,n,i){if(!i)throw new Error("ngModule should be provided");const r=Ue(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=_s.createRootView(e,t||[],n,r,i,Ls),a=ge(o,s).instance;return n&&o.renderer.setAttribute(fe(o,0).renderElement,"ng-version",fi.full),new class extends pr{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Hr(fe(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Os(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}(o,new Ps(o),a)}}(e,t,n,i,r,s)}function pt(e,t,n){return new class{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Hr(this._data.renderElement)}get injector(){return new Os(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Pe(e),e=e.parent;return e?new Os(e,t):new Os(this._view,null)}clear(){const e=this._embeddedViews.length;for(let t=e-1;t>=0;t--){const e=at(this._data,t);_s.destroyView(e)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Ps(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const s=n||this.parentInjector;r||e instanceof yr||(r=s.get(br));const o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e,i=n._view;return ot(this._view,this._data,t,i),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const i=e.viewContainer._embeddedViews,r=i[t];ht(i,t),null==n&&(n=i.length),ut(i,n,r),_s.dirtyParentQueries(r),ct(r),lt(e,n>0?i[n-1]:null,r)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=at(this._data,e);t&&_s.destroyView(t)}detach(e){const t=at(this._data,e);return t?new Ps(t):null}}(e,t,n)}function mt(e){return new Ps(e)}function ft(e,t){return new class extends Kr{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Ps(_s.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Hr(fe(this._parentView,this._def.nodeIndex).renderElement)}}(e,t)}function gt(e,t){return new Os(e,t)}function vt(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=fe(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return me(e,n.nodeIndex).renderText;if(20240&n.flags)return ge(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function yt(e){return new class{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,i]=qe(t),r=this.delegate.createElement(i,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],i)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[i,r]=qe(t);null!=n?this.delegate.setAttribute(e,r,n,i):this.delegate.removeAttribute(e,r,i)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}(e.renderer)}function bt(e,t,n,i){return new class{constructor(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let i=0;i<t.providers.length;i++){const r=t.providers[i];4096&r.flags||(n[i]=st(e,r))}}(this)}get(e,t=Ci.THROW_IF_NOT_FOUND){return rt(this,{token:e,tokenKey:we(e),flags:0},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(gr)}get injector(){return this}destroy(){if(this._destroyed)throw new Error(`The ng module ${u(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];t&&t!==Cs&&t.ngOnDestroy()}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}(e,t,n,i)}function _t(e,t,n,i,r,s,o,a){const l=[];if(o)for(let u in o){const[e,t]=o[u];l[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return t|=16384,Et(e,t,n,i,r,r,s,l,c)}function xt(e,t,n){return e|=16,Et(-1,e,null,0,t,t,n)}function wt(e,t,n,i,r){return Et(-1,e,t,0,n,i,r)}function Et(e,t,n,i,r,s,o,a,l){const{matchedQueries:c,references:u,matchedQueryIds:h}=Be(n);l||(l=[]),a||(a=[]),s=d(s);const p=je(o);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Xe(a),outputs:l,element:null,provider:{token:r,value:s,deps:p},text:null,query:null,ngContent:null}}function Tt(e,t){return At(e,t)}function St(e,t){let n=e;for(;n.parent&&!Fe(n);)n=n.parent;return Ct(n.parent,Pe(n),!0,t.provider.value,t.provider.deps)}function kt(e,t){const n=(32768&t.flags)>0,i=Ct(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const n=t.outputs[r],s=i[n.propName].subscribe(function(e,t,n){return i=>Re(e,t,n,i)}(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+r]=s.unsubscribe.bind(s)}return i}function At(e,t){const n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return Ct(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(Mt(e,t,n,r[0]));case 2:return i(Mt(e,t,n,r[0]),Mt(e,t,n,r[1]));case 3:return i(Mt(e,t,n,r[0]),Mt(e,t,n,r[1]),Mt(e,t,n,r[2]));default:const o=Array(s);for(let i=0;i<s;i++)o[i]=Mt(e,t,n,r[i]);return i(...o)}}(e,t.parent,n,i.value,i.deps);case 2048:return Mt(e,t.parent,n,i.deps[0]);case 256:return i.value}}function Ct(e,t,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(Mt(e,t,n,r[0]));case 2:return new i(Mt(e,t,n,r[0]),Mt(e,t,n,r[1]));case 3:return new i(Mt(e,t,n,r[0]),Mt(e,t,n,r[1]),Mt(e,t,n,r[2]));default:const o=new Array(s);for(let i=0;i<s;i++)o[i]=Mt(e,t,n,r[i]);return new i(...o)}}function Mt(e,t,n,i,r=Ci.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=e;2&i.flags&&(r=null);const o=i.tokenKey;for(o===js&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);e;){if(t)switch(o){case Ds:return yt(Rt(e,t,n));case Fs:return Rt(e,t,n).renderer;case Is:return new Hr(fe(e,t.nodeIndex).renderElement);case Ns:return fe(e,t.nodeIndex).viewContainer;case Bs:if(t.element.template)return fe(e,t.nodeIndex).template;break;case js:return mt(Rt(e,t,n));case zs:return gt(e,t);default:const i=(n?t.element.allProviders:t.element.publicProviders)[o];if(i){let t=ge(e,i.nodeIndex);return t||(t={instance:At(e,i)},e.nodes[i.nodeIndex]=t),t.instance}}n=Fe(e),t=Pe(e),e=e.parent}const a=s.root.injector.get(i.token,Us);return a!==Us||r===Us?a:s.root.ngModule.injector.get(i.token,r)}function Rt(e,t,n){let i;if(n)i=fe(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!Fe(i);)i=i.parent;return i}function Lt(e,t,n,i,r,s){if(32768&n.flags){const t=fe(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}const o=n.bindings[i].name;if(t.instance[o]=r,524288&n.flags){s=s||{};let t=e.oldValues[n.bindingIndex+i];t instanceof is&&(t=t.wrapped);s[n.bindings[i].nonMinifiedName]=new rs(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=r,s}function Pt(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&t&&Ot(e,r,s.flags&t,i++),0==(s.childFlags&t)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(i=function(e,t,n,i){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&Ot(e,r,t.flags&n,i++),r+=t.childCount}return i}(e,o,t,i)),o=o.parent}}function Ot(e,t,n,i){const r=ge(e,t);if(!r)return;const s=r.instance;s&&(_s.setCurrentNode(e,t),1048576&n&&pe(e,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&pe(e,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}function Dt(e,t,n){let i=[];for(let r in n){const e=n[r];i.push({propName:r,bindingType:e})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Ne(t),bindings:i},ngContent:null}}function Ft(){return new Wr}function It(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Ie(e);){let n=e.parentNodeDef;e=e.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=e.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&ye(e,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&ye(e,n).setDirty(),n+=t.childCount}}function Nt(e,t){const n=ye(e,t.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=Bt(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),i=ge(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=Bt(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(r);const s=t.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const e=s[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}i[e.propName]=t}o&&n.notifyOnChanges()}function Bt(e,t,n,i,r){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[i.id];if(null!=n&&r.push(jt(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=fe(e,s);if((t.childMatchedQueries&i.filterId)===i.filterId&&(Bt(e,s+1,s+t.childCount,i,r),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Le(s);o&&o===n&&Bt(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Bt(t,0,t.def.nodes.length-1,i,r)}}(t.childMatchedQueries&i.filterId)!==i.filterId&&(s+=t.childCount)}return r}function jt(e,t,n){if(null!=n)switch(n){case 1:return fe(e,t.nodeIndex).renderElement;case 0:return new Hr(fe(e,t.nodeIndex).renderElement);case 2:return fe(e,t.nodeIndex).template;case 3:return fe(e,t.nodeIndex).viewContainer;case 4:return ge(e,t.nodeIndex).instance}}function zt(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Ut(e,t,n){const i=ze(e,t,n);if(!i)return;He(e,n.ngContent.index,1,i,null,void 0)}function Vt(e,t){return Ht(128,e,new Array(t+1))}function Gt(e,t){const n=Object.keys(t),i=n.length,r=new Array(i);for(let s=0;s<i;s++){const e=n[s];r[t[e]]=e}return Ht(64,e,r)}function Ht(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];i[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Xe(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Wt(e,t,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function $t(e,t,n){let i;const r=e.renderer;i=r.createText(n.text.prefix);const s=ze(e,t,n);return s&&r.appendChild(s,i),{renderText:i}}function qt(e,t){return(null!=e?e.toString():"")+t.suffix}function Xt(e,t,n,i){let r=0,s=0,o=0,a=0,l=0,c=null,u=null,h=!1,d=!1,p=null;for(let m=0;m<t.length;m++){const e=t[m];if(e.nodeIndex=m,e.parent=c,e.bindingIndex=r,e.outputIndex=s,e.renderParent=u,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(function(e,t,n){const i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags){const n=e?e.flags:0;if(0==(1&n))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`)}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}(c,e,t.length),r+=e.bindings.length,s+=e.outputs.length,!u&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(8192&e.flags),n=0!=(32768&e.flags);!t||n?c.element.publicProviders[we(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[we(e.provider.token)]=e),n&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,Yt(e)||(u=e);else for(;c&&m===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),u=(c=e)&&Yt(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||xs,updateRenderer:i||xs,handleEvent:(e,n,i,r)=>t[n].element.handleEvent(e,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:p}}function Yt(e){return 0!=(1&e.flags)&&null===e.element.name}function Kt(e,t,n,i){const r=Qt(e.root,e.renderer,e,t,n);return en(r,e.component,i),tn(r),r}function Zt(e,t,n){const i=Qt(e,e.renderer,null,null,t);return en(i,n,n),tn(i),i}function Jt(e,t,n,i){const r=t.element.componentRendererType;let s;return s=r?e.root.rendererFactory.createRenderer(i,r):e.root.renderer,Qt(e.root,s,e,t.element.componentProvider,n)}function Qt(e,t,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function en(e,t,n){e.component=t,e.context=n}function tn(e){let t;if(Fe(e)){const n=e.parentNodeDef;t=fe(e.parent,n.parent.nodeIndex).renderElement}const n=e.def,i=e.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];_s.setCurrentNode(e,r);let o;switch(201347067&s.flags){case 1:const n=Qe(e,t,s);let a=void 0;if(33554432&s.flags){const t=Ue(s.element.componentView);a=_s.createComponentView(e,s,t,n)}et(e,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?ft(e,s):void 0},16777216&s.flags&&(o.viewContainer=pt(e,s,o));break;case 2:o=$t(e,t,s);break;case 512:case 1024:case 2048:case 256:if(!((o=i[r])||4096&s.flags)){o={instance:Tt(e,s)}}break;case 16:o={instance:St(e,s)};break;case 16384:if(!(o=i[r])){o={instance:kt(e,s)}}if(32768&s.flags){en(fe(e,s.parent.nodeIndex).componentView,o.instance,o.instance)}break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=Ft();break;case 8:Ut(e,t,s),o=void 0}i[r]=o}un(e,Vs.CreateViewNodes),mn(e,201326592,268435456,0)}function nn(e){on(e),_s.updateDirectives(e,1),hn(e,Vs.CheckNoChanges),_s.updateRenderer(e,1),un(e,Vs.CheckNoChanges),e.state&=-97}function rn(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,de(e,0,256),on(e),_s.updateDirectives(e,0),hn(e,Vs.CheckAndUpdate),mn(e,67108864,536870912,0);let t=de(e,256,512);Pt(e,2097152|(t?1048576:0)),_s.updateRenderer(e,0),un(e,Vs.CheckAndUpdate),mn(e,134217728,536870912,0),Pt(e,8388608|((t=de(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,de(e,768,1024)}function sn(e,t,n,i,r,s,o,a,l,c,u,h,d){return 0===n?function(e,t,n,i,r,s,o,a,l,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,i,r,s,o,a,l,c,u,h){const d=t.bindings.length;let p=!1;return d>0&&tt(e,t,0,n)&&(p=!0),d>1&&tt(e,t,1,i)&&(p=!0),d>2&&tt(e,t,2,r)&&(p=!0),d>3&&tt(e,t,3,s)&&(p=!0),d>4&&tt(e,t,4,o)&&(p=!0),d>5&&tt(e,t,5,a)&&(p=!0),d>6&&tt(e,t,6,l)&&(p=!0),d>7&&tt(e,t,7,c)&&(p=!0),d>8&&tt(e,t,8,u)&&(p=!0),d>9&&tt(e,t,9,h)&&(p=!0),p}(e,t,n,i,r,s,o,a,l,c,u,h);case 2:return function(e,t,n,i,r,s,o,a,l,c,u,h){let d=!1;const p=t.bindings,m=p.length;if(m>0&&ke(e,t,0,n)&&(d=!0),m>1&&ke(e,t,1,i)&&(d=!0),m>2&&ke(e,t,2,r)&&(d=!0),m>3&&ke(e,t,3,s)&&(d=!0),m>4&&ke(e,t,4,o)&&(d=!0),m>5&&ke(e,t,5,a)&&(d=!0),m>6&&ke(e,t,6,l)&&(d=!0),m>7&&ke(e,t,7,c)&&(d=!0),m>8&&ke(e,t,8,u)&&(d=!0),m>9&&ke(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;m>0&&(d+=qt(n,p[0])),m>1&&(d+=qt(i,p[1])),m>2&&(d+=qt(r,p[2])),m>3&&(d+=qt(s,p[3])),m>4&&(d+=qt(o,p[4])),m>5&&(d+=qt(a,p[5])),m>6&&(d+=qt(l,p[6])),m>7&&(d+=qt(c,p[7])),m>8&&(d+=qt(u,p[8])),m>9&&(d+=qt(h,p[9]));const f=me(e,t.nodeIndex).renderText;e.renderer.setValue(f,d)}return d}(e,t,n,i,r,s,o,a,l,c,u,h);case 16384:return function(e,t,n,i,r,s,o,a,l,c,u,h){const d=ge(e,t.nodeIndex),p=d.instance;let m=!1,f=void 0;const g=t.bindings.length;return g>0&&Se(e,t,0,n)&&(m=!0,f=Lt(e,d,t,0,n,f)),g>1&&Se(e,t,1,i)&&(m=!0,f=Lt(e,d,t,1,i,f)),g>2&&Se(e,t,2,r)&&(m=!0,f=Lt(e,d,t,2,r,f)),g>3&&Se(e,t,3,s)&&(m=!0,f=Lt(e,d,t,3,s,f)),g>4&&Se(e,t,4,o)&&(m=!0,f=Lt(e,d,t,4,o,f)),g>5&&Se(e,t,5,a)&&(m=!0,f=Lt(e,d,t,5,a,f)),g>6&&Se(e,t,6,l)&&(m=!0,f=Lt(e,d,t,6,l,f)),g>7&&Se(e,t,7,c)&&(m=!0,f=Lt(e,d,t,7,c,f)),g>8&&Se(e,t,8,u)&&(m=!0,f=Lt(e,d,t,8,u,f)),g>9&&Se(e,t,9,h)&&(m=!0,f=Lt(e,d,t,9,h,f)),f&&p.ngOnChanges(f),65536&t.flags&&pe(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),m}(e,t,n,i,r,s,o,a,l,c,u,h);case 32:case 64:case 128:return function(e,t,n,i,r,s,o,a,l,c,u,h){const d=t.bindings;let p=!1;const m=d.length;if(m>0&&ke(e,t,0,n)&&(p=!0),m>1&&ke(e,t,1,i)&&(p=!0),m>2&&ke(e,t,2,r)&&(p=!0),m>3&&ke(e,t,3,s)&&(p=!0),m>4&&ke(e,t,4,o)&&(p=!0),m>5&&ke(e,t,5,a)&&(p=!0),m>6&&ke(e,t,6,l)&&(p=!0),m>7&&ke(e,t,7,c)&&(p=!0),m>8&&ke(e,t,8,u)&&(p=!0),m>9&&ke(e,t,9,h)&&(p=!0),p){const p=ve(e,t.nodeIndex);let f;switch(201347067&t.flags){case 32:f=new Array(d.length),m>0&&(f[0]=n),m>1&&(f[1]=i),m>2&&(f[2]=r),m>3&&(f[3]=s),m>4&&(f[4]=o),m>5&&(f[5]=a),m>6&&(f[6]=l),m>7&&(f[7]=c),m>8&&(f[8]=u),m>9&&(f[9]=h);break;case 64:f={},m>0&&(f[d[0].name]=n),m>1&&(f[d[1].name]=i),m>2&&(f[d[2].name]=r),m>3&&(f[d[3].name]=s),m>4&&(f[d[4].name]=o),m>5&&(f[d[5].name]=a),m>6&&(f[d[6].name]=l),m>7&&(f[d[7].name]=c),m>8&&(f[d[8].name]=u),m>9&&(f[d[9].name]=h);break;case 128:const e=n;switch(m){case 1:f=e.transform(n);break;case 2:f=e.transform(i);break;case 3:f=e.transform(i,r);break;case 4:f=e.transform(i,r,s);break;case 5:f=e.transform(i,r,s,o);break;case 6:f=e.transform(i,r,s,o,a);break;case 7:f=e.transform(i,r,s,o,a,l);break;case 8:f=e.transform(i,r,s,o,a,l,c);break;case 9:f=e.transform(i,r,s,o,a,l,c,u);break;case 10:f=e.transform(i,r,s,o,a,l,c,u,h)}}p.value=f}return p}(e,t,n,i,r,s,o,a,l,c,u,h);default:throw"unreachable"}}(e,t,i,r,s,o,a,l,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let i=!1;for(let r=0;r<n.length;r++)tt(e,t,r,n[r])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){const i=t.bindings;let r=!1;for(let s=0;s<n.length;s++)ke(e,t,s,n[s])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=qt(n[e],i[e]);r=t.text.prefix+r;const s=me(e,t.nodeIndex).renderText;e.renderer.setValue(s,r)}return r}(e,t,n);case 16384:return function(e,t,n){const i=ge(e,t.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Se(e,t,a,n[a])&&(s=!0,o=Lt(e,i,t,a,n[a],o));return o&&r.ngOnChanges(o),65536&t.flags&&pe(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const i=t.bindings;let r=!1;for(let s=0;s<n.length;s++)ke(e,t,s,n[s])&&(r=!0);if(r){const r=ve(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[i[e].name]=n[e];break;case 128:const e=n[0],r=n.slice(1);s=e.transform(...r)}r.value=s}return r}(e,t,n);default:throw"unreachable"}}(e,t,i)}function on(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const i=t.nodes[n];if(4&i.flags){const t=fe(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const i=t[n];i.state|=32,Me(i,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function an(e,t,n,i,r,s,o,a,l,c,u,h,d){return 0===n?function(e,t,n,i,r,s,o,a,l,c,u,h){const d=t.bindings.length;d>0&&Ae(e,t,0,n);d>1&&Ae(e,t,1,i);d>2&&Ae(e,t,2,r);d>3&&Ae(e,t,3,s);d>4&&Ae(e,t,4,o);d>5&&Ae(e,t,5,a);d>6&&Ae(e,t,6,l);d>7&&Ae(e,t,7,c);d>8&&Ae(e,t,8,u);d>9&&Ae(e,t,9,h)}(e,t,i,r,s,o,a,l,c,u,h,d):function(e,t,n){for(let i=0;i<n.length;i++)Ae(e,t,i,n[i])}(e,t,i),!1}function ln(e,t){if(ye(e,t.nodeIndex).dirty)throw be(_s.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function cn(e){if(!(128&e.state)){if(hn(e,Vs.Destroy),un(e,Vs.Destroy),Pt(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Le(e);if(t){const n=t.template._projectedViews;n&&(ht(n,n.indexOf(e)),_s.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(fe(e,n).renderElement):2&t.flags?e.renderer.destroyNode(me(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&ye(e,n).destroy()}}(e),Fe(e)&&e.renderer.destroy(),e.state|=128}}function un(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?dn(fe(e,i).componentView,t):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function hn(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=fe(e,i).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)dn(n[e],t)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function dn(e,t){const n=e.state;switch(t){case Vs.CheckNoChanges:0==(128&n)&&(12==(12&n)?nn(e):64&n&&pn(e,Vs.CheckNoChangesProjectedViews));break;case Vs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?nn(e):64&n&&pn(e,t));break;case Vs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?rn(e):64&n&&pn(e,Vs.CheckAndUpdateProjectedViews));break;case Vs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?rn(e):64&n&&pn(e,t));break;case Vs.Destroy:cn(e);break;case Vs.CreateViewNodes:tn(e)}}function pn(e,t){hn(e,t),un(e,t)}function mn(e,t,n,i){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let s=0;s<r;s++){const r=e.def.nodes[s];if(r.flags&t&&r.flags&n)switch(_s.setCurrentNode(e,r.nodeIndex),i){case 0:Nt(e,r);break;case 1:ln(e,r)}r.childFlags&t&&r.childFlags&n||(s+=r.childCount)}}function fn(){if(Gs)return;Gs=!0;const e=X()?{setCurrentNode:Ln,createRootView:vn,createEmbeddedView:bn,createComponentView:_n,createNgModuleRef:xn,overrideProvider:wn,overrideComponentView:En,clearOverrides:Tn,checkAndUpdateView:Cn,checkNoChangesView:Mn,destroyView:Rn,createDebugContext:(e,t)=>new Zs(e,t),handleEvent:Pn,updateDirectives:On,updateRenderer:Dn}:{setCurrentNode:()=>{},createRootView:gn,createEmbeddedView:Kt,createComponentView:Jt,createNgModuleRef:bt,overrideProvider:xs,overrideComponentView:xs,clearOverrides:xs,checkAndUpdateView:rn,checkNoChangesView:nn,destroyView:cn,createDebugContext:(e,t)=>new Zs(e,t),handleEvent:(e,t,n,i)=>e.def.handleEvent(e,t,n,i),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?kn:An,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?kn:An,e)};_s.setCurrentNode=e.setCurrentNode,_s.createRootView=e.createRootView,_s.createEmbeddedView=e.createEmbeddedView,_s.createComponentView=e.createComponentView,_s.createNgModuleRef=e.createNgModuleRef,_s.overrideProvider=e.overrideProvider,_s.overrideComponentView=e.overrideComponentView,_s.clearOverrides=e.clearOverrides,_s.checkAndUpdateView=e.checkAndUpdateView,_s.checkNoChangesView=e.checkNoChangesView,_s.destroyView=e.destroyView,_s.resolveDep=Mt,_s.createDebugContext=e.createDebugContext,_s.handleEvent=e.handleEvent,_s.updateDirectives=e.updateDirectives,_s.updateRenderer=e.updateRenderer,_s.dirtyParentQueries=It}function gn(e,t,n,i,r,s){return Zt(yn(e,r,r.injector.get(Ur),t,n),i,s)}function vn(e,t,n,i,r,s){const o=yn(e,r,new class{constructor(e){this.delegate=e}createRenderer(e,t){return new class{constructor(e){this.delegate=e}get data(){return this.delegate.data}destroyNode(e){!function(e){ns.delete(e.nativeNode)}(ie(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),i=Un();if(i){const t=new ts(n,null,i);t.name=e,re(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=Un();return n&&re(new es(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=Un();return n&&re(new es(t,null,n)),t}appendChild(e,t){const n=ie(e),i=ie(t);n&&i&&n instanceof ts&&n.addChild(i),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const i=ie(e),r=ie(t),s=ie(n);i&&r&&i instanceof ts&&i.insertBefore(s,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=ie(e),i=ie(t);n&&i&&n instanceof ts&&n.removeChild(i),this.delegate.removeChild(e,t)}selectRootElement(e){const t=this.delegate.selectRootElement(e),n=Un();return n&&re(new ts(t,null,n)),t}setAttribute(e,t,n,i){const r=ie(e);if(r&&r instanceof ts){const e=i?i+":"+t:t;r.attributes[e]=n}this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){const i=ie(e);if(i&&i instanceof ts){const e=n?n+":"+t:t;i.attributes[e]=null}this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=ie(e);n&&n instanceof ts&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=ie(e);n&&n instanceof ts&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,i){const r=ie(e);r&&r instanceof ts&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){const i=ie(e);i&&i instanceof ts&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const i=ie(e);i&&i instanceof ts&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const i=ie(e);i&&i.listeners.push(new Qr(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}(r.injector.get(Ur)),t,n),a=Sn(i);return zn($s.create,Zt,null,[o,a,s])}function yn(e,t,n,i,r){const s=t.injector.get(bs),o=t.injector.get(Hi);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:o}}function bn(e,t,n,i){const r=Sn(n);return zn($s.create,Kt,null,[e,t,r,i])}function _n(e,t,n,i){const r=Ws.get(t.element.componentProvider.provider.token);return n=r||Sn(n),zn($s.create,Jt,null,[e,t,n,i])}function xn(e,t,n,i){return bt(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;if(0===Hs.size)return{hasOverrides:t,hasDeprecatedOverrides:n};return e.providers.forEach(e=>{const i=Hs.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)}),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);if(!t)return e;return e=e.factory(()=>xs),function(e){for(let t=0;t<e.providers.length;t++){const i=e.providers[t];n&&(i.flags|=4096);const r=Hs.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=je(r.deps),i.value=r.value)}}(e),e}(i))}function wn(e){Hs.set(e.token,e)}function En(e,t){const n=Ue(Ue(function(e){return e.viewDefFactory}(t)).nodes[0].element.componentView);Ws.set(e,n)}function Tn(){Hs.clear(),Ws.clear()}function Sn(e){if(0===Hs.size)return e;const t=function(e){const t=[];let n=null;for(let i=0;i<e.nodes.length;i++){const r=e.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Hs.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>xs);for(let n=0;n<t.length;n++)!function(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Hs.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=je(n.deps),e.value=n.value)}}}(e,t[n]);return e}function kn(e,t,n,i,r,s,o,a,l,c,u,h,d){const p=e.def.nodes[t];return sn(e,p,n,i,r,s,o,a,l,c,u,h,d),224&p.flags?ve(e,t).value:void 0}function An(e,t,n,i,r,s,o,a,l,c,u,h,d){const p=e.def.nodes[t];return an(e,p,n,i,r,s,o,a,l,c,u,h,d),224&p.flags?ve(e,t).value:void 0}function Cn(e){return zn($s.detectChanges,rn,null,[e])}function Mn(e){return zn($s.checkNoChanges,nn,null,[e])}function Rn(e){return zn($s.destroy,cn,null,[e])}function Ln(e,t){Xs=e,Ys=t}function Pn(e,t,n,i){return Ln(e,t),zn($s.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function On(e,t){if(128&e.state)throw xe($s[qs]);return Ln(e,Nn(e,0)),e.def.updateDirectives(function(e,n,i,...r){const s=e.def.nodes[n];return 0===t?Fn(e,s,i,r):In(e,s,i,r),16384&s.flags&&Ln(e,Nn(e,n)),224&s.flags?ve(e,s.nodeIndex).value:void 0},e)}function Dn(e,t){if(128&e.state)throw xe($s[qs]);return Ln(e,Bn(e,0)),e.def.updateRenderer(function(e,n,i,...r){const s=e.def.nodes[n];return 0===t?Fn(e,s,i,r):In(e,s,i,r),3&s.flags&&Ln(e,Bn(e,n)),224&s.flags?ve(e,s.nodeIndex).value:void 0},e)}function Fn(e,t,n,i){if(sn(e,t,n,...i)){const r=1===n?i[0]:i;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const i=t.bindings[e],s=r[e];8&i.flags&&(n[function(e){return e=function(e){return e.replace(Ks,(...e)=>"-"+e[1].toLowerCase())}(e.replace(/[$@]/g,"_")),`ng-reflect-${e}`}(i.nonMinifiedName)]=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(s))}const i=t.parent,s=fe(e,i.nodeIndex).renderElement;if(i.element.name)for(let t in n){const i=n[t];null!=i?e.renderer.setAttribute(s,t,i):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function In(e,t,n,i){an(e,t,n,...i)}function Nn(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Bn(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}function jn(e,t,n){for(let i in t.references)n[i]=jt(e,t,t.references[i])}function zn(e,t,n,i){const r=qs,s=Xs,o=Ys;try{qs=e;const a=t.apply(n,i);return Xs=s,Ys=o,qs=r,a}catch(e){if(function(e){return!!b(e)}(e)||!Xs)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),_e(e,t),e}(e,Un())}}function Un(){return Xs?new Zs(Xs,Ys):null}function Vn(e,t,n){return new class extends _r{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){fn();const t=Ue(this._ngModuleDefFactory);return _s.createNgModuleRef(this.moduleType,e||Ci.NULL,this._bootstrapComponents,t)}}(e,t,n)}n.d(t,"e",function(){return jr}),n.d(t,"_2",function(){return q}),n.d(t,"_5",function(){return X}),n.d(t,"_1",function(){return Y}),n.d(t,"E",function(){return Nr}),n.d(t,"a",function(){return sr}),n.d(t,"J",function(){return ar}),n.d(t,"I",function(){return lr}),n.d(t,"b",function(){return ir}),n.d(t,"c",function(){return rr}),n.d(t,"_4",function(){return ie}),n.d(t,"U",function(){return Rr}),n.d(t,"_7",function(){return $}),n.d(t,"B",function(){return fs}),n.d(t,"d",function(){return vs}),n.d(t,"q",function(){return kr}),n.d(t,"p",function(){return Hi}),n.d(t,"P",function(){return bs}),n.d(t,"Q",function(){return ys}),n.d(t,"f",function(){return Zn}),n.d(t,"l",function(){return ei}),n.d(t,"m",function(){return Qn}),n.d(t,"W",function(){return ni}),n.d(t,"X",function(){return ti}),n.d(t,"j",function(){return oi}),n.d(t,"n",function(){return si}),n.d(t,"s",function(){return ui}),n.d(t,"t",function(){return hi}),n.d(t,"y",function(){return li}),n.d(t,"H",function(){return ci}),n.d(t,"K",function(){return ai}),n.d(t,"C",function(){return di}),n.d(t,"Z",function(){return pi}),n.d(t,"V",function(){return mi}),n.d(t,"_3",function(){return h}),n.d(t,"x",function(){return Ci}),n.d(t,"w",function(){return qn}),n.d(t,"u",function(){return gi}),n.d(t,"G",function(){return vi}),n.d(t,"v",function(){return yi}),n.d(t,"R",function(){return bi}),n.d(t,"S",function(){return _i}),n.d(t,"r",function(){return xi}),n.d(t,"F",function(){return Ar}),n.d(t,"L",function(){return zr}),n.d(t,"M",function(){return Gr}),n.d(t,"N",function(){return Ur}),n.d(t,"O",function(){return Vr}),n.d(t,"i",function(){return hr}),n.d(t,"k",function(){return gr}),n.d(t,"o",function(){return Hr}),n.d(t,"D",function(){return br}),n.d(t,"T",function(){return Kr}),n.d(t,"Y",function(){return Zr}),n.d(t,"g",function(){return ii}),n.d(t,"h",function(){return Jr}),n.d(t,"z",function(){return ls}),n.d(t,"A",function(){return cs}),n.d(t,"_0",function(){return is}),n.d(t,"_6",function(){return ms}),n.d(t,"_19",function(){return oe}),n.d(t,"_9",function(){return ur}),n.d(t,"_8",function(){return vr}),n.d(t,"_17",function(){return Ti}),n.d(t,"_24",function(){return c}),n.d(t,"_35",function(){return u}),n.d(t,"_20",function(){return N}),n.d(t,"_21",function(){return I}),n.d(t,"_10",function(){return Ze}),n.d(t,"_11",function(){return dt}),n.d(t,"_12",function(){return Vn}),n.d(t,"_13",function(){return Te}),n.d(t,"_14",function(){return _t}),n.d(t,"_15",function(){return Je}),n.d(t,"_18",function(){return Ye}),n.d(t,"_26",function(){return it}),n.d(t,"_27",function(){return nt}),n.d(t,"_28",function(){return zt}),n.d(t,"_29",function(){return vt}),n.d(t,"_30",function(){return xt}),n.d(t,"_33",function(){return wt}),n.d(t,"_31",function(){return Gt}),n.d(t,"_32",function(){return Vt}),n.d(t,"_34",function(){return Dt}),n.d(t,"_36",function(){return Wt}),n.d(t,"_37",function(){return Ee}),n.d(t,"_38",function(){return Xt}),n.d(t,"_22",function(){return ce}),n.d(t,"_23",function(){return ue}),n.d(t,"_25",function(){return he}),n.d(t,"_16",function(){return B});var Gn=n("05/P"),Hn=n("cv3d"),Wn=n("IKzn"),$n=n("9i4M");class qn{constructor(e){this._desc=e,this.ngMetadataName="InjectionToken"}toString(){return`InjectionToken ${this._desc}`}}const Xn="__annotations__",Yn="__paramaters__",Kn="__prop__metadata__",Zn=(new qn("AnalyzeForEntryComponents"),s("Attribute",e=>({attributeName:e})));class Jn{}const Qn=o("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),Jn),ei=o("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Jn),ti=o("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),Jn),ni=o("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Jn),ii={OnPush:0,Default:1};ii[ii.OnPush]="OnPush",ii[ii.Default]="Default";const ri={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};ri[ri.CheckOnce]="CheckOnce",ri[ri.Checked]="Checked",ri[ri.CheckAlways]="CheckAlways",ri[ri.Detached]="Detached",ri[ri.Errored]="Errored",ri[ri.Destroyed]="Destroyed";const si=i("Directive",(e={})=>e),oi=i("Component",(e={})=>Object.assign({changeDetection:ii.Default},e),si),ai=i("Pipe",e=>Object.assign({pure:!0},e)),li=o("Input",e=>({bindingPropertyName:e})),ci=o("Output",e=>({bindingPropertyName:e})),ui=o("HostBinding",e=>({hostPropertyName:e})),hi=o("HostListener",(e,t)=>({eventName:e,args:t})),di=i("NgModule",e=>e),pi={Emulated:0,Native:1,None:2};pi[pi.Emulated]="Emulated",pi[pi.Native]="Native",pi[pi.None]="None";class mi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const fi=new mi("5.1.2"),gi=s("Inject",e=>({token:e})),vi=s("Optional"),yi=i("Injectable"),bi=s("Self"),_i=s("SkipSelf"),xi=s("Host"),wi="undefined"!=typeof window&&window,Ei="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ti=wi||"undefined"!=typeof e&&e||Ei;let Si=null;const ki=new Object,Ai=ki;class Ci{static create(e,t){return new class{constructor(e,t=Bi){this.parent=t;const n=this._records=new Map;n.set(Ci,{token:Ci,fn:Mi,deps:Ri,value:this,useNew:!1}),f(n,e)}get(e,t){const n=this._records.get(e);try{return g(e,n,this._records,this.parent,t)}catch(e){const t=e[Ni];throw e.message=v("\n"+e.message,t),e[Ii]=t,e[Ni]=null,e}}toString(){const e=[],t=this._records;return t.forEach((t,n)=>e.push(u(n))),`StaticInjector[${e.join(", ")}]`}}(e,t)}}Ci.THROW_IF_NOT_FOUND=ki,Ci.NULL=new class{get(e,t=ki){if(t===ki)throw new Error(`NullInjectorError: No provider for ${u(e)}!`);return t}};const Mi=function(e){return e},Ri=[],Li=Mi,Pi=function(){return Array.prototype.slice.call(arguments)},Oi={},Di=Oi,Fi=function(e){for(let t in e)if(e[t]===Oi)return t;throw Error("!prop")}({provide:String,useValue:Di}),Ii="ngTokenPath",Ni="ngTempTokenPath",Bi=Ci.NULL,ji=/\n/gm,zi="\u0275";const Ui="ngDebugContext",Vi="ngOriginalError",Gi="ngErrorLogger";class Hi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e[Gi]||function(e,...t){e.error(...t)}}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?b(e)?b(e):this._findContext(_(e)):null}_findOriginalError(e){let t=_(e);for(;t&&_(t);)t=_(t);return t}}class Wi{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=u(this.token)}static get(e){return $i.get(d(e))}static get numberOfKeys(){return $i.numberOfKeys}}const $i=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof Wi)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new Wi(e,Wi.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},qi=Function,Xi=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/;const Yi=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,i){return this.reflectionCapabilities.resolveIdentifier(e,t,n,i)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new class{constructor(e){this._reflect=e||Ti.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n="undefined"==typeof e?new Array(t.length):new Array(e.length);for(let i=0;i<n.length;i++)"undefined"==typeof e?n[i]=[]:e[i]!=Object?n[i]=[e[i]]:n[i]=[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}_ownParameters(e,t){if(Xi.exec(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),i=e.map(e=>e&&A(e.decorators));return this._zipTypesAndAnnotations(t,i)}const i=e.hasOwnProperty(Yn)&&e[Yn],r=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return r||i?this._zipTypesAndAnnotations(r,i):new Array(e.length).fill(void 0)}parameters(e){if(!k(e))return[];const t=C(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?A(e.decorators):e.hasOwnProperty(Xn)?e[Xn]:null}annotations(e){if(!k(e))return[];const t=C(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=A(t[e])}),n}return e.hasOwnProperty(Kn)?e[Kn]:null}propMetadata(e){if(!k(e))return{};const t=C(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...i[e]),n[e]=t}),n}hasLifecycleHook(e,t){return e instanceof qi&&t in e.prototype}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){const t=`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`;return new Function("o","args",t)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${u(e)}`}resourceUri(e){return`./${u(e)}`}resolveIdentifier(e,t,n,i){return i}resolveEnum(e,t){return e[t]}});class Ki{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new Ki(e,!1,null)}}const Zi=[];class Ji{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n}get resolvedFactory(){return this.resolvedFactories[0]}}class Qi{constructor(e,t){this.factory=e,this.dependencies=t}}const er=new Object;class tr{static resolve(e){return L(e)}static resolveAndCreate(e,t){const n=tr.resolve(e);return tr.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new nr(e,t)}}class nr{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let i=0;i<n;i++)this.keyIds[i]=e[i].key.id,this.objs[i]=er}get(e,t=Ai){return this._getByKey(Wi.get(e),null,t)}resolveAndCreateChild(e){const t=tr.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new nr(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(tr.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(e,t){return w(e,t,function(e){return`Cannot instantiate cyclic dependency!${x(e)}`})}(this,e.key);return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let i;try{i=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}let r;try{r=n(...i)}catch(t){throw function(e,t,n,i){return w(e,i,function(e){const n=u(e[0].token);return`${t.message}: Error during instantiation of ${n}!${x(e)}.`},t)}(this,t,t.stack,e.key)}return r}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:Ai)}_getByKey(e,t,n){return e===nr.INJECTOR_KEY?this:t instanceof bi?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===er&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return er}_throwOrNull(e,t){if(t!==Ai)return t;throw function(e,t){return w(e,t,function(e){return`No provider for ${u(e[0].token)}!${x(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==er?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let i;for(i=n instanceof _i?this.parent:this;i instanceof nr;){const t=i,n=t._getObjByKeyId(e.id);if(n!==er)return n;i=t.parent}return null!==i?i.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let i=0;i<e._providers.length;++i)n[i]=t(e.getProviderAtIndex(i));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}nr.INJECTOR_KEY=Wi.get(Ci);const ir=new qn("Application Initializer");class rr{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();I(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}rr.decorators=[{type:yi}],rr.ctorParameters=(()=>[{type:Array,decorators:[{type:gi,args:[ir]},{type:vi}]}]);const sr=new qn("AppId"),or={provide:sr,useFactory:B,deps:[]},ar=new qn("Platform Initializer"),lr=new qn("Platform ID"),cr=new qn("appBootstrapListener");new qn("Application Packages Root URL");class ur{log(e){console.log(e)}warn(e){console.warn(e)}}ur.decorators=[{type:yi}],ur.ctorParameters=(()=>[]);class hr{compileModuleSync(e){throw z()}compileModuleAsync(e){throw z()}compileModuleAndAllComponentsSync(e){throw z()}compileModuleAndAllComponentsAsync(e){throw z()}clearCache(){}clearCacheFor(e){}}hr.decorators=[{type:yi}],hr.ctorParameters=(()=>[]);new qn("compilerOptions");class dr{}class pr{}class mr{}const fr="ngComponent";class gr{}gr.NULL=new class{resolveComponentFactory(e){throw U(e)}};class vr{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let i=0;i<e.length;i++){const t=e[i];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw U(e);return new yr(t,this._ngModule)}}class yr extends mr{constructor(e,t){super(),this.factory=e,this.ngModule=t}get selector(){return this.factory.selector}get componentType(){return this.factory.componentType}get ngContentSelectors(){return this.factory.ngContentSelectors}get inputs(){return this.factory.inputs}get outputs(){return this.factory.outputs}create(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}class br{}class _r{}let xr,wr;const Er=function(){const e=Ti.wtf;return!(!e||!(xr=e.trace)||(wr=xr.events,0))}(),Tr=Er?function(e,t=null){return wr.createScope(e,t)}:(e,t)=>(function(e,t){return null}),Sr=Er?function(e,t){return xr.leaveScope(e,t),t}:(e,t)=>t;class kr extends $n.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,s=()=>null;return e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()})),super.subscribe(i,r,s)}}class Ar{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr(!1),this.onMicrotaskEmpty=new kr(!1),this.onStable=new kr(!1),this.onError=new kr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(e){e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,s,o)=>{try{return H(e),t.invokeTask(i,r,s,o)}finally{W(e)}},onInvoke:(t,n,i,r,s,o,a)=>{try{return H(e),t.invoke(i,r,s,o,a)}finally{W(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,G(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ar.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ar.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,Cr,V,V);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Cr={};class Mr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr,this.onMicrotaskEmpty=new kr,this.onStable=new kr,this.onError=new kr}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Rr{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ar.assertNotInAngularZone(),l(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){this.isStable()?l(()=>{for(;0!==this._callbacks.length;)this._callbacks.pop()(this._didWork);this._didWork=!1}):this._didWork=!0}whenStable(e){this._callbacks.push(e),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}Rr.decorators=[{type:yi}],Rr.ctorParameters=(()=>[{type:Ar}]);class Lr{constructor(){this._applications=new Map,Or.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Or.findTestabilityInTree(this,e,t)}}Lr.decorators=[{type:yi}],Lr.ctorParameters=(()=>[]);let Pr,Or=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},Dr=!0,Fr=!1;const Ir=new qn("AllowMultipleToken");class Nr{constructor(e,t){this.name=e,this.token=t}}class Br{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;return t="noop"===e?new Mr:("zone.js"===e?void 0:e)||new Ar({enableLongStackTrace:X()})}(t?t.ngZone:void 0);return n.run(()=>{const t=Ci.create([{provide:Ar,useValue:n}],this.injector),i=e.create(t),r=i.injector.get(Hi,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>J(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,n){try{const i=n();return I(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(r,n,()=>{const e=i.injector.get(rr);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=this.injector.get(dr),i=Z({},t);return n.createCompiler([i]).compileModuleAsync(e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(jr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}Br.decorators=[{type:yi}],Br.ctorParameters=(()=>[{type:Ci}]);class jr{constructor(e,t,n,i,r,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=X(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Gn.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new Gn.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Ar.assertNotInAngularZone(),l(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ar.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(Hn.a)(o,Wn.a.call(a))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof mr?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n instanceof yr?null:this._injector.get(br),r=t||n.selector,s=n.create(Ci.NULL,[],r,i);s.onDestroy(()=>{this._unloadComponent(s)});const o=s.injector.get(Rr,null);return o&&s.injector.get(Lr).registerApplication(s.location.nativeElement,o),this._loadComponent(s),X()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=jr._tickScope();try{this._runningTick=!0,this._views.forEach(e=>e.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(e=>e.checkNoChanges())}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1,Sr(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;J(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);this._injector.get(cr,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),J(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}jr._tickScope=Tr("ApplicationRef#tick()"),jr.decorators=[{type:yi}],jr.ctorParameters=(()=>[{type:Ar},{type:ur},{type:Ci},{type:Hi},{type:gr},{type:rr}]);class zr{}new qn("Renderer2Interceptor");class Ur{}const Vr={Important:1,DashCase:2};Vr[Vr.Important]="Important",Vr[Vr.DashCase]="DashCase";class Gr{}class Hr{constructor(e){this.nativeElement=e}}new Map;class Wr{constructor(){this.dirty=!0,this._results=[],this.changes=new kr}get length(){return this._results.length}get first(){return this._results[0]}get last(){return this._results[this.length-1]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}[a()](){return this._results[a()]()}toString(){return this._results.toString()}reset(e){this._results=Q(e),this.dirty=!1}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const $r="#",qr="NgFactory";const Xr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Yr{constructor(e,t){this._compiler=e,this._config=t||Xr}load(e){return this._compiler instanceof hr?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split($r);return void 0===i&&(i="default"),n("YuZA")(t).then(e=>e[i]).then(e=>ee(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split($r),r=qr;return void 0===i&&(i="default",r=""),n("YuZA")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>ee(e,t,i))}}Yr.decorators=[{type:yi}],Yr.ctorParameters=(()=>[{type:hr},{type:class{},decorators:[{type:vi}]}]);class Kr{}class Zr{}class Jr{}class Qr{constructor(e,t){this.name=e,this.callback=t}}class es{constructor(e,t,n){this._debugContext=n,this.nativeNode=e,t&&t instanceof ts?t.addChild(this):this.parent=null,this.listeners=[]}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ts extends es{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(e=>{e.parent&&e.parent.removeChild(e),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return te(this,e,t),t}queryAllNodes(e){const t=[];return ne(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof ts)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const ns=new Map;class is{constructor(e){this.wrapped=e}static wrap(e){return new is(e)}}class rs{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}const ss=(e,t)=>t;class os{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&c(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class as{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new os,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,i=this.map.get(n);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}class ls{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();return e=e.concat(n),new ls(e)}return new ls(e)}static extend(e){return{provide:ls,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return ls.create(e,t)},deps:[[ls,new _i,new vi]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}class cs{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new cs(e)}static extend(e){return{provide:cs,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return cs.create(e,t)},deps:[[cs,new _i,new vi]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}const us=[new class{constructor(){}supports(e){return e instanceof Map||ae(e)}create(){return new class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ae(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){c(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}}}],hs=[new class{constructor(){}supports(e){return oe(e)}create(e){return new class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ss}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const s=!n||t&&t.currentIndex<le(n,i,r)?t:n,o=le(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);const e=o-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;t<=s&&s<e&&(r[n]=i+1)}const n=s.previousIndex;r[n]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!oe(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&c(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,t)),c(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[a()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&c(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,e,i,t)),c(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(c(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(c(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new as),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new as),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}(e)}}],ds=new ls(hs),ps=new cs(us),ms=Y(null,"core",[{provide:lr,useValue:"unknown"},{provide:Br,deps:[Ci]},{provide:Lr,deps:[]},{provide:ur,deps:[]}]),fs=new qn("LocaleId"),gs=(new qn("Translations"),new qn("TranslationsFormat"),{Error:0,Warning:1,Ignore:2});gs[gs.Error]="Error",gs[gs.Warning]="Warning",gs[gs.Ignore]="Ignore";class vs{constructor(e){}}vs.decorators=[{type:di,args:[{providers:[jr,rr,hr,or,{provide:ls,useFactory:ce},{provide:cs,useFactory:ue},{provide:fs,useFactory:he,deps:[[new gi(fs),new vi,new _i]]}]}]}],vs.ctorParameters=(()=>[{type:jr}]);const ys={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};ys[ys.NONE]="NONE",ys[ys.HTML]="HTML",ys[ys.STYLE]="STYLE",ys[ys.SCRIPT]="SCRIPT",ys[ys.URL]="URL",ys[ys.RESOURCE_URL]="RESOURCE_URL";class bs{}const _s={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},xs=()=>{},ws=new Map,Es="$$undefined",Ts="$$empty";let Ss=0;const ks=new WeakMap,As=/^:([^:]+):(.+)$/,Cs=new Object,Ms=we(Ci),Rs=we(br),Ls=new Object;class Ps{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Ve(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Ce(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{_s.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){_s.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),_s.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ct(this._view),_s.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}class Os{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ci.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return _s.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:we(e)},t)}}const Ds=we(zr),Fs=we(Gr),Is=we(Hr),Ns=we(Zr),Bs=we(Kr),js=we(Jr),zs=we(Ci),Us={},Vs={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};Vs[Vs.CreateViewNodes]="CreateViewNodes",Vs[Vs.CheckNoChanges]="CheckNoChanges",Vs[Vs.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",Vs[Vs.CheckAndUpdate]="CheckAndUpdate",Vs[Vs.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",Vs[Vs.Destroy]="Destroy";let Gs=!1;const Hs=new Map,Ws=new Map,$s={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};$s[$s.create]="create",$s[$s.detectChanges]="detectChanges",$s[$s.checkNoChanges]="checkNoChanges",$s[$s.destroy]="destroy",$s[$s.handleEvent]="handleEvent";let qs,Xs,Ys;const Ks=/([A-Z])/g;class Zs{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,i=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Pe(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return fe(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return gt(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){jn(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&jn(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Fe(e);)e=e.parent;return e.parent?fe(e.parent,Pe(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Oe(this.view,this.nodeDef):Oe(this.elView,this.elDef)}logError(e,...t){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>++s===r?e.error.bind(e,...t):xs),s<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}}).call(t,n("fRUx"))},"1wIx":function(e,t,n){"use strict";function i(e){switch(e.length){case 0:return new q.d;case 1:return e[0];default:return new q.l(e)}}function r(e,t,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(e=>{const n=e.offset,i=n==l,u=i&&c||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,o),a){case q.m:a=r[n];break;case q.a:a=s[n];break;default:a=t.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){throw new Error(`Unable to animate due to the following errors:\n - ${o.join("\n - ")}`)}return a}function s(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&o(n,"start",e.totalTime)));break;case"done":e.onDone(()=>i(n&&o(n,"done",e.totalTime)));break;case"destroy":e.onDestroy(()=>i(n&&o(n,"destroy",e.totalTime)))}}function o(e,t,n){const i=a(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,void 0==n?e.totalTime:n),r=e._data;return null!=r&&(i._data=r),i}function a(e,t,n,i,r="",s=0){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s}}function l(e,t,n){let i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function c(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}function u(e){Z||(Z=h()||{},J=!!Z.style&&"WebkitAppearance"in Z.style);let t=!0;if(Z.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in Z.style)&&J){t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Z.style}return t}function h(){return"undefined"!=typeof document?document.body:null}function d(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:p(parseFloat(t[1]),t[2])}function p(e,t){switch(t){case"s":return e*re;default:return e}}function m(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){const i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let r,s=0,o="";if("string"==typeof e){const n=e.match(i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=p(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(s=p(Math.floor(parseFloat(a)),n[4]));const l=n[5];l&&(o=l)}else r=e;if(!n){let n=!1,i=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(i,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:s,easing:o}}(e,t,n)}function f(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function g(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else f(e,n);return n}function v(e,t){e.style&&Object.keys(t).forEach(n=>{const i=E(n);e.style[i]=t[n]})}function y(e,t){e.style&&Object.keys(t).forEach(t=>{const n=E(t);e.style[n]=""})}function b(e){return Array.isArray(e)?1==e.length?e[0]:Object(q.g)(e):e}function _(e){let t=[];if("string"==typeof e){const n=e.toString();let i;for(;i=de.exec(n);)t.push(i[1]);de.lastIndex=0}return t}function x(e,t,n){const i=e.toString(),r=i.replace(de,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?e:r}function w(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}function E(e){return e.replace(pe,(...e)=>e[1].toUpperCase())}function T(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function S(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>(function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],s=i[2],o=i[3];t.push(k(r,o));const a=r==me&&o==me;"<"!=s[0]||a||t.push(k(o,r))})(e,n,t)):n.push(e),n}function k(e,t){const n=fe.has(e)||ge.has(e),i=fe.has(t)||ge.has(t);return(r,s)=>{let o=e==me||e==r,a=t==me||t==s;return!o&&n&&"boolean"==typeof r&&(o=r?fe.has(e):ge.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?fe.has(t):ge.has(t)),o&&a}}function A(e,t,n){return new class{constructor(e){this._driver=e}build(e,t){const n=new class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}(t);return this._resetContextStyleTimingState(n),T(this,b(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=be,e.collectedStyles={},e.collectedStyles[be]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,s.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(e=>{if(C(e)){const t=e;Object.keys(t).forEach(e=>{_(t[e]).forEach(e=>{s.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=w(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=T(this,b(e.animation),t),i=S(e.expr,t.errors);return{type:1,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:M(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>T(this,e,t)),options:M(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=T(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:M(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e){const n=m(e,t).duration;return R(n,0,"")}const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=R(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||m(i,t),R(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let i,r=e.styles?e.styles:Object(q.i)({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;const e={};n.easing&&(e.easing=n.easing),r=Object(q.i)(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,t);o.isEmptyStep=s,i=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==q.a?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(C(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t){const n=t[e];if(n.toString().indexOf(se)>=0){i=!0;break}}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},r=_(e);r.length&&r.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(C(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(C(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return l.forEach((e,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*m;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:T(this,b(e.animation),t),options:M(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:M(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:M(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>e==ve);t&&(e=e.replace(ye,""));return e=e.replace(/@\*/g,ce).replace(/@\w+/g,e=>ce+"-"+e.substr(1)).replace(/:animating/g,he),[e,t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,l(t.collectedStyles,t.currentQuerySelector,{});const o=T(this,b(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:M(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:m(e.timings,t.errors,!0);return{type:12,animation:T(this,b(e.animation),t),timings:n,options:null}}}(e).build(t,n)}function C(e){return!Array.isArray(e)&&"object"==typeof e}function M(e){return e?(e=f(e)).params&&(e.params=function(e){return e?f(e):null}(e.params)):e={},e}function R(e,t,n){return{duration:e,delay:t,easing:n}}function L(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}function P(e,t,n,i,r,s={},o={},a,l,c=[]){return(new class{buildKeyframes(e,t,n,i,r,s,o,a,l,c=[]){l=l||new _e;const u=new Se(e,t,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),T(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[L(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){const i=t.currentTimeline.currentTime;let r=i;const s=null!=n.duration?d(n.duration):null,o=null!=n.delay?d(n.delay):null;return 0!==s&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,s,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),T(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&((i=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Te);const e=d(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>T(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?d(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),T(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue,i=t.params?x(n,t.params,t.errors):n;return m(i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,s=t.createSubContext(),o=s.currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{const n=e.offset||0;o.forwardTime(n*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?d(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Te);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{t.currentQueryIndex=i;const o=t.createSubContext(e.options,n);r&&o.delayNextStep(r),n===t.element&&(a=o.currentTimeline),T(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();const l=o.currentTimeline.currentTime;s=Math.max(s,l)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex,l=r.duration<0?"reverse":r.easing;switch(l){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;T(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}).buildKeyframes(e,t,n,i,r,s,o,a,l,c)}function O(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}function D(e,t,n,i,r,s,o,a,l,c,u,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,errors:h}}function F(e,t){return new class{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{const t=e.options&&e.options.params||{};this.states[e.name]=new Pe(e.style,t)}),I(this.states,"true","1"),I(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Le(e,t,this.states))}),this.fallbackTransition=function(e,t){return new Le(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t){const n=this.transitionFactories.find(n=>n.match(e,t));return n||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}(e,t)}function I(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}function N(e){return e&&1===e.nodeType}function B(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function j(e,t,n,i,r){const s=[];n.forEach(e=>s.push(B(e)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i[He]=Ge,o.push(i))}),e.set(i,s)});let a=0;return n.forEach(e=>B(e,s[a++])),o}function z(e,t){function n(e){if(!e)return r;let t=o.get(e);if(t)return t;const a=e.parentNode;return t=i.has(a)?a:s.has(a)?r:n(a),o.set(e,t),t}const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const r=1,s=new Set(t),o=new Map;return t.forEach(e=>{const t=n(e);t!==r&&i.get(t).push(e)}),i}function U(e,t){if(e.classList)e.classList.add(t);else{let n=e[Je];n||(n=e[Je]={}),n[t]=!0}}function V(e,t){if(e.classList)e.classList.remove(t);else{let n=e[Je];n&&delete n[t]}}function G(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof q.l?G(i.players,t):t.push(i)}}function H(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}function W(e,t){return window.getComputedStyle(e)[t]}function $(){return"undefined"!=typeof Element&&"function"==typeof Element.prototype.animate}n.d(t,"a",function(){return ie}),n.d(t,"c",function(){return Ae}),n.d(t,"f",function(){return Ce}),n.d(t,"d",function(){return ne}),n.d(t,"b",function(){return Qe}),n.d(t,"e",function(){return tt}),n.d(t,"g",function(){return $});var q=n("FjVW");let X=(e,t)=>!1,Y=(e,t)=>!1,K=(e,t,n)=>[];if("undefined"!=typeof Element){if(X=((e,t)=>e.contains(t)),Element.prototype.matches)Y=((e,t)=>e.matches(t));else{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;t&&(Y=((e,n)=>t.apply(e,[n])))}K=((e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i})}let Z=null,J=!1;const Q=Y,ee=X,te=K;class ne{validateStyleProperty(e){return u(e)}matchesElement(e,t){return Q(e,t)}containsElement(e,t){return ee(e,t)}query(e,t,n){return te(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,s=[]){return new q.d}}class ie{}ie.NOOP=new ne;const re=1e3,se="{{",oe="ng-enter",ae="ng-leave",le="ng-trigger",ce=".ng-trigger",ue="ng-animating",he=".ng-animating",de=new RegExp(`${se}\\s*(.+?)\\s*}}`,"g"),pe=/-+([a-z0-9])/g,me="*",fe=new Set(["true","1"]),ge=new Set(["false","0"]),ve=":self",ye=new RegExp(`s*${ve}s*,?`,"g"),be="";class _e{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const xe=1,we=new RegExp(":enter","g"),Ee=new RegExp(":leave","g");const Te={};class Se{constructor(e,t,n,i,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Te,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ke(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=d(n.duration)),null!=n.delay&&(i.delay=d(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=x(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new Se(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Te,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new class extends ke{constructor(e,t,n,i,r,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],s=n+t,o=t/s,a=g(e[0],!1);a.offset=0,r.push(a);const l=g(e[0],!1);l.offset=O(o),r.push(l);const c=e.length-1;for(let i=1;i<=c;i++){let o=g(e[i],!1);const a=o.offset,l=t+a*n;o.offset=O(l/s),r.push(o)}n=s,t=0,i="",e=r}return L(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,s){let o=[];if(i&&o.push(this.element),e.length>0){e=(e=e.replace(we,"."+this._enterClassName)).replace(Ee,"."+this._leaveClassName);const t=1!=n;let i=this._driver.query(this.element,e,t);0!==n&&(i=n<0?i.slice(i.length+n,i.length):i.slice(0,n)),o.push(...i)}return r||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class ke{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ke(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xe,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||q.a,this._currentKeyframe[e]=q.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},s=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t)).forEach(e=>{n[e]=q.a}):g(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=x(s[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:q.a),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{const n=e[t];this._currentKeyframe[t]=n}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=g(r,!0);Object.keys(o).forEach(n=>{const i=o[n];i==q.m?e.add(n):i==q.a&&t.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=e.size?w(e.values()):[],s=t.size?w(t.values()):[];if(n){const e=i[0],t=f(e);e.offset=0,t.offset=1,i=[e,t]}return L(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class Ae{}class Ce extends Ae{normalizePropertyName(e,t){return E(e)}normalizeStyleValue(e,t,n,i){let r="";const s=n.toString().trim();if(Me[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+r}}const Me=function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")),Re={};class Le{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t){return function(e,t,n){return e.some(e=>e(t,n))}(this.ast.matchers,e,t)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],s=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):s}build(e,t,n,i,r,s,o,a,c){const u=[],h=this.ast.options&&this.ast.options.params||Re,d=o&&o.params||Re,p=this.buildStyles(n,d,u),m=a&&a.params||Re,f=this.buildStyles(i,m,u),g=new Set,v=new Map,y=new Map,b="void"===i,_={params:Object.assign({},h,m)},x=P(e,t,this.ast.animation,r,s,p,f,_,c,u);if(u.length)return D(t,this._triggerName,n,i,b,p,f,[],[],v,y,u);x.forEach(e=>{const n=e.element,i=l(v,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=l(y,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&g.add(n)});const E=w(g.values());return D(t,this._triggerName,n,i,b,p,f,x,E,v,y)}}class Pe{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=f(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let s=r[e];s.length>1&&(s=x(s,i,t)),n[e]=s})}}),n}}const Oe=new _e;class De{constructor(e,t){this._driver=e,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=A(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,s=r(this._driver,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[])}create(e,t,n={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=P(this._driver,t,s,oe,ae,{},{},n,Oe,r)).forEach(e=>{const t=l(a,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,q.a)})});const c=i(o.map(e=>{const t=a.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,i){const r=a(t,"","","");return s(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n){const n=i[0]||{};return void this.create(e,t,n)}const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Fe="ng-animate-queued",Ie=".ng-animate-queued",Ne="ng-animate-disabled",Be=".ng-animate-disabled",je="ng-star-inserted",ze=".ng-star-inserted",Ue=[],Ve={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!1},Ge={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!0},He="__ng_removed";class We{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=function(e){return null!=e?e:null}(i),n){const t=f(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const $e="void",qe=new We($e),Xe=new We("DELETED");class Ye{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,U(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(e){return"start"==e||"done"==e}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const r=l(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};r.push(s);const o=l(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(U(e,le),U(e,le+"-"+t),o[t]=qe),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),s=new Ze(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(U(e,le),U(e,le+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const c=new We(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[t]=c,a){if(a===Xe)return s}else a=qe;if(!(c.value===$e)&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,c.params)){const t=[],n=r.matchStyles(a.value,a.params,t),i=r.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{y(e,n),v(e,i)})}return}const u=l(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=r.matchTransition(a.value,c.value),d=!1;if(!h){if(!i)return;h=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:c,player:s,isFallbackTransition:d}),d||(U(e,Fe),s.onStart(()=>{V(e,Fe)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),u.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,ce,!0).forEach(e=>{if(e[He])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,$e,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&i(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(e)[i]||qe,o=new We($e),a=new Ze(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;){if(n.statesByElement.get(t)){i=!0;break}}}}this.prepareLeaveAnimationListeners(e),i?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){U(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(t=>{if(t.name==n.triggerName){const i=a(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,s(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t}}class Ke{constructor(e,t){this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((e,t)=>{})}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Ye(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--){const n=this._namespaceList[r];if(this.driver.containsElement(n.hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){return!!N(t)&&(this._fetchNamespace(e).trigger(t,n,i),!0)}insertNode(e,t,n,i){if(!N(t))return;const r=t[He];r&&r.setForRemoval&&(r.setForRemoval=!1),e&&this._fetchNamespace(e).insertNode(t,n),i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),U(e,Ne)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),V(e,Ne))}removeNode(e,t,n){if(!N(t))return void this._onRemovalComplete(t,n);const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t[He]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return N(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t)}destroyInnerAnimations(e){let t=this.driver.query(e,ce,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,he,!0)).forEach(e=>this.finishActiveQueriedAnimationOnElement(e))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()});const n=this.statesByElement.get(e);n&&Object.keys(n).forEach(e=>n[e]=Xe)}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return i(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[He];if(t&&t.setForRemoval){if(e[He]=Ve,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Be)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Be,!0).forEach(t=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){U(this.collectedEnterElements[n],je)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){const e=this.collectedLeaveElements[n];this.processLeaveNode(e)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?i(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new _e,r=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(e=>{d.add(e);const t=this.driver.query(e,Ie,!0);for(let n=0;n<t.length;n++)d.add(t[n])});const p=h(),m=Array.from(this.statesByElement.keys()),f=z(m,this.collectedEnterElements),g=new Map;let b=0;f.forEach((e,t)=>{const n=oe+b++;g.set(t,n),e.forEach(e=>U(e,n))});const _=[],x=new Set,w=new Set;for(let i=0;i<this.collectedLeaveElements.length;i++){const e=this.collectedLeaveElements[i],t=e[He];t&&t.setForRemoval&&(_.push(e),x.add(e),t.hasAnimation?this.driver.query(e,ze,!0).forEach(e=>x.add(e)):w.add(e))}const E=new Map,T=z(m,Array.from(x));T.forEach((e,t)=>{const n=ae+b++;E.set(t,n),e.forEach(e=>U(e,n))}),e.push(()=>{f.forEach((e,t)=>{const n=g.get(t);e.forEach(e=>V(e,n))}),T.forEach((e,t)=>{const n=E.get(t);e.forEach(e=>V(e,n))}),_.forEach(e=>{this.processLeaveNode(e)})});const S=[],k=[];for(let i=this._namespaceList.length-1;i>=0;i--){this._namespaceList[i].drainQueuedTransitions(t).forEach(e=>{const t=e.player;S.push(t);const i=e.element;if(!p||!this.driver.containsElement(p,i))return void t.destroy();const s=E.get(i),h=g.get(i),d=this._buildInstruction(e,n,h,s);if(d.errors&&d.errors.length)return void k.push(d);if(e.isFallbackTransition)return t.onStart(()=>y(i,d.fromStyles)),t.onDestroy(()=>v(i,d.toStyles)),void r.push(t);d.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,d.timelines);const m={instruction:d,player:t,element:i};o.push(m),d.queriedElements.forEach(e=>l(a,e,[]).push(t)),d.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=c.get(t);e||c.set(t,e=new Set),n.forEach(t=>e.add(t))}}),d.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=u.get(t);i||u.set(t,i=new Set),n.forEach(e=>i.add(e))})})}if(k.length){const e=[];k.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),S.forEach(e=>e.destroy()),this.reportError(e)}const A=new Map,C=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(C.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,A))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{l(A,t,[]).push(e),e.destroy()})});const M=_.filter(e=>H(e,c,u)),R=new Map;j(R,this.driver,w,u,q.a).forEach(e=>{H(e,c,u)&&M.push(e)});const L=new Map;f.forEach((e,t)=>{j(L,this.driver,new Set(e),c,q.m)}),M.forEach(e=>{const t=R.get(e),n=L.get(e);R.set(e,Object.assign({},t,n))});const P=[],O=[],D={};o.forEach(e=>{const{element:t,player:o,instruction:a}=e;if(n.has(t)){if(d.has(t))return o.onDestroy(()=>v(t,a.toStyles)),void r.push(o);let e=D;if(C.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=C.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>C.set(t,e))}const n=this._buildAnimation(o.namespaceId,a,A,s,L,R);if(o.setRealPlayer(n),e===D)P.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=i(t)),r.push(o)}}else y(t,a.fromStyles),o.onDestroy(()=>v(t,a.toStyles)),O.push(o),d.has(t)&&r.push(o)}),O.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const n=i(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let l=0;l<_.length;l++){const e=_[l],t=e[He];if(V(e,ae),t&&t.hasAnimation)continue;let n=[];if(a.size){let t=a.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,he,!0);for(let e=0;e<i.length;e++){let t=a.get(i[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?function(e,t,n){i(n).onDone(()=>e.processLeaveNode(t))}(this,e,r):this.processLeaveNode(e)}return _.length=0,P.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),P}elementContainsData(e,t){let n=!1;const i=t[He];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||r==$e;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&s.push(t)})}}return(n||i)&&(s=s.filter(e=>(!n||n==e.namespaceId)&&(!i||i==e.triggerName))),s}_beforeAnimationBuild(e,t,n){const i=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:i;for(const a of t.timelines){const e=a.element,i=e!==r,c=l(n,e,[]);this._getPreviousPlayers(e,i,s,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}y(r,t.fromStyles)}_buildAnimation(e,t,n,s,o,a){const c=t.triggerName,u=t.element,h=[],d=new Set,p=new Set,m=t.timelines.map(t=>{const i=t.element;d.add(i);const l=i[He];if(l&&l.removedBeforeQueried)return new q.d;const m=i!==u,f=function(e){const t=[];return G(e,t),t}((n.get(i)||Ue).map(e=>e.getRealPlayer())).filter(e=>{const t=e;return!!t.element&&t.element===i}),g=o.get(i),v=a.get(i),y=r(this.driver,this._normalizer,0,t.keyframes,g,v),b=this._buildPlayer(t,y,f);if(t.subTimeline&&s&&p.add(i),m){const t=new Ze(e,c,i);t.setRealPlayer(b),h.push(t)}return b});h.forEach(e=>{l(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>(function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t)){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i})(this.playersByQueriedElement,e.element,e))}),d.forEach(e=>U(e,ue));const f=i(m);return f.onDestroy(()=>{d.forEach(e=>V(e,ue)),v(u,t.toStyles)}),p.forEach(e=>{l(s,e,[]).push(f)}),f}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new q.d}}class Ze{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new q.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1}get queued(){return 0==this._containsRealPlayer}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>s(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0)}getRealPlayer(){return this._player}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){l(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}get totalTime(){return this._player.totalTime}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}const Je="$$classes";class Qe{constructor(e,t){this._driver=e,this._triggerCache={},this.onRemovalComplete=((e,t)=>{}),this._transitionEngine=new Ke(e,t),this._timelineEngine=new De(e,t),this._transitionEngine.onRemovalComplete=((e,t)=>this.onRemovalComplete(e,t))}registerTrigger(e,t,n,i,r){const s=e+"-"+i;let o=this._triggerCache[s];if(!o){const e=[],t=A(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=F(i,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,i,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=c(n),s=i;this._timelineEngine.command(e,t,r,s)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=c(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}class et{constructor(e,t,n,i=[]){this.element=e,this.keyframes=t,this.options=n,this.previousPlayers=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.previousStyles={},this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay,function(e,t){return 0===e||0===t}(this._duration,this._delay)&&i.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>this.previousStyles[e]=t[e])})}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes.map(e=>g(e,!1)),t=Object.keys(this.previousStyles);if(t.length&&e.length){let i=e[0],r=[];if(t.forEach(e=>{i.hasOwnProperty(e)||r.push(e),i[e]=this.previousStyles[e]}),r.length){const t=this;for(var n=1;n<e.length;n++){let i=e[n];r.forEach(function(e){i[e]=W(t.element,e)})}}}this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:W(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class tt{validateStyleProperty(e){return u(e)}matchesElement(e,t){return Q(e,t)}containsElement(e,t){return ee(e,t)}query(e,t,n){return te(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,i,r,s=[]){const o={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(o.easing=r);const a=s.filter(e=>e instanceof et);return new et(e,t,o,a)}}},"2Asi":function(e,t){"undefined"!=typeof Element&&("function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}))},"2K0D":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});const i="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,s=i||"undefined"!=typeof e&&e||r;!function(){if(!s)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n("fRUx"))},"2mbX":function(e,t,n){"use strict";t.a=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},"31T2":function(e,t){e.exports={id:0,name:"gs-modelling",kind:0,flags:{},children:[{id:1,name:'"list"',kind:1,kindString:"External module",flags:{isExported:!0},originalName:"D:/Dropbox/Files/Software/GitHub/gs-modelling/src/gs-modelling/lib/list.ts",comment:{shortText:"Lists are a tool to manage a collection of data.<br/>",text:"Any information can be stored in a list (including other lists) and they are refered to as items.<br/>\nItems in a list are ordered and will be returned in the same order or accessed by the same index unless\nchanges are made to alter it.<br/>\n\nTo create an empty list, use the assignment button and define the value as <code>[]</code><br/>\nTo access an item from a list, use <code>list_name[index_num]</code>. This can also be entered directly\ninto functions.\n"},children:[{id:2,name:"Copy",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:3,name:"Copy",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Duplicates a list",returns:"New duplicated list\n"},parameters:[{id:4,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to duplicate"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:29,character:20}]},{id:5,name:"FromRange",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:6,name:"FromRange",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Creates a new list of integers between two integers",text:"Bottom bound number is inclusive and top bound number is exclusive<br/>",returns:"New list\n"},parameters:[{id:7,name:"min",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Bottom bound integer"},type:{type:"intrinsic",name:"number"}},{id:8,name:"max",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Top bound integer"},type:{type:"intrinsic",name:"number"}}],type:{type:"array",elementType:{type:"intrinsic",name:"number"}}}],sources:[{fileName:"list.ts",line:41,character:25}]},{id:12,name:"append",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:13,name:"append",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Adds an item to the end of a list",text:"If item is a list, the entire list will be appended as one item<br/>\nAlters original input list",returns:"List with added item\n"},parameters:[{id:14,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to add to"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:15,name:"item",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Item to add"},type:{type:"intrinsic",name:"any"}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:67,character:22}]},{id:16,name:"appendFront",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:17,name:"appendFront",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Adds an item to the front of a list",text:"If item is a list, the entire list will be appended as one item<br/>\nAlters original input list",returns:"List with added item\n"},parameters:[{id:18,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to add to"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:19,name:"item",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Item to add"},type:{type:"intrinsic",name:"any"}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:81,character:27}]},{id:20,name:"extend",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:21,name:"extend",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Adds items (from a list) to the end of an list",text:"Items are appended to list individually as seperate items<br/>\nDoes not alter original input list",returns:"List with added items\n"},parameters:[{id:22,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to add to"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:23,name:"items",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List of items to add"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:95,character:22}]},{id:24,name:"extendFront",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:25,name:"extendFront",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Adds items (from a list) to the front of an list",text:"Items are appended to list individually as seperate items<br/>\nDoes not alter original input list",returns:"List with added items\n"},parameters:[{id:26,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to add to"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:27,name:"items",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List of items to add"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:108,character:27}]},{id:28,name:"flatten",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:29,name:"flatten",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Flattens an n-dimensional list into a one-dimensional list",text:"Alters input list<br/>\nList returned will be in order",returns:"Flattened list\n"},parameters:[{id:30,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to flatten"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:120,character:23}]},{id:9,name:"len",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:10,name:"len",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the number of items in an list",returns:"Length of specified list\n"},parameters:[{id:11,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"list.ts",line:54,character:19}]},{id:31,name:"removeIndex",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:32,name:"removeIndex",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Removes the item with the specified index number from a list",text:"Alters input list",returns:"List with item removed\n"},parameters:[{id:33,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to remove item from"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:34,name:"index",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Index number of item to remove"},type:{type:"intrinsic",name:"number"}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:132,character:27}]},{id:35,name:"removeValue",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:36,name:"removeValue",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Removes items that match specified value from a list",text:"Alters input list<br/>\nItems must match both the value and type of specified value<br/>\nReturns original list if no items in list match specified value",returns:"List with item removed\n"},parameters:[{id:37,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to remove item from"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:38,name:"value",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Value to search for"},type:{type:"intrinsic",name:"any"}},{id:39,name:"remove_all",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Removes all instances of specified value if true, removes only the first instance if\n       false"},type:{type:"intrinsic",name:"boolean"}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:149,character:27}]},{id:40,name:"reverse",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:41,name:"reverse",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Reverses the order of items in an list",text:"Alters input list",returns:"New reversed list\n"},parameters:[{id:42,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to reverse"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:166,character:23}]},{id:49,name:"slice",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:50,name:"slice",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Removes items with index numbers that fall within a range from a list and return them",text:"Alters input list<br/>\nBottom bound number of range is inclusive, top bound number is exclusive",returns:"List of removed items\n"},parameters:[{id:51,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List slice"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:52,name:"min",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Bottom bound number of range"},type:{type:"intrinsic",name:"number"}},{id:53,name:"max",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Top bound number of range"},type:{type:"intrinsic",name:"number"}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:209,character:21}]},{id:43,name:"sortAlpha",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:44,name:"sortAlpha",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Sorts a list of strings alphabetically",text:"Alters input list<br/>\nIf items are not strings, they are treated as strings<br/>\nItems are sorted according to string Unicode code points (character by character, numbers before upper case\nalphabets, upper case alphabets before lower case alphabets)",returns:"New sorted list\n"},parameters:[{id:45,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to sort"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:181,character:25}]},{id:46,name:"sortNum",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:47,name:"sortNum",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Sorts a list of numbers in ascending order",text:"Alters input list<br/>\nList must contain numbers",returns:"New sorted list\n"},parameters:[{id:48,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to add to"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:194,character:23}]},{id:54,name:"splice",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:55,name:"splice",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Adds and/or removes items to/from a list at a specific point and returns removed items",text:"Alters input list<br/>\nIf no items to add are specified, only removes items<br/>\nIf howmany specified as 0, only adds items",returns:"List of removed items\n"},parameters:[{id:56,name:"list",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List to splice"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}},{id:57,name:"index",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Index number of position to add/remove (items added/removed after specified index)"},type:{type:"intrinsic",name:"number"}},{id:58,name:"howmany",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Number of items to remove"},type:{type:"intrinsic",name:"number"}},{id:59,name:"items",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Items to add"},type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],type:{type:"array",elementType:{type:"intrinsic",name:"any"}}}],sources:[{fileName:"list.ts",line:225,character:22}]}],groups:[{title:"Functions",kind:64,children:[2,5,12,16,20,24,28,9,31,35,40,49,43,46,54]}],sources:[{fileName:"list.ts",line:1,character:0}]},{id:60,name:'"math"',kind:1,kindString:"External module",flags:{isExported:!0},originalName:"D:/Dropbox/Files/Software/GitHub/gs-modelling/src/gs-modelling/lib/math.ts",comment:{shortText:"Math contains funtions for calculations, analysing numbers and representing numbers like pi and infinty."},children:[{id:65,name:"NEGATIVE_INFINITY",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:66,name:"NEGATIVE_INFINITY",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the value of negative infinity",returns:"Value of negative infinity\n"},type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:32,character:33}]},{id:61,name:"PI",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:62,name:"PI",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the value of pi",returns:"Value of pi\n"},type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:16,character:18}]},{id:63,name:"POSITIVE_INFINITY",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:64,name:"POSITIVE_INFINITY",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the value of positive infinity",returns:"Value of positive infinity\n"},type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:24,character:33}]},{id:86,name:"abs",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:87,name:"abs",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the absolute value of a number",text:"Returns num if num is positive, -num if num is negative and 0 if num=0<br/>",returns:"A number representing the absolute value of the specified number\n"},parameters:[{id:88,name:"num",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Number"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:109,character:19}]},{id:80,name:"ceiling",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:81,name:"ceiling",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Rounds a number up to the nearest integer",returns:"A number representing the smallest integer more than or equal to the specified number\n"},parameters:[{id:82,name:"num",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Number"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:87,character:23}]},{id:67,name:"cos",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:68,name:"cos",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the cosine of a specified angle in degrees",returns:"Cosine of angle\n"},parameters:[{id:69,name:"angle",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Angle in degrees"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:46,character:19}]},{id:83,name:"floor",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:84,name:"floor",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Rounds a number down to the nearest integer",returns:"A number representing the largest integer less than or equal to the specified number\n"},parameters:[{id:85,name:"num",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Number"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:97,character:21}]},{id:89,name:"max",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:90,name:"max",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the largest number in a list of numbers",returns:"A number representing the largest number in specified list of numbers\n"},parameters:[{id:91,name:"nums",kind:32768,kindString:"Parameter",flags:{},comment:{text:"List of numbers"},type:{type:"array",elementType:{type:"intrinsic",name:"number"}}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:119,character:19}]},{id:92,name:"min",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:93,name:"min",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the smallest number in a list of numbers",returns:"A number representing the smallest number in specified list of numbers\n"},parameters:[{id:94,name:"nums",kind:32768,kindString:"Parameter",flags:{},type:{type:"array",elementType:{type:"intrinsic",name:"number"}}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:135,character:19}]},{id:76,name:"pow",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:77,name:"pow",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns a number representing the given base taken to the power of the given exponent",returns:"Number representing the given base taken to the power of the given exponent\n"},parameters:[{id:78,name:"base",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Base number"},type:{type:"intrinsic",name:"number"}},{id:79,name:"exponent",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Power of exponent"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:77,character:19}]},{id:95,name:"random",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:96,name:"random",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns a pseudo-random number between 0 (inclusive) and 1 (exclusive)",text:"Number can be scaled to apply for a larger range",returns:"A pseudo-random number\n"},type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:152,character:22}]},{id:97,name:"randomInt",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:98,name:"randomInt",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns a pseudo-random integer between two numbers",text:"Bottom bound number is inclusive and top bound number is exclusive",returns:"A pseudo-random number\n"},parameters:[{id:99,name:"bottom_bound",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Bottom bound number of range"},type:{type:"intrinsic",name:"number"}},{id:100,name:"top_bound",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Top bound number of range"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:165,character:25}]},{id:101,name:"randomIntInclusive",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:102,name:"randomIntInclusive",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns a pseudo-random integer between two numbers",text:"Bottom and top bound numbers are inclusive",returns:"A pseudo-random number\n"},parameters:[{id:103,name:"bottom_bound",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Bottom bound number of range"},type:{type:"intrinsic",name:"number"}},{id:104,name:"top_bound",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Top bound number of range"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:180,character:34}]},{id:70,name:"sin",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:71,name:"sin",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the sine of a specified angle in degrees",returns:"Sine of angle\n"},parameters:[{id:72,name:"angle",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Angle in degrees"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:56,character:19}]},{id:73,name:"tan",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:74,name:"tan",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the tangent of a specified angle in degrees",returns:"Tangent of angle\n"},parameters:[{id:75,name:"angle",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Angle in degrees"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"math.ts",line:66,character:19}]}],groups:[{title:"Functions",kind:64,children:[65,61,63,86,80,67,83,89,92,76,95,97,101,70,73]}],sources:[{fileName:"math.ts",line:1,character:0}]},{id:105,name:'"string"',kind:1,kindString:"External module",flags:{isExported:!0},originalName:"D:/Dropbox/Files/Software/GitHub/gs-modelling/src/gs-modelling/lib/string.ts",comment:{shortText:"String functions return properties and perform actions on strings"},children:[{id:106,name:"endsWith",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:107,name:"endsWith",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Checks if a string ends with the characters of a specified string",returns:"True if str_1 ends with str_2, false if str_1 does not end with str_2\n"},parameters:[{id:108,name:"str_1",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to check"},type:{type:"intrinsic",name:"string"}},{id:109,name:"str_2",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String of characters to check for"},type:{type:"intrinsic",name:"string"}}],type:{type:"intrinsic",name:"boolean"}}],sources:[{fileName:"string.ts",line:21,character:24}]},{id:110,name:"includes",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:111,name:"includes",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Checks if a string contains a specified string of characters",returns:"True if str_1 contains str_2, false if str_1 does not contain str_2\n"},parameters:[{id:112,name:"str_1",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to check"},type:{type:"intrinsic",name:"string"}},{id:113,name:"str_2",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to search for"},type:{type:"intrinsic",name:"string"}}],type:{type:"intrinsic",name:"boolean"}}],sources:[{fileName:"string.ts",line:31,character:24}]},{id:114,name:"len",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:115,name:"len",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the number of characters in a string",returns:"Length of string\n"},parameters:[{id:116,name:"str",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to find length of"},type:{type:"intrinsic",name:"string"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"string.ts",line:40,character:19}]},{id:117,name:"replace",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:118,name:"replace",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Searches for a specified string of characters in a string and replaces them with another specified string\nof characters",text:'To perfrom a case-insensitive search, use <code>/string/i</code> instead of <code>"string"</code> in search',returns:"New string with replaced characters\n"},parameters:[{id:119,name:"str_1",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String"},type:{type:"intrinsic",name:"string"}},{id:120,name:"str_2",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to search for"},type:{type:"intrinsic",name:"string"}},{id:121,name:"str_3",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to replace search value with"},type:{type:"intrinsic",name:"string"}}],type:{type:"intrinsic",name:"string"}}],sources:[{fileName:"string.ts",line:54,character:23}]},{id:122,name:"search",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:123,name:"search",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Returns the position index of where a specified string of characters can be found within a string",text:"If specified string of characters cannot be found, returns -1",returns:"Number that represents position of str_1 in str_2\n"},parameters:[{id:124,name:"str_1",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String to check"},type:{type:"intrinsic",name:"string"}},{id:125,name:"str_2",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String of characters to check for"},type:{type:"intrinsic",name:"string"}}],type:{type:"intrinsic",name:"number"}}],sources:[{fileName:"string.ts",line:66,character:22}]},{id:126,name:"split",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:127,name:"split",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Splits a string into a list of substrings using a specified string of characters as a separator",returns:"List of substrings\n"},parameters:[{id:128,name:"str",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String"},type:{type:"intrinsic",name:"string"}},{id:129,name:"separator",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String of characters used to split string"},type:{type:"intrinsic",name:"string"}}],type:{type:"array",elementType:{type:"intrinsic",name:"string"}}}],sources:[{fileName:"string.ts",line:76,character:21}]},{id:130,name:"substring",kind:64,kindString:"Function",flags:{isExported:!0},signatures:[{id:131,name:"substring",kind:4096,kindString:"Call signature",flags:{},comment:{shortText:"Extracts characters in a string between 2 specified indices and returns it as a new string",text:"Start index is inclusive and end index is exclusive",returns:"New string with extracted characters\n"},parameters:[{id:132,name:"str",kind:32768,kindString:"Parameter",flags:{},comment:{text:"String"},type:{type:"intrinsic",name:"string"}},{id:133,name:"start",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Index to start extracting characters"},type:{type:"intrinsic",name:"number"}},{id:134,name:"end",kind:32768,kindString:"Parameter",flags:{},comment:{text:"Index to stop extracting characters"},type:{type:"intrinsic",name:"number"}}],type:{type:"intrinsic",name:"string"}}],sources:[{fileName:"string.ts",line:89,character:25}]}],groups:[{title:"Functions",kind:64,children:[106,110,114,117,122,126,130]}],sources:[{fileName:"string.ts",line:1,character:0}]}],groups:[{title:"External modules",kind:1,children:[1,60,105]}]}},"3P+V":function(e,t,n){"use strict";function i(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function r(e){if(!i(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function s(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}function o(e,t){return e||new N(t)}function a(e){return 0===e.buttons}function l(e,t,n){return e||new U(t,n)}function c(e,t,n){return e||new H(t,n)}n.d(t,"d",function(){return M}),n.d(t,"e",function(){return N}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return B}),n.d(t,"o",function(){return a}),n.d(t,"g",function(){return j}),n.d(t,"i",function(){return S}),n.d(t,"j",function(){return E}),n.d(t,"k",function(){return z}),n.d(t,"n",function(){return U}),n.d(t,"m",function(){return l}),n.d(t,"l",function(){return V}),n.d(t,"h",function(){return H}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return q});var u=n("1GK5"),h=n("bVHt"),d=n("tOHq"),p=n("tksO"),m=n("AdGS"),f=n("9i4M"),g=n("0mJR"),v=n("IEaL"),y=n("U2gC"),b=n("KF/P"),_=n("O60Z"),x=n("Fxis"),w=n("eQ+q");class E{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=function(e){return e.ownerDocument.defaultView||window}(e).frameElement;if(t){let e=t&&t.nodeName.toLowerCase();if(-1===r(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===e)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}let n=e.nodeName.toLowerCase(),i=r(e);if(e.hasAttribute("contenteditable"))return-1!==i;if("iframe"===n)return!1;if("audio"===n){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===n){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==n||!this._platform.BLINK&&!this._platform.WEBKIT)&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0)}isFocusable(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||i(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}E.decorators=[{type:u.v}],E.ctorParameters=(()=>[{type:p.a}]);class T{constructor(e,t,n,i,r=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._startAnchor.tabIndex=this._endAnchor.tabIndex=this._enabled?0:-1)}destroy(){this._startAnchor&&this._startAnchor.parentNode&&this._startAnchor.parentNode.removeChild(this._startAnchor),this._endAnchor&&this._endAnchor.parentNode&&this._endAnchor.parentNode.removeChild(this._endAnchor),this._startAnchor=this._endAnchor=null}attachAnchors(){this._startAnchor||(this._startAnchor=this._createAnchor()),this._endAnchor||(this._endAnchor=this._createAnchor()),this._ngZone.runOutsideAngular(()=>{this._startAnchor.addEventListener("focus",()=>{this.focusLastTabbableElement()}),this._endAnchor.addEventListener("focus",()=>{this.focusFirstTabbableElement()}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling))})}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], `+`[cdkFocusRegion${e}], `+`[cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}',`+` use 'cdkFocusRegion${e}' instead.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}',`+` use 'cdkFocusRegion${e}' instead.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return this._element.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead.",this._element),e?(e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===Node.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===Node.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return e.tabIndex=this._enabled?0:-1,e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(Object(d.a)(1)).subscribe(e)}}class S{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new T(e,this._checker,this._ngZone,this._document,t)}}S.decorators=[{type:u.v}],S.ctorParameters=(()=>[{type:E},{type:u.F},{type:void 0,decorators:[{type:u.u,args:[m.b]}]}]);class k{constructor(e,t){this._elementRef=e,this._focusTrapFactory=t,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get disabled(){return!this.focusTrap.enabled}set disabled(e){this.focusTrap.enabled=!Object(h.b)(e)}ngOnDestroy(){this.focusTrap.destroy()}ngAfterContentInit(){this.focusTrap.attachAnchors()}}k.decorators=[{type:u.n,args:[{selector:"cdk-focus-trap"}]}],k.ctorParameters=(()=>[{type:u.o},{type:S}]),k.propDecorators={disabled:[{type:u.y}]};class A{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Object(h.b)(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Object(h.b)(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}}A.decorators=[{type:u.n,args:[{selector:"[cdkTrapFocus]",exportAs:"cdkTrapFocus"}]}],A.ctorParameters=(()=>[{type:u.o},{type:S},{type:void 0,decorators:[{type:u.u,args:[m.b]}]}]),A.propDecorators={enabled:[{type:u.y,args:["cdkTrapFocus"]}],autoCapture:[{type:u.y,args:["cdkTrapFocusAutoCapture"]}]};class C{constructor(e){this._items=e,this._activeItemIndex=-1,this._wrap=!1,this._letterKeyStream=new f.a,this._typeaheadSubscription=g.a.EMPTY,this._pressedLetters=[],this.tabOut=new f.a,this.change=new f.a}withWrap(){return this._wrap=!0,this}withTypeAhead(e=200){if(this._items.length&&this._items.some(e=>"function"!=typeof e.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(x.a)(e=>this._pressedLetters.push(e)),Object(y.a)(e),Object(b.a)(()=>this._pressedLetters.length>0),Object(_.a)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._items.toArray();for(let n=1;n<t.length+1;n++){const i=(this._activeItemIndex+n)%t.length,r=t[i];if(!r.disabled&&0===r.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(e){const t=this._activeItemIndex;this._activeItemIndex=e,this._activeItem=this._items.toArray()[e],this._activeItemIndex!==t&&this.change.next(e)}onKeydown(e){switch(e.keyCode){case v.d:this.setNextItemActive();break;case v.p:this.setPreviousItemActive();break;case v.o:return void this.tabOut.next();default:const t=e.keyCode;return void(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=v.a&&t<=v.q||t>=v.r&&t<=v.j)&&this._letterKeyStream.next(String.fromCharCode(t)))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItemIndex(e){this._activeItemIndex=e}_setActiveItemByDelta(e,t=this._items.toArray()){this._wrap?this._setActiveInWrapMode(e,t):this._setActiveInDefaultMode(e,t)}_setActiveInWrapMode(e,t){this._activeItemIndex=(this._activeItemIndex+e+t.length)%t.length,t[this._activeItemIndex].disabled?this._setActiveInWrapMode(e,t):this.setActiveItem(this._activeItemIndex)}_setActiveInDefaultMode(e,t){this._setActiveItemByIndex(this._activeItemIndex+e,e,t)}_setActiveItemByIndex(e,t,n=this._items.toArray()){if(n[e]){for(;n[e].disabled;)if(e+=t,!n[e])return;this.setActiveItem(e)}}}class M extends C{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}const R=" ",L="cdk-describedby-message-container",P="cdk-describedby-message",O="cdk-describedby-host";let D=0;const F=new Map;let I=null;class N{constructor(e){this._document=e}describe(e,t){t.trim()&&(F.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}removeDescription(e,t){if(!t.trim())return;this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t);const n=F.get(t);n&&0===n.referenceCount&&this._deleteMessageElement(t),I&&0===I.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${O}]`);for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(O);I&&this._deleteMessagesContainer(),F.clear()}_createMessageElement(e){const t=this._document.createElement("div");t.setAttribute("id",`${P}-${D++}`),t.appendChild(this._document.createTextNode(e)),I||this._createMessagesContainer(),I.appendChild(t),F.set(e,{messageElement:t,referenceCount:0})}_deleteMessageElement(e){const t=F.get(e),n=t&&t.messageElement;I&&n&&I.removeChild(n),F.delete(e)}_createMessagesContainer(){(I=this._document.createElement("div")).setAttribute("id",L),I.setAttribute("aria-hidden","true"),I.style.display="none",this._document.body.appendChild(I)}_deleteMessagesContainer(){I&&I.parentNode&&(I.parentNode.removeChild(I),I=null)}_removeCdkDescribedByReferenceIds(e){const t=s(e,"aria-describedby").filter(e=>0!=e.indexOf(P));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=F.get(t);!function(e,t,n){const i=s(e,t);i.some(e=>e.trim()==n.trim())||(i.push(n.trim()),e.setAttribute(t,i.join(R)))}(e,"aria-describedby",n.messageElement.id),e.setAttribute(O,""),n.referenceCount++}_removeMessageReference(e,t){const n=F.get(t);n.referenceCount--,function(e,t,n){const i=s(e,t).filter(e=>e!=n.trim());e.setAttribute(t,i.join(R))}(e,"aria-describedby",n.messageElement.id),e.removeAttribute(O)}_isElementDescribedByMessage(e,t){const n=s(e,"aria-describedby"),i=F.get(t),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}}N.decorators=[{type:u.v}],N.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.u,args:[m.b]}]}]);const B={provide:N,deps:[[new u.G,new u.S,N],m.b],useFactory:o};class j extends C{setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus()}}const z=new u.w("liveAnnouncerElement");class U{constructor(e,t){this._document=t,this._liveElement=e||this._createLiveElement()}announce(e,t="polite"){this._liveElement.textContent="",this._liveElement.setAttribute("aria-live",t),setTimeout(()=>this._liveElement.textContent=e,100)}ngOnDestroy(){this._liveElement&&this._liveElement.parentNode&&this._liveElement.parentNode.removeChild(this._liveElement)}_createLiveElement(){let e=this._document.createElement("div");return e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}U.decorators=[{type:u.v}],U.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.G},{type:u.u,args:[z]}]},{type:void 0,decorators:[{type:u.u,args:[m.b]}]}]);const V={provide:U,deps:[[new u.G,new u.S,U],[new u.G,new u.u(z)],m.b],useFactory:l},G=650;class H{constructor(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new WeakMap,this._unregisterGlobalListeners=(()=>{}),this._monitoredElementCount=0}monitor(e,t,n){if(t instanceof u.M||(n=t),n=!!n,!this._platform.isBrowser)return Object(w.a)(null);if(this._elementInfo.has(e)){let t=this._elementInfo.get(e);return t.checkChildren=n,t.subject.asObservable()}let i={unlisten:()=>{},checkChildren:n,subject:new f.a};this._elementInfo.set(e,i),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,e),s=t=>this._onBlur(t,e);return this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",r,!0),e.addEventListener("blur",s,!0)}),i.unlisten=(()=>{e.removeEventListener("focus",r,!0),e.removeEventListener("blur",s,!0)}),i.subject.asObservable()}stopMonitoring(e){let t=this._elementInfo.get(e);t&&(t.unlisten(),t.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(e,t){this._setOriginForCurrentEventQueue(t),e.focus()}_registerGlobalListeners(){if(!this._platform.isBrowser)return;let e=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},t=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},n=e=>{null!=this._touchTimeout&&clearTimeout(this._touchTimeout),this._lastTouchTarget=e.target,this._touchTimeout=setTimeout(()=>this._lastTouchTarget=null,G)},i=()=>{this._windowFocused=!0,setTimeout(()=>this._windowFocused=!1,0)};this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",e,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",n,!Object(p.d)()||{passive:!0,capture:!0}),window.addEventListener("focus",i)}),this._unregisterGlobalListeners=(()=>{document.removeEventListener("keydown",e,!0),document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",n,!Object(p.d)()||{passive:!0,capture:!0}),window.removeEventListener("focus",i)})}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_setClasses(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))}_setOriginForCurrentEventQueue(e){this._origin=e,setTimeout(()=>this._origin=null,0)}_wasCausedByTouch(e){let t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);n&&(n.checkChildren||t===e.target)&&(this._origin||(this._windowFocused&&this._lastFocusOrigin?this._origin=this._lastFocusOrigin:this._wasCausedByTouch(e)?this._origin="touch":this._origin="program"),this._setClasses(t,this._origin),n.subject.next(this._origin),this._lastFocusOrigin=this._origin,this._origin=null)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),n.subject.next(null))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._registerGlobalListeners()}_decrementMonitoredElementCount(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=(()=>{}))}}H.decorators=[{type:u.v}],H.ctorParameters=(()=>[{type:u.F},{type:p.a}]);class W{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new u.q,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef.nativeElement,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement),this._monitorSubscription.unsubscribe()}}W.decorators=[{type:u.n,args:[{selector:"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]"}]}],W.ctorParameters=(()=>[{type:u.o},{type:H}]),W.propDecorators={cdkFocusChange:[{type:u.H}]};const $={provide:H,deps:[[new u.G,new u.S,H],u.F,p.a],useFactory:c};class q{}q.decorators=[{type:u.C,args:[{imports:[m.a,p.b],declarations:[A,k,W],exports:[A,k,W],providers:[E,S,N,V,B,$]}]}],q.ctorParameters=(()=>[])},"3bUk":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return u});var i=n("1GK5"),r=n("nTP9"),s=n("bVHt");let o=0;class a{constructor(){this.id=`cdk-accordion-${o++}`,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Object(s.b)(e)}}a.decorators=[{type:i.n,args:[{selector:"cdk-accordion, [cdkAccordion]",exportAs:"cdkAccordion"}]}],a.ctorParameters=(()=>[]),a.propDecorators={multi:[{type:i.y}]};let l=0;class c{constructor(e,t,n){this.accordion=e,this._changeDetectorRef=t,this._expansionDispatcher=n,this.closed=new i.q,this.opened=new i.q,this.destroyed=new i.q,this.id=`cdk-accordion-child-${l++}`,this._removeUniqueSelectionListener=(()=>{}),this._removeUniqueSelectionListener=n.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)})}get expanded(){return this._expanded}set expanded(e){if(e=Object(s.b)(e),this._expanded!==e){if(this._expanded=e,e){this.opened.emit();const e=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,e)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}ngOnDestroy(){this.destroyed.emit(),this._removeUniqueSelectionListener()}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}}c.decorators=[{type:i.n,args:[{selector:"cdk-accordion-item",exportAs:"cdkAccordionItem"}]}],c.ctorParameters=(()=>[{type:a,decorators:[{type:i.G}]},{type:i.h},{type:r.c}]),c.propDecorators={closed:[{type:i.H}],opened:[{type:i.H}],destroyed:[{type:i.H}],expanded:[{type:i.y}]};class u{}u.decorators=[{type:i.C,args:[{exports:[a,c],declarations:[a,c],providers:[r.b]}]}],u.ctorParameters=(()=>[])},"4uy6":function(e,t,n){"use strict";function i(e){return()=>e.scrollStrategies.reposition()}n.d(t,"b",function(){return M}),n.d(t,"c",function(){return O}),n.d(t,"a",function(){return k}),n.d(t,"d",function(){return i});var r=n("1GK5"),s=n("AdGS"),o=n("IMoF"),a=n("ZvDg"),l=n("3P+V"),c=n("IEaL"),u=n("8C/W"),h=n("WSmR"),d=n("tOHq"),p=n("cv3d"),m=n("0mJR"),f=n("FjVW"),g=n("9i4M"),v=n("bVHt"),y=n("ZDMg"),b=n("7pQ/"),_=n("KF/P"),x=n("eQ+q");const w=Object(f.k)("transformMenu",[Object(f.h)("void",Object(f.i)({opacity:0,transform:"scale(0.01, 0.01)"})),Object(f.h)("enter-start",Object(f.i)({opacity:1,transform:"scale(1, 0.5)"})),Object(f.h)("enter",Object(f.i)({transform:"scale(1, 1)"})),Object(f.j)("void => enter-start",Object(f.e)("100ms linear")),Object(f.j)("enter-start => enter",Object(f.e)("300ms cubic-bezier(0.25, 0.8, 0.25, 1)")),Object(f.j)("* => void",Object(f.e)("150ms 50ms linear",Object(f.i)({opacity:0})))]),E=Object(f.k)("fadeInItems",[Object(f.h)("showing",Object(f.i)({opacity:1})),Object(f.j)("void => *",[Object(f.i)({opacity:0}),Object(f.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])]);const T=Object(o.D)(Object(o.E)(class{}));class S extends T{constructor(e){super(),this._elementRef=e,this._hovered=new g.a,this._highlighted=!1,this._triggersSubmenu=!1}focus(){this._getHostElement().focus()}ngOnDestroy(){this._hovered.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_emitHoverEvent(){this.disabled||this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement;let t="";if(e.childNodes){const n=e.childNodes.length;for(let i=0;i<n;i++)e.childNodes[i].nodeType===Node.TEXT_NODE&&(t+=e.childNodes[i].textContent)}return t.trim()}}S.decorators=[{type:r.j,args:[{selector:"[mat-menu-item]",exportAs:"matMenuItem",inputs:["disabled","disableRipple"],host:{role:"menuitem",class:"mat-menu-item","[class.mat-menu-item-highlighted]":"_highlighted","[class.mat-menu-item-submenu-trigger]":"_triggersSubmenu","[attr.tabindex]":"_getTabIndex()","[attr.aria-disabled]":"disabled.toString()","[attr.disabled]":"disabled || null","(click)":"_checkDisabled($event)","(mouseenter)":"_emitHoverEvent()"},changeDetection:r.g.OnPush,encapsulation:r.Z.None,preserveWhitespaces:!1,template:'<ng-content></ng-content><div class="mat-menu-ripple" matRipple [matRippleDisabled]="disableRipple || disabled" [matRippleTrigger]="_getHostElement()"></div>'}]}],S.ctorParameters=(()=>[{type:r.o}]);const k=new r.w("mat-menu-default-options"),A=2;class C{constructor(e,t,n){this._elementRef=e,this._ngZone=t,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._tabSubscription=m.a.EMPTY,this._classList={},this._panelAnimationState="void",this._overlapTrigger=this._defaultOptions.overlapTrigger,this.closed=new r.q,this.close=this.closed}get xPosition(){return this._xPosition}set xPosition(e){"before"!==e&&"after"!==e&&function(){throw Error('x-position value must be either \'before\' or after\'.\n      Example: <mat-menu x-position="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){"above"!==e&&"below"!==e&&function(){throw Error('y-position value must be either \'above\' or below\'.\n      Example: <mat-menu y-position="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=e,this.setPositionClasses()}set overlapTrigger(e){this._overlapTrigger=Object(v.b)(e)}get overlapTrigger(){return this._overlapTrigger}set panelClass(e){e&&e.length&&(this._classList=e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),this._elementRef.nativeElement.className="",this.setPositionClasses())}set classList(e){this.panelClass=e}get classList(){return this.panelClass}ngAfterContentInit(){this._keyManager=new l.g(this.items).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.close.emit("keydown"))}ngOnDestroy(){this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this.items?this.items.changes.pipe(Object(u.a)(this.items),Object(h.a)(e=>Object(p.a)(...e.map(e=>e._hovered)))):this._ngZone.onStable.asObservable().pipe(Object(d.a)(1),Object(h.a)(()=>this._hovered()))}_handleKeydown(e){switch(e.keyCode){case c.g:this.closed.emit("keydown"),e.stopPropagation();break;case c.i:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case c.m:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:this._keyManager.onKeydown(e)}}focusFirstItem(){this._keyManager.setFirstItemActive()}resetActiveItem(){this._keyManager.setActiveItem(-1)}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList["mat-menu-before"]="before"===e,this._classList["mat-menu-after"]="after"===e,this._classList["mat-menu-above"]="above"===t,this._classList["mat-menu-below"]="below"===t}setElevation(e){const t=`mat-elevation-z${A+e}`,n=Object.keys(this._classList).find(e=>e.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}_startAnimation(){this._panelAnimationState="enter-start"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){"enter-start"===e.toState&&(this._panelAnimationState="enter")}}C.decorators=[{type:r.j,args:[{selector:"mat-menu",template:'<ng-template><div class="mat-menu-panel" [ngClass]="_classList" (keydown)="_handleKeydown($event)" (click)="closed.emit(\'click\')" [@transformMenu]="_panelAnimationState" (@transformMenu.done)="_onAnimationDone($event)" tabindex="-1" role="menu"><div class="mat-menu-content" [@fadeInItems]="\'showing\'"><ng-content></ng-content></div></div></ng-template>',styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:2px;outline:0}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-menu-panel.mat-menu-after.mat-menu-below{transform-origin:left top}.mat-menu-panel.mat-menu-after.mat-menu-above{transform-origin:left bottom}.mat-menu-panel.mat-menu-before.mat-menu-below{transform-origin:right top}.mat-menu-panel.mat-menu-before.mat-menu-above{transform-origin:right bottom}[dir=rtl] .mat-menu-panel.mat-menu-after.mat-menu-below{transform-origin:right top}[dir=rtl] .mat-menu-panel.mat-menu-after.mat-menu-above{transform-origin:right bottom}[dir=rtl] .mat-menu-panel.mat-menu-before.mat-menu-below{transform-origin:left top}[dir=rtl] .mat-menu-panel.mat-menu-before.mat-menu-above{transform-origin:left bottom}.mat-menu-panel.ng-animating{pointer-events:none}@media screen and (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content{padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;position:relative}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item .mat-icon{vertical-align:middle}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:8px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],changeDetection:r.g.OnPush,encapsulation:r.Z.None,preserveWhitespaces:!1,animations:[w,E],exportAs:"matMenu"}]}],C.ctorParameters=(()=>[{type:r.o},{type:r.F},{type:void 0,decorators:[{type:r.u,args:[k]}]}]),C.propDecorators={xPosition:[{type:r.y}],yPosition:[{type:r.y}],templateRef:[{type:r.W,args:[r.T]}],items:[{type:r.m,args:[S]}],overlapTrigger:[{type:r.y}],panelClass:[{type:r.y,args:["class"]}],classList:[{type:r.y}],closed:[{type:r.H}],close:[{type:r.H}]};const M=new r.w("mat-menu-scroll-strategy"),R={provide:M,deps:[a.b],useFactory:i},L=8;class P{constructor(e,t,n,i,s,o,a){this._overlay=e,this._element=t,this._viewContainerRef=n,this._scrollStrategy=i,this._parentMenu=s,this._menuItemInstance=o,this._dir=a,this._overlayRef=null,this._menuOpen=!1,this._closeSubscription=m.a.EMPTY,this._positionSubscription=m.a.EMPTY,this._hoverSubscription=m.a.EMPTY,this._openedByMouse=!1,this.menuOpened=new r.q,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.q,this.onMenuClose=this.menuClosed,o&&(o._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}ngAfterContentInit(){this._checkMenu(),this.menu.close.subscribe(e=>{this._destroyMenu(),"click"===e&&this._parentMenu&&this._parentMenu.closed.emit(e)}),this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(_.a)(e=>e===this._menuItemInstance)).subscribe(()=>{this._openedByMouse=!0,this.openMenu()}))}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._cleanUpSubscriptions()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._menuOpen||(this._createOverlay().attach(this._portal),this._closeSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof C&&this.menu._startAnimation())}closeMenu(){this.menu.close.emit()}focus(){this._element.nativeElement.focus()}_destroyMenu(){this._overlayRef&&this.menuOpen&&(this._resetMenu(),this._closeSubscription.unsubscribe(),this._overlayRef.detach(),this.menu instanceof C&&this.menu._resetAnimation())}_initMenu(){if(this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this._openedByMouse){let e=this._overlayRef.overlayElement.firstElementChild;e&&(this.menu.resetActiveItem(),e.focus())}else this.menu.focusFirstItem()}_setMenuElevation(){if(this.menu.setElevation){let e=0,t=this.menu.parentMenu;for(;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}_resetMenu(){this._setIsMenuOpen(!1),this._openedByMouse&&this.triggersSubmenu()||this.focus(),this._openedByMouse=!1}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){this.menu||function(){throw Error('mat-menu-trigger: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){this._portal=new b.h(this.menu.templateRef,this._viewContainerRef);const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e)}return this._overlayRef}_getOverlayConfig(){return new a.c({positionStrategy:this._getPosition(),hasBackdrop:!this.triggersSubmenu(),backdropClass:"cdk-overlay-transparent-backdrop",direction:this.dir,scrollStrategy:this._scrollStrategy()})}_subscribeToPositions(e){this._positionSubscription=e.onPositionChange.subscribe(e=>{const t="start"===e.connectionPair.overlayX?"after":"before",n="top"===e.connectionPair.overlayY?"below":"above";this.menu.setPositionClasses(t,n)})}_getPosition(){let[e,t]="before"===this.menu.xPosition?["end","start"]:["start","end"],[n,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[r,s]=[n,i],[o,a]=[e,t],l=0;return this.triggersSubmenu()?(a=e="before"===this.menu.xPosition?"start":"end",t=o="end"===e?"start":"end",l="bottom"===n?L:-L):this.menu.overlapTrigger||(r="top"===n?"bottom":"top",s="top"===i?"bottom":"top"),this._overlay.position().connectedTo(this._element,{originX:e,originY:r},{overlayX:o,overlayY:n}).withDirection(this.dir).withOffsetY(l).withFallbackPosition({originX:t,originY:r},{overlayX:a,overlayY:n}).withFallbackPosition({originX:e,originY:s},{overlayX:o,overlayY:i},void 0,-l).withFallbackPosition({originX:t,originY:s},{overlayX:a,overlayY:i},void 0,-l)}_cleanUpSubscriptions(){this._closeSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}_menuClosingActions(){const e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.close:Object(x.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(_.a)(e=>e!==this._menuItemInstance),Object(_.a)(()=>this._menuOpen)):Object(x.a)();return Object(p.a)(e,n,i,t)}_handleMousedown(e){Object(l.o)(e)||(this._openedByMouse=!0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const t=e.keyCode;this.triggersSubmenu()&&(t===c.m&&"ltr"===this.dir||t===c.i&&"rtl"===this.dir)&&this.openMenu()}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}}P.decorators=[{type:r.n,args:[{selector:"[mat-menu-trigger-for], [matMenuTriggerFor]",host:{"aria-haspopup":"true","(mousedown)":"_handleMousedown($event)","(keydown)":"_handleKeydown($event)","(click)":"_handleClick($event)"},exportAs:"matMenuTrigger"}]}],P.ctorParameters=(()=>[{type:a.b},{type:r.o},{type:r.Y},{type:void 0,decorators:[{type:r.u,args:[M]}]},{type:C,decorators:[{type:r.G}]},{type:S,decorators:[{type:r.G},{type:r.R}]},{type:y.c,decorators:[{type:r.G}]}]),P.propDecorators={_deprecatedMatMenuTriggerFor:[{type:r.y,args:["mat-menu-trigger-for"]}],menu:[{type:r.y,args:["matMenuTriggerFor"]}],menuOpened:[{type:r.H}],onMenuOpen:[{type:r.H}],menuClosed:[{type:r.H}],onMenuClose:[{type:r.H}]};class O{}O.decorators=[{type:r.C,args:[{imports:[a.f,s.a,o.y,o.n],exports:[C,S,P,o.n],declarations:[C,S,P],providers:[R,{provide:k,useValue:{overlapTrigger:!0,xPosition:"after",yPosition:"below"}}]}]}],O.ctorParameters=(()=>[])},"4yfK":function(e,t,n){"use strict";t.a=class extends Error{constructor(){const e=super("object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}}},"570Y":function(e,t,n){(function(t){e.exports=function(){if(t.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var e=t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return function(t,n){var i=new e,r=n.endings,s=n.type;if(r)for(var o=0,a=t.length;o<a;++o)i.append(t[o],r);else for(o=0,a=t.length;o<a;++o)i.append(t[o]);return s?i.getBlob(s):i.getBlob()}}()}).call(t,n("fRUx"))},"6DMU":function(e,t,n){"use strict";function i(e){return function(t){const n=new class{constructor(e){this.selector=e}call(e,t){return t.subscribe(new class extends p.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle(),this.add(Object(m.a)(this,t))}}}(e,this.selector,this.caught))}}(e),i=t.lift(n);return n.caught=i}}function r(e){return t=>t.lift(new class{constructor(e){this.callback=e}call(e,t){return t.subscribe(new class extends g.a{constructor(e,t){super(e),this.add(new v.a(t))}}(e,this.callback))}}(e))}function s(e){return Error(`Unable to find icon with the name "${e}"`)}function o(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${e}".`)}function a(e,t,n){return e||new C(t,n)}function l(e){return e.cloneNode(!0)}function c(e,t){return e+":"+t}var u=n("1GK5"),h=n("IMoF"),d=n("tOHq"),p=n("7wpj"),m=n("t0Wy");var f=n("Fxis"),g=n("WJ2g"),v=n("0mJR");var y=n("O60Z"),b=n("o1Kc"),_=n("CaT7"),x=n("PXDV"),w=n("7377"),E=n("eQ+q"),T=n("05/P");class S extends T.a{constructor(e,t){super(),this.error=e,this.scheduler=t}static create(e,t){return new S(e,t)}static dispatch(e){const{error:t,subscriber:n}=e;n.error(t)}_subscribe(e){const t=this.error,n=this.scheduler;if(e.syncErrorThrowable=!0,n)return n.schedule(S.dispatch,0,{error:t,subscriber:e});e.error(t)}}const k=S.create;n.d(t,"c",function(){return P}),n.d(t,"b",function(){return L}),n.d(t,"d",function(){return C}),n.d(t,"a",function(){return a});class A{constructor(e){this.url=e,this.svgElement=null}}class C{constructor(e,t){this._httpClient=e,this._sanitizer=t,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons"}addSvgIcon(e,t){return this.addSvgIconInNamespace("",e,t)}addSvgIconInNamespace(e,t,n){const i=c(e,t);return this._svgIconConfigs.set(i,new A(n)),this}addSvgIconSet(e){return this.addSvgIconSetInNamespace("",e)}addSvgIconSetInNamespace(e,t){const n=new A(t),i=this._iconSetConfigs.get(e);return i?i.push(n):this._iconSetConfigs.set(e,[n]),this}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(u.Q.RESOURCE_URL,e);if(!t)throw o(e);let n=this._cachedIconsByUrl.get(t);return n?Object(E.a)(l(n)):this._loadSvgIconFromConfig(new A(e)).pipe(Object(f.a)(e=>this._cachedIconsByUrl.set(t,e)),Object(y.a)(e=>l(e)))}getNamedSvgIcon(e,t=""){const n=c(t,e),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):k(s(n))}_getSvgFromConfig(e){return e.svgElement?Object(E.a)(l(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(Object(f.a)(t=>e.svgElement=t),Object(y.a)(e=>l(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);if(n)return Object(E.a)(n);const r=t.filter(e=>!e.svgElement).map(e=>this._loadSvgIconSetFromConfig(e).pipe(i(t=>{let n=this._sanitizer.sanitize(u.Q.RESOURCE_URL,e.url);return console.log(`Loading icon set URL: ${n} failed: ${t}`),Object(E.a)(null)}),Object(f.a)(t=>{t&&(e.svgElement=t)})));return Object(w.a)(r).pipe(Object(y.a)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw s(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.svgElement){const t=this._extractSvgIconFromSet(i.svgElement,e);if(t)return t}}return null}_loadSvgIconFromConfig(e){return this._fetchUrl(e.url).pipe(Object(y.a)(e=>this._createSvgElementForSingleIcon(e)))}_loadSvgIconSetFromConfig(e){return this._fetchUrl(e.url).pipe(Object(y.a)(e=>this._svgElementFromString(e)))}_createSvgElementForSingleIcon(e){const t=this._svgElementFromString(e);return this._setSvgAttributes(t),t}_extractSvgIconFromSet(e,t){const n=e.querySelector("#"+t);if(!n)return null;const i=n.cloneNode(!0);if(i.id="","svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i));const r=this._svgElementFromString("<svg></svg>");return r.appendChild(i),this._setSvgAttributes(r)}_svgElementFromString(e){const t=document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){let t=this._svgElementFromString("<svg></svg>");for(let n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===Node.ELEMENT_NODE&&t.appendChild(e.childNodes[n].cloneNode(!0));return t}_setSvgAttributes(e){return e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),e}_fetchUrl(e){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");const t=this._sanitizer.sanitize(u.Q.RESOURCE_URL,e);if(!t)throw o(e);const n=this._inProgressUrlFetches.get(t);if(n)return n;const i=this._httpClient.get(t,{responseType:"text"}).pipe(r(()=>this._inProgressUrlFetches.delete(t)),Object(b.a)());return this._inProgressUrlFetches.set(t,i),i}}C.decorators=[{type:u.v}],C.ctorParameters=(()=>[{type:_.c,decorators:[{type:u.G}]},{type:x.c}]);const M={provide:C,deps:[[new u.G,new u.S,C],[new u.G,_.c],x.c],useFactory:a};const R=Object(h.C)(class{constructor(e){this._elementRef=e}});class L extends R{constructor(e,t,n){super(e),this._iconRegistry=t,n||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnChanges(e){if(e.svgIcon)if(this.svgIcon){const[e,t]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(t,e).pipe(Object(d.a)(1)).subscribe(e=>this._setSvgElement(e),e=>console.log(`Error retrieving icon: ${e.message}`))}else this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement(),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement,t=e.childNodes.length;for(let n=0;n<t;n++)e.removeChild(e.childNodes[n])}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}L.decorators=[{type:u.j,args:[{template:"<ng-content></ng-content>",selector:"mat-icon",exportAs:"matIcon",styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}"],inputs:["color"],host:{role:"img",class:"mat-icon"},encapsulation:u.Z.None,preserveWhitespaces:!1,changeDetection:u.g.OnPush}]}],L.ctorParameters=(()=>[{type:u.o},{type:C},{type:void 0,decorators:[{type:u.f,args:["aria-hidden"]}]}]),L.propDecorators={svgIcon:[{type:u.y}],fontSet:[{type:u.y}],fontIcon:[{type:u.y}]};class P{}P.decorators=[{type:u.C,args:[{imports:[h.n],exports:[L,h.n],declarations:[L],providers:[M]}]}],P.ctorParameters=(()=>[])},"6IJ/":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("O+ca"),r=n("Lv9R"),s=n("xrDH"),o=(n.n(s),this&&this.__decorate||function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}),a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=s.first,c=s.last,u=function(){function e(e,t,n,i){var r=this;this.data=e,this.parent=t,this.treeModel=n,this.position=0,this.allowDrop=function(e,t){return r.options.allowDrop(e,{parent:r,index:0},t)},void 0!==this.id&&null!==this.id||(this.id=Math.floor(1e13*Math.random())),this.index=i,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}return Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.treeModel.isHidden(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this.treeModel.isExpanded(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.treeModel.isActive(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this.treeModel.isNodeFocused(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.parent?this.parent.path.concat([this.id]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementRef",{get:function(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalNode",{get:function(){return this._originalNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLeaf",{get:function(){return!this.hasChildren},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.parent.data.virtual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"realParent",{get:function(){return this.isRoot?null:this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.treeModel.options},enumerable:!0,configurable:!0}),e.prototype.fireEvent=function(e){this.treeModel.fireEvent(e)},Object.defineProperty(e.prototype,"displayField",{get:function(){return this.getField("display")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.getField("id")},set:function(e){this.setField("id",e)},enumerable:!0,configurable:!0}),e.prototype.getField=function(e){return this.data[this.options[e+"Field"]]},e.prototype.setField=function(e,t){this.data[this.options[e+"Field"]]=t},e.prototype._findAdjacentSibling=function(e,t){void 0===t&&(t=!1);var n=this._getParentsChildren(t);return n.length>this.index+e?n[this.index+e]:null},e.prototype.findNextSibling=function(e){return void 0===e&&(e=!1),this._findAdjacentSibling(1,e)},e.prototype.findPreviousSibling=function(e){return void 0===e&&(e=!1),this._findAdjacentSibling(-1,e)},e.prototype.getVisibleChildren=function(){return this.visibleChildren},Object.defineProperty(e.prototype,"visibleChildren",{get:function(){return(this.children||[]).filter(function(e){return!e.isHidden})},enumerable:!0,configurable:!0}),e.prototype.getFirstChild=function(e){void 0===e&&(e=!1);var t=e?this.visibleChildren:this.children;return l(t||[])},e.prototype.getLastChild=function(e){void 0===e&&(e=!1);var t=e?this.visibleChildren:this.children;return c(t||[])},e.prototype.findNextNode=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),e&&this.isExpanded&&this.getFirstChild(t)||this.findNextSibling(t)||this.parent&&this.parent.findNextNode(!1,t)},e.prototype.findPreviousNode=function(e){void 0===e&&(e=!1);var t=this.findPreviousSibling(e);return t?t._getLastOpenDescendant(e):this.realParent},e.prototype._getLastOpenDescendant=function(e){void 0===e&&(e=!1);var t=this.getLastChild(e);return this.isCollapsed||!t?this:t._getLastOpenDescendant(e)},e.prototype._getParentsChildren=function(e){void 0===e&&(e=!1);return this.parent&&(e?this.parent.getVisibleChildren():this.parent.children)||[]},e.prototype.getIndexInParent=function(e){return void 0===e&&(e=!1),this._getParentsChildren(e).indexOf(this)},e.prototype.isDescendantOf=function(e){return this===e||this.parent&&this.parent.isDescendantOf(e)},e.prototype.getNodePadding=function(){return this.options.levelPadding*(this.level-1)+"px"},e.prototype.getClass=function(){return[this.options.nodeClass(this),"tree-node-level-"+this.level].join(" ")},e.prototype.onDrop=function(e){this.mouseAction("drop",e.event,{from:e.element,to:{parent:this,index:0,dropOnNode:!0}})},e.prototype.allowDrag=function(){return this.options.allowDrag(this)},e.prototype.loadNodeChildren=function(){var e=this;return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(function(t){t&&(e.setField("children",t),e._initChildren(),e.children.forEach(function(e){e.getField("isExpanded")&&e.hasChildren&&e.expand()}))}).then(function(){e.fireEvent({eventName:r.a.loadNodeChildren,node:e})}):Promise.resolve()},e.prototype.expand=function(){return this.isExpanded||this.toggleExpanded(),this},e.prototype.collapse=function(){return this.isExpanded&&this.toggleExpanded(),this},e.prototype.doForAll=function(e){var t=this;Promise.resolve(e(this)).then(function(){t.children&&t.children.forEach(function(t){return t.doForAll(e)})})},e.prototype.expandAll=function(){this.doForAll(function(e){return e.expand()})},e.prototype.collapseAll=function(){this.doForAll(function(e){return e.collapse()})},e.prototype.ensureVisible=function(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this},e.prototype.toggleExpanded=function(){return this.setIsExpanded(!this.isExpanded),this},e.prototype.setIsExpanded=function(e){return this.hasChildren&&this.treeModel.setExpandedNode(this,e),this},e.prototype.autoLoadChildren=function(){var e=this;Object(i.h)(function(){return e.isExpanded},function(t){!e.children&&e.hasChildren&&t&&e.loadNodeChildren()},{fireImmediately:!0})},e.prototype.setIsActive=function(e,t){return void 0===t&&(t=!1),this.treeModel.setActiveNode(this,e,t),e&&this.focus(this.options.scrollOnSelect),this},e.prototype.toggleActivated=function(e){return void 0===e&&(e=!1),this.setIsActive(!this.isActive,e),this},e.prototype.setActiveAndVisible=function(e){return void 0===e&&(e=!1),this.setIsActive(!0,e).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this},e.prototype.scrollIntoView=function(e){void 0===e&&(e=!1),this.treeModel.virtualScroll.scrollIntoView(this,e)},e.prototype.focus=function(e){void 0===e&&(e=!0);var t=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),e&&this.scrollIntoView(),t&&this.fireEvent({eventName:r.a.blur,node:t}),this.fireEvent({eventName:r.a.focus,node:this}),this},e.prototype.blur=function(){var e=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),e&&this.fireEvent({eventName:r.a.blur,node:this}),this},e.prototype.setIsHidden=function(e){this.treeModel.setIsHidden(this,e)},e.prototype.hide=function(){this.setIsHidden(!0)},e.prototype.show=function(){this.setIsHidden(!1)},e.prototype.mouseAction=function(e,t,n){void 0===n&&(n=null),this.treeModel.setFocus(!0);var i=this.options.actionMapping.mouse[e];i&&i(this.treeModel,this,t,n)},e.prototype.getSelfHeight=function(){return this.options.nodeHeight(this)},e.prototype._initChildren=function(){var t=this;this.children=this.getField("children").map(function(n,i){return new e(n,t,t.treeModel,i)})},o([i.c,a("design:type",Object),a("design:paramtypes",[])],e.prototype,"isHidden",null),o([i.c,a("design:type",Object),a("design:paramtypes",[])],e.prototype,"isExpanded",null),o([i.c,a("design:type",Object),a("design:paramtypes",[])],e.prototype,"isActive",null),o([i.c,a("design:type",Object),a("design:paramtypes",[])],e.prototype,"isFocused",null),o([i.g,a("design:type",Array)],e.prototype,"children",void 0),o([i.g,a("design:type",Number)],e.prototype,"index",void 0),o([i.g,a("design:type",Object)],e.prototype,"position",void 0),o([i.g,a("design:type",Number)],e.prototype,"height",void 0),o([i.c,a("design:type",Number),a("design:paramtypes",[])],e.prototype,"level",null),o([i.c,a("design:type",Array),a("design:paramtypes",[])],e.prototype,"path",null),o([i.c,a("design:type",Object),a("design:paramtypes",[])],e.prototype,"visibleChildren",null),o([i.a,a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],e.prototype,"_initChildren",null),e}()},"6krl":function(e,t,n){"use strict";function i(){throw Error("Attempting to attach dialog content after content is already attached")}function r(e){return()=>e.scrollStrategies.block()}n.d(t,"e",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return A}),n.d(t,"d",function(){return x});var s=n("1GK5"),o=n("AdGS"),a=n("ZvDg"),l=n("7pQ/"),c=n("3P+V"),u=n("IMoF"),h=n("ZDMg"),d=n("IEaL"),p=n("Ug0o"),m=n("eQ+q"),f=n("KF/P"),g=n("8C/W"),v=n("9i4M"),y=n("FjVW"),b=n("tOHq");class _{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.direction="ltr",this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0}}class x extends l.a{constructor(e,t,n,i){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._document=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new s.q,this._ariaLabelledBy=null}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&i(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&i(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}x.decorators=[{type:s.j,args:[{selector:"mat-dialog-container",template:"<ng-template cdkPortalOutlet></ng-template>",styles:[".mat-dialog-container{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:block;padding:24px;border-radius:2px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%}@media screen and (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch;-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:12px 0;display:flex;flex-wrap:wrap}.mat-dialog-actions:last-child{margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],encapsulation:s.Z.None,preserveWhitespaces:!1,changeDetection:s.g.Default,animations:[Object(y.k)("slideDialog",[Object(y.h)("enter",Object(y.i)({transform:"none",opacity:1})),Object(y.h)("void",Object(y.i)({transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0})),Object(y.h)("exit",Object(y.i)({transform:"translate3d(0, 25%, 0)",opacity:0})),Object(y.j)("* => *",Object(y.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])],host:{class:"mat-dialog-container",tabindex:"-1","[attr.role]":"_config?.role","[attr.aria-labelledby]":"_config?.ariaLabel ? null : _ariaLabelledBy","[attr.aria-label]":"_config?.ariaLabel","[attr.aria-describedby]":"_config?.ariaDescribedBy || null","[@slideDialog]":"_state","(@slideDialog.start)":"_onAnimationStart($event)","(@slideDialog.done)":"_onAnimationDone($event)"}}]}],x.ctorParameters=(()=>[{type:s.o},{type:c.i},{type:s.h},{type:void 0,decorators:[{type:s.G},{type:s.u,args:[o.b]}]}]),x.propDecorators={_portalOutlet:[{type:s.W,args:[l.c]}]};let w=0;class E{constructor(e,t,n=`mat-dialog-${w++}`){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpen=new v.a,this._afterClosed=new v.a,this._beforeClose=new v.a,t._animationStateChanged.pipe(Object(f.a)(e=>"done"===e.phaseName&&"enter"===e.toState),Object(b.a)(1)).subscribe(()=>{this._afterOpen.next(),this._afterOpen.complete()}),t._animationStateChanged.pipe(Object(f.a)(e=>"done"===e.phaseName&&"exit"===e.toState),Object(b.a)(1)).subscribe(()=>{this._overlayRef.dispose(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(f.a)(e=>"start"===e.phaseName),Object(b.a)(1)).subscribe(()=>{this._beforeClose.next(e),this._beforeClose.complete(),this._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()}afterOpen(){return this._afterOpen.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClose(){return this._beforeClose.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="auto",t="auto"){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const T=new s.w("MatDialogData"),S=new s.w("mat-dialog-scroll-strategy"),k={provide:S,deps:[a.b],useFactory:r};class A{constructor(e,t,n,i,r){this._overlay=e,this._injector=t,this._scrollStrategy=i,this._parentDialog=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new v.a,this._afterOpenAtThisLevel=new v.a,this.afterAllClosed=Object(p.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(g.a)(void 0))),!r&&n&&n.subscribe(()=>this.closeAll())}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this._parentDialog?this._parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e){return Object.assign({},new _,e)}(t)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),r=this._attachDialogContent(e,i,n,t);return this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpen.next(r),r}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new a.c({positionStrategy:this._overlay.position().global(),scrollStrategy:this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){let n=new l.d(x,t.viewContainerRef),i=e.attach(n);return i.instance._config=t,i.instance}_attachDialogContent(e,t,n,i){const r=new E(n,t,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe(()=>{r.disableClose||r.close()}),n.keydownEvents().pipe(Object(f.a)(e=>e.keyCode===d.g&&!r.disableClose)).subscribe(()=>r.close()),e instanceof s.T)t.attachTemplatePortal(new l.h(e,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,t),s=t.attachComponentPortal(new l.d(e,void 0,n));r.componentInstance=s.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=new WeakMap;return r.set(E,t),r.set(x,n),r.set(T,e.data),r.set(h.c,{value:e.direction,change:Object(m.a)()}),new l.f(i||this._injector,r)}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||this._afterAllClosed.next())}}A.decorators=[{type:s.v}],A.ctorParameters=(()=>[{type:a.b},{type:s.x},{type:o.d,decorators:[{type:s.G}]},{type:void 0,decorators:[{type:s.u,args:[S]}]},{type:A,decorators:[{type:s.G},{type:s.S}]}]);let C=0;class M{constructor(e){this.dialogRef=e,this.ariaLabel="Close dialog"}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}}M.decorators=[{type:s.n,args:[{selector:"button[mat-dialog-close], button[matDialogClose]",exportAs:"matDialogClose",host:{"(click)":"dialogRef.close(dialogResult)","[attr.aria-label]":"ariaLabel",type:"button"}}]}],M.ctorParameters=(()=>[{type:E}]),M.propDecorators={ariaLabel:[{type:s.y,args:["aria-label"]}],dialogResult:[{type:s.y,args:["mat-dialog-close"]}],_matDialogClose:[{type:s.y,args:["matDialogClose"]}]};class R{constructor(e){this._container=e,this.id=`mat-dialog-title-${C++}`}ngOnInit(){this._container&&!this._container._ariaLabelledBy&&Promise.resolve().then(()=>this._container._ariaLabelledBy=this.id)}}R.decorators=[{type:s.n,args:[{selector:"[mat-dialog-title], [matDialogTitle]",exportAs:"matDialogTitle",host:{class:"mat-dialog-title","[id]":"id"}}]}],R.ctorParameters=(()=>[{type:x,decorators:[{type:s.G}]}]),R.propDecorators={id:[{type:s.y}]};class L{}L.decorators=[{type:s.n,args:[{selector:"[mat-dialog-content], mat-dialog-content, [matDialogContent]",host:{class:"mat-dialog-content"}}]}],L.ctorParameters=(()=>[]);class P{}P.decorators=[{type:s.n,args:[{selector:"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]",host:{class:"mat-dialog-actions"}}]}],P.ctorParameters=(()=>[]);class O{}O.decorators=[{type:s.C,args:[{imports:[o.a,a.f,l.g,c.a,u.n],exports:[x,M,R,L,P,u.n],declarations:[x,M,R,P,L],providers:[A,k],entryComponents:[x]}]}],O.ctorParameters=(()=>[])},7377:function(e,t,n){"use strict";var i=n("05/P"),r=n("P6aB"),s=n("ElHI"),o=n("t0Wy"),a=n("7wpj");class l extends i.a{constructor(e,t){super(),this.sources=e,this.resultSelector=t}static create(...e){if(null===e||0===arguments.length)return new r.a;let t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(s.a)(e[0])&&(e=e[0]),0===e.length?new r.a:new l(e,t)}_subscribe(e){return new class extends a.a{constructor(e,t,n){super(e),this.sources=t,this.resultSelector=n,this.completed=0,this.haveValues=0;const i=t.length;this.total=i,this.values=new Array(i);for(let r=0;r<i;r++){const e=t[r],n=Object(o.a)(this,e,null,r);n&&(n.outerIndex=r,this.add(n))}}notifyNext(e,t,n,i,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const t=this.destination,{haveValues:n,resultSelector:i,values:r}=this,s=r.length;if(e._hasValue){if(this.completed++,this.completed===s){if(n===s){const e=i?i.apply(this,r):r;t.next(e)}t.complete()}}else t.complete()}}(e,this.sources,this.resultSelector)}}const c=l.create;t.a=c},"7K/9":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var i=n("1GK5"),r=n("9i4M"),s=n("U2gC");class o{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}o.decorators=[{type:i.v}],o.ctorParameters=(()=>[]);class a{constructor(e,t,n){this._mutationObserverFactory=e,this._elementRef=t,this._ngZone=n,this.event=new i.q,this._debouncer=new r.a}ngAfterContentInit(){this.debounce>0?this._ngZone.runOutsideAngular(()=>{this._debouncer.pipe(Object(s.a)(this.debounce)).subscribe(e=>this.event.emit(e))}):this._debouncer.subscribe(e=>this.event.emit(e)),this._observer=this._ngZone.runOutsideAngular(()=>this._mutationObserverFactory.create(e=>{this._debouncer.next(e)})),this._observer&&this._observer.observe(this._elementRef.nativeElement,{characterData:!0,childList:!0,subtree:!0})}ngOnDestroy(){this._observer&&this._observer.disconnect(),this._debouncer.complete()}}a.decorators=[{type:i.n,args:[{selector:"[cdkObserveContent]",exportAs:"cdkObserveContent"}]}],a.ctorParameters=(()=>[{type:o},{type:i.o},{type:i.F}]),a.propDecorators={event:[{type:i.H,args:["cdkObserveContent"]}],debounce:[{type:i.y}]};class l{}l.decorators=[{type:i.C,args:[{exports:[a],declarations:[a],providers:[o]}]}],l.ctorParameters=(()=>[])},"7TGV":function(e,t,n){"use strict";function i(e,t,n,i,r){var s,o;if(r===function(e,t,n,i){for(var r=0,s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)o=f(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=f(s,e[s],e[s+1],o);return o&&h(o,o.next)&&(g(o),o=o.next),o}function r(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!h(i,i.next)&&0!==u(i.prev,i,i.next))i=i.next;else{if(g(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function s(e,t,n,i,o,a,f){if(e){!f&&a&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=l(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,s,o,a,l,c=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1)}(r)}(e,i,o,a);for(var v,y,b=e;e.prev!==e.next;)if(v=e.prev,y=e.next,a?function(e,t,n,i){var r=e.prev,s=e,o=e.next;if(u(r,s,o)>=0)return!1;var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,d=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,p=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,m=l(a,h,t,n,i),f=l(d,p,t,n,i),g=e.nextZ;for(;g&&g.z<=f;){if(g!==e.prev&&g!==e.next&&c(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&u(g.prev,g,g.next)>=0)return!1;g=g.nextZ}g=e.prevZ;for(;g&&g.z>=m;){if(g!==e.prev&&g!==e.next&&c(r.x,r.y,s.x,s.y,o.x,o.y,g.x,g.y)&&u(g.prev,g,g.next)>=0)return!1;g=g.prevZ}return!0}(e,i,o,a):function(e){var t=e.prev,n=e,i=e.next;if(u(t,n,i)>=0)return!1;var r=e.next.next;for(;r!==e.prev;){if(c(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&u(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))t.push(v.i/n),t.push(e.i/n),t.push(y.i/n),g(e),e=y.next,b=y.next;else if((e=y)===b){f?1===f?s(e=function(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!h(r,s)&&d(r,i,i.next,s)&&p(r,s)&&p(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),g(i),g(i.next),i=e=s),i=i.next}while(i!==e);return i}(e,t,n),t,n,i,o,a,2):2===f&&function(e,t,n,i,o,a){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&d(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&p(e,t)&&p(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}(l,c)){var u=m(l,c);return l=r(l,l.next),u=r(u,u.next),s(l,t,n,i,o,a),void s(u,t,n,i,o,a)}c=c.next}l=l.next}while(l!==e)}(e,t,n,i,o,a):s(r(e),t,n,i,o,a,1);break}}}function o(e,t,n,s){var o,l,u,h=[];for(o=0,l=t.length;o<l;o++)(u=i(e,t[o]*s,o<l-1?t[o+1]*s:e.length,s,!1))===u.next&&(u.steiner=!0),h.push(function(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}(u));for(h.sort(a),o=0;o<h.length;o++)!function(e,t){if(t=function(e,t){var n,i=t,r=e.x,s=e.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>o){if(o=a,a===r){if(s===i.y)return i;if(s===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n.prev;var l,u=n,h=n.x,d=n.y,m=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=h&&r!==i.x&&c(s<d?r:o,s,h,d,s<d?o:r,s,i.x,i.y)&&((l=Math.abs(s-i.y)/(r-i.x))<m||l===m&&i.x>n.x)&&p(i,e)&&(n=i,m=l),i=i.next;return n}(e,t)){var n=m(t,e);r(n,n.next)}}(h[o],n),n=r(n,n.next);return n}function a(e,t){return e.x-t.x}function l(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function c(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function u(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function h(e,t){return e.x===t.x&&e.y===t.y}function d(e,t,n,i){return!!(h(e,t)&&h(n,i)||h(e,i)&&h(n,t))||u(e,t,n)>0!=u(e,t,i)>0&&u(n,i,e)>0!=u(n,i,t)>0}function p(e,t){return u(e.prev,e,e.next)<0?u(e,t,e.next)>=0&&u(e,e.prev,t)>=0:u(e,t,e.prev)<0||u(e,e.next,t)<0}function m(e,t){var n=new v(e.i,e.x,e.y),i=new v(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function f(e,t,n,i){var r=new v(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function g(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function v(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function y(e,t){const n=new he.b(...e);return n.applyMatrix4(t),n.toArray().slice(0,3)}function b(e,t,n=!1){const i=new he.b;return i.subVectors(e,t),n&&i.normalize(),i}function _(e,t,n=!1){const i=new he.b;return i.addVectors(e,t),n&&i.normalize(),i}function x(e,t,n=!1){const i=new he.b;return i.crossVectors(e,t),n&&i.normalize(),i}function w(e,t,n=!1){return x(new he.b(...e),new he.b(...t),n).toArray().slice(0,3)}function E(e){return new he.b(...e).length()}function T(e){const t=function(e){return e.map(e=>new he.b(...e.getPoint().getPosition()))}(e),n=new he.b;for(const a of t)n.add(a);n.divideScalar(t.length);let i,r,s=!1;for(let a=0;a<e.length;a++){if(s){if(0!==(r=x(i,b(t[a],n).normalize()).normalize()).lengthSq())break}else 0!==(i=b(t[a],n).normalize()).lengthSq()&&(s=!0);if(a===e.length-1)throw new Error("Trinagulation found bad face.")}const o=function(e,t,n,i){const r=new he.a,s=e.clone().negate();r.setPosition(s);const o=new he.a;o.makeBasis(t,n,i),o.getInverse(o);const a=new he.a;return a.multiplyMatrices(o,r),a}(n,i,x(r,i),r);return t.map(e=>(function(e,t){const n=e.clone();return n.applyMatrix4(t),n})(e,o))}function S(e,t){const n=T(e),i=Y.flatten(n.map(e=>[e.x,e.y]));return de.triangulate(i).map(e=>t[e])}function k(e,t){switch(e.objGetType(t)){case 1:return new ge(e,t);case 2:return new fe(e,t);case 4:return new pe(e,t);case 100:return new ue(e,t);case 200:return new me(e,t);default:throw new Error("Object type does not exist.")}}function A(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function C(e){return e.getRadius()*Math.abs(e.getAngles()[1]-e.getAngles()[0])*2*Math.PI/360}function M(e){const t=e.getWires(),n=[];for(const i of t)n.push(Y.flatten(i.getVertices().map(e=>e.getPoint().getPosition())));return n}function R(e,t){return function(e,t){const n=e.getOrigin().getPosition(),i=e.getRadius(),r=e.getVectors(),s=e.getAngles(),o=new he.b(...r[0]).normalize(),a=new he.b(...r[1]).normalize(),l=new he.b(...n),c=C(e),u=Math.ceil(c/t),h=[];for(let d=0;d<u;d++){const e=d/(u-1),t=(s[0]+e*(s[1]-s[0]))*(2*Math.PI)/360,n=i*Math.cos(t),r=i*Math.sin(t),c=_(l,_(o.multiplyScalar(n),a.multiplyScalar(r)));h.push([c.x,c.y,c.z])}return h}(e,t)}function L(e,t){return function(e,t){throw new Error("Not implemented")}()}function P(e){const t=Y.flatten(e.getVertices()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}function O(e){const t=Y.flatten(e.getEdges()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}function D(e){Y.flatten(e.getFaces());return{label:e.getLabel(),xyz:e.getLabelCentroid()}}function F(e,t,n){const i={uuid:A(),type:"BufferGeometry",data:{attributes:{position:{itemSize:3,type:"Float32Array",array:e,normalized:!1}}}};return void 0!==t&&(i.data.index={type:"Uint16Array",array:t}),void 0!==n&&(i.data.attributes.normal={itemSize:3,type:"Float32Array",array:n,normalized:!1}),i}function I(e){return{uuid:A(),type:"Group",name:e,children:[]}}function N(e,t,n,i){const r={uuid:A(),type:e,name:t,geometry:n.uuid,material:i.uuid};return"Mesh"===e?(r.castShadow=!0,r.receiveShadow=!0):(r.castShadow=!1,r.receiveShadow=!1),r}function B(e,t){e.children.push(t)}function j(e,t){e.object.children.push(t)}function z(e,t){e.geometries.push(t)}function U(e,t,n,i){const r=function(e,t){const n=I(e);for(const i of t){const e=i.label,t=i.xyz,r={type:"Sprite",name:e,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,t[0],t[1],t[2],1],visible:!1};n.children.push(r)}return n}(n,i);return r.uuid=A(),t.children.push(r),r}function V(e,t,n){const i=I(t.getID()+"_ConicCurve");j(e,i);const r=F(function(e){const t=e.getOrigin().getPosition(),n=e.getVector();return[[...t,...[t[0]+n[0],t[1]+n[1],t[2]+n[2]]]]}(t)[0]);z(e,r),B(i,N("Line","Ray",r,n[0])),U(0,i,"Vertices",P(t)),U(0,i,"Objs",[D(t)])}function G(e,t,n){const i=I(t.getID()+"_ConicCurve");j(e,i);const r=F(function(e){const t=e.getOrigin().getPosition(),n=e.getVectors()[0],i=e.getVectors()[1],r=e.getVectors()[2];return[[...t,...[t[0]+n[0],t[1]+n[1],t[2]+n[2]]],[...t,...[t[0]+i[0],t[1]+i[1],t[2]+i[2]]],[...t,...[t[0]+r[0],t[1]+r[1],t[2]+r[2]]]]}(t)[0]);z(e,r),B(i,N("Line","Plane",r,n[0])),U(0,i,"Vertices",P(t)),U(0,i,"Objs",[D(t)])}function H(e,t,n){const i=I(t.getID()+"_Circle");j(e,i);const r=F(R(t,.1)[0]);z(e,r),t.isClosed()?B(i,N("LineLoop","Circle",r,n[0])):B(i,N("Line","Arc",r,n[0])),U(0,i,"Vertices",P(t)),U(0,i,"Objs",[D(t)])}function W(e,t,n){const i=I(t.getID()+"_Ellipse");j(e,i);const r=F(L()[0]);z(e,r),t.isClosed()?B(i,N("LineLoop","Ellipse",r,n[0])):B(i,N("Line","EllipticArc",r,n[0])),U(0,i,"Vertices",P(t)),U(0,i,"Objs",[D(t)])}function $(e,t,n){const i=I(t.getID()+"_Polyline");j(e,i);const r=F(M(t)[0]);z(e,r),t.isClosed()?B(i,N("LineLoop","Polyline",r,n[0])):B(i,N("Line","Polyline",r,n[0])),U(0,i,"Vertices",P(t)),U(0,i,"Edges",O(t)),U(0,i,"Objs",[D(t)])}function q(e,t,n){const i=I(t.getID()+"_Polymesh");j(e,i);const r=function(e){const t=e.getPointsSet(),n=e.getFaces(),i=t.map(e=>e.getPosition()),r=new Map;t.forEach((e,t)=>r.set(e.getID(),t));const s=[];for(const o of n){const e=o.getVertices(),t=e.map(e=>r.get(e.getPoint().getID()));3===e.length?s.push(t):e.length>3&&s.push(S(e,t))}return{xyzs_flat:Y.flatten(i),indexes:Y.flatten(s)}}(t),s=F(r.xyzs_flat,r.indexes);z(e,s),B(i,N("Mesh","Polymesh Faces",s,n[2]));for(const a of M(t)){const t=F(a);z(e,t),B(i,N("LineLoop","Polymesh Wires",t,n[1]))}const o=F(function(e){const t=e.getEdges(),n=Y.flatten(t[0]),i=[];for(const s of n){const e=s.getVertices().map(e=>e.getPoint()).map(e=>e.getID()).sort();i.push(e[0]+"_"+e[1])}const r=[];for(const s of Y.flatten(t[1])){const e=s.getVertices().map(e=>e.getPoint()),t=e.map(e=>e.getID()).sort(),n=t[0]+"_"+t[1];-1===i.indexOf(n)&&(i.push(n),r.push(e[0].getPosition()),r.push(e[1].getPosition()))}return Y.flatten(r)}(t));z(e,o),B(i,N("LineSegments","Polymesh Face Edges",o,n[0])),U(0,i,"Vertices",P(t)),U(0,i,"Edges",O(t)),U(0,i,"Wires",function(e){const t=Y.flatten(e.getWires()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}(t)),U(0,i,"Faces",function(e){const t=Y.flatten(e.getFaces()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}(t)),U(0,i,"Objs",[D(t)])}function X(e){if("Model"!==e.constructor.name)throw new Error("Invalid model.");const t={metadata:{version:4.5,type:"Object",generator:"gs-json"},geometries:[],materials:[],object:{type:"Scene",name:"Scene",children:[]}},n=[{uuid:A(),type:"LineBasicMaterial",color:0,vertexColors:0,side:2,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0},{uuid:A(),type:"LineBasicMaterial",color:255,vertexColors:0,side:2,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0},{uuid:A(),type:"MeshPhongMaterial",color:16777215,emissive:0,specular:16777215,shininess:10,vertexColors:0,side:2,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0,transparent:!1,wireframe:!1,flatShading:!0},{uuid:A(),type:"MeshPhongMaterial",color:0,emissive:0,specular:16777215,shininess:40,vertexColors:0,side:1,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0,transparent:!0,opacity:.5,wireframe:!1,flatShading:!0}];!function(e,t){for(const n of t)e.materials.push(n)}(t,n);for(const i of e.getGeom().getAllObjs())switch(i.getObjType()){case 1:V(t,i,n);break;case 2:G(t,i,n);break;case 3:H(t,i,n);break;case 4:W(t,i,n);break;case 100:$(t,i,n);break;case 200:q(t,i,n);break;default:console.log("Ignoring geometry of type: ",i.getObjType())}return t}class Y{static make(e,t){return 0===e?[]:Array.apply(0,new Array(e)).map((e,n)=>t)}static makeSeq(e){return 0===e?[]:Array.apply(0,new Array(e)).map((e,t)=>t)}static equal(e,t){if(!Array.isArray(e)||!Array.isArray(t))return e===t;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}static indexOf(e,t){if(!Array.isArray(t))throw new Error("Second argument must be a array.");if(!Array.isArray(e))return t.indexOf(e);for(let n=0;n<t.length;n++)if(Array.isArray(t[n])&&this.equal(e,t[n]))return n;return-1}static flatten(e,t){return void 0===e?[]:e.reduce(function(e,n){return void 0===t?e.concat(Array.isArray(n)?Y.flatten(n):n):e.concat(Array.isArray(n)&&0!==t?Y.flatten(n,t-1):n)},[])}static deepCopy(e){if(void 0===e)return[];const t=[];for(let n=0;n<e.length;n++)Array.isArray(e[n])?t[n]=Y.deepCopy(e[n]):void 0!==e[n]&&(t[n]=e[n]);return t}static deepFill(e,t){if(void 0!==e)for(let n=0;n<e.length;n++)Array.isArray(e[n])?Y.deepFill(e[n],t):void 0!==e[n]&&(e[n]=t)}static deepCount(e){if(void 0===e)return 0;let t=0;for(const n in e)Array.isArray(e[n])?t+=Y.deepCount(e[n]):void 0!==e[n]&&(t+=1);return t}}var K;!function(e){e[e.points=0]="points",e[e.vertices=1]="vertices",e[e.edges=2]="edges",e[e.wires=3]="wires",e[e.faces=4]="faces",e[e.objs=5]="objs"}(K||(K={}));var Z;!function(e){e[e.type_str=0]="type_str",e[e.type_num=1]="type_num",e[e.type_bool=2]="type_bool",e[e.type_str_arr=3]="type_str_arr",e[e.type_num_arr=4]="type_num_arr",e[e.type_bool_arr=5]="type_bool_arr"}(Z||(Z={}));let J=new Map([["objs",K.objs],["faces",K.faces],["wires",K.wires],["edges",K.edges],["vertices",K.vertices],["points",K.points]]),Q=new Map([[K.objs,"objs"],[K.faces,"faces"],[K.wires,"wires"],[K.edges,"edges"],[K.vertices,"vertices"],[K.points,"points"]]),ee=new Map([["string",Z.type_str],["number",Z.type_num],["boolean",Z.type_bool],["string[]",Z.type_str_arr],["number[]",Z.type_num_arr],["boolean[]",Z.type_bool_arr]]),te=new Map([[Z.type_str,"string"],[Z.type_num,"number"],[Z.type_bool,"boolean"],[Z.type_str_arr,"string[]"],[Z.type_num_arr,"number[]"],[Z.type_bool_arr,"boolean[]"]]),ne=new Map([[K.faces,1],[K.wires,0],[K.edges,1],[K.vertices,0]]),ie=new Map([[1,K.faces],[0,K.wires]]),re=new Map([[1,K.edges],[0,K.vertices]]);class se{constructor(e,t,n){this._kernel=e,this._name=t,this._geom_type=n}exists(){return void 0===this._kernel.modelGetAttrib(this._name,this._geom_type)}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}getName(){return this._name}getGeomType(){return this._geom_type}setName(e){const t=this._name;return this._kernel.attribSetName(t,e,this._geom_type),this._name=e,t}getDataType(){return this._kernel.attribGetDataType(this._name,this._geom_type)}getValues(){return this._kernel.attribGetValues(this._name,this._geom_type)}getLabels(){throw new Error("Method to be overridden by subclass.")}count(){return this._kernel.attribCount(this._name,this._geom_type)}}class oe extends se{getIDs(){return this._kernel.entAttribGetIDs(this._name,this._geom_type)}getEnts(){const e=this._kernel.entAttribGetIDs(this._name,this._geom_type);switch(this._geom_type){case K.points:return e.map(e=>new Ee(this._kernel,e));case K.points:return e.map(e=>k(this._kernel,e))}}getLabels(){const e=this._kernel.entAttribGetIDs(this._name,this._geom_type);switch(this._geom_type){case K.points:return e.map(e=>"p"+e);case K.objs:return e.map(e=>"o"+e)}}}class ae extends se{getPaths(){return this._kernel.topoAttribGetPaths(this._name,this._geom_type)}getTopos(){const e=this._kernel.topoAttribGetPaths(this._name,this._geom_type);switch(this._geom_type){case K.vertices:return e.map(e=>new be(this._kernel,e));case K.edges:return e.map(e=>new _e(this._kernel,e));case K.wires:return e.map(e=>new xe(this._kernel,e));case K.faces:return e.map(e=>new we(this._kernel,e))}}getLabels(){switch(this._geom_type){case K.vertices:return this.getPaths().map(e=>"o"+e.id+":"+["w","f"][e.tt]+e.ti+":v"+e.si);case K.edges:return this.getPaths().map(e=>"o"+e.id+":"+["w","f"][e.tt]+e.ti+":e"+e.si);case K.wires:return this.getPaths().map(e=>"o"+e.id+":w"+e.ti);case K.faces:return this.getPaths().map(e=>"o"+e.id+":f"+e.ti)}}}class le{constructor(e,t){this._kernel=e,this._id=t}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}exists(){throw new Error("Method to be overridden by subclass.")}getID(){return this._id}getGeomType(){throw new Error("Method to be overridden by subclass.")}getAttribs(){const e=this.getGeomType(),t=this._kernel.attribGetNames(e);return function(e,t,n){switch(t){case K.points:case K.objs:return n.map(n=>new oe(e,n,t));default:return n.map(n=>new ae(e,n,t))}}(this._kernel,e,t)}getAttribValue(e){return e.getGeomType()!==this.getGeomType()?null:this._kernel.entAttribGetValue(e.getName(),e.getGeomType(),this._id)}setAttribValue(e,t){return e.getGeomType()!==this.getGeomType()?null:this._kernel.entAttribSetValue(e.getName(),e.getGeomType(),this._id,t)}}class ce extends le{exists(){return this._kernel.geomHasObj(this._id)}getGeomType(){return K.objs}getObjType(){throw new Error("Method to be overridden by subclass.")}getLabel(){return"o"+this._id}getLabelCentroid(){const e=this.getPointsSet().map(e=>e.getPosition()),t=[0,0,0];for(const i of e)t[0]+=i[0],t[1]+=i[1],t[2]+=i[2];const n=e.length;return[t[0]/n,t[1]/n,t[2]/n]}getPoints(e){const t=this._kernel.objGetPointIDs(this._id,e);switch(e){case K.wires:return[t[0].map(e=>e.map(e=>new Ee(this._kernel,e))),[]];case K.faces:return[[],t[1].map(e=>e.map(e=>new Ee(this._kernel,e)))];default:return[t[0].map(e=>e.map(e=>new Ee(this._kernel,e))),t[1].map(e=>e.map(e=>new Ee(this._kernel,e)))]}}getPointsArr(){return Y.flatten(this.getPoints())}getPointsSet(){const e=[],t=[];for(const n of this.getPointsArr()){const i=n.getID();-1===e.indexOf(i)&&(e.push(i),t.push(n))}return t}getVertices(e){const t=this._kernel.objGetVertices(this._id,e);return[t[0].map(e=>e.map(e=>new be(this._kernel,e))),t[1].map(e=>e.map(e=>new be(this._kernel,e)))]}getEdges(e){const t=this._kernel.objGetEdges(this._id,e);return[t[0].map(e=>e.map(e=>new _e(this._kernel,e))),t[1].map(e=>e.map(e=>new _e(this._kernel,e)))]}getWires(){return this._kernel.objGetWires(this._id).map(e=>new xe(this._kernel,e))}getFaces(){return this._kernel.objGetFaces(this._id).map(e=>new we(this._kernel,e))}numWires(){return this._kernel.objNumWires(this._id)}numFaces(){return this._kernel.objNumFaces(this._id)}getGroups(){return this._kernel.objGetGroups(this._id).map(e=>new ve(this._kernel,e))}addToGroup(e){return this._kernel.groupAddObj(e.getName(),this._id)}xform(e){return this._kernel.objXform(this._id,e)}}class ue extends ce{getObjType(){return 100}isClosed(){return this.getWires()[0].isClosed()}numVertices(){return this.getWires()[0].numVertices()}numEdges(){return this.getWires()[0].numEdges()}insertVertex(e,t){if(e.getObjID()!==this._id)throw new Error("Edge must belong to polyline.");const n=e.getTopoPath();this._kernel.edgeSplit(n,t.getID());const i=this._kernel.edgeSplit(n,t.getID());return new be(this._kernel,i)}addVertex(e,t){const n=this.getWires()[0].getTopoPath();this._kernel.topoAddVertex(n,e.getID(),t);const i=this._kernel.edgeSplit(n,e.getID());return new be(this._kernel,i)}delVertex(e){throw new Error("Method not implemented.")}}var he=n("joIC"),de={triangulate:function(e,t,n){n=n||2;var r=t&&t.length,a=r?t[0]*n:e.length,l=i(e,0,a,n,!0),c=[];if(!l)return c;var u,h,d,p,m,f,g;if(r&&(l=o(e,t,l,n)),e.length>80*n){u=d=e[0],h=p=e[1];for(var v=n;v<a;v+=n)m=e[v],f=e[v+1],m<u&&(u=m),f<h&&(h=f),m>d&&(d=m),f>p&&(p=f);g=0!==(g=Math.max(d-u,p-h))?1/g:0}return s(l,c,n,u,h,g),c}};class pe extends ce{getObjType(){return 4}getOrigin(){return new Ee(this._kernel,this._kernel.objGetOnePoint(this._id))}getVectors(){return this._kernel.objGetParams(this._id).slice(2,4)}setVectors(e,t){this._kernel.objGetParams(this._id)[1]=e,this._kernel.objGetParams(this._id)[2]=t,this._kernel.objGetParams(this._id)[3]=w(e,t,!0)}getAngles(){return this._kernel.objGetParams(this._id)[4]}setAngles(e){this._kernel.objGetParams(this._id)[4]=e}getRadii(){return[E(this._kernel.objGetParams(this._id)[1]),E(this._kernel.objGetParams(this._id)[2])]}isClosed(){return void 0===this._kernel.objGetParams(this._id)[4]}}class me extends ce{getObjType(){return 200}}class fe extends ce{getObjType(){return 2}getOrigin(){return new Ee(this._kernel,this._kernel.objGetOnePoint(this._id))}getVectors(){return this._kernel.objGetParams(this._id).slice(1,3)}getCartesians(){const e=this._kernel.objGetOnePoint(this._id),t=this._kernel.pointGetPosition(e),n=this._kernel.objGetParams(this._id)[3],i=-(t[0]*n[0]+t[1]*n[1]+t[2]*n[2]);return[n[0],n[1],n[2],i]}}class ge extends ce{getObjType(){return 1}getOrigin(){return new Ee(this._kernel,this._kernel.objGetOnePoint(this._id))}getVector(){return this._kernel.objGetParams(this._id)[1]}}class ve{constructor(e,t){this._kernel=e,this._name=t}exists(){return void 0===this._kernel.modelGetGroup(this._name)}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}getName(){return this._name}setName(e){const t=this._name;return this._kernel.groupSetName(t,e),this._name=e,t}getParentGroup(){const e=this._kernel.groupGetParent(this._name);return new ve(this._kernel,e)}setParentGroup(e){const t=this._kernel.groupSetParent(this._name,e.getName());return new ve(this._kernel,t)}removeParentGroup(){const e=this._kernel.groupSetParent(this._name,null);return new ve(this._kernel,e)}getChildGroups(){return this._kernel.groupGetChildren(this._name).map(e=>new ve(this._kernel,e))}getObjs(e){return this._kernel.groupGetObjIDs(this._name,e).map(e=>k(this._kernel,e))}addObj(e){return this._kernel.groupAddObj(this._name,e.getID())}addObjs(e){return this._kernel.groupAddObjs(this._name,e.map(e=>e.getID()))}removeObj(e){return this._kernel.groupRemoveObj(this._name,e.getID())}removeObjs(e){return this._kernel.groupRemoveObjs(this._name,e.map(e=>e.getID()))}hasObj(e){return this._kernel.groupHasObj(this._name,e.getID())}getTopos(e){const t=this._kernel.groupGetTopos(this._name,e),n=[];for(const i of t){const e=ie.get(i.tt);switch(re.get(i.st)){case K.vertices:n.push(new be(this._kernel,i));break;case K.edges:n.push(new _e(this._kernel,i));break;default:switch(e){case K.wires:n.push(new xe(this._kernel,i));break;case K.faces:n.push(new we(this._kernel,i))}}}return n}addTopo(e){const t=e.getTopoPath();return this._kernel.groupAddTopo(this._name,t)}addTopos(e){const t=e.map(e=>e.getTopoPath());return this._kernel.groupAddTopos(this._name,t)}removeTopo(e){const t=e.getTopoPath();return this._kernel.groupRemoveTopo(this._name,t)}removeTopos(e){const t=e.map(e=>e.getTopoPath());return this._kernel.groupRemoveTopos(this._name,t)}hasTopo(e){const t=e.getTopoPath();return this._kernel.groupHasTopo(this._name,t)}getPoints(){return this._kernel.groupGetPointIDs(this._name).map(e=>new Ee(this._kernel,e))}addPoint(e){return this._kernel.groupAddPoint(this._name,e.getID())}addPoints(e){return this._kernel.groupAddPoints(this._name,e.map(e=>e.getID()))}removePoint(e){return this._kernel.groupRemovePoint(this._name,e.getID())}removePoints(e){return this._kernel.groupRemovePoints(this._name,e.map(e=>e.getID()))}hasPoint(e){return this._kernel.groupHasPoint(this._name,e.getID())}getProps(){return this._kernel.groupGetProps(this._name)}setProps(e){return this._kernel.groupSetProps(this._name,e)}}class ye{constructor(e,t){this._kernel=e,this._path=t}exists(){return this._kernel.geomHasTopo(this._path)}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}getObjID(){return this._path.id}getObj(){return k(this._kernel,this._path.id)}getGeomType(){throw new Error("Method to be overridden by subclass.")}getTopoPath(){return this._path}getTopoPathStr(){throw new Error("Method to be overridden by subclass.")}getLabel(){return this.getTopoPathStr()}getLabelCentroid(){throw new Error("Method to be overridden by subclass.")}getAttribs(){const e=this.getGeomType();return this._kernel.attribGetNames(this.getGeomType()).map(t=>new ae(this._kernel,t,e))}getAttribValue(e){return e.getGeomType()!==this.getGeomType()?null:this._kernel.topoAttribGetValue(e.getName(),e.getGeomType(),this._path)}setAttribValue(e,t){return e.getGeomType()!==this.getGeomType()?null:this._kernel.topoAttribSetValue(e.getName(),e.getGeomType(),this._path,t)}getGroups(){return this._kernel.topoGetGroups(this._path).map(e=>new ve(this._kernel,e))}addToGroup(e){throw new Error("Method not implemented")}}class be extends ye{getGeomType(){return K.vertices}getTopoPathStr(){const e=["w","f"][this._path.tt];return"o"+this.getObjID()+":"+e+this._path.ti+":v"+this._path.si}getLabelCentroid(){return this.getPoint().getPosition()}getPoint(){const e=this._kernel.vertexGetPoint(this._path);return new Ee(this._kernel,e)}getEdge(){const e=this._kernel.vertexGetEdge(this._path);return new _e(this._kernel,e)}getWireOrFace(){const e=this._kernel.vertexGetTopo(this._path);return 0===e.tt?new xe(this._kernel,e):new we(this._kernel,e)}next(){const e=this._kernel.vertexNext(this._path);return null===e?null:new be(this._kernel,e)}previous(){const e=this._kernel.vertexPrevious(this._path);return null===e?null:new be(this._kernel,e)}verticesSharedPoint(){const e=this._kernel.geomFindVerticesSharedPoint(this._path);return[e[0].map(e=>new be(this._kernel,e)),e[1].map(e=>new be(this._kernel,e))]}verticesSamePosition(){const e=this._kernel.geomFindVerticesSamePosition(this._path);return[e[0].map(e=>new be(this._kernel,e)),e[1].map(e=>new be(this._kernel,e))]}}class _e extends ye{getGeomType(){return K.edges}getTopoPathStr(){const e=["w","f"][this._path.tt];return"o"+this.getObjID()+":"+e+this._path.ti+":e"+this._path.si}getLabelCentroid(){const e=this.getVertices().map(e=>e.getPoint().getPosition());let t=[0,0,0];for(const n of e)t[0]+=n[0],t[1]+=n[1],t[2]+=n[2];return[t[0]/2,t[1]/2,t[2]/2]}getVertices(){return this._kernel.edgeGetVertices(this._path).map(e=>new be(this._kernel,e))}getWireOrFace(){const e=this._kernel.edgeGetTopo(this._path);return 0===e.tt?new xe(this._kernel,e):new we(this._kernel,e)}next(){const e=this._kernel.edgeNext(this._path);return null===e?null:new _e(this._kernel,e)}previous(){const e=this._kernel.edgePrevious(this._path);return null===e?null:new _e(this._kernel,e)}edgesSharedPoints(){const e=this._kernel.geomFindEdgesSharedPoints(this._path);return[e[0].map(e=>new _e(this._kernel,e)),e[1].map(e=>new _e(this._kernel,e))]}}class xe extends ye{getGeomType(){return K.wires}getTopoPathStr(){return"o"+this.getObjID()+":w"+this._path.ti}getLabelCentroid(){const e=this.getVertices().map(e=>e.getPoint().getPosition());let t=[0,0,0];for(const i of e)t[0]+=i[0],t[1]+=i[1],t[2]+=i[2];const n=e.length;return[t[0]/n,t[1]/n,t[2]/n]}getVertices(){return this._kernel.topoGetVertices(this._path).map(e=>new be(this._kernel,e))}getEdges(){return this._kernel.topoGetEdges(this._path).map(e=>new _e(this._kernel,e))}numVertices(){return this._kernel.topoNumVertices(this._path)}numEdges(){return this._kernel.topoNumEdges(this._path)}isClosed(){return this._kernel.topoIsClosed(this._path)}wiresSharedPoints(e){return this._kernel.geomFindTopoSharedPoints(this._path).map(e=>new xe(this._kernel,e))}}class we extends ye{getGeomType(){return K.faces}getTopoPathStr(){return"o"+this.getObjID()+":f"+this._path.ti}getLabelCentroid(){const e=this.getVertices().map(e=>e.getPoint().getPosition());let t=[0,0,0];for(const i of e)t[0]+=i[0],t[1]+=i[1],t[2]+=i[2];const n=e.length;return[t[0]/n,t[1]/n,t[2]/n]}getVertices(){return this._kernel.topoGetVertices(this._path).map(e=>new be(this._kernel,e))}getEdges(){return this._kernel.topoGetEdges(this._path).map(e=>new _e(this._kernel,e))}numVertices(){return this._kernel.topoNumVertices(this._path)}numEdges(){return this._kernel.topoNumEdges(this._path)}isClosed(){return!0}facesSharedPoints(e){return this._kernel.geomFindTopoSharedPoints(this._path).map(e=>new we(this._kernel,e))}}class Ee extends le{exists(){return this._kernel.geomHasPoint(this._id)}getGeomType(){return K.points}setPosition(e){return this._kernel.pointSetPosition(this._id,e)}getPosition(){return this._kernel.pointGetPosition(this._id)}getVertices(){return this._kernel.pointGetVertices(this._id).map(e=>new be(this._kernel,e))}getLabel(){return"p"+this._id}getLabelCentroid(){return this.getPosition()}getGroups(){return this._kernel.pointGetGroups(this._id).map(e=>new ve(this._kernel,e))}addToGroup(e){return this._kernel.groupAddPoint(e,this._id)}xform(e){return this._kernel.pointXform(this._id,e)}}class Te extends ce{getObjType(){return 3}getOrigin(){return new Ee(this._kernel,this._kernel.objGetOnePoint(this._id))}getVectors(){return[this._kernel.objGetParams(this._id)[1],this._kernel.objGetParams(this._id)[2]]}setVectors(e,t){this._kernel.objGetParams(this._id)[1]=e,this._kernel.objGetParams(this._id)[2]=t,this._kernel.objGetParams(this._id)[3]=w(e,t,!0)}getAngles(){return this._kernel.objGetParams(this._id)[4]}setAngles(e){this._kernel.objGetParams(this._id)[4]=e}getRadius(){return E(this._kernel.objGetParams(this._id)[1])}isClosed(){return this._kernel.objGetParams(this._id)[4][1]-this._kernel.objGetParams(this._id)[4][0]==360}}class Se extends ce{getObjType(){return 120}isClosed(){return this.getWires()[0].isClosed()}}class ke{constructor(e){this._kernel=e}addPoint(e){const t=this._kernel.geomAddPoint(e);return new Ee(this._kernel,t)}addPoints(e){return e.map(e=>this.addPoint(e))}addPolyline(e,t){const n=e.map(e=>e.getID()),i=this._kernel.geomAddPolyline(n,t);return new ue(this._kernel,i)}addCircle(e,t,n,i){if(i[1]-i[0]<0)throw new Error("Increasing order for angles required: ["+[i[1],i[0]]+"] as opposed to ["+[i[0],i[1]]+"]");const r=this._kernel.geomAddEllipse(e.getID(),t,n,i);return new Te(this._kernel,r)}addEllipse(e,t,n,i){const r=this._kernel.geomAddEllipse(e.getID(),t,n,i);return new pe(this._kernel,r)}addNurbsCurve(e,t,n){const i=e.map(e=>e.getID()),r=this._kernel.geomAddNurbsCurve(i,t,n);return new Se(this._kernel,r)}addPolymesh(e){const t=e.map(e=>e.map(e=>e.getID())),n=this._kernel.geomAddPolymesh(t);return new me(this._kernel,n)}addRay(e,t){const n=this._kernel.geomAddRay(e.getID(),t);return new ge(this._kernel,n)}addPlane(e,t,n){const i=this._kernel.geomAddPlane(e.getID(),t,n);return new fe(this._kernel,i)}getAllPoints(){return this._kernel.geomGetPointIDs().map(e=>new Ee(this._kernel,e))}getPoints(e){return e.map(e=>new Ee(this._kernel,e))}getPoint(e){return new Ee(this._kernel,e)}delPoints(e){return this._kernel.geomDelPoints(e.map(e=>e.getID()))}delPoint(e){return this._kernel.geomDelPoint(e.getID())}numPoints(){return this._kernel.geomNumPoints()}findObjs(e){throw new Error("Method not implemented")}getAllObjs(){return this._kernel.geomGetObjIDs().map(e=>k(this._kernel,e))}getObjs(e){return e.map(e=>k(this._kernel,e))}getObj(e){return k(this._kernel,e)}delObjs(e,t=!0){return this._kernel.geomDelObjs(e.map(e=>e.getID()),t)}delObj(e,t=!0){return this._kernel.geomDelObj(e.getID(),t)}numObjs(){return this._kernel.geomNumObjs()}getTopos(e){const t=this._kernel.geomGetTopoPaths(e);switch(e){case K.vertices:return t.map(e=>new be(this._kernel,e));case K.edges:return t.map(e=>new _e(this._kernel,e));case K.wires:return t.map(e=>new xe(this._kernel,e));case K.faces:return t.map(e=>new we(this._kernel,e))}}getTopo(e){if(!this._kernel.geomHasTopo(e))return null;if(void 0===e.st){if(0===e.tt)return new xe(this._kernel,e);if(1===e.tt)return new we(this._kernel,e)}else{if(0===e.st)return new be(this._kernel,e);if(1===e.st)return new _e(this._kernel,e)}}getTopoFromLabel(e){const t=e.split(":").map(e=>[e.slice(0,1),Number.parseInt(e.slice(1))]);if(2!==t.length&&3!==t.length)return null;if("o"!==t[0][0])return null;if("w"!==t[1][0]&&"f"!==t[1][0])return null;if(Number.isNaN(t[0][1]))return null;if(Number.isNaN(t[1][1]))return null;let n;const i={id:t[0][1],tt:n="w"===t[1][0]?0:1,ti:t[1][1]};if(3===t.length){if("v"!==t[2][0]&&"e"!==t[2][0])return null;if(Number.isNaN(t[2][1]))return null;let e;e="v"===t[2][0]?0:1;const n=t[2][1];i.st=e,i.si=n}return this.getTopo(i)}numTopos(e){return this._kernel.geomNumTopos(e)}}class Ae{constructor(e){void 0!==e?this.fromArray(e):(this._faces=new Ce,this._wires=new Ce,this._face_edges=new Me,this._face_vertices=new Me,this._wire_edges=new Me,this._wire_vertices=new Me)}hasTopo(e){const t=ie.get(e.tt),n=re.get(e.st);switch(t){case K.wires:return n===K.vertices?this._wire_vertices.has(e.id,e.ti,e.si):n===K.edges?this._wire_edges.has(e.id,e.ti,e.si):this._wires.has(e.id,e.ti);case K.faces:return n===K.vertices?this._face_vertices.has(e.id,e.ti,e.si):n===K.edges?this._face_edges.has(e.id,e.ti,e.si):this._faces.has(e.id,e.ti)}}addTopo(e){const t=ie.get(e.tt),n=re.get(e.st);switch(t){case K.wires:return n===K.vertices?this._wire_vertices.add(e.id,e.ti,e.si):n===K.edges?this._wire_edges.add(e.id,e.ti,e.si):this._wires.add(e.id,e.ti);case K.faces:return n===K.vertices?this._face_vertices.add(e.id,e.ti,e.si):n===K.edges?this._face_edges.add(e.id,e.ti,e.si):this._faces.add(e.id,e.ti)}}removeTopo(e){const t=ie.get(e.tt),n=re.get(e.st);switch(t){case K.wires:return n===K.vertices?this._wire_vertices.remove(e.id,e.ti,e.si):n===K.edges?this._wire_edges.remove(e.id,e.ti,e.si):this._wires.remove(e.id,e.ti);case K.faces:return n===K.vertices?this._face_vertices.remove(e.id,e.ti,e.si):n===K.edges?this._face_edges.remove(e.id,e.ti,e.si):this._faces.remove(e.id,e.ti)}}removeObj(e){let t=!1;return this._faces.remove(e)&&(t=!0),this._wires.remove(e)&&(t=!0),this._face_edges.remove(e)&&(t=!0),this._face_vertices.remove(e)&&(t=!0),this._wire_edges.remove(e)&&(t=!0),this._wire_vertices.remove(e)&&(t=!0),t}getTopos(e){let t=[];return e&&e!==K.faces||(t=[...t,...this._faces.flatten().map(e=>Object({id:e[0],tt:1,ti:e[1]}))]),e&&e!==K.wires||(t=[...t,...this._wires.flatten().map(e=>Object({id:e[0],tt:0,ti:e[1]}))]),e&&e!==K.edges||(t=[...t,...this._face_edges.flatten().map(e=>Object({id:e[0],tt:1,ti:e[1],st:1,si:e[2]})),...this._wire_edges.flatten().map(e=>Object({id:e[0],tt:0,ti:e[1],st:1,si:e[2]}))]),e&&e!==K.vertices||(t=[...t,...this._face_vertices.flatten().map(e=>Object({id:e[0],tt:1,ti:e[1],st:0,si:e[2]})),...this._wire_vertices.flatten().map(e=>Object({id:e[0],tt:0,ti:e[1],st:0,si:e[2]}))]),t}toArray(){return[this._faces.toArray(),this._wires.toArray(),this._face_edges.toArray(),this._face_vertices.toArray(),this._wire_edges.toArray(),this._wire_vertices.toArray()]}fromArray(e){if(void 0===e)throw new Error("Data array is undefined.");if(6!==e.length)throw new Error("Data array is invalid length.");this._faces=new Ce(e[0]),this._wires=new Ce(e[1]),this._face_edges=new Me(e[2]),this._face_vertices=new Me(e[3]),this._wire_edges=new Me(e[4]),this._wire_vertices=new Me(e[5])}}class Ce{constructor(e){void 0!==e?this.fromArray(e):this._tree=new Map}has(e,t){return!!this._tree.has(e)&&!!this._tree.get(e).has(t)}add(e,t){return!this.has(e,t)&&(this._tree.has(e)||this._tree.set(e,new Set),this._tree.get(e).add(t),!0)}remove(e,t){return!!this._tree.has(e)&&(void 0===t?this._tree.delete(e):this._tree.get(e).delete(t))}flatten(){const e=[];return this._tree.forEach((t,n)=>t.forEach(t=>e.push([n,t]))),e}toArray(){const e=[];return this._tree.forEach((t,n)=>e.push([n,t])),e}fromArray(e){this._tree=new Map,e.forEach((e,t)=>this._tree.set(e[0],new Set(e[1])))}}class Me{constructor(e){void 0!==e?this.fromArray(e):this._tree=new Map}has(e,t,n){return!!this._tree.has(e)&&this._tree.get(e).has(t,n)}add(e,t,n){return!this.has(e,t,n)&&(this._tree.has(e)||this._tree.set(e,new Ce),this._tree.get(e).add(t,n),!0)}remove(e,t,n){return!!this._tree.has(e)&&(void 0===t?this._tree.delete(e):this._tree.get(e).remove(t,n))}flatten(){const e=[];return this._tree.forEach((t,n)=>t.flatten().forEach(t=>e.push([n,...t]))),e}toArray(){const e=[];return this._tree.forEach((t,n)=>e.push([n,t.toArray()])),e}fromArray(e){this._tree=new Map,e.forEach(e=>this._tree.set(e[0],new Ce(e[1])))}}class Re{constructor(e,t){if(this._model=e,this._geom=new ke(this),this._attribs=new Map,this._attribs.set(K.points,new Map),this._attribs.set(K.objs,new Map),this._attribs.set(K.vertices,new Map),this._attribs.set(K.edges,new Map),this._attribs.set(K.wires,new Map),this._attribs.set(K.faces,new Map),this._groups=new Map,this._topos_trees=new Map,t&&void 0!==t.metadata?this._metadata=t.metadata:this._metadata={filetype:"gs-json",version:"0.1.8",uuid:A()},t&&void 0!==t.geom&&void 0!==t.geom.points?this._points=t.geom.points:this._points=[[],[null]],t&&void 0!==t.geom&&void 0!==t.geom.objs?this._objs=t.geom.objs:this._objs=[],t&&t.attribs&&void 0!==t.attribs.points)for(const n of t.attribs.points)this._attribs.get(K.points).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.objs)for(const n of t.attribs.objs)this._attribs.get(K.objs).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.vertices)for(const n of t.attribs.vertices)this._attribs.get(K.vertices).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.edges)for(const n of t.attribs.edges)this._attribs.get(K.edges).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.wires)for(const n of t.attribs.wires)this._attribs.get(K.wires).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.faces)for(const n of t.attribs.faces)this._attribs.get(K.faces).set(n.name,n);if(t&&t.attribs&&void 0!==t.groups)for(const n of t.groups)void 0===n.parent&&(n.parent=null),void 0===n.objs&&(n.objs=[]),void 0===n.points&&(n.points=[]),this._topos_trees.set(n.name,new Ae(n.topos)),n.topos=[],this._groups.set(n.name,n)}getModel(){return this._model}getGeom(){return this._geom}modelFindAttribs(e){switch(e){case K.points:case K.objs:case K.faces:case K.wires:case K.edges:case K.vertices:return Array.from(this._attribs.get(e).values())}}modelGetAllAttribs(){return[...this.modelFindAttribs(K.points),...this.modelFindAttribs(K.vertices),...this.modelFindAttribs(K.edges),...this.modelFindAttribs(K.wires),...this.modelFindAttribs(K.faces),...this.modelFindAttribs(K.objs)]}modelGetAllEntAttribs(){return[...this.modelFindAttribs(K.points),...this.modelFindAttribs(K.objs)]}modelGetAllTopoAttribs(){return[...this.modelFindAttribs(K.vertices),...this.modelFindAttribs(K.edges),...this.modelFindAttribs(K.wires),...this.modelFindAttribs(K.faces)]}modelGetAttrib(e,t){return this._attribs.get(t).get(e)}modelAddAttrib(e,t,n){if(this.modelHasAttrib(e,t))return this.modelGetAttrib(e,t);const i={data_type:te.get(n),geom_type:Q.get(t),name:e,values:[[],[null]]};return this._attribs.get(t).set(e,i),this._newAttribAddObjsAndPoints(e,t),this._attribs.get(t).get(e)}modelDelAttrib(e,t){return this._attribs.get(t).delete(e)}modelHasAttrib(e,t){return this._attribs.get(t).has(e)}modelGetAllGroups(){return Array.from(this._groups.values())}modelGetGroup(e){return this._groups.get(e)}modelAddGroup(e,t){if(this.modelHasGroup(e))return this.modelGetGroup(e);const n={name:e,parent:null,objs:[],points:[]};if(void 0!==t){if(!this._groups.has(t))throw new Error("Parent group does not exist.");n.parent=t}return this._groups.set(e,n),this._topos_trees.set(e,new Ae),n}modelDelGroup(e){const t=this._groups.delete(e),n=this._topos_trees.delete(e);return t&&n}modelHasGroup(e){return this._groups.has(e)}modelPurge(){this._purgeDelUnusedPoints(),this._purgeDelUnusedPointValues(),this._purgeDelSparsePoints(),this._purgeDelSparseObjs()}modelValidate(){throw new Error("Method not implemented.")}modelToJSON(){const e={metadata:this._metadata,geom:{points:this._points,objs:this._objs}};return void 0!==this._attribs&&(e.attribs={},void 0!==this._attribs.get(K.points)&&(e.attribs.points=Array.from(this._attribs.get(K.points).values())),void 0!==this._attribs.get(K.vertices)&&(e.attribs.vertices=Array.from(this._attribs.get(K.vertices).values())),void 0!==this._attribs.get(K.edges)&&(e.attribs.edges=Array.from(this._attribs.get(K.edges).values())),void 0!==this._attribs.get(K.wires)&&(e.attribs.wires=Array.from(this._attribs.get(K.wires).values())),void 0!==this._attribs.get(K.faces)&&(e.attribs.faces=Array.from(this._attribs.get(K.faces).values())),void 0!==this._attribs.get(K.objs)&&(e.attribs.objs=Array.from(this._attribs.get(K.objs).values()))),JSON.stringify(e,null,4)}geomHasPoint(e){return void 0===this._points[0][e]}geomAddPoint(e){const t=this._points[0].length;return this._points[0].push(0),this.pointSetPosition(t,e),this._newPointAddToAttribs(t),t}geomAddPoints(e){return e.map(e=>this.geomAddPoint(e))}geomDelPoint(e){return void 0!==this._points[0][e]&&(delete this._points[0][e],this._updateObjsForDelPoint(e),this._updateAttribsForDelPoint(e),this._updateGroupsForDelPoint(e),!0)}geomDelPoints(e){let t=!0;for(const n of e)this.geomDelPoint(n)||(t=!1);return t}geomNumPoints(){return this._points[0].filter(e=>void 0!==e).length}geomGetPointIDs(){const e=[];return this._points[0].forEach((t,n)=>void 0!==t&&e.push(n)),e}geomAddRay(e,t){const n=this._objs.length;return this._objs.push([[[e]],[],[1,t]]),this._newObjAddToAttribs(n),n}geomAddPlane(e,t,n){const i=new he.b(...t).normalize(),r=new he.b(...n).normalize(),s=new he.b;s.crossVectors(i,r);const o=this._objs.length;return this._objs.push([[[e]],[],[2,i.toArray(),r.toArray(),s.toArray()]]),this._newObjAddToAttribs(o),o}geomAddPolyline(e,t){if(e.length<2)throw new Error("Too few points for creating a polyline.");const n=this._objs.length;return t&&e.push(-1),this._objs.push([[e],[],[100]]),this._newObjAddToAttribs(n),n}geomAddEllipse(e,t,n,i){const r=this._objs.length;return this._objs.push([[[e]],[],[4,t,n,w(t,n),i]]),this._newObjAddToAttribs(r),r}geomAddNurbsCurve(e,t,n){if(e.length<n)throw new Error("Too few points for creating a NURBS curve.");const i=this._objs.length;return t&&e.push(-1),this._objs.push([[e],[],[120,n]]),this._newObjAddToAttribs(i),i}geomAddPolymesh(e){for(const i of e)if(i.length<3)throw new Error("Too few points for creating a face.");const t=this._objs.length,n=this._findPolymeshWires(e);return e.forEach(e=>e.push(-1)),n.forEach(e=>e.push(-1)),this._objs.push([n,e,[200]]),this._newObjAddToAttribs(t),t}geomHasObj(e){return void 0!==this._objs[e]}geomDelObj(e,t=!0){if(void 0===this._objs[e])return!1;const n=this._objs[e];if(delete this._objs[e],this._updateAttribsForDelObj(e),this._updateGroupsForDelObj(e),!t){const e=new Set;n[0].forEach((t,n)=>t.forEach((t,n)=>this.pointIsUnused(t)&&e.add(t))),n[1].forEach((t,n)=>t.forEach((t,n)=>this.pointIsUnused(t)&&e.add(t))),this.geomDelPoints(Array.from(e))}return!0}geomDelObjs(e,t=!0){let n=!0;for(const i of e)this.geomDelObj(i,t)||(n=!1);return n}geomNumObjs(){return this._objs.filter(e=>void 0!==e).length}geomGetObjIDs(){const e=[];return this._objs.forEach((t,n)=>void 0!==t&&e.push(n)),e}geomHasTopo(e){return void 0!==this._objs[e.id]&&(void 0!==this._objs[e.id][e.tt][e.ti]&&(void 0===e.st||void 0!==this._objs[e.id][e.tt][e.ti][e.si]))}geomGetTopoPaths(e){const t=this._objsDense();switch(e){case K.vertices:return this._getVEPathsFromObjsData(t,0);case K.edges:return this._getVEPathsFromObjsData(t,1);case K.wires:return this._getWFPathsFromObjsData(t,0);case K.faces:return this._getWFPathsFromObjsData(t,1)}}geomNumTopos(e){switch(e){case K.vertices:return this._objs.map(e=>[...e[0].map(e=>e.filter(e=>-1!==e).length),...e[1].map(e=>e.filter(e=>-1!==e).length)].reduce((e,t)=>e+t)).reduce((e,t)=>e+t);case K.edges:return this._objs.map(e=>[...e[0].map(e=>e.length-1),...e[1].map(e=>e.length-1)].reduce((e,t)=>e+t)).reduce((e,t)=>e+t);case K.wires:return this._objs.map(e=>e[0].length).reduce((e,t)=>e+t);case K.faces:return this._objs.map(e=>e[1].length).reduce((e,t)=>e+t)}}geomFindVerticesSharedPoint(e){const t=this.vertexGetPoint(e),n=[];this._objs[e.id][0].forEach((i,r)=>i.forEach((i,s)=>i===t&&!(r===e.ti&&s===e.si)&&n.push({id:e.id,tt:0,ti:r,st:e.st,si:s})));const i=[];return this._objs[e.id][1].forEach((n,r)=>n.forEach((n,s)=>n===t&&!(r===e.ti&&s===e.si)&&i.push({id:e.id,tt:1,ti:r,st:e.st,si:s}))),[n,i]}geomFindEdgesSharedPoints(e){const t=this.vertexGetPoint(e),n=(this._objs[e.id][e.tt][e.ti],this.topoNumEdges({id:e.id,tt:e.tt,ti:e.ti}));let i=e.si+1;i>n-1&&(i=0);const r=[t,this.vertexGetPoint({id:e.id,tt:e.tt,ti:e.ti,st:e.st,si:i})].sort(),s=[];this._objs[e.id][0].forEach((t,n)=>t.forEach((i,o)=>Y.equal([i,t[o+1]].sort(),r)&&n!==e.ti&&s.push({id:e.id,tt:0,ti:n,st:1,si:o})));const o=[];return this._objs[e.id][1].forEach((t,n)=>t.forEach((i,s)=>Y.equal([i,t[s+1]].sort(),r)&&n!==e.ti&&o.push({id:e.id,tt:1,ti:n,st:1,si:s}))),[s,o]}geomFindTopoSharedPoints(e){throw new Error("Method not implemented.")}geomFindVerticesSamePosition(e){const t=this.vertexGetPoint(e),n=[];this._objs[e.id][0].forEach((i,r)=>i.forEach((i,s)=>this._points[0][i]===this._points[0][t]&&!(r===e.ti&&s===e.si)&&n.push({id:e.id,tt:0,ti:r,st:e.st,si:s})));const i=[];return this._objs[e.id][1].forEach((n,r)=>n.forEach((n,s)=>this._points[0][n]===this._points[0][t]&&!(r===e.ti&&s===e.si)&&i.push({id:e.id,tt:1,ti:r,st:e.st,si:s}))),[n,i]}objGetType(e){return this._objs[e][2][0]}objGetOnePoint(e){return void 0!==this._objs[e][0][0]?this._objs[e][0][0][0]:void 0!==this._objs[e][1][0]?this._objs[e][1][0][0]:null}objGetPointIDs(e,t){let n=[];void 0!==t&&t!==K.wires||(n=this._objs[e][0].map(e=>e.filter(e=>-1!==e)));let i=[];return void 0!==t&&t!==K.faces||(i=this._objs[e][1].map(e=>e.filter(e=>-1!==e))),[n,i]}objGetAllPointIDs(e){const t=new Set;return this._objs[e][0].forEach(e=>e.forEach(e=>-1!==e&&t.add(e))),this._objs[e][1].forEach(e=>e.forEach(e=>-1!==e&&t.add(e))),Array.from(t)}objGetVertices(e,t){const n=[];if(void 0===t||t===K.wires)for(let i=0;i<this._objs[e][0].length;i++){const t=this._objs[e][0][i],r=[];for(let n=0;n<t.length;n++)-1!==t[n]&&r.push({id:e,tt:0,ti:i,st:0,si:n});n.push(r)}if(void 0===t||t===K.faces)for(let i=0;i<this._objs[e][1].length;i++){const t=this._objs[e][1][i],r=[];for(let n=0;n<t.length;n++)-1!==t[n]&&r.push({id:e,tt:1,ti:i,st:0,si:n});n.push(r)}return[n,[]]}objGetEdges(e,t){const n=[];if(void 0===t||t===K.wires)for(let r=0;r<this._objs[e][0].length;r++){const t=this._objs[e][0][r],i=[];for(let n=0;n<t.length-1;n++)i.push({id:e,tt:0,ti:r,st:1,si:n});n.push(i)}const i=[];if(void 0===t||t===K.faces)for(let r=0;r<this._objs[e][1].length;r++){const t=this._objs[e][1][r],n=[];for(let i=0;i<t.length-1;i++)n.push({id:e,tt:1,ti:r,st:1,si:i});i.push(n)}return[n,i]}objGetWires(e){return this._objs[e][0].map((t,n)=>Object({id:e,tt:0,ti:n}))}objGetFaces(e){return this._objs[e][1].map((t,n)=>Object({id:e,tt:1,ti:n}))}objNumWires(e){return this._objs[e][0].length}objNumFaces(e){return this._objs[e][1].length}objGetParams(e){return this._objs[e][2]}objGetGroups(e){const t=[];return this._groups.forEach((n,i)=>-1!==n.objs.indexOf(e)&&t.push(n.name)),t}objXform(e,t){switch(this.pointsXform(this.objGetAllPointIDs(e),t),this.objGetType(e)){case 1:case 2:case 3:const n=t.clone();n.setPosition(new he.b),this._objs[e][2][1]=y(this._objs[e][2][1],n),this._objs[e][2][1]=y(this._objs[e][2][2],n),this._objs[e][2][1]=y(this._objs[e][2][3],n);break;case 4:const i=t.clone();i.setPosition(new he.b),i.getInverse(t).transpose(),this._objs[e][2][1]=y(this._objs[e][2][1],i),this._objs[e][2][1]=y(this._objs[e][2][2],i),this._objs[e][2][1]=y(this._objs[e][2][3],i);break;case 100:case 200:break;default:throw new Error("Object type not found: "+this.objGetType(e))}}pointSetPosition(e,t){const n=this._points[1][this._points[0][e]];let i=Y.indexOf(t,this._points[1]);return-1===i&&(i=this._points[1].length,this._points[1].push(t)),this._points[0][e]=i,n}pointGetPosition(e){return this._points[1][this._points[0][e]]}pointGetVertices(e){const t=[];for(const[n,i]of this._objsDense().entries())i[0].forEach((i,r)=>i.forEach((i,s)=>i===e&&t.push({id:Number(n),tt:0,ti:r,st:0,si:s}))),i[1].forEach((i,r)=>i.forEach((i,s)=>i===e&&t.push({id:Number(n),tt:1,ti:r,st:0,si:s})));return t}pointIsUnused(e){for(const t of this._objsDense())if(-1!==Y.flatten(t.slice(0,3)).indexOf(e))return!1;return!0}pointGetGroups(e){const t=[];return this._groups.forEach((n,i)=>-1!==n.points.indexOf(e)&&t.push(n.name)),t}pointXform(e,t){this.pointSetPosition(e,y(this.pointGetPosition(e),t))}pointsXform(e,t){for(const n of e)this.pointSetPosition(n,y(this.pointGetPosition(n),t))}topoNumVertices(e){const t=this._objs[e.id][e.tt][e.ti];return-1===t[t.length-1]?t.length-1:t.length}topoNumEdges(e){return this._objs[e.id][e.tt][e.ti].length-1}topoGetVertices(e){const t=[];for(let n=0;n<this.topoNumVertices(e);n++)t.push({id:e.id,tt:e.tt,ti:e.ti,st:0,si:n});return t}topoGetEdges(e){const t=[];for(let n=0;n<this.topoNumEdges(e);n++)t.push({id:e.id,tt:e.tt,ti:e.ti,st:1,si:n});return t}topoIsClosed(e){const t=this._objs[e.id][e.tt][e.ti];return-1===t[t.length-1]}topoFindSharedPoints(e,t){throw new Error("Method not implemented.")}topoGetGroups(e){const t=[];return this._topos_trees.forEach((n,i)=>n.hasTopo(e)&&t.push(i)),t}topoAddVertex(e,t,n){const i=this._objs[e.id][e.tt][e.ti];let r,s;n?(r=0,s=0):(-1===i[i.length-1]?r=i.length-1:(i.push(t),r=i.length),s=i.length-1),i.splice(r,0,t);for(const o of this._attribs.get(K.edges)){o.values[0][e.id][e.tt][e.ti].splice(s,0,0)}for(const o of this._attribs.get(K.vertices)){o.values[0][e.id][e.tt][e.ti].splice(r,0,0)}return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:r}}topoDelVertex(e,t){throw new Error("Method not implemented.")}edgeGetVertices(e){let t=e.si+1;const n=this.edgeGetTopo(e);return t>this.topoNumEdges(n)-1&&(t=0),[{id:e.id,tt:e.tt,ti:e.ti,st:0,si:e.si},{id:e.id,tt:e.tt,ti:e.ti,st:0,si:t}]}edgeGetTopo(e){return{id:e.id,tt:e.tt,ti:e.ti}}edgeNext(e){let t=e.si+1;const n=this.edgeGetTopo(e);if(t===this.topoNumEdges(n)-1){if(!this.topoIsClosed(n))return null;t=0}else t+=1;return{id:e.id,tt:e.tt,ti:e.ti,st:e.st,si:t}}edgePrevious(e){let t=e.si-1;const n=this.edgeGetTopo(e);if(0===t){if(!this.topoIsClosed(n))return null;t=this.topoNumEdges(n)-1}else t-=1;return{id:e.id,tt:e.tt,ti:e.ti,st:e.st,si:t}}edgeSplit(e,t){this._objs[e.id][e.tt][e.ti].splice(e.si+1,0,t);for(const n of this._attribs.get(K.edges)){n.values[0][e.id][e.tt][e.ti].splice(e.si+1,0,0)}for(const n of this._attribs.get(K.vertices)){n.values[0][e.id][e.tt][e.ti].splice(e.si,0,0)}return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:e.si+1}}vertexGetPoint(e){return this._objs[e.id][e.tt][e.ti][e.si]}vertexGetEdge(e){let t=e.si;const n=this.vertexGetTopo(e);if(t>this.topoNumEdges(n)-1){if(!this.topoIsClosed(n))return null;t=0}return{id:e.id,tt:e.tt,ti:e.ti,st:1,si:t}}vertexGetTopo(e){return{id:e.id,tt:e.tt,ti:e.ti}}vertexNext(e){let t=e.si;const n=this.vertexGetTopo(e);if(t===this.topoNumVertices(n)-1){if(!this.topoIsClosed(n))return null;t=0}else t+=1;return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:t}}vertexPrevious(e){let t=e.si;const n=this.vertexGetTopo(e);if(0===t){if(!this.topoIsClosed(n))return null;t=this.topoNumVertices(n)-1}else t-=1;return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:t}}attribSetName(e,t,n){return!!this._attribs.get(n).has(e)&&(!this._attribs.get(n).has(t)&&(this._attribs.get(n).set(t,this._attribs.get(n).get(e)),this._attribs.get(n).delete(e),!0))}attribGetNames(e){const t=[];return this._attribs.get(e).forEach(e=>t.push(e.name)),t}attribGetDataType(e,t){const n=this._attribs.get(t).get(e).data_type;return ee.get(n)}attribGetValues(e,t){const n=this._attribs.get(t).get(e).values,i=Y.flatten(n[0].filter(e=>void 0!==e)),r=n[1];return i.map(e=>r[e])}attribCount(e,t){return this._attribs.get(t).get(e).values[0].length}entAttribGetValue(e,t,n){const i=this._attribs.get(t).get(e);return i.values[1][i.values[0][n]]}entAttribSetValue(e,t,n,i){const r=this._attribs.get(t).get(e);let s=Y.indexOf(i,r.values[1]);-1===s&&(s=r.values[1].push(i)-1);let o;return o=r.values[1][r.values[0][n]],r.values[0][n]=s,o}entAttribGetIDs(e,t){switch(t){case K.points:return this.geomGetPointIDs();case K.objs:return this.geomGetObjIDs()}throw new Error("geom_type must be either points or objs")}topoAttribGetValue(e,t,n){const i=this._attribs.get(t).get(e);switch(t){case K.wires:case K.faces:return i.values[1][i.values[0][n.id][n.ti]];case K.vertices:case K.edges:return i.values[1][i.values[0][n.id][n.ti][n.si]]}throw new Error("geom_type must be either vertices, edges, wires, or faces")}topoAttribSetValue(e,t,n,i){const r=this._attribs.get(t).get(e);let s=Y.indexOf(i,r.values[1]);-1===s&&(s=r.values[1].push(i)-1);let o;switch(t){case K.wires:case K.faces:return o=r.values[1][r.values[0][n.id][n.ti]],r.values[0][n.id][n.ti]=s,o;case K.vertices:case K.edges:return o=r.values[1][r.values[0][n.id][n.tt][n.ti][n.si]],r.values[0][n.id][n.tt][n.ti][n.si]=s,o}throw new Error("geom_type must be either vertices, edges, wires, or faces")}topoAttribGetPaths(e,t){switch(t){case K.vertices:return Y.flatten(this.geomGetObjIDs().map(e=>this.objGetVertices(e)));case K.edges:return Y.flatten(this.geomGetObjIDs().map(e=>this.objGetEdges(e)));case K.wires:return Y.flatten(this.geomGetObjIDs().map(e=>this.objGetWires(e)));case K.faces:return Y.flatten(this.geomGetObjIDs().map(e=>this.objGetFaces(e)))}throw new Error("geom_type must be either vertices, edges, wires, or faces")}groupSetName(e,t){return!!this._groups.has(e)&&(!this._groups.has(t)&&(this._groups.set(t,this._groups.get(e)),this._groups.delete(e),!0))}groupGetParent(e){return this._groups.get(e).parent}groupSetParent(e,t){const n=this._groups.get(e).parent;return this._groups.get(e).parent=t,n}groupGetChildren(e){const t=[];return this._groups.forEach(n=>n.parent===e&&t.push(n.name)),t}groupGetObjIDs(e,t){const n=this._groups.get(e);if(void 0===t)return n.objs;const i=[];return n.objs.forEach(e=>this._objs[e][2][0]===t&&i.push(e)),i}groupAddObj(e,t){const n=this._groups.get(e);return!(t in n.objs)&&(n.objs.push(t),!0)}groupAddObjs(e,t){this._groups.get(e);let n=!0;for(const i of t)this.groupAddObj(e,i)||(n=!1);return n}groupRemoveObj(e,t){const n=this._groups.get(e),i=n.objs.indexOf(t);return-1!==i&&(n.objs.splice(i,1),!0)}groupRemoveObjs(e,t){this._groups.get(e);let n=!0;for(const i of t)this.groupRemoveObj(e,i)||(n=!1);return n}groupHasObj(e,t){return-1!==this._groups.get(e).objs.indexOf(t)}groupGetTopos(e,t){return this._topos_trees.get(e).getTopos()}groupAddTopo(e,t){return this._topos_trees.get(e).addTopo(t)}groupAddTopos(e,t){let n=!0;for(const i of t)this._topos_trees.get(e).addTopo(i)||(n=!1);return n}groupRemoveTopo(e,t){return this._topos_trees.get(e).removeTopo(t)}groupRemoveTopos(e,t){let n=!0;for(const i of t)this._topos_trees.get(e).removeTopo(i)||(n=!1);return n}groupHasTopo(e,t){return this._topos_trees.get(e).hasTopo(t)}groupGetPointIDs(e){return this._groups.get(e).points}groupAddPoint(e,t){const n=this._groups.get(e);return!(t in n.points)&&(n.points.push(t),!0)}groupAddPoints(e,t){this._groups.get(e);let n=!0;for(const i of t)this.groupAddPoint(e,i)||(n=!1);return n}groupRemovePoint(e,t){const n=this._groups.get(e),i=n.points.indexOf(t);return-1!==i&&(n.points.splice(i,1),!0)}groupRemovePoints(e,t){let n=!0;for(const i of t)this.groupRemovePoint(e,i)||(n=!1);return n}groupHasPoint(e,t){return-1!==this._groups.get(e).points.indexOf(t)}groupGetProps(e){return this._groups.get(e).props}groupSetProps(e,t){const n=this._groups.get(e).props;return this._groups.get(e).props=t,n}_objsDense(){return this._objs.filter(e=>void 0!==e)}_newAttribAddObjsAndPoints(e,t){const n=this._attribs.get(t).get(e).values;switch(t){case K.points:n[0]=this._points[0].map((e,t)=>0);break;case K.vertices:n[0]=this._objs.map((e,t)=>[e[0].map((e,n)=>Y.make(this.topoNumVertices({id:t,tt:0,ti:n}),0)),e[1].map((e,n)=>Y.make(this.topoNumVertices({id:t,tt:1,ti:n}),0))]);break;case K.edges:n[0]=this._objs.map((e,t)=>[e[0].map((e,n)=>Y.make(this.topoNumEdges({id:t,tt:0,ti:n}),0)),e[1].map((e,n)=>Y.make(this.topoNumEdges({id:t,tt:1,ti:n}),0))]);break;case K.wires:n[0]=this._objs.map(e=>Y.make(e[0].length,0));break;case K.faces:n[0]=this._objs.map(e=>Y.make(e[1].length,0));break;case K.objs:n[0]=this._objs.map((e,t)=>0)}}_newObjAddToAttribs(e){for(const t of this._attribs.get(K.objs).values())t.values[0][e]=0;for(const t of this._attribs.get(K.wires).values())t.values[0][e]=Y.make(this._objs[e][0].length,0);for(const t of this._attribs.get(K.faces).values())t.values[0][e]=Y.make(this._objs[e][1].length,0);for(const t of this._attribs.get(K.edges).values())t.values[0][e]=[this._objs[e][0].map((e,t)=>Y.make(e.filter(e=>-1!==e).length,0)),this._objs[e][1].map((e,t)=>Y.make(e.filter(e=>-1!==e).length,0))];for(const t of this._attribs.get(K.vertices).values())t.values[0][e]=[this._objs[e][0].map((e,t)=>Y.make(e.filter(e=>-1!==e).length,0)),this._objs[e][1].map((e,t)=>Y.make(e.filter(e=>-1!==e).length,0))]}_newPointAddToAttribs(e){for(const t of this._attribs.get(K.points).values())t.values[0][e]=0}_updateAttribsForNewTopo(e){void 0!==e.st?this._updateAttribsForNewVertexOrEdge(e):0===e.tt?this._updateAttribsForNewWire(e):this._updateAttribsForNewFace(e)}_updateAttribsSetToNull(e,t){void 0===e[t.id]&&(e[t.id]=[]),void 0!==t.st?(void 0===e[t.id][t.tt]&&(e[t.id][t.tt]=[]),void 0===e[t.id][t.tt][t.ti]&&(e[t.id][t.tt][t.ti]=[]),e[t.id][t.tt][t.ti][t.si]=0):(void 0===e[t.id][t.ti]&&(e[t.id][t.ti]=[]),e[0][t.id][t.ti]=0)}_updateAttribsForNewVertexOrEdge(e){for(const t of this._attribs.get(K.vertices))this._updateAttribsSetToNull(t.values[0],e);for(const t of this._attribs.get(K.edges))this._updateAttribsSetToNull(t.values[0],e)}_updateAttribsForNewWire(e){for(const t of this._attribs.get(K.wires))this._updateAttribsSetToNull(t.values[0],e)}_updateAttribsForNewFace(e){for(const t of this._attribs.get(K.faces))this._updateAttribsSetToNull(t.values[0],e)}_updateAttribsForDelObj(e){for(const[t,n]of this._attribs.get(K.vertices).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(K.edges).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(K.wires).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(K.faces).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(K.objs).entries())delete n.values[0][e]}_updateGroupsForDelObj(e){for(const[t,n]of this._groups.entries()){const i=n.objs.indexOf(e);-1!==i&&n.objs.splice(i,1),this._topos_trees.get(t).removeObj(e)}}_updateAttribsForDelPoint(e){for(const[t,n]of this._attribs.get(K.points).entries())delete n.values[0][e]}_updateGroupsForDelPoint(e){for(const[t,n]of this._groups.entries()){const t=n.points.indexOf(e);-1!==t&&n.points.splice(t,1)}}_updateObjsForDelPoint(e){for(const t of this.pointGetVertices(e))this.geomHasTopo(t)||this._delVertexFromObj(t)}_delVertexFromObj(e){if(!this.geomHasTopo(e))return;const t=this._objs[e.id];switch(t[2][0]){case 1:this.geomDelObj(e.id);case 2:this.geomDelObj(e.id);case 4:this.geomDelObj(e.id);case 100:const n=t[0][e.ti];let i=n.length;return-1===n[n.length-1]&&i--,i<3?void this.geomDelObj(e.id):(n.splice(e.si,1),void this._updateAttribsAndGroupsForDelTopo(e));case 200:if(0===e.tt)return;const r=t[1][e.ti],s=t[1].length,o=r.length-1;if(1===s&&o<3)return void this.geomDelObj(e.id);o>3?(t[1][e.ti].splice(e.si,1),this._updateAttribsAndGroupsForDelTopo(e)):(t[1].splice(e.ti,1),this._updateAttribsAndGroupsForDelTopo({id:e.id,tt:e.tt,ti:e.ti}));const a=this._findPolymeshWires(t[1]);return void this._updateAttribsAndGroupsChangedWiresOrFaces(e.id,0,a);default:throw new Error("Object type not found: "+t[2][0])}}_updateAttribsAndGroupsForDelTopo(e){void 0!==e.st?this._updateAttribsForDelVertexOrEdge(e):0===e.tt?this._updateAttribsForDelWire(e):this._updateAttribsForDelFace(e),this._updateGroupsForDelTopo(e)}_updateAttribsForDelVertexOrEdge(e){for(const t of this._attribs.get(K.vertices))t.values[0][e.id][e.tt][e.ti].splice(e.si,1);for(const t of this._attribs.get(K.edges))t.values[0][e.id][e.tt][e.ti].splice(e.si,1)}_updateAttribsForDelWire(e){for(const t of this._attribs.get(K.wires))t.values[0][e.id].splice(e.ti,1)}_updateAttribsForDelFace(e){for(const t of this._attribs.get(K.faces))t.values[0][e.id].splice(e.ti,1)}_updateGroupsForDelTopo(e){for(const[t,n]of this._groups.entries())this._topos_trees.get(t).removeTopo(e)}_updateAttribsAndGroupsChangedTopo(e,t){this._updateAttribsAndGroupsChangedWiresOrFaces(e,0,t[0]),this._updateAttribsAndGroupsChangedWiresOrFaces(e,1,t[1])}_updateAttribsAndGroupsChangedWiresOrFaces(e,t,n){const i=this._objs[e][t];for(let r=0;r<i.length;r++){void 0===n[r]&&this._updateAttribsAndGroupsForDelTopo({id:e,tt:t,ti:r});for(let s=0;s<i[r].length;s++)-1!==s&&(void 0!==n[r]&&void 0!==n[r][s]||this._updateAttribsAndGroupsForDelTopo({id:e,tt:t,ti:r,st:0,si:s}));for(let s=0;s<i[r].length;s++)void 0!==n[r]&&void 0!==n[r][s]||this._updateAttribsAndGroupsForDelTopo({id:e,tt:t,ti:r,st:0,si:s})}for(let r=0;r<n.length;r++){void 0===i[r]&&this._updateAttribsForNewTopo({id:e,tt:t,ti:r});for(let s=0;s<n[r].length;s++)-1!==s&&(void 0!==i[r]&&void 0!==i[r][s]||this._updateAttribsForNewTopo({id:e,tt:t,ti:r,st:0,si:s}));for(let s=0;s<n[r].length;s++)void 0!==i[r]&&void 0!==i[r][s]||this._updateAttribsForNewTopo({id:e,tt:t,ti:r,st:0,si:s})}this._objs[e][t]=n}_findPolymeshWires(e){const t=[];for(const s of e)for(let e=0;e<s.length;e++){const n=s[e];let i=e+1;i===s.length&&(i=0);const r=s[i];t.push([n,r])}const n=[];for(const s of t)-1===Y.indexOf([s[1],s[0]],t)&&n.push(s);if(0===n.length)return[];const i=[[n[0]]],r=[n[0]];for(const s of n){const e=i[i.length-1],t=e[0][0],s=e[e.length-1][1];if(t===s){for(const o of n)if(-1===Y.indexOf(o,r)){i.push([o]),r.push(o);break}}else for(const i of n)if(i[0]===s){e.push(i),r.push(i);break}}return i.map(e=>Y.flatten(e.map(e=>e[0])))}_getWFPathsFromObjsData(e,t){const n=[];for(const i of e.keys()){const r=e[i][t];for(let e=0;e<r.length;e++)n.push({id:Number(i),tt:t,ti:e})}return n}_getVEPathsFromObjsData(e,t){const n=[];for(const i of e.keys()){const r=e[i][0];this._getVEPathsFromWF(n,Number(i),r,0,t);const s=e[i][1];this._getVEPathsFromWF(n,Number(i),s,1,t)}return n}_getVEPathsFromWF(e,t,n,i,r){for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length-r;o++)-1!==n[s][o]&&e.push({id:Number(t),tt:i,ti:s,st:r,si:o})}_purgeDelUnusedPoints(){for(const e of this._points[0])this.pointIsUnused(e)&&delete this._points[0][e]}_purgeDelUnusedPointValues(){const e=[];this._points[1].forEach((t,n)=>-1===this._points[0].indexOf(n)&&e.push(n));for(const n of e)this._points.splice(n,1);let t=0;for(let n=0;n<this._points[0].length;n++)void 0!==this._points[0][n]&&(-1!==e.indexOf(n)&&t++,this._points[0][n]=this._points[0][n]-t)}_purgeDelSparsePoints(){const e=new Map;let t=this._points[0].length-1;for(let n=0;n<this._points[0].length;n++)if(void 0===this._points[0][n])for(let i=t;i>0;i--)if(void 0!==this._points[0][i]){t=i-1,this._points[0][n]=i,e.set(i,n);break}this._points.length=t+1;for(const[n,i]of this._objs.entries())for(const[t,r]of i.entries())for(const[n,i]of r.entries())r[n]=e.get(n);throw new Error("Not implemented")}_purgeDelSparseObjs(){throw new Error("Not implemented")}_depreceated_delPointFromObjs(e){for(const[t,n]of this._objsDense().entries())switch(n[2][0]){case 100:for(let t=0;t<n[0].length;t++){const i=n[0][t],r=i.indexOf(e);if(-1!==r){let e=i.length;-1===i[i.length-1]&&e--,e>2?i.splice(r,1):n[0].splice(t,1)}}0===n[0].length&&delete this._objs[t];break;case 200:let i=!1;for(let t=0;t<n[1].length;t++){const r=n[1][t],s=r.indexOf(e);if(-1!==s){i=!0;r.length-1>2?n[1][t].splice(s,1):n[1].splice(t,1)}}i&&(0===n[1].length?delete this._objs[t]:n[0]=this._findPolymeshWires(n[1]));break;default:throw new Error("Object type not found: "+n[2][0])}}_depreceated_addTopoAttribValue(e,t,n){const i=this._attribs.get(t).get(e);switch(t){case K.wires:case K.faces:return void 0===i.values[0][n.id]&&(i.values[0][n.id]=[]),void 0!==i.values[0][n.id][n.ti]?!1:(i.values[0][n.id][n.ti]=0,!0);case K.vertices:case K.edges:return void 0===i.values[0][n.id]&&(i.values[0][n.id]=[]),void 0===i.values[0][n.id][n.ti]&&(i.values[0][n.id][n.ti]=[]),void 0!==i.values[0][n.id][n.ti][n.si]?!1:(i.values[0][n.id][n.ti][n.si]=0,!0)}}_depreceated_delTopoAttribValue(e,t,n){const i=this._attribs.get(t).get(e);let r;switch(t){case K.wires:case K.faces:return r=i.values[1][i.values[0][n.id][n.ti]],delete i.values[0][n.id][n.ti],r;case K.vertices:case K.edges:return r=i.values[1][i.values[0][n.id][n.ti][n.si]],delete i.values[0][n.id][n.ti][n.si],r}return null}}class Le{constructor(e){this._kernel=new Re(this,e)}getGeom(){return this._kernel.getGeom()}findAttribs(e){const t=this._kernel.modelFindAttribs(e);switch(e){case K.points:case K.objs:const n=[];for(const i of t)n.push(new oe(this._kernel,i.name,e));return n;default:const i=[];for(const r of t)i.push(new ae(this._kernel,r.name,e));return i}}getAllAttribs(){return[this.getAllEntAttribs(),this.getAllTopoAttribs()]}getEntAttrib(e,t){return t!==K.points&&t!==K.objs?null:this._kernel.modelHasAttrib(e,t)?new oe(this._kernel,e,t):null}getAllEntAttribs(){const e=[];for(const t of this._kernel.modelGetAllEntAttribs()){const n=J.get(t.geom_type);e.push(new oe(this._kernel,t.name,n))}return e}addEntAttrib(e,t,n){return e=e.replace(/\s/g,"_"),t!==K.points&&t!==K.objs?null:(this._kernel.modelAddAttrib(e,t,n),this.getEntAttrib(e,t))}getTopoAttrib(e,t){return t===K.points||t===K.objs?null:this._kernel.modelHasAttrib(e,t)?new ae(this._kernel,e,t):null}getAllTopoAttribs(){const e=[];for(const t of this._kernel.modelGetAllTopoAttribs()){const n=J.get(t.geom_type);e.push(new ae(this._kernel,t.name,n))}return e}addTopoAttrib(e,t,n){return e=e.replace(/\s/g,"_"),t===K.points||t===K.objs?null:(this._kernel.modelAddAttrib(e,t,n),this.getTopoAttrib(e,t))}delAttrib(e){return this._kernel.modelDelAttrib(e.getName(),e.getGeomType())}hasAttrib(e){return this._kernel.modelHasAttrib(e.getName(),e.getGeomType())}setAttribName(e,t){return this._kernel.attribSetName(e.getName(),t,e.getGeomType())}getAllGroups(){return this._kernel.modelGetAllGroups().map(e=>new ve(this._kernel,e.name))}getGroup(e){const t=this._kernel.modelGetGroup(e);return void 0===t?null:new ve(this._kernel,t.name)}addGroup(e,t){return void 0!==t?this._kernel.modelAddGroup(e,t.getName()):this._kernel.modelAddGroup(e),this.getGroup(e)}delGroup(e){return this._kernel.modelDelGroup(e.getName())}hasGroup(e){return this._kernel.modelHasGroup(e.getName())}setGroupName(e,t){return this._kernel.groupSetName(e.getName(),t)}purge(){this._kernel.modelPurge()}validate(){return this._kernel.modelValidate()}toJSON(){return this._kernel.modelToJSON()}}var Pe=n("zswv");n("ee21");n.d(t,"a",function(){return Y}),n.d(t,"c",function(){return K}),n.d(t,"b",function(){return Z}),n.d(t,!1,function(){return J}),n.d(t,!1,function(){return Q}),n.d(t,!1,function(){return ee}),n.d(t,!1,function(){return te}),n.d(t,!1,function(){return ne}),n.d(t,!1,function(){return ie}),n.d(t,!1,function(){return re}),n.d(t,"d",function(){return Le}),n.d(t,!1,function(){return ke}),n.d(t,!1,function(){return le}),n.d(t,!1,function(){return ce}),n.d(t,!1,function(){return Te}),n.d(t,!1,function(){return pe}),n.d(t,!1,function(){return Se}),n.d(t,!1,function(){return fe}),n.d(t,!1,function(){return ue}),n.d(t,!1,function(){return me}),n.d(t,!1,function(){return ge}),n.d(t,!1,function(){return Ee}),n.d(t,!1,function(){return ye}),n.d(t,!1,function(){return be}),n.d(t,!1,function(){return _e}),n.d(t,!1,function(){return xe}),n.d(t,!1,function(){return we}),n.d(t,!1,function(){return oe}),n.d(t,!1,function(){return ae}),n.d(t,!1,function(){return ve}),n.d(t,"l",function(){return Pe.h}),n.d(t,"p",function(){return Pe.l}),n.d(t,"o",function(){return Pe.k}),n.d(t,"j",function(){return Pe.f}),n.d(t,"e",function(){return Pe.a}),n.d(t,"i",function(){return Pe.e}),n.d(t,"f",function(){return Pe.b}),n.d(t,"g",function(){return Pe.c}),n.d(t,"h",function(){return Pe.d}),n.d(t,"s",function(){return Pe.o}),n.d(t,"k",function(){return Pe.g}),n.d(t,"n",function(){return Pe.j}),n.d(t,"q",function(){return Pe.m}),n.d(t,"m",function(){return Pe.i}),n.d(t,"r",function(){return Pe.n}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"t",function(){return X})},"7pQ/":function(e,t,n){"use strict";function i(){throw Error("Host already has a portal attached")}n.d(t,"d",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return p});var r=n("1GK5");class s{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&i(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class o extends s{constructor(e,t,n){super(),this.component=e,this.viewContainerRef=t,this.injector=n}}class a extends s{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,n&&(this.context=n)}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class l{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&i(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof o?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof a?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class c extends l{constructor(e,t,n,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i}attachComponentPortal(e){let t,n=this._componentFactoryResolver.resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.parentInjector),this.setDisposeFn(()=>t.destroy())):(t=n.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(t.hostView),t.destroy()})),this._hostDomElement.appendChild(this._getComponentRootNode(t)),t}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.detectChanges(),n.rootNodes.forEach(e=>this._hostDomElement.appendChild(e)),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this._hostDomElement.parentNode&&this._hostDomElement.parentNode.removeChild(this._hostDomElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class u extends a{constructor(e,t){super(e,t)}}u.decorators=[{type:r.n,args:[{selector:"[cdk-portal], [cdkPortal], [portal]",exportAs:"cdkPortal"}]}],u.ctorParameters=(()=>[{type:r.T},{type:r.Y}]);class h extends l{constructor(e,t){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1}get _deprecatedPortal(){return this.portal}set _deprecatedPortal(e){this.portal=e}get _deprecatedPortalHost(){return this.portal}set _deprecatedPortalHost(e){this.portal=e}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=this._componentFactoryResolver.resolveComponentFactory(e.component),i=t.createComponent(n,t.length,e.injector||t.parentInjector);return super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,i}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,t}}h.decorators=[{type:r.n,args:[{selector:"[cdkPortalOutlet], [cdkPortalHost], [portalHost]",exportAs:"cdkPortalOutlet, cdkPortalHost",inputs:["portal: cdkPortalOutlet"]}]}],h.ctorParameters=(()=>[{type:r.k},{type:r.Y}]),h.propDecorators={_deprecatedPortal:[{type:r.y,args:["portalHost"]}],_deprecatedPortalHost:[{type:r.y,args:["cdkPortalHost"]}]};class d{}d.decorators=[{type:r.C,args:[{exports:[u,h],declarations:[u,h]}]}],d.ctorParameters=(()=>[]);class p{constructor(e,t){this._parentInjector=e,this._customTokens=t}get(e,t){const n=this._customTokens.get(e);return"undefined"!=typeof n?n:this._parentInjector.get(e,t)}}},"7wpj":function(e,t,n){"use strict";var i=n("WJ2g");t.a=class extends i.a{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},"8+46":function(e,t,n){"use strict";var i=n("1GK5"),r=n("O+ca"),s=function(){function e(){return localStorage["mobx-angular-debug"]}function t(e,t){!1===p&&"undefined"!=typeof navigator&&-1===navigator.userAgent.indexOf("Chrome")&&(console.warn("The output of the MobX logger is optimized for Chrome"),p=!0);var d,g=!0===e.spyReportStart,y=!0===e.spyReportEnd;if(0===m?(d=t(e),g&&!d&&(f=!0)):y&&f&&1===m?(d=!1,f=!1):d=!0!==f,d&&y)i(e.time);else if(d){var b=g?n:s;switch(e.type){case"action":b("%caction '%s' %s","color:dodgerblue",e.name,l("(",h(e.target))),s(e.arguments),a();break;case"transaction":b("%ctransaction '%s' %s","color:gray",e.name,l("(",h(e.target)));break;case"scheduled-reaction":b("%cscheduled async reaction '%s'","color:#10a210",c(e.object));break;case"reaction":b("%creaction '%s'","color:#10a210",c(e.object)),a();break;case"compute":n("%ccomputed '%s' %s","color:#10a210",c(e.object),l("(",h(e.target))),i();break;case"error":b("%cerror: %s","color:tomato",e.message),a(),function(){for(var e=0,t=v;e<t;e++)i()}();break;case"update":Object(r.e)(e.object)?b("updated '%s[%s]': %s (was: %s)",c(e.object),e.index,u(e.newValue),u(e.oldValue)):Object(r.f)(e.object)?b("updated '%s.%s': %s (was: %s)",c(e.object),e.name,u(e.newValue),u(e.oldValue)):b("updated '%s': %s (was: %s)",c(e.object),e.name,u(e.newValue),u(e.oldValue)),o({newValue:e.newValue,oldValue:e.oldValue}),a();break;case"splice":b("spliced '%s': index %d, added %d, removed %d",c(e.object),e.index,e.addedCount,e.removedCount),o({added:e.added,removed:e.removed}),a();break;case"add":b("set '%s.%s': %s",c(e.object),e.name,u(e.newValue)),o({newValue:e.newValue}),a();break;case"delete":b("removed '%s.%s' (was %s)",c(e.object),e.name,u(e.oldValue)),o({oldValue:e.oldValue}),a();break;case"create":b("set '%s': %s",c(e.object),u(e.newValue)),o({newValue:e.newValue}),a();break;default:b(e.type),o(e)}}g&&m++,y&&m--}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];g?console.groupCollapsed.apply(console,e):console.log.apply(console,e),v++}function i(e){v--,"number"==typeof e&&s("%ctotal time: %sms","color:gray",e),g&&console.groupEnd()}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.dir.apply(console,e)}function a(){console.trace&&console.trace("stack")}function l(e,t){return t?(e||"")+t+(y[e]||""):""}function c(e){return r.d.getDebugName(e)}function u(e){return function(e){return null===e||void 0===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e}(e)?"string"==typeof e&&e.length>100?e.substr(0,97)+"...":e:l("(",h(e))}function h(e){if(null===e||void 0===e)return"";if(e&&"object"==typeof e){if(e&&e.$mobx)return e.$mobx.name;if(e.constructor)return e.constructor.name||"object"}return typeof e}if("undefined"==typeof localStorage||"undefined"==typeof console||"undefined"==typeof window)return function(){};if(!localStorage||!console||!window)return function(){};var d="background: #222; color: #bada55";window.mobxAngularDebug=function(e){e?(console.log("%c MobX will now log everything to the console",d),console.log("%c Right-click any element to see its dependency tree",d),localStorage["mobx-angular-debug"]=!0):delete localStorage["mobx-angular-debug"]},e()||console.log("%c Type mobxAngularDebug(true) or mobxAngularDebug(false) to trigger MobX debugging",d),Object(r.i)(function(n){return e()&&t(n,function(){return!0})});var p=!1,m=0,f=!1,g="function"==typeof console.groupCollapsed,v=0,y={'"':'"',"'":"'","(":")","[":"]","<":"]","#":""};return function(t,n,i){var s=t.rootNodes[0];n.listen(s,"contextmenu",function(){e()&&console.log(r.d.getDependencyTree(i))})}}();n.d(t,"a",function(){return o});var o=function(){function e(e,t,n){this.templateRef=e,this.viewContainer=t,this.renderer=n,this.templateBindings={}}return e.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view),s(this.view,this.renderer,this.dispose)},e.prototype.shouldDetach=function(){return!this.mobxAutorun||!this.mobxAutorun.dontDetach},e.prototype.autoDetect=function(e){var t=e._view.component?e._view.component.constructor.name+".detectChanges()":e._view.parentView.context.constructor.name+".detectChanges()";this.dispose=Object(r.b)(t,function(){return e.detectChanges()})},e.prototype.ngOnDestroy=function(){this.dispose&&this.dispose()},e.decorators=[{type:i.n,args:[{selector:"[mobxAutorun]"}]}],e.ctorParameters=function(){return[{type:i.T},{type:i.Y},{type:i.L}]},e.propDecorators={mobxAutorun:[{type:i.y}]},e}()},"85gC":function(e,t,n){"use strict";n.d(t,"d",function(){return v}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var i=n("1GK5"),r=n("AdGS"),s=n("IMoF"),o=n("3P+V"),a=n("tksO");const l="accent";class c{}c.decorators=[{type:i.n,args:[{selector:"button[mat-button], a[mat-button]",host:{class:"mat-button"}}]}],c.ctorParameters=(()=>[]);class u{}u.decorators=[{type:i.n,args:[{selector:"button[mat-raised-button], a[mat-raised-button]",host:{class:"mat-raised-button"}}]}],u.ctorParameters=(()=>[]);class h{}h.decorators=[{type:i.n,args:[{selector:"button[mat-icon-button], a[mat-icon-button]",host:{class:"mat-icon-button"}}]}],h.ctorParameters=(()=>[]);class d{constructor(e,t){(e||t).color=l}}d.decorators=[{type:i.n,args:[{selector:"button[mat-fab], a[mat-fab]",host:{class:"mat-fab"}}]}],d.ctorParameters=(()=>[{type:f,decorators:[{type:i.R},{type:i.G},{type:i.u,args:[Object(i._3)(()=>f)]}]},{type:g,decorators:[{type:i.R},{type:i.G},{type:i.u,args:[Object(i._3)(()=>g)]}]}]);class p{constructor(e,t){(e||t).color=l}}p.decorators=[{type:i.n,args:[{selector:"button[mat-mini-fab], a[mat-mini-fab]",host:{class:"mat-mini-fab"}}]}],p.ctorParameters=(()=>[{type:f,decorators:[{type:i.R},{type:i.G},{type:i.u,args:[Object(i._3)(()=>f)]}]},{type:g,decorators:[{type:i.R},{type:i.G},{type:i.u,args:[Object(i._3)(()=>g)]}]}]);const m=Object(s.C)(Object(s.E)(Object(s.D)(class{constructor(e){this._elementRef=e}})));class f extends m{constructor(e,t,n){super(e),this._platform=t,this._focusMonitor=n,this._isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this._isIconButton=this._hasHostAttributes("mat-icon-button"),this._focusMonitor.monitor(this._elementRef.nativeElement,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}focus(){this._getHostElement().focus()}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return!!this._platform.isBrowser&&e.some(e=>this._getHostElement().hasAttribute(e))}}f.decorators=[{type:i.j,args:[{selector:"button[mat-button], button[mat-raised-button], button[mat-icon-button],\n             button[mat-fab], button[mat-mini-fab]",exportAs:"matButton",host:{"[disabled]":"disabled || null"},template:'<span class="mat-button-wrapper"><ng-content></ng-content></span><div matRipple class="mat-button-ripple" [class.mat-button-ripple-round]="_isRoundButton || _isIconButton" [matRippleDisabled]="_isRippleDisabled()" [matRippleCentered]="_isIconButton" [matRippleTrigger]="_getHostElement()"></div><div class="mat-button-focus-overlay"></div>',styles:[".mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}[disabled].mat-button,[disabled].mat-fab,[disabled].mat-icon-button,[disabled].mat-mini-fab,[disabled].mat-raised-button{cursor:default}.cdk-keyboard-focused.mat-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-icon-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-raised-button .mat-button-focus-overlay,.cdk-program-focused.mat-button .mat-button-focus-overlay,.cdk-program-focused.mat-fab .mat-button-focus-overlay,.cdk-program-focused.mat-icon-button .mat-button-focus-overlay,.cdk-program-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-program-focused.mat-raised-button .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-fab::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-mini-fab::-moz-focus-inner,.mat-raised-button::-moz-focus-inner{border:0}.mat-fab,.mat-mini-fab,.mat-raised-button{transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]),.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}[disabled].mat-fab,[disabled].mat-mini-fab,[disabled].mat-raised-button{box-shadow:none}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay{opacity:1}.mat-fab{min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],inputs:["disabled","disableRipple","color"],encapsulation:i.Z.None,preserveWhitespaces:!1,changeDetection:i.g.OnPush}]}],f.ctorParameters=(()=>[{type:i.o},{type:a.a},{type:o.h}]);class g extends f{constructor(e,t,n){super(n,e,t)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}g.decorators=[{type:i.j,args:[{selector:"a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab], a[mat-mini-fab]",exportAs:"matButton, matAnchor",host:{"[attr.tabindex]":"disabled ? -1 : 0","[attr.disabled]":"disabled || null","[attr.aria-disabled]":"disabled.toString()","(click)":"_haltDisabledEvents($event)"},inputs:["disabled","disableRipple","color"],template:'<span class="mat-button-wrapper"><ng-content></ng-content></span><div matRipple class="mat-button-ripple" [class.mat-button-ripple-round]="_isRoundButton || _isIconButton" [matRippleDisabled]="_isRippleDisabled()" [matRippleCentered]="_isIconButton" [matRippleTrigger]="_getHostElement()"></div><div class="mat-button-focus-overlay"></div>',styles:[".mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}[disabled].mat-button,[disabled].mat-fab,[disabled].mat-icon-button,[disabled].mat-mini-fab,[disabled].mat-raised-button{cursor:default}.cdk-keyboard-focused.mat-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-icon-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-raised-button .mat-button-focus-overlay,.cdk-program-focused.mat-button .mat-button-focus-overlay,.cdk-program-focused.mat-fab .mat-button-focus-overlay,.cdk-program-focused.mat-icon-button .mat-button-focus-overlay,.cdk-program-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-program-focused.mat-raised-button .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-fab::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-mini-fab::-moz-focus-inner,.mat-raised-button::-moz-focus-inner{border:0}.mat-fab,.mat-mini-fab,.mat-raised-button{transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]),.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}[disabled].mat-fab,[disabled].mat-mini-fab,[disabled].mat-raised-button{box-shadow:none}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay{opacity:1}.mat-fab{min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],encapsulation:i.Z.None,preserveWhitespaces:!1,changeDetection:i.g.OnPush}]}],g.ctorParameters=(()=>[{type:a.a},{type:o.h},{type:i.o}]);class v{}v.decorators=[{type:i.C,args:[{imports:[r.a,s.y,s.n,o.a],exports:[f,g,p,d,s.n,c,u,h],declarations:[f,g,p,d,c,u,h]}]}],v.ctorParameters=(()=>[])},"8C/W":function(e,t,n){"use strict";function i(e){let t=+e.length;return isNaN(t)?0:0!==t&&function(e){return"number"==typeof e&&m.a.isFinite(e)}(t)?(t=function(e){let t=+e;if(0===t)return t;if(isNaN(t))return t;return t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0?0:t>_?_:t:t}function r(...e){return 1===e.length||2===e.length&&Object(l.a)(e[1])?A(e[0]):Object(C.a)(1)(Object(c.a)(...e))}var s=n("sngF"),o=n("g2hh"),a=n("P6aB"),l=n("oZkc"),c=n("eQ+q"),u=n("ElHI"),h=n("iwAo"),d=n("2mbX"),p=n("Hb/P"),m=n("2K0D"),f=n("05/P"),g=n("Lq4y");class v extends f.a{constructor(e,t){if(super(),this.scheduler=t,null==e)throw new Error("iterator cannot be null.");this.iterator=function(e){const t=e[g.a];if(!t&&"string"==typeof e)return new y(e);if(!t&&void 0!==e.length)return new b(e);if(!t)throw new TypeError("object is not iterable");return e[g.a]()}(e)}static create(e,t){return new v(e,t)}static dispatch(e){const{index:t,hasError:n,iterator:i,subscriber:r}=e;if(n)return void r.error(e.error);let s=i.next();s.done?r.complete():(r.next(s.value),e.index=t+1,r.closed?"function"==typeof i.return&&i.return():this.schedule(e))}_subscribe(e){const{iterator:t,scheduler:n}=this;if(n)return n.schedule(v.dispatch,0,{index:0,iterator:t,subscriber:e});for(;;){let n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed){"function"==typeof t.return&&t.return();break}}}}class y{constructor(e,t=0,n=e.length){this.str=e,this.idx=t,this.len=n}[g.a](){return this}next(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}}}class b{constructor(e,t=0,n=i(e)){this.arr=e,this.idx=t,this.len=n}[g.a](){return this}next(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}const _=Math.pow(2,53)-1;class x extends f.a{constructor(e,t){super(),this.arrayLike=e,this.scheduler=t,t||1!==e.length||(this._isScalar=!0,this.value=e[0])}static create(e,t){const n=e.length;return 0===n?new a.a:1===n?new o.a(e[0],t):new x(e,t)}static dispatch(e){const{arrayLike:t,index:n,length:i,subscriber:r}=e;r.closed||(n>=i?r.complete():(r.next(t[n]),e.index=n+1,this.schedule(e)))}_subscribe(e){const{arrayLike:t,scheduler:n}=this,i=t.length;if(n)return n.schedule(x.dispatch,0,{arrayLike:t,index:0,length:i,subscriber:e});for(let r=0;r<i&&!e.closed;r++)e.next(t[r]);e.complete()}}var w=n("WJ2g"),E=n("LLJX");class T extends w.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.add(this.scheduler.schedule(T.dispatch,this.delay,new class{constructor(e,t){this.notification=e,this.destination=t}}(e,this.destination)))}_next(e){this.scheduleMessage(E.a.createNext(e))}_error(e){this.scheduleMessage(E.a.createError(e))}_complete(){this.scheduleMessage(E.a.createComplete())}}var S=n("CdVW");class k extends f.a{constructor(e,t){super(null),this.ish=e,this.scheduler=t}static create(e,t){if(null!=e){if("function"==typeof e[S.a])return e instanceof f.a&&!t?e:new k(e,t);if(Object(u.a)(e))return new s.a(e,t);if(Object(d.a)(e))return new p.a(e,t);if("function"==typeof e[g.a]||"string"==typeof e)return new v(e,t);if(Object(h.a)(e))return new x(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}_subscribe(e){const t=this.ish,n=this.scheduler;return null==n?t[S.a]().subscribe(e):t[S.a]().subscribe(new T(e,n,0))}}const A=k.create;var C=n("G3Tt");t.a=function(...e){return t=>{let n=e[e.length-1];Object(l.a)(n)?e.pop():n=null;const i=e.length;return r(1===i?new o.a(e[0],n):i>1?new s.a(e,n):new a.a(n),t)}}},"911F":function(e,t,n){"use strict";function i(e){return r._38(2,[(e()(),r._15(0,0,null,null,2,"div",[["class","mat-tooltip"]],[[4,"transform-origin",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],function(e,t,n){var i=!0,r=e.component;if("@state.start"===t){i=!1!==r._animationStart()&&i}if("@state.done"===t){i=!1!==r._animationDone(n)&&i}return i},null,null)),r._14(1,278528,null,0,o.e,[r.z,r.A,r.o,r.M],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),r._36(2,null,["",""]))],function(e,t){e(t,1,0,"mat-tooltip",t.component.tooltipClass)},function(e,t){var n=t.component;e(t,0,0,n._transformOrigin,n._visibility);e(t,2,0,n.message)})}n.d(t,"a",function(){return f});var r=n("1GK5"),s=n("gXVS"),o=n("AdGS"),a=n("ZDMg"),l=n("tksO"),c=n("UJJe"),u=n("ZvDg"),h=n("3P+V"),d=n("7pQ/"),p=n("IMoF"),m=(r._12(s.d,[],function(e){return r._26([r._27(512,r.k,r._8,[[8,[f]],[3,r.k],r.D]),r._27(4608,o.i,o.h,[r.B,[2,o.n]]),r._27(6144,a.b,null,[o.b]),r._27(4608,a.c,a.c,[[2,a.b]]),r._27(4608,l.a,l.a,[]),r._27(5120,c.c,c.a,[[3,c.c],r.F,l.a]),r._27(5120,c.f,c.e,[[3,c.f],l.a,r.F]),r._27(4608,u.g,u.g,[c.c,c.f,r.F]),r._27(5120,u.d,u.j,[[3,u.d],o.b]),r._27(4608,u.n,u.n,[c.f,o.b]),r._27(5120,u.e,u.m,[[3,u.e],o.b]),r._27(4608,u.b,u.b,[u.g,u.d,r.k,u.n,u.e,r.e,r.x,r.F,o.b]),r._27(5120,u.k,u.l,[u.b]),r._27(4608,h.j,h.j,[l.a]),r._27(4608,h.i,h.i,[h.j,r.F,o.b]),r._27(136192,h.e,h.c,[[3,h.e],o.b]),r._27(5120,h.n,h.m,[[3,h.n],[2,h.k],o.b]),r._27(5120,h.h,h.f,[[3,h.h],r.F,l.a]),r._27(5120,s.a,s.b,[u.b]),r._27(512,o.a,o.a,[]),r._27(512,a.a,a.a,[]),r._27(512,d.g,d.g,[]),r._27(512,l.b,l.b,[]),r._27(512,c.b,c.b,[]),r._27(512,u.f,u.f,[]),r._27(256,p.f,!0,[]),r._27(512,p.n,p.n,[[2,p.f]]),r._27(512,h.a,h.a,[]),r._27(512,s.d,s.d,[])])}),r._13({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:2px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px}@media screen and (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0.0, 0.0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}})),f=r._11("mat-tooltip-component",s.e,function(e){return r._38(0,[(e()(),r._15(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],function(e,t,n){var i=!0;return"body:click"===t&&(i=!1!==r._29(e,1)._handleBodyInteraction()&&i),i},i,m)),r._14(1,49152,null,0,s.e,[r.h],null,null)],null,function(e,t){e(t,0,0,"visible"===r._29(t,1)._visibility?1:null)})},{},{},[])},"9i4M":function(e,t,n){"use strict";var i=n("05/P"),r=n("WJ2g"),s=n("0mJR"),o=n("4yfK");class a extends s.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}var l=n("xEcM");class c extends r.a{constructor(e){super(e),this.destination=e}}t.b=c;class u extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new i.a;return e.source=this,e}}t.a=u,u.create=((e,t)=>new h(e,t));class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.a.EMPTY}}},AdGS:function(e,t,n){"use strict";function i(e){return e.replace(/\/index.html$/,"")}function r(e,t){return h(e)[10][t]}function s(e,t){return h(e)[11][t]}function o(e,t){return c(h(e)[12],t)}function a(e,t){const n=h(e),i=n[13][t];if("undefined"==typeof i){if(t===te.CurrencyDecimal)return n[13][te.Decimal];if(t===te.CurrencyGroup)return n[13][te.Group]}return i}function l(e){if(!e[18])throw new Error(`Missing extra locale data for the locale "${e[0]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function c(e,t){for(let n=t;n>-1;n--)if("undefined"!=typeof e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function u(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function h(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Y[t];if(n)return n;const i=t.split("-")[0];if(n=Y[i])return n;if("en"===i)return X;throw new Error(`Missing locale data for the locale "${e}".`)}function d(e,t,n,i){let r=`=${e}`;if(t.indexOf(r)>-1)return r;if(r=n.getPluralCategory(e,i),t.indexOf(r)>-1)return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}function p(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}function m(e,t,n,i){t=f(n,t)||t;let r,s=[];for(;t;){if(!(r=we.exec(t))){s.push(t);break}{const e=(s=s.concat(r.slice(1))).pop();if(!e)break;t=e}}let o=e.getTimezoneOffset();i&&(o=w(i,o),e=function(e,t,n){const i=n?-1:1,r=e.getTimezoneOffset(),s=w(t,r);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,i*(s-r))}(e,i,!0));let a="";return s.forEach(t=>{const i=function(e){if(Ce[e])return Ce[e];let t;switch(e){case"G":case"GG":case"GGG":t=b(Se.Eras,Q.Abbreviated);break;case"GGGG":t=b(Se.Eras,Q.Wide);break;case"GGGGG":t=b(Se.Eras,Q.Narrow);break;case"y":t=y(Te.FullYear,1,0,!1,!0);break;case"yy":t=y(Te.FullYear,2,0,!0,!0);break;case"yyy":t=y(Te.FullYear,3,0,!1,!0);break;case"yyyy":t=y(Te.FullYear,4,0,!1,!0);break;case"M":case"L":t=y(Te.Month,1,1);break;case"MM":case"LL":t=y(Te.Month,2,1);break;case"MMM":t=b(Se.Months,Q.Abbreviated);break;case"MMMM":t=b(Se.Months,Q.Wide);break;case"MMMMM":t=b(Se.Months,Q.Narrow);break;case"LLL":t=b(Se.Months,Q.Abbreviated,J.Standalone);break;case"LLLL":t=b(Se.Months,Q.Wide,J.Standalone);break;case"LLLLL":t=b(Se.Months,Q.Narrow,J.Standalone);break;case"w":t=x(1);break;case"ww":t=x(2);break;case"W":t=x(1,!0);break;case"d":t=y(Te.Date,1);break;case"dd":t=y(Te.Date,2);break;case"E":case"EE":case"EEE":t=b(Se.Days,Q.Abbreviated);break;case"EEEE":t=b(Se.Days,Q.Wide);break;case"EEEEE":t=b(Se.Days,Q.Narrow);break;case"EEEEEE":t=b(Se.Days,Q.Short);break;case"a":case"aa":case"aaa":t=b(Se.DayPeriods,Q.Abbreviated);break;case"aaaa":t=b(Se.DayPeriods,Q.Wide);break;case"aaaaa":t=b(Se.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":t=b(Se.DayPeriods,Q.Abbreviated,J.Standalone,!0);break;case"bbbb":t=b(Se.DayPeriods,Q.Wide,J.Standalone,!0);break;case"bbbbb":t=b(Se.DayPeriods,Q.Narrow,J.Standalone,!0);break;case"B":case"BB":case"BBB":t=b(Se.DayPeriods,Q.Abbreviated,J.Format,!0);break;case"BBBB":t=b(Se.DayPeriods,Q.Wide,J.Format,!0);break;case"BBBBB":t=b(Se.DayPeriods,Q.Narrow,J.Format,!0);break;case"h":t=y(Te.Hours,1,-12);break;case"hh":t=y(Te.Hours,2,-12);break;case"H":t=y(Te.Hours,1);break;case"HH":t=y(Te.Hours,2);break;case"m":t=y(Te.Minutes,1);break;case"mm":t=y(Te.Minutes,2);break;case"s":t=y(Te.Seconds,1);break;case"ss":t=y(Te.Seconds,2);break;case"S":t=y(Te.Milliseconds,1);break;case"SS":t=y(Te.Milliseconds,2);break;case"SSS":t=y(Te.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":t=_(Ee.Short);break;case"ZZZZZ":t=_(Ee.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=_(Ee.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=_(Ee.Long);break;default:return null}return Ce[e]=t,t}(t);a+=i?i(e,n,o):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}function f(e,t){const n=function(e){return h(e)[0]}(e);if(xe[n]=xe[n]||{},xe[n][t])return xe[n][t];let i="";switch(t){case"shortDate":i=r(e,ee.Short);break;case"mediumDate":i=r(e,ee.Medium);break;case"longDate":i=r(e,ee.Long);break;case"fullDate":i=r(e,ee.Full);break;case"shortTime":i=s(e,ee.Short);break;case"mediumTime":i=s(e,ee.Medium);break;case"longTime":i=s(e,ee.Long);break;case"fullTime":i=s(e,ee.Full);break;case"short":const n=f(e,"shortTime"),a=f(e,"shortDate");i=g(o(e,ee.Short),[n,a]);break;case"medium":const l=f(e,"mediumTime"),c=f(e,"mediumDate");i=g(o(e,ee.Medium),[l,c]);break;case"long":const u=f(e,"longTime"),h=f(e,"longDate");i=g(o(e,ee.Long),[u,h]);break;case"full":const d=f(e,"fullTime"),p=f(e,"fullDate");i=g(o(e,ee.Full),[d,p])}return i&&(xe[n][t]=i),i}function g(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function v(e,t,n="-",i,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=n));let o=""+e;for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),s+o}function y(e,t,n=0,i=!1,r=!1){return function(s,o){let l=function(e,t,n){switch(e){case Te.FullYear:return t.getFullYear();case Te.Month:return t.getMonth();case Te.Date:return t.getDate();case Te.Hours:return t.getHours();case Te.Minutes:return t.getMinutes();case Te.Seconds:return t.getSeconds();case Te.Milliseconds:const i=1===n?100:2===n?10:1;return Math.round(t.getMilliseconds()/i);case Te.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s,t);return(n>0||l>-n)&&(l+=n),e===Te.Hours&&0===l&&-12===n&&(l=12),v(l,t,a(o,te.MinusSign),i,r)}}function b(e,t,n=J.Format,i=!1){return function(r,s){return function(e,t,n,i,r,s){switch(n){case Se.Months:return function(e,t,n){const i=h(e);return c(c([i[5],i[6]],t),n)}(t,r,i)[e.getMonth()];case Se.Days:return function(e,t,n){const i=h(e);return c(c([i[3],i[4]],t),n)}(t,r,i)[e.getDay()];case Se.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const e=function(e){const t=h(e);return l(t),(t[18][2]||[]).map(e=>"string"==typeof e?u(e):[u(e[0]),u(e[1])])}(t),n=function(e,t,n){const i=h(e);return l(i),c(c([i[18][0],i[18][1]],t)||[],n)||[]}(t,r,i);let s;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:i,minutes:r}=e[0],{hours:l,minutes:c}=e[1];o>=i&&a>=r&&(o<l||o===l&&a<c)&&(s=n[t])}else{const{hours:i,minutes:r}=e;i===o&&r===a&&(s=n[t])}}),s)return s}return function(e,t,n){const i=h(e);return c(c([i[1],i[2]],t),n)}(t,r,i)[o<12?0:1];case Se.Eras:return function(e,t){return c(h(e)[7],t)}(t,i)[e.getFullYear()<=0?0:1];default:const d=n;throw new Error(`unexpected translation type ${d}`)}}(r,s,e,t,n,i)}}function _(e){return function(t,n,i){const r=-1*i,s=a(n,te.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Ee.Short:return(r>=0?"+":"")+v(o,2,s)+v(Math.abs(r%60),2,s);case Ee.ShortGMT:return"GMT"+(r>=0?"+":"")+v(o,1,s);case Ee.Long:return"GMT"+(r>=0?"+":"")+v(o,2,s)+":"+v(Math.abs(r%60),2,s);case Ee.Extended:return 0===i?"Z":(r>=0?"+":"")+v(o,2,s)+":"+v(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}function x(e,t=!1){return function(n,i){let r;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();r=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,ke,1).getDay();return new Date(e,0,1+(t<=Ae?Ae:Ae+7)-t)}(n.getFullYear()),t=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(Ae-e.getDay()))}(n).getTime()-e.getTime();r=1+Math.round(t/6048e5)}return v(r,e,a(i,te.MinusSign))}}function w(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function E(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(z._35)(e)}'`)}function T(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=+(e[9]+e[10]),i=+(e[9]+e[11])),r.call(t,+e[1],+e[2]-1,+e[3]);const o=+(e[4]||"0")-n,a=+(e[5]||"0")-i,l=+(e[6]||"0"),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,c),t}function S(e){return e instanceof Date&&!isNaN(e.valueOf())}function k(e){return function(t,n){const i=e(t,n);return 1==i.length?"0"+i:i}}function A(e){return function(t,n){return e(t,n).split(" ")[0]}}function C(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function M(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const i=C(e,n,t);return i?i.substring(3):""}}function R(e,t){return e.hour12=t,e}function L(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function P(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function O(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function D(e){return(t,n)=>C(t,n,e)}function F(e){return e instanceof Date&&!isNaN(e.valueOf())}function I(e,t,n,i,r=null){const s={str:null},o=function(e,t){return h(e)[14][t]}(t,n);let l;if("string"!=typeof e||isNaN(+e-parseFloat(e))){if("number"!=typeof e)return s.error=`${e} is not a number`,s;l=e}else l=+e;n===K.Percent&&(l*=100);const c=Math.abs(l)+"",u=function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(Ve),r=i[0],s=i[1],o=-1!==r.indexOf(ze)?r.split(ze):[r.substring(0,r.lastIndexOf(Ue)+1),r.substring(r.lastIndexOf(Ue)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf(He));for(let u=0;u<l.length;u++){const e=l.charAt(u);e===Ue?n.minFrac=n.maxFrac=u+1:e===He?n.maxFrac=u+1:n.posSuf+=e}const c=a.split(Ge);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const e=r.length-n.posPre.length-n.posSuf.length,t=s.indexOf(He);n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(o,a(t,te.MinusSign));let d="",p=!1;if(isFinite(l)){const e=function(e){let t,n,i,r,s,o=0;(n=e.indexOf(ze))>-1&&(e=e.replace(ze,""));(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length);for(i=0;e.charAt(i)===Ue;i++);if(i===(s=e.length))t=[0],n=1;else{for(s--;e.charAt(s)===Ue;)s--;for(n-=i,t=[],r=0;i<=s;i++,r++)t[r]=+e.charAt(i)}n>je&&(t=t.splice(0,je-1),o=n-1,n=1);return{digits:t,exponent:o,integerLen:n}}(c);let n=u.minInt,o=u.minFrac,l=u.maxFrac;if(i){const e=i.match(Be);if(null===e)return s.error=`${i} is not a valid digit info`,s;const t=e[1],r=e[3],a=e[5];null!=t&&(n=N(t)),null!=r&&(o=N(r)),null!=a?l=N(a):null!=r&&o>l&&(l=o)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,r=i.length-e.integerLen;const s=Math.min(Math.max(t,r),n);let o=s+e.integerLen,a=i[o];if(o>0){i.splice(Math.max(e.integerLen,o));for(let e=o;e<i.length;e++)i[e]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let e=1;e<o;e++)i[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);const l=i.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);l&&(i.unshift(l),e.integerLen++)}(e,o,l);let h=e.digits,m=e.integerLen;const f=e.exponent;let g=[];for(p=h.every(e=>!e);m<n;m++)h.unshift(0);for(;m<0;m++)h.unshift(0);m>0?g=h.splice(m,h.length):(g=h,h=[0]);const v=[];for(h.length>=u.lgSize&&v.unshift(h.splice(-u.lgSize,h.length).join(""));h.length>u.gSize;)v.unshift(h.splice(-u.gSize,h.length).join(""));h.length&&v.unshift(h.join(""));const y=r?te.CurrencyGroup:te.Group;if(d=v.join(a(t,y)),g.length){d+=a(t,r?te.CurrencyDecimal:te.Decimal)+g.join("")}f&&(d+=a(t,te.Exponential)+"+"+f)}else d=a(t,te.Infinity);return d=l<0&&!p?u.negPre+d+u.negSuf:u.posPre+d+u.posSuf,n===K.Currency&&null!==r?(s.str=d.replace(We,r).replace(We,""),s):n===K.Percent?(s.str=d.replace(new RegExp($e,"g"),a(t,te.PercentSign)),s):(s.str=d,s)}function N(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function B(e,t,n,i,r,s=null,o=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw E(e,n);let a,l,c;if(i!==K.Currency&&(a=1,l=0,c=3),r){const e=r.match(Be);if(null===e)throw new Error(`${r} is not a valid digit info for number pipes`);null!=e[1]&&(a=N(e[1])),null!=e[3]&&(l=N(e[3])),null!=e[5]&&(c=N(e[5]))}return Le.format(n,t,i,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:c,currency:s,currencyAsSymbol:o})}function j(e){return null==e||""===e||e!=e}n.d(t,"h",function(){return se}),n.d(t,"i",function(){return re}),n.d(t,"o",function(){return p}),n.d(t,"a",function(){return dt}),n.d(t,"e",function(){return oe}),n.d(t,"f",function(){return ce}),n.d(t,"g",function(){return he}),n.d(t,"j",function(){return ye}),n.d(t,"k",function(){return be}),n.d(t,"b",function(){return ft}),n.d(t,"c",function(){return Re}),n.d(t,"m",function(){return gt}),n.d(t,"l",function(){return U}),n.d(t,"d",function(){return H}),n.d(t,"n",function(){return ie});var z=n("1GK5");class U{}new z.w("Location Initialized");class V{}const G=new z.w("appBaseHref");class H{constructor(e){this._subject=new z.q,this._platformStrategy=e;const t=this._platformStrategy.getBaseHref();this._baseHref=H.stripTrailingSlash(i(t)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+H.normalizeQueryParams(t))}normalize(e){return H.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,i(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t=""){this._platformStrategy.pushState(null,"",e,t)}replaceState(e,t=""){this._platformStrategy.replaceState(null,"",e,t)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-("/"===e[n-1]?1:0);return e.slice(0,i)+e.slice(n)}}H.decorators=[{type:z.v}],H.ctorParameters=(()=>[{type:V}]);class W extends V{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=H.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+H.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+H.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}W.decorators=[{type:z.v}],W.ctorParameters=(()=>[{type:U},{type:void 0,decorators:[{type:z.G},{type:z.u,args:[G]}]}]);class $ extends V{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return H.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+H.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+H.normalizeQueryParams(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+H.normalizeQueryParams(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}$.decorators=[{type:z.v}],$.ctorParameters=(()=>[{type:U},{type:void 0,decorators:[{type:z.G},{type:z.u,args:[G]}]}]);const q={AOA:[,"Kz"],ARS:[,"$"],AUD:["A$","$"],BAM:[,"KM"],BBD:[,"$"],BDT:[,"\u09f3"],BMD:[,"$"],BND:[,"$"],BOB:[,"Bs"],BRL:["R$"],BSD:[,"$"],BWP:[,"P"],BYN:[,"\u0440."],BZD:[,"$"],CAD:["CA$","$"],CLP:[,"$"],CNY:["CN\xa5","\xa5"],COP:[,"$"],CRC:[,"\u20a1"],CUC:[,"$"],CUP:[,"$"],CZK:[,"K\u010d"],DKK:[,"kr"],DOP:[,"$"],EGP:[,"E\xa3"],ESP:[,"\u20a7"],EUR:["\u20ac"],FJD:[,"$"],FKP:[,"\xa3"],GBP:["\xa3"],GEL:[,"\u20be"],GIP:[,"\xa3"],GNF:[,"FG"],GTQ:[,"Q"],GYD:[,"$"],HKD:["HK$","$"],HNL:[,"L"],HRK:[,"kn"],HUF:[,"Ft"],IDR:[,"Rp"],ILS:["\u20aa"],INR:["\u20b9"],ISK:[,"kr"],JMD:[,"$"],JPY:["\xa5"],KHR:[,"\u17db"],KMF:[,"CF"],KPW:[,"\u20a9"],KRW:["\u20a9"],KYD:[,"$"],KZT:[,"\u20b8"],LAK:[,"\u20ad"],LBP:[,"L\xa3"],LKR:[,"Rs"],LRD:[,"$"],LTL:[,"Lt"],LVL:[,"Ls"],MGA:[,"Ar"],MMK:[,"K"],MNT:[,"\u20ae"],MUR:[,"Rs"],MXN:["MX$","$"],MYR:[,"RM"],NAD:[,"$"],NGN:[,"\u20a6"],NIO:[,"C$"],NOK:[,"kr"],NPR:[,"Rs"],NZD:["NZ$","$"],PHP:[,"\u20b1"],PKR:[,"Rs"],PLN:[,"z\u0142"],PYG:[,"\u20b2"],RON:[,"lei"],RUB:[,"\u20bd"],RUR:[,"\u0440."],RWF:[,"RF"],SBD:[,"$"],SEK:[,"kr"],SGD:[,"$"],SHP:[,"\xa3"],SRD:[,"$"],SSP:[,"\xa3"],STD:[,"Db"],SYP:[,"\xa3"],THB:[,"\u0e3f"],TOP:[,"T$"],TRY:[,"\u20ba"],TTD:[,"$"],TWD:["NT$","$"],UAH:[,"\u20b4"],USD:["$"],UYU:[,"$"],VEF:[,"Bs"],VND:["\u20ab"],XAF:["FCFA"],XCD:["EC$","$"],XOF:["CFA"],XPF:["CFPF"],ZAR:[,"R"],ZMW:[,"ZK"]};var X=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const Y={},K={Decimal:0,Percent:1,Currency:2,Scientific:3};K[K.Decimal]="Decimal",K[K.Percent]="Percent",K[K.Currency]="Currency",K[K.Scientific]="Scientific";const Z={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};Z[Z.Zero]="Zero",Z[Z.One]="One",Z[Z.Two]="Two",Z[Z.Few]="Few",Z[Z.Many]="Many",Z[Z.Other]="Other";const J={Format:0,Standalone:1};J[J.Format]="Format",J[J.Standalone]="Standalone";const Q={Narrow:0,Abbreviated:1,Wide:2,Short:3};Q[Q.Narrow]="Narrow",Q[Q.Abbreviated]="Abbreviated",Q[Q.Wide]="Wide",Q[Q.Short]="Short";const ee={Short:0,Medium:1,Long:2,Full:3};ee[ee.Short]="Short",ee[ee.Medium]="Medium",ee[ee.Long]="Long",ee[ee.Full]="Full";const te={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};te[te.Decimal]="Decimal",te[te.Group]="Group",te[te.List]="List",te[te.PercentSign]="PercentSign",te[te.PlusSign]="PlusSign",te[te.MinusSign]="MinusSign",te[te.Exponential]="Exponential",te[te.SuperscriptingExponent]="SuperscriptingExponent",te[te.PerMille]="PerMille",te[te.Infinity]="Infinity",te[te.NaN]="NaN",te[te.TimeSeparator]="TimeSeparator",te[te.CurrencyDecimal]="CurrencyDecimal",te[te.CurrencyGroup]="CurrencyGroup";const ne={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};ne[ne.Sunday]="Sunday",ne[ne.Monday]="Monday",ne[ne.Tuesday]="Tuesday",ne[ne.Wednesday]="Wednesday",ne[ne.Thursday]="Thursday",ne[ne.Friday]="Friday",ne[ne.Saturday]="Saturday";const ie=new z.w("UseV4Plurals");class re{}class se extends re{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return h(e)[17]}(t||this.locale)(e)){case Z.Zero:return"zero";case Z.One:return"one";case Z.Two:return"two";case Z.Few:return"few";case Z.Many:return"many";default:return"other"}}}se.decorators=[{type:z.v}],se.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]},{type:void 0,decorators:[{type:z.G},{type:z.u,args:[ie]}]}]);class oe{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._initialClasses=[]}set klass(e){this._applyInitialClasses(!0),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)}set ngClass(e){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(z._19)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_cleanupClasses(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(z._35)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyInitialClasses(e){this._initialClasses.forEach(t=>this._toggleClass(t,!e))}_applyClasses(e,t){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!t)):Object.keys(e).forEach(n=>{null!=e[n]&&this._toggleClass(n,!t)}))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}oe.decorators=[{type:z.n,args:[{selector:"[ngClass]"}]}],oe.ctorParameters=(()=>[{type:z.z},{type:z.A},{type:z.o},{type:z.M}]),oe.propDecorators={klass:[{type:z.y,args:["class"]}],ngClass:[{type:z.y}]};class ae{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(z.D);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(z.k)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}ae.decorators=[{type:z.n,args:[{selector:"[ngComponentOutlet]"}]}],ae.ctorParameters=(()=>[{type:z.Y}]),ae.propDecorators={ngComponentOutlet:[{type:z.y}],ngComponentOutletInjector:[{type:z.y}],ngComponentOutletContent:[{type:z.y}],ngComponentOutletNgModuleFactory:[{type:z.y}]};class le{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ce{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._differ=null}set ngForTrackBy(e){Object(z._5)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("ngForOf"in e){const t=e.ngForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new le(null,this.ngForOf,-1,-1),i),r=new ue(e,n);t.push(r)}else if(null==i)this._viewContainer.remove(n);else{const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new ue(e,r);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}}ce.decorators=[{type:z.n,args:[{selector:"[ngFor][ngForOf]"}]}],ce.ctorParameters=(()=>[{type:z.Y},{type:z.T},{type:z.z}]),ce.propDecorators={ngForOf:[{type:z.y}],ngForTrackBy:[{type:z.y}],ngForTemplate:[{type:z.y}]};class ue{constructor(e,t){this.record=e,this.view=t}}class he{constructor(e,t){this._viewContainer=e,this._context=new class{constructor(){this.$implicit=null,this.ngIf=null}},this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}he.decorators=[{type:z.n,args:[{selector:"[ngIf]"}]}],he.ctorParameters=(()=>[{type:z.Y},{type:z.T}]),he.propDecorators={ngIf:[{type:z.y}],ngIfThen:[{type:z.y}],ngIfElse:[{type:z.y}]};class de{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class pe{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}}}pe.decorators=[{type:z.n,args:[{selector:"[ngSwitch]"}]}],pe.ctorParameters=(()=>[]),pe.propDecorators={ngSwitch:[{type:z.y}]};class me{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new de(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}me.decorators=[{type:z.n,args:[{selector:"[ngSwitchCase]"}]}],me.ctorParameters=(()=>[{type:z.Y},{type:z.T},{type:pe,decorators:[{type:z.r}]}]),me.propDecorators={ngSwitchCase:[{type:z.y}]};class fe{constructor(e,t,n){n._addDefault(new de(e,t))}}fe.decorators=[{type:z.n,args:[{selector:"[ngSwitchDefault]"}]}],fe.ctorParameters=(()=>[{type:z.Y},{type:z.T},{type:pe,decorators:[{type:z.r}]}]);class ge{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=d(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}ge.decorators=[{type:z.n,args:[{selector:"[ngPlural]"}]}],ge.ctorParameters=(()=>[{type:re}]),ge.propDecorators={ngPlural:[{type:z.y}]};class ve{constructor(e,t,n,i){this.value=e;const r=!isNaN(Number(e));i.addCase(r?`=${e}`:e,new de(n,t))}}ve.decorators=[{type:z.n,args:[{selector:"[ngPluralCase]"}]}],ve.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.f,args:["ngPluralCase"]}]},{type:z.T},{type:z.Y},{type:ge,decorators:[{type:z.r}]}]);class ye{constructor(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,i]=e.split(".");t=null!=t&&i?`${t}${i}`:t,this._renderer.setStyle(this._ngEl.nativeElement,n,t)}}ye.decorators=[{type:z.n,args:[{selector:"[ngStyle]"}]}],ye.ctorParameters=(()=>[{type:z.A},{type:z.o},{type:z.M}]),ye.propDecorators={ngStyle:[{type:z.y}]};class be{constructor(e){this._viewContainerRef=e}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}be.decorators=[{type:z.n,args:[{selector:"[ngTemplateOutlet]"}]}],be.ctorParameters=(()=>[{type:z.Y}]),be.propDecorators={ngTemplateOutletContext:[{type:z.y}],ngTemplateOutlet:[{type:z.y}]};const _e=[oe,ae,ce,he,be,ye,pe,me,fe,ge,ve],xe={},we=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ee={Short:0,ShortGMT:1,Long:2,Extended:3};Ee[Ee.Short]="Short",Ee[Ee.ShortGMT]="ShortGMT",Ee[Ee.Long]="Long",Ee[Ee.Extended]="Extended";const Te={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,Milliseconds:6,Day:7};Te[Te.FullYear]="FullYear",Te[Te.Month]="Month",Te[Te.Date]="Date",Te[Te.Hours]="Hours",Te[Te.Minutes]="Minutes",Te[Te.Seconds]="Seconds",Te[Te.Milliseconds]="Milliseconds",Te[Te.Day]="Day";const Se={DayPeriods:0,Days:1,Months:2,Eras:3};Se[Se.DayPeriods]="DayPeriods",Se[Se.Days]="Days",Se[Se.Months]="Months",Se[Se.Eras]="Eras";const ke=0,Ae=4,Ce={},Me=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;class Re{constructor(e){this.locale=e}transform(e,t="mediumDate",n,i){if(null==e||""===e||e!=e)return null;"string"==typeof e&&(e=e.trim());let r;if(S(e))r=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(e=>+e);r=new Date(t,n-1,i)}else r=new Date(e);else r=new Date(parseFloat(e));if(!S(r)){let t;if("string"!=typeof e||!(t=e.match(Me)))throw E(Re,e);r=T(t)}return m(r,t,i||this.locale,n)}}Re.decorators=[{type:z.K,args:[{name:"date",pure:!0}]}],Re.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);class Le{static format(e,t,n,i={}){const{minimumIntegerDigits:r,minimumFractionDigits:s,maximumFractionDigits:o,currency:a,currencyAsSymbol:l=!1}=i,c={minimumIntegerDigits:r,minimumFractionDigits:s,maximumFractionDigits:o,style:K[n].toLowerCase()};return n==K.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(t,c).format(e)}}const Pe=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,Oe={yMMMdjms:D(O([L("year",1),P("month",3),L("day",1),L("hour",1),L("minute",1),L("second",1)])),yMdjm:D(O([L("year",1),L("month",1),L("day",1),L("hour",1),L("minute",1)])),yMMMMEEEEd:D(O([L("year",1),P("month",4),P("weekday",4),L("day",1)])),yMMMMd:D(O([L("year",1),P("month",4),L("day",1)])),yMMMd:D(O([L("year",1),P("month",3),L("day",1)])),yMd:D(O([L("year",1),L("month",1),L("day",1)])),jms:D(O([L("hour",1),L("second",1),L("minute",1)])),jm:D(O([L("hour",1),L("minute",1)]))},De={yyyy:D(L("year",4)),yy:D(L("year",2)),y:D(L("year",1)),MMMM:D(P("month",4)),MMM:D(P("month",3)),MM:D(L("month",2)),M:D(L("month",1)),LLLL:D(P("month",4)),L:D(P("month",1)),dd:D(L("day",2)),d:D(L("day",1)),HH:k(A(D(R(L("hour",2),!1)))),H:A(D(R(L("hour",1),!1))),hh:k(A(D(R(L("hour",2),!0)))),h:A(D(R(L("hour",1),!0))),jj:D(L("hour",2)),j:D(L("hour",1)),mm:k(D(L("minute",2))),m:D(L("minute",1)),ss:k(D(L("second",2))),s:D(L("second",1)),sss:D(L("second",3)),EEEE:D(P("weekday",4)),EEE:D(P("weekday",3)),EE:D(P("weekday",2)),E:D(P("weekday",1)),a:function(e){return function(t,n){return e(t,n).split(" ")[1]}}(D(R(L("hour",1),!0))),Z:M("short"),z:M("long"),ww:D({}),w:D({}),G:D(P("era",1)),GG:D(P("era",2)),GGG:D(P("era",3)),GGGG:D(P("era",4))},Fe=new Map;class Ie{static format(e,t,n){return function(e,t,n){const i=Oe[e];if(i)return i(t,n);const r=e;let s=Fe.get(r);if(!s){s=[];let t;Pe.exec(e);let n=e;for(;n;)(t=Pe.exec(n))?n=(s=s.concat(t.slice(1))).pop():(s.push(n),n=null);Fe.set(r,s)}return s.reduce((e,i)=>{const r=De[i];return e+(r?r(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(i))},"")}(n,e,t)}}class Ne{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),F(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,i,r]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,i-1,r)}else n=new Date(e);else n=new Date(parseFloat(e));if(!F(n)){let t;if("string"!=typeof e||!(t=e.match(Me)))throw E(Ne,e);n=T(t)}return Ie.format(n,this._locale,Ne._ALIASES[t]||t)}}Ne._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Ne.decorators=[{type:z.K,args:[{name:"date",pure:!0}]}],Ne.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);const Be=/^(\d+)?\.((\d+)(-(\d+))?)?$/,je=22,ze=".",Ue="0",Ve=";",Ge=",",He="#",We="\xa4",$e="%";class qe{constructor(e){this._locale=e}transform(e,t){return B(qe,this._locale,e,K.Decimal,t)}}qe.decorators=[{type:z.K,args:[{name:"number"}]}],qe.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);class Xe{constructor(e){this._locale=e}transform(e,t){return B(Xe,this._locale,e,K.Percent,t)}}Xe.decorators=[{type:z.K,args:[{name:"percent"}]}],Xe.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);class Ye{constructor(e){this._locale=e}transform(e,t="USD",n=!1,i){return B(Ye,this._locale,e,K.Currency,i,t,n)}}Ye.decorators=[{type:z.K,args:[{name:"currency"}]}],Ye.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);const Ke=[qe,Xe,Ye,Ne];const Ze=new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},Je=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class Qe{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,z._0.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Object(z._21)(e))return Ze;if(Object(z._20)(e))return Je;throw E(Qe,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}Qe.decorators=[{type:z.K,args:[{name:"async",pure:!1}]}],Qe.ctorParameters=(()=>[{type:z.h}]);class et{transform(e){if(!e)return e;if("string"!=typeof e)throw E(et,e);return e.toLowerCase()}}et.decorators=[{type:z.K,args:[{name:"lowercase"}]}],et.ctorParameters=(()=>[]);class tt{transform(e){if(!e)return e;if("string"!=typeof e)throw E(tt,e);return e.split(/\b/g).map(e=>(function(e){return e?e[0].toUpperCase()+e.substr(1).toLowerCase():e})(e)).join("")}}tt.decorators=[{type:z.K,args:[{name:"titlecase"}]}],tt.ctorParameters=(()=>[]);class nt{transform(e){if(!e)return e;if("string"!=typeof e)throw E(nt,e);return e.toUpperCase()}}nt.decorators=[{type:z.K,args:[{name:"uppercase"}]}],nt.ctorParameters=(()=>[]);const it=/#/g;class rt{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw E(rt,t);return t[d(e,Object.keys(t),this._localization,n)].replace(it,e.toString())}}rt.decorators=[{type:z.K,args:[{name:"i18nPlural",pure:!0}]}],rt.ctorParameters=(()=>[{type:re}]);class st{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw E(st,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}st.decorators=[{type:z.K,args:[{name:"i18nSelect",pure:!0}]}],st.ctorParameters=(()=>[]);class ot{transform(e){return JSON.stringify(e,null,2)}}ot.decorators=[{type:z.K,args:[{name:"json",pure:!1}]}],ot.ctorParameters=(()=>[]);class at{constructor(e){this._locale=e}transform(e,t,n){if(j(e))return null;n=n||this._locale;const{str:i,error:r}=I(e,n,K.Decimal,t);if(r)throw E(at,r);return i}}at.decorators=[{type:z.K,args:[{name:"number"}]}],at.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);class lt{constructor(e){this._locale=e}transform(e,t,n){if(j(e))return null;n=n||this._locale;const{str:i,error:r}=I(e,n,K.Percent,t);if(r)throw E(lt,r);return i}}lt.decorators=[{type:z.K,args:[{name:"percent"}]}],lt.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);class ct{constructor(e){this._locale=e}transform(e,t,n="symbol",i,r){if(j(e))return null;r=r||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=t||"USD";"code"!==n&&(s=function(e,t){const n=q[e]||{},i=n[0]||e;return"wide"===t?i:n[1]||i}(s,"symbol"===n?"wide":"narrow"));const{str:o,error:a}=I(e,r,K.Currency,i,s);if(a)throw E(ct,a);return o}}ct.decorators=[{type:z.K,args:[{name:"currency"}]}],ct.ctorParameters=(()=>[{type:void 0,decorators:[{type:z.u,args:[z.B]}]}]);class ut{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw E(ut,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}ut.decorators=[{type:z.K,args:[{name:"slice",pure:!1}]}],ut.ctorParameters=(()=>[]);const ht=[Qe,nt,et,ot,ut,at,lt,tt,ct,Re,rt,st];class dt{}dt.decorators=[{type:z.C,args:[{declarations:[_e,ht],exports:[_e,ht],providers:[{provide:re,useClass:se}]}]}],dt.ctorParameters=(()=>[]);const pt=function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,i=n.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(n)),s=i.length,o=parseInt(i,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Z.One:Z.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Z.One:Z.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===n?Z.One:Z.Other;case"ar":return 0===n?Z.Zero:1===n?Z.One:2===n?Z.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Z.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Z.Many:Z.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===s?Z.One:Z.Other;case"be":return n%10==1&&n%100!=11?Z.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Z.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Z.Many:Z.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Z.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Z.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Z.Few:0!==n&&n%1e6==0?Z.Many:Z.Other;case"bs":case"hr":case"sr":return 0===s&&r%10==1&&r%100!=11||o%10==1&&o%100!=11?Z.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?Z.Few:Z.Other;case"cs":case"sk":return 1===r&&0===s?Z.One:r===Math.floor(r)&&r>=2&&r<=4&&0===s?Z.Few:0!==s?Z.Many:Z.Other;case"cy":return 0===n?Z.Zero:1===n?Z.One:2===n?Z.Two:3===n?Z.Few:6===n?Z.Many:Z.Other;case"da":return 1===n||0!==a&&(0===r||1===r)?Z.One:Z.Other;case"dsb":case"hsb":return 0===s&&r%100==1||o%100==1?Z.One:0===s&&r%100==2||o%100==2?Z.Two:0===s&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?Z.Few:Z.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?Z.One:Z.Other;case"fil":return 0===s&&(1===r||2===r||3===r)||0===s&&r%10!=4&&r%10!=6&&r%10!=9||0!==s&&o%10!=4&&o%10!=6&&o%10!=9?Z.One:Z.Other;case"ga":return 1===n?Z.One:2===n?Z.Two:n===Math.floor(n)&&n>=3&&n<=6?Z.Few:n===Math.floor(n)&&n>=7&&n<=10?Z.Many:Z.Other;case"gd":return 1===n||11===n?Z.One:2===n||12===n?Z.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Z.Few:Z.Other;case"gv":return 0===s&&r%10==1?Z.One:0===s&&r%10==2?Z.Two:0!==s||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==s?Z.Many:Z.Other:Z.Few;case"he":return 1===r&&0===s?Z.One:2===r&&0===s?Z.Two:0!==s||n>=0&&n<=10||n%10!=0?Z.Other:Z.Many;case"is":return 0===a&&r%10==1&&r%100!=11||0!==a?Z.One:Z.Other;case"ksh":return 0===n?Z.Zero:1===n?Z.One:Z.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Z.One:2===n?Z.Two:Z.Other;case"lag":return 0===n?Z.Zero:0!==r&&1!==r||0===n?Z.Other:Z.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Z.Few:0!==o?Z.Many:Z.Other:Z.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===s&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?Z.Zero:n%10==1&&n%100!=11||2===s&&o%10==1&&o%100!=11||2!==s&&o%10==1?Z.One:Z.Other;case"mk":return 0===s&&r%10==1||o%10==1?Z.One:Z.Other;case"mt":return 1===n?Z.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Z.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Z.Many:Z.Other;case"pl":return 1===r&&0===s?Z.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?Z.Few:0===s&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===s&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===s&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?Z.Many:Z.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Z.One:Z.Other;case"ro":return 1===r&&0===s?Z.One:0!==s||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Z.Few:Z.Other;case"ru":case"uk":return 0===s&&r%10==1&&r%100!=11?Z.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?Z.Few:0===s&&r%10==0||0===s&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===s&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?Z.Many:Z.Other;case"shi":return 0===r||1===n?Z.One:n===Math.floor(n)&&n>=2&&n<=10?Z.Few:Z.Other;case"si":return 0===n||1===n||0===r&&1===o?Z.One:Z.Other;case"sl":return 0===s&&r%100==1?Z.One:0===s&&r%100==2?Z.Two:0===s&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==s?Z.Few:Z.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Z.One:Z.Other;default:return Z.Other}};class mt{}mt.decorators=[{type:z.C,args:[{declarations:[Ke],exports:[Ke],providers:[{provide:ie,useValue:pt}]}]}],mt.ctorParameters=(()=>[]);const ft=new z.w("DocumentToken"),gt="browser";new z.V("5.1.2")},CLKv:function(e,t,n){"use strict";function i(){try{return s.apply(this,arguments)}catch(e){return r.a.e=e,r.a}}t.a=function(e){return s=e,i};var r=n("jLix");let s},CaT7:function(e,t,n){"use strict";function i(e,t){return function(e,t){return Object(d.a)(e,t,1)}(e,t)(this)}function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function s(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function o(e){return"undefined"!=typeof Blob&&e instanceof Blob}function a(e){return"undefined"!=typeof FormData&&e instanceof FormData}function l(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}function c(e,t=[]){return t?t.reduceRight((e,t)=>new M(e,t),e):e}var u=n("1GK5"),h=n("eQ+q"),d=n("rhNu"),p=n("KF/P"),m=n("NwoR"),f=n("AdGS"),g=n("05/P");n.d(t,"b",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"c",function(){return C}),n.d(t,"a",function(){return R}),n.d(t,"d",function(){return Y}),n.d(t,"e",function(){return X}),n.d(t,"o",function(){return c}),n.d(t,"g",function(){return V}),n.d(t,"i",function(){return z}),n.d(t,"h",function(){return W}),n.d(t,"j",function(){return U}),n.d(t,"m",function(){return $}),n.d(t,"n",function(){return q}),n.d(t,"k",function(){return G}),n.d(t,"l",function(){return H});class v{}class y{}class b{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof b?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new b;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof b?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===r.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _{encodeKey(e){return r(e)}encodeValue(e){return r(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class x{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,s]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)});return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new x({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=null)}}class w{constructor(e,t,n,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new b),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),i=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+i+e}}else this.params=new x,this.urlWithParams=t}serializeBody(){return null===this.body?null:s(this.body)||o(this.body)||a(this.body)||"string"==typeof this.body?this.body:this.body instanceof x?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:a(this.body)?null:o(this.body)?this.body.type||null:s(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof x?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new w(t,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const E={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};E[E.Sent]="Sent",E[E.UploadProgress]="UploadProgress",E[E.ResponseHeader]="ResponseHeader",E[E.DownloadProgress]="DownloadProgress",E[E.Response]="Response",E[E.User]="User";class T{constructor(e,t=200,n="OK"){this.headers=e.headers||new b,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class S extends T{constructor(e={}){super(e),this.type=E.ResponseHeader}clone(e={}){return new S({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class k extends T{constructor(e={}){super(e),this.type=E.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new k({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class A extends T{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}class C{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof w)r=e;else{let i=void 0;i=n.headers instanceof b?n.headers:new b(n.headers);let s=void 0;n.params&&(s=n.params instanceof x?n.params:new x({fromObject:n.params})),r=new w(e,t,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=i.call(Object(h.a)(r),e=>this.handler.handle(e));if(e instanceof w||"events"===n.observe)return s;const o=(function(e,t){return Object(p.a)(e,t)(this)}).call(s,e=>e instanceof k);switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return m.a.call(o,e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body});case"blob":return m.a.call(o,e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body});case"text":return m.a.call(o,e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body});case"json":default:return m.a.call(o,e=>e.body)}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new x).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,l(n,t))}post(e,t,n={}){return this.request("POST",e,l(n,t))}put(e,t,n={}){return this.request("PUT",e,l(n,t))}}C.decorators=[{type:u.v}],C.ctorParameters=(()=>[{type:v}]);class M{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const R=new u.w("HTTP_INTERCEPTORS");class L{intercept(e,t){return t.handle(e)}}L.decorators=[{type:u.v}],L.ctorParameters=(()=>[]);let P=0;const O="JSONP injected script did not invoke callback.",D="JSONP requests must use JSONP request method.",F="JSONP requests must use Json response type.";class I{}class N{constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return`ng_jsonp_callback_${P++}`}handle(e){if("JSONP"!==e.method)throw new Error(D);if("json"!==e.responseType)throw new Error(F);return new g.a(t=>{const n=this.nextCallback(),i=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),r=this.document.createElement("script");r.src=i;let s=null,o=!1,a=!1;this.callbackMap[n]=(e=>{delete this.callbackMap[n],a||(s=e,o=!0)});const l=()=>{r.parentNode&&r.parentNode.removeChild(r),delete this.callbackMap[n]},c=e=>{a||(l(),o?(t.next(new k({body:s,status:200,statusText:"OK",url:i})),t.complete()):t.error(new A({url:i,status:0,statusText:"JSONP Error",error:new Error(O)})))},u=e=>{a||(l(),t.error(new A({error:e,status:0,statusText:"JSONP Error",url:i})))};return r.addEventListener("load",c),r.addEventListener("error",u),this.document.body.appendChild(r),t.next({type:E.Sent}),()=>{a=!0,r.removeEventListener("load",c),r.removeEventListener("error",u),l()}})}}N.decorators=[{type:u.v}],N.ctorParameters=(()=>[{type:I},{type:void 0,decorators:[{type:u.u,args:[f.b]}]}]);class B{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}B.decorators=[{type:u.v}],B.ctorParameters=(()=>[{type:N}]);const j=/^\)\]\}',?\n/;class z{}class U{constructor(){}build(){return new XMLHttpRequest}}U.decorators=[{type:u.v}],U.ctorParameters=(()=>[]);class V{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new g.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",s=new b(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new S({headers:s,status:t,statusText:i,url:o})},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l="undefined"==typeof n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(j,"");try{l=""!==l?JSON.parse(l):null}catch(t){l=e,c&&(c=!1,l={error:t,text:l})}}c?(t.next(new k({body:l,headers:i,status:r,statusText:o,url:a||void 0})),t.complete()):t.error(new A({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=e=>{const i=new A({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error"});t.error(i)};let l=!1;const c=i=>{l||(t.next(s()),l=!0);let r={type:E.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},u=e=>{let n={type:E.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),t.next({type:E.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}V.decorators=[{type:u.v}],V.ctorParameters=(()=>[{type:z}]);const G=new u.w("XSRF_COOKIE_NAME"),H=new u.w("XSRF_HEADER_NAME");class W{}class ${constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(f.o)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}$.decorators=[{type:u.v}],$.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.u,args:[f.b]}]},{type:void 0,decorators:[{type:u.u,args:[u.I]}]},{type:void 0,decorators:[{type:u.u,args:[G]}]}]);class q{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}q.decorators=[{type:u.v}],q.ctorParameters=(()=>[{type:W},{type:void 0,decorators:[{type:u.u,args:[H]}]}]);class X{static disable(){return{ngModule:X,providers:[{provide:q,useClass:L}]}}static withOptions(e={}){return{ngModule:X,providers:[e.cookieName?{provide:G,useValue:e.cookieName}:[],e.headerName?{provide:H,useValue:e.headerName}:[]]}}}X.decorators=[{type:u.C,args:[{providers:[q,{provide:R,useExisting:q,multi:!0},{provide:W,useClass:$},{provide:G,useValue:"XSRF-TOKEN"},{provide:H,useValue:"X-XSRF-TOKEN"}]}]}],X.ctorParameters=(()=>[]);class Y{}Y.decorators=[{type:u.C,args:[{imports:[X.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[C,{provide:v,useFactory:c,deps:[y,[new u.G,new u.u(R)]]},V,{provide:y,useExisting:V},U,{provide:z,useExisting:U}]}]}],Y.ctorParameters=(()=>[]);class K{}K.decorators=[{type:u.C,args:[{providers:[N,{provide:I,useFactory:function(){return"object"==typeof window?window:{}}},{provide:R,useClass:B,multi:!0}]}]}],K.ctorParameters=(()=>[])},CdVW:function(e,t,n){"use strict";const i=function(e){let t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}(n("2K0D").a);t.a=i},Crc4:function(e,t,n){"use strict";function i(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}function r(){return Object(u.g)()?new u.e:new u.d}function s(){return new u.f}function o(e,t,n){return new m(e,t,n)}n.d(t,"a",function(){return _}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return r});var a=n("1GK5"),l=n("PXDV"),c=n("FjVW"),u=n("1wIx");class h extends c.b{constructor(e,t){super(),this._nextAnimationId=0;const n={id:"0",encapsulation:a.Z.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(t.body,n)}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Object(c.g)(e):e;return i(this._renderer,null,t,"register",[n]),new class extends c.c{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new class{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return i(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}(this._id,e,t||{},this._renderer)}}(t,this._renderer)}}h.decorators=[{type:a.v}],h.ctorParameters=(()=>[{type:a.N},{type:void 0,decorators:[{type:a.u,args:[l.b]}]}]);const d="@",p="@.disabled";class m{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=((e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)})}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new f("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);return t.data.animation.forEach(t=>this.engine.registerTrigger(i,r,e,t.name,t)),new class extends f{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==d?"."==t.charAt(1)&&t==p?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==d){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),s="";return r.charAt(0)!=d&&([r,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,e=>{const t=e._data||-1;this.factory.scheduleListenerCallback(t,n,e)})}return this.delegate.listen(e,t,n)}}(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){Zone.current.scheduleMicroTask("incremenet the animation microtask",()=>this._microtaskId++)}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}m.decorators=[{type:a.v}],m.ctorParameters=(()=>[{type:a.N},{type:u.b},{type:a.F}]);class f{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e){return this.delegate.selectRootElement(e)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==d&&t==p?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class g extends u.b{constructor(e,t){super(e,t)}}g.decorators=[{type:a.v}],g.ctorParameters=(()=>[{type:u.a},{type:u.c}]);const v=[{provide:c.b,useClass:h},{provide:u.c,useFactory:s},{provide:u.b,useClass:g},{provide:a.N,useFactory:o,deps:[l.l,u.b,a.F]}],y=[{provide:u.a,useFactory:r},...v],b=[{provide:u.a,useClass:u.d},...v];class _{}_.decorators=[{type:a.C,args:[{exports:[l.a],providers:y}]}],_.ctorParameters=(()=>[]);class x{}x.decorators=[{type:a.C,args:[{exports:[l.a],providers:b}]}],x.ctorParameters=(()=>[])},"ES+H":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("1GK5"),r=n("Xq7M"),s=(n.n(r),n("iYlb")),o=(n.n(s),n("jG7V")),a=(n.n(o),function(){function e(e){this.textChanged=new i.q,this.textChange=new i.q,this._options={},this._readOnly=!1,this._theme="monokai",this._mode="html",this._autoUpdateContent=!0,this._durationBeforeCallback=0,this._text="";var t=e.nativeElement;this.editor=ace.edit(t),this.editor.$blockScrolling=1/0}return e.prototype.ngOnInit=function(){this.init(),this.initEvents()},e.prototype.init=function(){this.editor.setOptions(this._options||{}),this.editor.setTheme("ace/theme/"+this._theme),this.setMode(this._mode),this.editor.setReadOnly(this._readOnly)},e.prototype.initEvents=function(){var e=this;this.editor.on("change",function(){return e.updateText()}),this.editor.on("paste",function(){return e.updateText()})},e.prototype.updateText=function(){var e=this.editor.getValue(),t=this;e!==this.oldText&&(this._durationBeforeCallback?(null!=this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(function(){t._text=e,t.textChange.emit(e),t.textChanged.emit(e),t.timeoutSaving=null},this._durationBeforeCallback)):(this._text=e,this.textChange.emit(e),this.textChanged.emit(e)),this.oldText=e)},Object.defineProperty(e.prototype,"options",{set:function(e){this._options=e,this.editor.setOptions(e||{})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{set:function(e){this._readOnly=e,this.editor.setReadOnly(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{set:function(e){this._theme=e,this.editor.setTheme("ace/theme/"+e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{set:function(e){this.setMode(e)},enumerable:!0,configurable:!0}),e.prototype.setMode=function(e){this._mode=e,"object"==typeof this._mode?this.editor.getSession().setMode(this._mode):this.editor.getSession().setMode("ace/mode/"+this._mode)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this.setText(e)},enumerable:!0,configurable:!0}),e.prototype.setText=function(e){this._text!==e&&(null!==e&&void 0!==e||(e=""),!0===this._autoUpdateContent&&(this._text=e,this.editor.setValue(e),this.editor.clearSelection()))},Object.defineProperty(e.prototype,"autoUpdateContent",{set:function(e){this._autoUpdateContent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationBeforeCallback",{set:function(e){this.setDurationBeforeCallback(e)},enumerable:!0,configurable:!0}),e.prototype.setDurationBeforeCallback=function(e){this._durationBeforeCallback=e},Object.defineProperty(e.prototype,"aceEditor",{get:function(){return this.editor},enumerable:!0,configurable:!0}),e.decorators=[{type:i.n,args:[{selector:"[ace-editor]"}]}],e.ctorParameters=function(){return[{type:i.o}]},e.propDecorators={textChanged:[{type:i.H}],textChange:[{type:i.H}],options:[{type:i.y}],readOnly:[{type:i.y}],theme:[{type:i.y}],mode:[{type:i.y}],text:[{type:i.y}],autoUpdateContent:[{type:i.y}],durationBeforeCallback:[{type:i.y}]},e}())},ESfO:function(e,t,n){"use strict";function i(e){return s._38(2,[(e()(),s._15(0,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),s._28(null,0),(e()(),s._15(2,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),s._14(3,671744,null,0,h.x,[s.o,s.F,c.a,[2,h.m]],{trigger:[0,"trigger"],centered:[1,"centered"],disabled:[2,"disabled"]},null),(e()(),s._15(4,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,3,0,n._getHostElement(),n._isIconButton,n._isRippleDisabled())},function(e,t){var n=t.component;e(t,2,0,n._isRoundButton||n._isIconButton,s._29(t,3).unbounded)})}function r(e){return s._38(2,[(e()(),s._15(0,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),s._28(null,0),(e()(),s._15(2,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),s._14(3,671744,null,0,h.x,[s.o,s.F,c.a,[2,h.m]],{trigger:[0,"trigger"],centered:[1,"centered"],disabled:[2,"disabled"]},null),(e()(),s._15(4,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,3,0,n._getHostElement(),n._isIconButton,n._isRippleDisabled())},function(e,t){var n=t.component;e(t,2,0,n._isRoundButton||n._isIconButton,s._29(t,3).unbounded)})}n.d(t,"a",function(){return d}),t.b=i;var s=n("1GK5"),o=n("85gC"),a=n("AdGS"),l=n("ZDMg"),c=n("tksO"),u=n("3P+V"),h=n("IMoF"),d=(s._12(o.d,[],function(e){return s._26([s._27(512,s.k,s._8,[[8,[]],[3,s.k],s.D]),s._27(4608,a.i,a.h,[s.B,[2,a.n]]),s._27(6144,l.b,null,[a.b]),s._27(4608,l.c,l.c,[[2,l.b]]),s._27(4608,c.a,c.a,[]),s._27(4608,u.j,u.j,[c.a]),s._27(4608,u.i,u.i,[u.j,s.F,a.b]),s._27(136192,u.e,u.c,[[3,u.e],a.b]),s._27(5120,u.n,u.m,[[3,u.n],[2,u.k],a.b]),s._27(5120,u.h,u.f,[[3,u.h],s.F,c.a]),s._27(512,a.a,a.a,[]),s._27(512,l.a,l.a,[]),s._27(256,h.f,!0,[]),s._27(512,h.n,h.n,[[2,h.f]]),s._27(512,c.b,c.b,[]),s._27(512,h.y,h.y,[]),s._27(512,u.a,u.a,[]),s._27(512,o.d,o.d,[])])}),s._13({encapsulation:2,styles:[".mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}[disabled].mat-button,[disabled].mat-fab,[disabled].mat-icon-button,[disabled].mat-mini-fab,[disabled].mat-raised-button{cursor:default}.cdk-keyboard-focused.mat-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-icon-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-raised-button .mat-button-focus-overlay,.cdk-program-focused.mat-button .mat-button-focus-overlay,.cdk-program-focused.mat-fab .mat-button-focus-overlay,.cdk-program-focused.mat-icon-button .mat-button-focus-overlay,.cdk-program-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-program-focused.mat-raised-button .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-fab::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-mini-fab::-moz-focus-inner,.mat-raised-button::-moz-focus-inner{border:0}.mat-fab,.mat-mini-fab,.mat-raised-button{transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]),.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}[disabled].mat-fab,[disabled].mat-mini-fab,[disabled].mat-raised-button{box-shadow:none}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay{opacity:1}.mat-fab{min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}})),p=(s._11("button[mat-button], button[mat-raised-button], button[mat-icon-button],\n             button[mat-fab], button[mat-mini-fab]",o.b,function(e){return s._38(0,[(e()(),s._15(0,0,null,null,1,"button",[["mat-button",""]],[[8,"disabled",0]],null,null,i,d)),s._14(1,180224,null,0,o.b,[s.o,c.a,u.h],null,null)],null,function(e,t){e(t,0,0,s._29(t,1).disabled||null)})},{disabled:"disabled",disableRipple:"disableRipple",color:"color"},{},["*"]),s._13({encapsulation:2,styles:[".mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}[disabled].mat-button,[disabled].mat-fab,[disabled].mat-icon-button,[disabled].mat-mini-fab,[disabled].mat-raised-button{cursor:default}.cdk-keyboard-focused.mat-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-icon-button .mat-button-focus-overlay,.cdk-keyboard-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-keyboard-focused.mat-raised-button .mat-button-focus-overlay,.cdk-program-focused.mat-button .mat-button-focus-overlay,.cdk-program-focused.mat-fab .mat-button-focus-overlay,.cdk-program-focused.mat-icon-button .mat-button-focus-overlay,.cdk-program-focused.mat-mini-fab .mat-button-focus-overlay,.cdk-program-focused.mat-raised-button .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-fab::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-mini-fab::-moz-focus-inner,.mat-raised-button::-moz-focus-inner{border:0}.mat-fab,.mat-mini-fab,.mat-raised-button{transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]),.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]),.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}[disabled].mat-fab,[disabled].mat-mini-fab,[disabled].mat-raised-button{box-shadow:none}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay{opacity:1}.mat-fab{min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}}));s._11("a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab], a[mat-mini-fab]",o.a,function(e){return s._38(0,[(e()(),s._15(0,0,null,null,1,"a",[["mat-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==s._29(e,1)._haltDisabledEvents(n)&&i),i},r,p)),s._14(1,180224,null,0,o.a,[c.a,u.h,s.o],null,null)],null,function(e,t){e(t,0,0,s._29(t,1).disabled?-1:0,s._29(t,1).disabled||null,s._29(t,1).disabled.toString())})},{disabled:"disabled",disableRipple:"disableRipple",color:"color"},{},["*"])},ElHI:function(e,t,n){"use strict";const i=Array.isArray||(e=>e&&"number"==typeof e.length);t.a=i},"FGt+":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("1GK5"),r=n("IMoF"),s=n("tksO");const o=Object(r.C)(class{constructor(e){this._elementRef=e}});class a{}a.decorators=[{type:i.n,args:[{selector:"mat-toolbar-row",exportAs:"matToolbarRow",host:{class:"mat-toolbar-row"}}]}],a.ctorParameters=(()=>[]);class l extends o{constructor(e,t){super(e),this._platform=t}ngAfterViewInit(){Object(i._5)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){if(!this._toolbarRows.length)return;[].slice.call(this._elementRef.nativeElement.childNodes).filter(e=>!(e.classList&&e.classList.contains("mat-toolbar-row"))).filter(e=>e.nodeType!==Node.COMMENT_NODE).some(e=>e.textContent.trim())&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}l.decorators=[{type:i.j,args:[{selector:"mat-toolbar",exportAs:"matToolbar",template:'<ng-content></ng-content><ng-content select="mat-toolbar-row"></ng-content>',styles:[".mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:600px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],inputs:["color"],host:{class:"mat-toolbar","[class.mat-toolbar-multiple-rows]":"this._toolbarRows.length","[class.mat-toolbar-single-row]":"!this._toolbarRows.length"},changeDetection:i.g.OnPush,encapsulation:i.Z.None,preserveWhitespaces:!1}]}],l.ctorParameters=(()=>[{type:i.o},{type:s.a}]),l.propDecorators={_toolbarRows:[{type:i.m,args:[a]}]};class c{}c.decorators=[{type:i.C,args:[{imports:[r.n,s.b],exports:[l,a,r.n],declarations:[l,a]}]}],c.ctorParameters=(()=>[])},"FN//":function(e,t,n){var i;!function(){var n=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t){var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",i=new RegExp("["+n+"]"),r=new RegExp("["+n+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&r.test(String.fromCharCode(e))))}},function(e,t,n){function i(e,t){if(!t.multiline_frame&&t.mode!==m.ForInitializer&&t.mode!==m.Conditional){var n=t.start_line_index;e.remove_indent(n)}}function r(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function s(e){return e.replace(/^\s+|\s+$/g,"")}function o(e){return e.replace(/^\s+/g,"")}var a=n(3).mergeOpts,l=n(0),c=n(4).Output,u=n(7).Tokenizer,h=["before-newline","after-newline","preserve-newline"],d=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(h),p=[d.before_newline,d.preserve_newline],m={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};e.exports.Beautifier=function(e,t){"use strict";function n(e,t){var n=0;return e&&(n=e.indentation_level,!R.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:R.get_line_number(),ternary_depth:0}}function f(e,t){for(var n=e.newlines,i=V.keep_array_indentation&&w(N.mode),r=O,s=0;s<e.comments_before.length;s++)f(O=e.comments_before[s],t),U[O.type](t);if(O=r,i)for(var o=0;o<n;o+=1)v(o>0,t);else if(V.max_preserve_newlines&&n>V.max_preserve_newlines&&(n=V.max_preserve_newlines),V.preserve_newlines&&e.newlines>1){v(!1,t);for(var a=1;a<n;a+=1)v(!0,t)}}function g(e){if(e=void 0!==e&&e,!R.just_added_newline()){var t=V.preserve_newlines&&O.wanted_newline||e;if(r(N.last_text,P.positionable_operators)||r(O.text,P.positionable_operators)){var n=r(N.last_text,P.positionable_operators)&&r(V.operator_position,p)||r(O.text,P.positionable_operators);t=t&&n}if(t)v(!1,!0);else if(V.wrap_line_length){if("TK_RESERVED"===D&&r(N.last_text,X))return;R.current_line.get_character_count()+O.text.length+(R.space_before_token?1:0)>=V.wrap_line_length&&v(!1,!0)}}}function v(e,t){if(!t&&";"!==N.last_text&&","!==N.last_text&&"="!==N.last_text&&"TK_OPERATOR"!==D)for(var n=C(1);!(N.mode!==m.Statement||N.if_block&&n&&"TK_RESERVED"===n.type&&"else"===n.text||N.do_block);)T();R.add_new_line(e)&&(N.multiline_frame=!0)}function y(){R.just_added_newline()&&(V.keep_array_indentation&&w(N.mode)&&O.wanted_newline?(R.current_line.push(O.whitespace_before),R.space_before_token=!1):R.set_indent(N.indentation_level)&&(N.line_indent_level=N.indentation_level))}function b(e){if(R.raw)R.add_raw_token(O);else{if(V.comma_first&&"TK_COMMA"===D&&R.just_added_newline()&&","===R.previous_line.last()){var t=R.previous_line.pop();R.previous_line.is_empty()&&(R.previous_line.push(t),R.trim(!0),R.current_line.pop(),R.trim()),y(),R.add_token(","),R.space_before_token=!0}e=e||O.text,y(),R.add_token(e)}}function _(){N.indentation_level+=1}function x(e){N?(j.push(N),B=N):B=n(null,e),N=n(B,e)}function w(e){return e===m.ArrayLiteral}function E(e){return r(e,[m.Expression,m.ForInitializer,m.Conditional])}function T(){j.length>0&&(B=N,N=j.pop(),B.mode!==m.Statement||V.unindent_chained_methods||i(R,B))}function S(){return N.parent.mode===m.ObjectLiteral&&N.mode===m.Statement&&(":"===N.last_text&&0===N.ternary_depth||"TK_RESERVED"===D&&r(N.last_text,["get","set"]))}function k(){return!!("TK_RESERVED"===D&&r(N.last_text,["var","let","const"])&&"TK_WORD"===O.type||"TK_RESERVED"===D&&"do"===N.last_text||"TK_RESERVED"===D&&r(N.last_text,X)&&!O.wanted_newline||"TK_RESERVED"===D&&"else"===N.last_text&&("TK_RESERVED"!==O.type||"if"!==O.text||O.comments_before.length)||"TK_END_EXPR"===D&&(B.mode===m.ForInitializer||B.mode===m.Conditional)||"TK_WORD"===D&&N.mode===m.BlockStatement&&!N.in_case&&"--"!==O.text&&"++"!==O.text&&"function"!==F&&"TK_WORD"!==O.type&&"TK_RESERVED"!==O.type||N.mode===m.ObjectLiteral&&(":"===N.last_text&&0===N.ternary_depth||"TK_RESERVED"===D&&r(N.last_text,["get","set"])))&&(x(m.Statement),V.unindent_chained_methods||_(),f(O,!0),S()||g("TK_RESERVED"===O.type&&r(O.text,["do","for","if","while"])),!0)}function A(e){return r(e,["case","return","do","if","throw","else"])}function C(e){var t=L+(e||0);return t<0||t>=G.length?null:G[t]}function M(){if("TK_RESERVED"===O.type&&(r(O.text,["set","get"])&&N.mode!==m.ObjectLiteral?O.type="TK_WORD":r(O.text,["as","from"])&&!N.import_block?O.type="TK_WORD":N.mode===m.ObjectLiteral&&":"===C(1).text&&(O.type="TK_WORD")),k()?"TK_RESERVED"===D&&r(N.last_text,["var","let","const"])&&"TK_WORD"===O.type&&(N.declaration_statement=!0):!O.wanted_newline||E(N.mode)||"TK_OPERATOR"===D&&"--"!==N.last_text&&"++"!==N.last_text||"TK_EQUALS"===D||!V.preserve_newlines&&"TK_RESERVED"===D&&r(N.last_text,["var","let","const","set","get"])?f(O):(f(O),v()),N.do_block&&!N.do_while){if("TK_RESERVED"===O.type&&"while"===O.text)return R.space_before_token=!0,b(),R.space_before_token=!0,void(N.do_while=!0);v(),N.do_block=!1}if(N.if_block)if(N.else_block||"TK_RESERVED"!==O.type||"else"!==O.text){for(;N.mode===m.Statement;)T();N.if_block=!1,N.else_block=!1}else N.else_block=!0;return"TK_RESERVED"===O.type&&("case"===O.text||"default"===O.text&&N.in_case_statement)?(v(),(N.case_body||V.jslint_happy)&&(N.indentation_level>0&&(!N.parent||N.indentation_level>N.parent.indentation_level)&&(N.indentation_level-=1),N.case_body=!1),b(),N.in_case=!0,void(N.in_case_statement=!0)):("TK_COMMA"!==D&&"TK_START_EXPR"!==D&&"TK_EQUALS"!==D&&"TK_OPERATOR"!==D||S()||g(),"TK_RESERVED"===O.type&&"function"===O.text?((r(N.last_text,["}",";"])||R.just_added_newline()&&!r(N.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==D)&&(R.just_added_blankline()||O.comments_before.length||(v(),v(!0))),"TK_RESERVED"===D||"TK_WORD"===D?"TK_RESERVED"===D&&(r(N.last_text,["get","set","new","export","async"])||r(N.last_text,X))?R.space_before_token=!0:"TK_RESERVED"===D&&"default"===N.last_text&&"export"===F?R.space_before_token=!0:v():"TK_OPERATOR"===D||"="===N.last_text?R.space_before_token=!0:(N.multiline_frame||!E(N.mode)&&!w(N.mode))&&v(),b(),void(N.last_word=O.text)):(z="NONE","TK_END_BLOCK"===D?B.inline_frame?z="SPACE":"TK_RESERVED"===O.type&&r(O.text,["else","catch","finally","from"])?"expand"===V.brace_style||"end-expand"===V.brace_style||"none"===V.brace_style&&O.wanted_newline?z="NEWLINE":(z="SPACE",R.space_before_token=!0):z="NEWLINE":"TK_SEMICOLON"===D&&N.mode===m.BlockStatement?z="NEWLINE":"TK_SEMICOLON"===D&&E(N.mode)?z="SPACE":"TK_STRING"===D?z="NEWLINE":"TK_RESERVED"===D||"TK_WORD"===D||"*"===N.last_text&&(r(F,["function","yield"])||N.mode===m.ObjectLiteral&&r(F,["{",","]))?z="SPACE":"TK_START_BLOCK"===D?z=N.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===D&&(R.space_before_token=!0,z="NEWLINE"),"TK_RESERVED"===O.type&&r(O.text,P.line_starters)&&")"!==N.last_text&&(z=N.inline_frame||"else"===N.last_text||"export"===N.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===O.type&&r(O.text,["else","catch","finally"])?("TK_END_BLOCK"!==D||B.mode!==m.BlockStatement||"expand"===V.brace_style||"end-expand"===V.brace_style||"none"===V.brace_style&&O.wanted_newline)&&!N.inline_frame?v():(R.trim(!0),"}"!==R.current_line.last()&&v(),R.space_before_token=!0):"NEWLINE"===z?"TK_RESERVED"===D&&A(N.last_text)?R.space_before_token=!0:"TK_END_EXPR"!==D?"TK_START_EXPR"===D&&"TK_RESERVED"===O.type&&r(O.text,["var","let","const"])||":"===N.last_text||("TK_RESERVED"===O.type&&"if"===O.text&&"else"===N.last_text?R.space_before_token=!0:v()):"TK_RESERVED"===O.type&&r(O.text,P.line_starters)&&")"!==N.last_text&&v():N.multiline_frame&&w(N.mode)&&","===N.last_text&&"}"===F?v():"SPACE"===z&&(R.space_before_token=!0),b(),N.last_word=O.text,void("TK_RESERVED"===O.type&&("do"===O.text?N.do_block=!0:"if"===O.text?N.if_block=!0:"import"===O.text?N.import_block=!0:N.import_block&&"TK_RESERVED"===O.type&&"from"===O.text&&(N.import_block=!1)))))}var R,L,P,O,D,F,I,N,B,j,z,U,V,G=[],H="";U={TK_START_EXPR:function(){k()||f(O);var e=m.Expression;if("["===O.text){if("TK_WORD"===D||")"===N.last_text)return"TK_RESERVED"===D&&r(N.last_text,P.line_starters)&&(R.space_before_token=!0),x(e),b(),_(),void(V.space_in_paren&&(R.space_before_token=!0));e=m.ArrayLiteral,w(N.mode)&&("["!==N.last_text&&(","!==N.last_text||"]"!==F&&"}"!==F)||V.keep_array_indentation||v())}else"TK_RESERVED"===D&&"for"===N.last_text?e=m.ForInitializer:"TK_RESERVED"===D&&r(N.last_text,["if","while"])&&(e=m.Conditional);";"===N.last_text||"TK_START_BLOCK"===D?v():"TK_END_EXPR"===D||"TK_START_EXPR"===D||"TK_END_BLOCK"===D||"."===N.last_text?g(O.wanted_newline):"TK_RESERVED"===D&&"("===O.text||"TK_WORD"===D||"TK_OPERATOR"===D?"TK_RESERVED"===D&&("function"===N.last_word||"typeof"===N.last_word)||"*"===N.last_text&&(r(F,["function","yield"])||N.mode===m.ObjectLiteral&&r(F,["{",","]))?V.space_after_anon_function&&(R.space_before_token=!0):"TK_RESERVED"!==D||!r(N.last_text,P.line_starters)&&"catch"!==N.last_text||V.space_before_conditional&&(R.space_before_token=!0):R.space_before_token=!0,"("===O.text&&"TK_RESERVED"===D&&r(N.last_word,["await","async"])&&(R.space_before_token=!0),"("===O.text&&("TK_EQUALS"!==D&&"TK_OPERATOR"!==D||S()||g()),"("===O.text&&"TK_WORD"!==D&&"TK_RESERVED"!==D&&g(),x(e),b(),V.space_in_paren&&(R.space_before_token=!0),_()},TK_END_EXPR:function(){for(;N.mode===m.Statement;)T();f(O),N.multiline_frame&&g("]"===O.text&&w(N.mode)&&!V.keep_array_indentation),V.space_in_paren&&("TK_START_EXPR"!==D||V.space_in_empty_paren?R.space_before_token=!0:(R.trim(),R.space_before_token=!1)),"]"===O.text&&V.keep_array_indentation?(b(),T()):(T(),b()),i(R,B),N.do_while&&B.mode===m.Conditional&&(B.mode=m.Expression,N.do_block=!1,N.do_while=!1)},TK_START_BLOCK:function(){f(O);var e=C(1),t=C(2);t&&(r(t.text,[":",","])&&r(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||r(e.text,["get","set","..."])&&r(t.type,["TK_WORD","TK_RESERVED"]))?r(F,["class","interface"])?x(m.BlockStatement):x(m.ObjectLiteral):"TK_OPERATOR"===D&&"=>"===N.last_text?x(m.BlockStatement):r(D,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===D&&r(N.last_text,["return","throw","import","default"])?x(m.ObjectLiteral):x(m.BlockStatement);var n=!e.comments_before.length&&"}"===e.text&&"function"===N.last_word&&"TK_END_EXPR"===D;if(V.brace_preserve_inline){var i=0,s=null;N.inline_frame=!0;do{if(i+=1,(s=C(i)).wanted_newline){N.inline_frame=!1;break}}while("TK_EOF"!==s.type&&("TK_END_BLOCK"!==s.type||s.opened!==O))}("expand"===V.brace_style||"none"===V.brace_style&&O.wanted_newline)&&!N.inline_frame?"TK_OPERATOR"!==D&&(n||"TK_EQUALS"===D||"TK_RESERVED"===D&&A(N.last_text)&&"else"!==N.last_text)?R.space_before_token=!0:v(!1,!0):(!w(B.mode)||"TK_START_EXPR"!==D&&"TK_COMMA"!==D||(("TK_COMMA"===D||V.space_in_paren)&&(R.space_before_token=!0),("TK_COMMA"===D||"TK_START_EXPR"===D&&N.inline_frame)&&(g(),B.multiline_frame=B.multiline_frame||N.multiline_frame,N.multiline_frame=!1)),"TK_OPERATOR"!==D&&"TK_START_EXPR"!==D&&("TK_START_BLOCK"!==D||N.inline_frame?R.space_before_token=!0:v())),b(),_()},TK_END_BLOCK:function(){for(f(O);N.mode===m.Statement;)T();var e="TK_START_BLOCK"===D;N.inline_frame&&!e?R.space_before_token=!0:"expand"===V.brace_style?e||v():e||(w(N.mode)&&V.keep_array_indentation?(V.keep_array_indentation=!1,v(),V.keep_array_indentation=!0):v()),T(),b()},TK_WORD:M,TK_RESERVED:M,TK_SEMICOLON:function(){k()?R.space_before_token=!1:f(O);for(var e=C(1);!(N.mode!==m.Statement||N.if_block&&e&&"TK_RESERVED"===e.type&&"else"===e.text||N.do_block);)T();N.import_block&&(N.import_block=!1),b()},TK_STRING:function(){k()?R.space_before_token=!0:(f(O),"TK_RESERVED"===D||"TK_WORD"===D||N.inline_frame?R.space_before_token=!0:"TK_COMMA"===D||"TK_START_EXPR"===D||"TK_EQUALS"===D||"TK_OPERATOR"===D?S()||g():v()),b()},TK_EQUALS:function(){k()||f(O),N.declaration_statement&&(N.declaration_assignment=!0),R.space_before_token=!0,b(),R.space_before_token=!0},TK_OPERATOR:function(){var e="*"===O.text&&("TK_RESERVED"===D&&r(N.last_text,["function","yield"])||r(D,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),t=r(O.text,["-","+"])&&(r(D,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||r(N.last_text,P.line_starters)||","===N.last_text);if(k()||f(O,!e),"TK_RESERVED"===D&&A(N.last_text))return R.space_before_token=!0,void b();if("*"!==O.text||"TK_DOT"!==D)if("::"!==O.text){if("TK_OPERATOR"===D&&r(V.operator_position,p)&&g(),":"===O.text&&N.in_case)return N.case_body=!0,_(),b(),v(),void(N.in_case=!1);var n=!0,i=!0,s=!1;if(":"===O.text?0===N.ternary_depth?n=!1:(N.ternary_depth-=1,s=!0):"?"===O.text&&(N.ternary_depth+=1),!t&&!e&&V.preserve_newlines&&r(O.text,P.positionable_operators)){var o=":"===O.text,a=o&&s,l=o&&!s;switch(V.operator_position){case d.before_newline:return R.space_before_token=!l,b(),o&&!a||g(),void(R.space_before_token=!0);case d.after_newline:return R.space_before_token=!0,!o||a?C(1).wanted_newline?v(!1,!0):g():R.space_before_token=!1,b(),void(R.space_before_token=!0);case d.preserve_newline:return l||g(),n=!(R.just_added_newline()||l),R.space_before_token=n,b(),void(R.space_before_token=!0)}}if(e){g(),n=!1;var c=C(1);i=c&&r(c.type,["TK_WORD","TK_RESERVED"])}else"..."===O.text?(g(),n="TK_START_BLOCK"===D,i=!1):(r(O.text,["--","++","!","~"])||t)&&(n=!1,i=!1,!O.wanted_newline||"--"!==O.text&&"++"!==O.text||v(!1,!0),";"===N.last_text&&E(N.mode)&&(n=!0),"TK_RESERVED"===D?n=!0:"TK_END_EXPR"===D?n=!("]"===N.last_text&&("--"===O.text||"++"===O.text)):"TK_OPERATOR"===D&&(n=r(O.text,["--","-","++","+"])&&r(N.last_text,["--","-","++","+"]),r(O.text,["+","-"])&&r(N.last_text,["--","++"])&&(i=!0)),(N.mode!==m.BlockStatement||N.inline_frame)&&N.mode!==m.Statement||"{"!==N.last_text&&";"!==N.last_text||v());R.space_before_token=R.space_before_token||n,b(),R.space_before_token=i}else b();else b()},TK_COMMA:function(){f(O,!0),b(),R.space_before_token=!0,N.declaration_statement?(E(N.parent.mode)&&(N.declaration_assignment=!1),N.declaration_assignment?(N.declaration_assignment=!1,v(!1,!0)):V.comma_first&&g()):N.mode===m.ObjectLiteral||N.mode===m.Statement&&N.parent.mode===m.ObjectLiteral?(N.mode===m.Statement&&T(),N.inline_frame||v()):V.comma_first&&g()},TK_BLOCK_COMMENT:function(e){if(R.raw)return R.add_raw_token(O),void(O.directives&&"end"===O.directives.preserve&&(R.raw=V.test_output_raw));if(O.directives)return v(!1,e),b(),"start"===O.directives.preserve&&(R.raw=!0),void v(!1,!0);if(!l.newline.test(O.text)&&!O.wanted_newline)return R.space_before_token=!0,b(),void(R.space_before_token=!0);var t,n=function(e){for(var t=[],n=(e=e.replace(l.allLineBreaks,"\n")).indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(O.text),i=!1,r=!1,a=O.whitespace_before,c=a.length;for(v(!1,e),n.length>1&&(i=function(e,t){for(var n=0;n<e.length;n++)if(s(e[n]).charAt(0)!==t)return!1;return!0}(n.slice(1),"*"),r=function(e,t){for(var n,i=0,r=e.length;i<r;i++)if((n=e[i])&&0!==n.indexOf(t))return!1;return!0}(n.slice(1),a)),b(n[0]),t=1;t<n.length;t++)v(!1,!0),i?b(" "+o(n[t])):r&&n[t].length>c?b(n[t].substring(c)):R.add_token(n[t]);v(!1,e)},TK_COMMENT:function(e){O.wanted_newline?v(!1,e):R.trim(!0),R.space_before_token=!0,b(),v(!1,e)},TK_DOT:function(){k()||f(O,!0),"TK_RESERVED"===D&&A(N.last_text)?R.space_before_token=!0:g(")"===N.last_text&&V.break_chained_methods),b()},TK_UNKNOWN:function(e){b(),"\n"===O.text[O.text.length-1]&&v(!1,e)},TK_EOF:function(){for(;N.mode===m.Statement;)T();f(O)}},t=a(t=t||{},"js"),V={},"expand-strict"===t.brace_style?t.brace_style="expand":"collapse-preserve-inline"===t.brace_style?t.brace_style="collapse,preserve-inline":void 0!==t.braces_on_own_line?t.brace_style=t.braces_on_own_line?"expand":"collapse":t.brace_style||(t.brace_style="collapse");var W=t.brace_style.split(/[^a-zA-Z0-9_\-]+/);V.brace_preserve_inline=!1,V.brace_style="collapse";for(var $=0;$<W.length;$++)"preserve-inline"===W[$]?V.brace_preserve_inline=!0:V.brace_style=W[$];for(V.indent_size=t.indent_size?parseInt(t.indent_size,10):4,V.indent_char=t.indent_char?t.indent_char:" ",V.eol=t.eol?t.eol:"auto",V.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,V.unindent_chained_methods=void 0!==t.unindent_chained_methods&&t.unindent_chained_methods,V.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,V.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),V.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,V.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,V.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,V.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,V.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,V.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,V.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,V.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),V.e4x=void 0!==t.e4x&&t.e4x,V.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,V.comma_first=void 0!==t.comma_first&&t.comma_first,V.operator_position=function(e){if(e=e||d.before_newline,!r(e,h))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+h+"\nYou passed in: '"+e+"'");return e}(t.operator_position),V.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,V.jslint_happy&&(V.space_after_anon_function=!0),t.indent_with_tabs&&(V.indent_char="\t",V.indent_size=1),"auto"===V.eol&&(V.eol="\n",e&&l.lineBreak.test(e||"")&&(V.eol=e.match(l.lineBreak)[0])),V.eol=V.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),I="";V.indent_size>0;)I+=V.indent_char,V.indent_size-=1;var q=0;if(e&&e.length){for(;" "===e.charAt(q)||"\t"===e.charAt(q);)q+=1;H=e.substring(0,q),e=e.substring(q)}D="TK_START_BLOCK",F="",(R=new c(I,H)).raw=V.test_output_raw,j=[],x(m.BlockStatement),this.beautify=function(){for(P=new u(e,V,I),G=P.tokenize(),L=0,O=C();O;)U[O.type](),F=N.last_text,D=O.type,N.last_text=O.text,L+=1,O=C();return R.get_code(V.end_with_newline,V.eol)};var X=["break","continue","return","throw","yield"]}},function(e,t){e.exports.InputScanner=function(e){var t=e,n=t.length,i=0;this.back=function(){i-=1},this.hasNext=function(){return i<n},this.next=function(){var e=null;return this.hasNext()&&(e=t.charAt(i),i+=1),e},this.peek=function(e){var r=null;return e=e||0,(e+=i)>=0&&e<n&&(r=t.charAt(e)),r},this.peekCharCode=function(e){var r=0;return e=e||0,(e+=i)>=0&&e<n&&(r=t.charCodeAt(e)),r},this.test=function(e,n){return n=n||0,e.lastIndex=i+n,e.test(t)},this.testChar=function(e,t){var n=this.peek(t);return null!==n&&e.test(n)},this.match=function(e){e.lastIndex=i;var n=e.exec(t);return n&&n.index===i?i+=n[0].length:n=null,n}}},function(e,t){e.exports.mergeOpts=function(e,t){var n,i={};for(n in e)n!==t&&(i[n]=e[n]);if(t in e)for(n in e[t])i[n]=e[t][n];return i}},function(e,t){e.exports.Output=function(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(e){var t=0,n=-1,i=[],r=!0;this.set_indent=function(i){t=e.baseIndentLength+i*e.indent_length,n=i},this.get_character_count=function(){return t},this.is_empty=function(){return r},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(e){i.push(e),t+=e.length,r=!1},this.pop=function(){var e=null;return r||(e=i.pop(),t-=e.length,r=0===i.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)i.pop(),t-=1;r=0===i.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=i.join("")),t}}(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var i=n.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(i+="\n"),"\n"!==t&&(i=i.replace(/[\n]/g,t)),i},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=n.length;e<t;)n[e].remove_indent(),e++},this.trim=function(i){for(i=void 0!==i&&i,this.current_line.trim(e,t);i&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===n.length||n[n.length-2].is_empty())}}},function(e,t){e.exports.Token=function(e,t,n,i,r){this.type=e,this.text=t,this.comments_before=[],this.comments_after=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=i||"",this.parent=r||null,this.opened=null,this.directives=null}},function(e,t,n){var i=n(1).Beautifier;e.exports=function(e,t){return new i(e,t).beautify()}},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}var r=n(2).InputScanner,s=n(5).Token,o=n(0);e.exports.Tokenizer=function(e,t){function n(){var e,n=[];p=0,m="";var S=v.next();if(null===S)return["","TK_EOF"];var k;for(k=g.length?g[g.length-1]:new s("TK_START_BLOCK","{");i(S,a);)if(o.newline.test(S)?"\n"===S&&"\r"===v.peek(-2)||(p+=1,n=[]):n.push(S),null===(S=v.next()))return["","TK_EOF"];if(n.length&&(m=n.join("")),l.test(S)||"."===S&&v.testChar(l)){var A=!0,C=!0,M=l;for("0"===S&&v.testChar(/[XxOoBb]/)?(A=!1,C=!1,M=v.testChar(/[Bb]/)?c:v.testChar(/[Oo]/)?u:h,S+=v.next()):"."===S?A=!1:(S="",v.back());v.testChar(M);)S+=v.next(),A&&"."===v.peek()&&(S+=v.next(),A=!1),C&&v.testChar(/[Ee]/)&&(S+=v.next(),v.testChar(/[+-]/)&&(S+=v.next()),C=!1,A=!1);return[S,"TK_WORD"]}if(o.isIdentifierStart(v.peekCharCode(-1))){if(v.hasNext())for(;o.isIdentifierChar(v.peekCharCode())&&(S+=v.next(),v.hasNext()););return"TK_DOT"===k.type||"TK_RESERVED"===k.type&&i(k.text,["set","get"])||!i(S,y)?[S,"TK_WORD"]:"in"===S||"of"===S?[S,"TK_OPERATOR"]:[S,"TK_RESERVED"]}if("("===S||"["===S)return[S,"TK_START_EXPR"];if(")"===S||"]"===S)return[S,"TK_END_EXPR"];if("{"===S)return[S,"TK_START_BLOCK"];if("}"===S)return[S,"TK_END_BLOCK"];if(";"===S)return[S,"TK_SEMICOLON"];if("/"===S){var R,L="";if("*"===v.peek()){v.next();var P=function(e){if(!e.match(x))return null;var t={};w.lastIndex=0;for(var n=w.exec(e);n;)t[n[1]]=n[2],n=w.exec(e);return t}(L="/*"+(R=v.match(b))[0]);return P&&"start"===P.ignore&&(L+=(R=v.match(E))[0]),L=L.replace(o.allLineBreaks,"\n"),[L,"TK_BLOCK_COMMENT",P]}if("/"===v.peek())return v.next(),R=v.match(_),L="//"+R[0],[L,"TK_COMMENT"]}var O=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===S||"'"===S||'"'===S||("/"===S||t.e4x&&"<"===S&&v.test(O,-1))&&("TK_RESERVED"===k.type&&i(k.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===k.type&&")"===k.text&&k.parent&&"TK_RESERVED"===k.parent.type&&i(k.parent.text,["if","while","for"])||i(k.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var D=S,F=!1,I=!1;if(e=S,"/"===D)for(var N=!1;v.hasNext()&&(F||N||v.peek()!==D)&&!v.testChar(o.newline);)e+=v.peek(),F?F=!1:(F="\\"===v.peek(),"["===v.peek()?N=!0:"]"===v.peek()&&(N=!1)),v.next();else if(t.e4x&&"<"===D){var B=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;v.back();var j="",z=v.match(O);if(z){for(var U=z[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),V=0===U.indexOf("{"),G=0;z;){var H=!!z[1],W=z[2];if(!(z[z.length-1]||"![CDATA["===W.slice(0,8))&&(W===U||V&&W.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(H?--G:++G),j+=z[0],G<=0)break;z=v.match(B)}return z||(j+=v.match(/[\s\S]*/g)[0]),j=j.replace(o.allLineBreaks,"\n"),[j,"TK_STRING"]}}else{var $=function(t,n,i){for(var r;v.hasNext()&&(r=v.peek(),F||r!==t&&(n||!o.newline.test(r)));)(F||n)&&o.newline.test(r)?("\r"===r&&"\n"===v.peek(1)&&(v.next(),r=v.peek()),e+="\n"):e+=r,F?("x"!==r&&"u"!==r||(I=!0),F=!1):F="\\"===r,v.next(),i&&-1!==e.indexOf(i,e.length-i.length)&&("`"===t?$("}",n,"`"):$("`",n,"${"),v.hasNext()&&(e+=v.next()))};"`"===D?$("`",!0,"${"):$(D)}if(I&&t.unescape_strings&&(e=function(e){for(var t="",n=0,i=new r(e),s=null;i.hasNext();)if((s=i.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=s[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())s=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){t+="\\",i.hasNext()&&(t+=i.next());continue}s=i.match(/u([0-9A-Fa-f]{4})/g)}if(!s)return e;if((n=parseInt(s[1],16))>126&&n<=255&&0===s[0].indexOf("x"))return e;if(n>=0&&n<32){t+="\\"+s[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(e)),v.peek()===D&&(e+=D,v.next(),"/"===D))for(;v.hasNext()&&o.isIdentifierStart(v.peekCharCode());)e+=v.next();return[e,"TK_STRING"]}if("#"===S){if(0===g.length&&"!"===v.peek()){for(e=S;v.hasNext()&&"\n"!==S;)S=v.next(),e+=S;return[function(e){return e.replace(/^\s+|\s+$/g,"")}(e)+"\n","TK_UNKNOWN"]}var q="#";if(v.hasNext()&&v.testChar(l)){do{q+=S=v.next()}while(v.hasNext()&&"#"!==S&&"="!==S);return"#"===S||("["===v.peek()&&"]"===v.peek(1)?(q+="[]",v.next(),v.next()):"{"===v.peek()&&"}"===v.peek(1)&&(q+="{}",v.next(),v.next())),[q,"TK_WORD"]}}if("<"===S&&("?"===v.peek()||"%"===v.peek())){v.back();var X=v.match(T);if(X)return S=X[0],S=S.replace(o.allLineBreaks,"\n"),[S,"TK_STRING"]}if("<"===S&&v.match(/\!--/g)){for(S="\x3c!--";v.hasNext()&&!v.testChar(o.newline);)S+=v.next();return f=!0,[S,"TK_COMMENT"]}if("-"===S&&f&&v.match(/->/g))return f=!1,["--\x3e","TK_COMMENT"];if("."===S)return"."===v.peek()&&"."===v.peek(1)?(S+=v.next()+v.next(),[S,"TK_OPERATOR"]):[S,"TK_DOT"];if(i(S,d)){for(;v.hasNext()&&i(S+v.peek(),d)&&(S+=v.next(),v.hasNext()););return","===S?[S,"TK_COMMA"]:"="===S?[S,"TK_EQUALS"]:[S,"TK_OPERATOR"]}return[S,"TK_UNKNOWN"]}var a="\n\r\t ".split(""),l=/[0-9]/,c=/[01]/,u=/[01234567]/,h=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var d=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var p,m,f,g,v,y=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),b=/([\s\S]*?)((?:\*\/)|$)/g,_=/([^\n\r\u2028\u2029]*)/g,x=/\/\* beautify( \w+[:]\w+)+ \*\//g,w=/ (\w+)[:](\w+)/g,E=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,T=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){v=new r(e),f=!1,g=[];for(var t,i,o,a=null,l=[],c=[];!i||"TK_EOF"!==i.type;){for(o=n(),t=new s(o[1],o[0],p,m);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=o[2]),c.push(t),o=n(),t=new s(o[1],o[0],p,m);c.length&&(t.comments_before=c,c=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=i,l.push(a),a=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&a&&("]"===t.text&&"["===a.text||")"===t.text&&"("===a.text||"}"===t.text&&"{"===a.text)&&(t.parent=a.parent,t.opened=a,a=l.pop()),g.push(t),i=t}return g}}}]);void 0===(i=(function(){return{js_beautify:n}}).apply(t,[]))||(e.exports=i)}()},FjVW:function(e,t,n){"use strict";function i(e,t){return{type:7,name:e,definitions:t,options:{}}}function r(e,t=null){return{type:4,styles:t,timings:e}}function s(e,t=null){return{type:2,steps:e,options:t}}function o(e){return{type:6,styles:e,offset:null}}function a(e,t,n){return{type:0,name:e,styles:t,options:n}}function l(e){return{type:5,steps:e}}function c(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function u(e){Promise.resolve(null).then(e)}n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return a}),n.d(t,"i",function(){return o}),n.d(t,"j",function(){return c}),n.d(t,"k",function(){return i}),n.d(t,"d",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return g});class h{}class d{}const p="*";class m{constructor(){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=0}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){u(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class f{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?u(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t>=r&&this._onFinish()}),e.onDestroy(()=>{++n>=r&&this._onDestroy()}),e.onStart(()=>{++i>=r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const g="!"},Fxis:function(e,t,n){"use strict";t.a=function(e,t,n){return function(r){return r.lift(new class{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new class extends i.a{constructor(e,t,n,r){super(e);const s=new i.a(t,n,r);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}_next(e){const{safeSubscriber:t}=this;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)}_error(e){const{safeSubscriber:t}=this;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)}_complete(){const{safeSubscriber:e}=this;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()}}(e,this.nextOrObserver,this.error,this.complete))}}(e,t,n))}};var i=n("WJ2g")},G3Ej:function(e,t,n){"use strict";function i(e){return r._38(2,[r._34(402653184,1,{_sliderWrapper:0}),(e()(),r._15(1,0,[[1,0],["sliderWrapper",1]],null,16,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(e()(),r._15(2,0,null,null,4,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(e()(),r._15(3,0,null,null,1,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),r._14(4,278528,null,0,o.j,[r.A,r.o,r.M],{ngStyle:[0,"ngStyle"]},null),(e()(),r._15(5,0,null,null,1,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),r._14(6,278528,null,0,o.j,[r.A,r.o,r.M],{ngStyle:[0,"ngStyle"]},null),(e()(),r._15(7,0,null,null,3,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),r._14(8,278528,null,0,o.j,[r.A,r.o,r.M],{ngStyle:[0,"ngStyle"]},null),(e()(),r._15(9,0,null,null,1,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),r._14(10,278528,null,0,o.j,[r.A,r.o,r.M],{ngStyle:[0,"ngStyle"]},null),(e()(),r._15(11,0,null,null,6,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),r._14(12,278528,null,0,o.j,[r.A,r.o,r.M],{ngStyle:[0,"ngStyle"]},null),(e()(),r._15(13,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(e()(),r._15(14,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(e()(),r._15(15,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(e()(),r._15(16,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(e()(),r._36(17,null,["",""]))],function(e,t){var n=t.component;e(t,4,0,n._trackBackgroundStyles);e(t,6,0,n._trackFillStyles);e(t,8,0,n._ticksContainerStyles);e(t,10,0,n._ticksStyles);e(t,12,0,n._thumbContainerStyles)},function(e,t){e(t,17,0,t.component.displayValue)})}n.d(t,"a",function(){return p}),t.b=i;var r=n("1GK5"),s=n("wdH2"),o=n("AdGS"),a=n("ZDMg"),l=n("tksO"),c=n("3P+V"),u=n("PXDV"),h=n("IMoF"),d=n("pnCZ"),p=(r._12(s.b,[],function(e){return r._26([r._27(512,r.k,r._8,[[8,[]],[3,r.k],r.D]),r._27(4608,o.i,o.h,[r.B,[2,o.n]]),r._27(6144,a.b,null,[o.b]),r._27(4608,a.c,a.c,[[2,a.b]]),r._27(4608,l.a,l.a,[]),r._27(4608,c.j,c.j,[l.a]),r._27(4608,c.i,c.i,[c.j,r.F,o.b]),r._27(136192,c.e,c.c,[[3,c.e],o.b]),r._27(5120,c.n,c.m,[[3,c.n],[2,c.k],o.b]),r._27(5120,c.h,c.f,[[3,c.h],r.F,l.a]),r._27(4608,u.f,h.e,[[2,h.i],[2,h.n]]),r._27(512,o.a,o.a,[]),r._27(512,a.a,a.a,[]),r._27(256,h.f,!0,[]),r._27(512,h.n,h.n,[[2,h.f]]),r._27(512,l.b,l.b,[]),r._27(512,c.a,c.a,[]),r._27(512,s.b,s.b,[])])}),r._13({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-keyboard-focused .mat-slider-focus-ring,.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}"],data:{}}));r._11("mat-slider",s.a,function(e){return r._38(0,[(e()(),r._15(0,0,null,null,2,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null]],[[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==r._29(e,2)._onFocus()&&i),"blur"===t&&(i=!1!==r._29(e,2)._onBlur()&&i),"click"===t&&(i=!1!==r._29(e,2)._onClick(n)&&i),"keydown"===t&&(i=!1!==r._29(e,2)._onKeydown(n)&&i),"keyup"===t&&(i=!1!==r._29(e,2)._onKeyup()&&i),"mouseenter"===t&&(i=!1!==r._29(e,2)._onMouseenter()&&i),"slide"===t&&(i=!1!==r._29(e,2)._onSlide(n)&&i),"slideend"===t&&(i=!1!==r._29(e,2)._onSlideEnd()&&i),"slidestart"===t&&(i=!1!==r._29(e,2)._onSlideStart(n)&&i),i},i,p)),r._33(5120,null,d.h,function(e){return[e]},[s.a]),r._14(2,245760,null,0,s.a,[r.o,c.h,r.h,[2,a.c],[8,null]],null,null)],function(e,t){e(t,2,0)},function(e,t){e(t,0,1,[r._29(t,2).tabIndex,r._29(t,2).disabled,r._29(t,2).max,r._29(t,2).min,r._29(t,2).value,r._29(t,2).vertical?"vertical":"horizontal",r._29(t,2).disabled,r._29(t,2).tickInterval,!r._29(t,2).vertical,r._29(t,2)._invertAxis,r._29(t,2)._isSliding,r._29(t,2).thumbLabel,r._29(t,2).vertical,r._29(t,2)._isMinValue,r._29(t,2).disabled||r._29(t,2)._isMinValue&&r._29(t,2)._thumbGap&&r._29(t,2)._invertAxis])})},{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",_thumbLabelDeprecated:"thumb-label",tickInterval:"tickInterval",_tickIntervalDeprecated:"tick-interval",value:"value",vertical:"vertical"},{change:"change",input:"input"},[])},G3Tt:function(e,t,n){"use strict";function i(e){return e}var r=n("rhNu");t.a=function(e=Number.POSITIVE_INFINITY){return Object(r.a)(i,null,e)}},GI1j:function(e,t,n){"use strict";n.d(t,"a",function(){return B});var i=n("7K/9"),r=n("7pQ/"),s=n("UJJe"),o=n("AdGS"),a=n("1GK5"),l=n("IMoF"),c=n("9i4M"),u=n("FjVW"),h=n("ZDMg"),d=n("bVHt"),p=n("0mJR"),m=n("cv3d"),f=n("IEaL"),g=n("eQ+q"),v=n("tksO"),y=n("t3RF");class b{constructor(e,t){this._elementRef=e,this._ngZone=t}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const t=this._elementRef.nativeElement;t.style.left=e?(e.offsetLeft||0)+"px":"0",t.style.width=e?(e.offsetWidth||0)+"px":"0"}}b.decorators=[{type:a.n,args:[{selector:"mat-ink-bar",host:{class:"mat-ink-bar"}}]}],b.ctorParameters=(()=>[{type:a.o},{type:a.F}]);class _ extends r.b{constructor(e,t){super(e,t)}}_.decorators=[{type:a.n,args:[{selector:"[mat-tab-label], [matTabLabel]"}]}],_.ctorParameters=(()=>[{type:a.T},{type:a.Y}]);const x=Object(l.E)(class{});class w extends x{constructor(e){super(),this._viewContainerRef=e,this.textLabel="",this._contentPortal=null,this._labelChange=new c.a,this._disableChange=new c.a,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(e){e.hasOwnProperty("textLabel")&&this._labelChange.next(),e.hasOwnProperty("disabled")&&this._disableChange.next()}ngOnDestroy(){this._disableChange.complete(),this._labelChange.complete()}ngOnInit(){this._contentPortal=new r.h(this._content,this._viewContainerRef)}}w.decorators=[{type:a.j,args:[{selector:"mat-tab",template:"<ng-template><ng-content></ng-content></ng-template>",inputs:["disabled"],changeDetection:a.g.OnPush,encapsulation:a.Z.None,preserveWhitespaces:!1,exportAs:"matTab"}]}],w.ctorParameters=(()=>[{type:a.Y}]),w.propDecorators={templateLabel:[{type:a.l,args:[_]}],_content:[{type:a.W,args:[a.T]}],textLabel:[{type:a.y,args:["label"]}]};class E extends r.c{constructor(e,t,n){super(e,t),this._host=n}ngOnInit(){this._host._isCenterPosition(this._host._position)&&this.attach(this._host._content),this._centeringSub=this._host._beforeCentering.subscribe(e=>{e&&(this.hasAttached()||this.attach(this._host._content))}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){this._centeringSub&&!this._centeringSub.closed&&this._centeringSub.unsubscribe(),this._leavingSub&&!this._leavingSub.closed&&this._leavingSub.unsubscribe()}}E.decorators=[{type:a.n,args:[{selector:"[matTabBodyHost]"}]}],E.ctorParameters=(()=>[{type:a.k},{type:a.Y},{type:T,decorators:[{type:a.u,args:[Object(a._3)(()=>T)]}]}]);class T{constructor(e,t){this._elementRef=e,this._dir=t,this._onCentering=new a.q,this._beforeCentering=new a.q,this._afterLeavingCenter=new a.q,this._onCentered=new a.q(!0)}set position(e){this._position=e<0?"ltr"==this._getLayoutDirection()?"left":"right":e>0?"ltr"==this._getLayoutDirection()?"right":"left":"center"}set origin(e){if(null==e)return;const t=this._getLayoutDirection();this._origin="ltr"==t&&e<=0||"rtl"==t&&e>0?"left":"right"}ngOnInit(){"center"==this._position&&this._origin&&(this._position="left"==this._origin?"left-origin-center":"right-origin-center")}_onTranslateTabStarted(e){const t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_onTranslateTabComplete(e){this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}}T.decorators=[{type:a.j,args:[{selector:"mat-tab-body",template:'<div class="mat-tab-body-content" #content [@translateTab]="_position" (@translateTab.start)="_onTranslateTabStarted($event)" (@translateTab.done)="_onTranslateTabComplete($event)"><ng-template matTabBodyHost></ng-template></div>',styles:[".mat-tab-body-content{-webkit-backface-visibility:hidden;backface-visibility:hidden;height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],encapsulation:a.Z.None,preserveWhitespaces:!1,changeDetection:a.g.OnPush,host:{class:"mat-tab-body"},animations:[Object(u.k)("translateTab",[Object(u.h)("center, void, left-origin-center, right-origin-center",Object(u.i)({transform:"none"})),Object(u.h)("left",Object(u.i)({transform:"translate3d(-100%, 0, 0)"})),Object(u.h)("right",Object(u.i)({transform:"translate3d(100%, 0, 0)"})),Object(u.j)("* => left, * => right, left => center, right => center",Object(u.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)")),Object(u.j)("void => left-origin-center",[Object(u.i)({transform:"translate3d(-100%, 0, 0)"}),Object(u.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)")]),Object(u.j)("void => right-origin-center",[Object(u.i)({transform:"translate3d(100%, 0, 0)"}),Object(u.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)")])])]}]}],T.ctorParameters=(()=>[{type:a.o},{type:h.c,decorators:[{type:a.G}]}]),T.propDecorators={_onCentering:[{type:a.H}],_beforeCentering:[{type:a.H}],_afterLeavingCenter:[{type:a.H}],_onCentered:[{type:a.H}],_content:[{type:a.y,args:["content"]}],position:[{type:a.y,args:["position"]}],origin:[{type:a.y,args:["origin"]}]};let S=0;class k{}const A=Object(l.C)(Object(l.D)(class{constructor(e){this._elementRef=e}}),"primary");class C extends A{constructor(e,t){super(e),this._changeDetectorRef=t,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=p.a.EMPTY,this._tabLabelSubscription=p.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new a.q,this.focusChange=new a.q,this.selectedTabChange=new a.q(!0),this.selectChange=this.selectedTabChange,this._groupId=S++}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Object(d.b)(e)}get _dynamicHeightDeprecated(){return this._dynamicHeight}set _dynamicHeightDeprecated(e){this._dynamicHeight=e}set selectedIndex(e){this._indexToSelect=Object(d.c)(e,null)}get selectedIndex(){return this._selectedIndex}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement;t.classList.remove(`mat-background-${this.backgroundColor}`),e&&t.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){let e=this._indexToSelect=Math.min(this._tabs.length-1,Math.max(this._indexToSelect||0,0));if(this._selectedIndex!=e&&null!=this._selectedIndex){const t=this._createChangeEvent(e);this.selectedTabChange.emit(t),Promise.resolve().then(()=>this.selectedIndexChange.emit(e))}this._tabs.forEach((t,n)=>{t.position=n-e,t.isActive=n===e,null==this._selectedIndex||0!=t.position||t.origin||(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{this._subscribeToTabLabels(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const t=new k;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(m.a)(...this._tabs.map(e=>e._disableChange),...this._tabs.map(e=>e._labelChange)).subscribe(()=>{this._changeDetectorRef.markForCheck()})}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){this._tabBodyWrapperHeight=this._tabBodyWrapper.nativeElement.clientHeight,this._tabBodyWrapper.nativeElement.style.height=""}_handleClick(e,t,n){e.disabled||(this.selectedIndex=t.focusIndex=n)}_getTabIndex(e,t){return e.disabled?null:this.selectedIndex===t?0:-1}}C.decorators=[{type:a.j,args:[{selector:"mat-tab-group",exportAs:"matTabGroup",template:'<mat-tab-header #tabHeader [selectedIndex]="selectedIndex" [disableRipple]="disableRipple" (indexFocused)="_focusChanged($event)" (selectFocusedIndex)="selectedIndex = $event"><div class="mat-tab-label" role="tab" matTabLabelWrapper mat-ripple *ngFor="let tab of _tabs; let i = index" [id]="_getTabLabelId(i)" [attr.tabIndex]="_getTabIndex(tab, i)" [attr.aria-controls]="_getTabContentId(i)" [attr.aria-selected]="selectedIndex == i" [class.mat-tab-label-active]="selectedIndex == i" [disabled]="tab.disabled" [matRippleDisabled]="tab.disabled || disableRipple" (click)="_handleClick(tab, tabHeader, i)"><ng-template [ngIf]="tab.templateLabel"><ng-template [cdkPortalOutlet]="tab.templateLabel"></ng-template></ng-template><ng-template [ngIf]="!tab.templateLabel">{{tab.textLabel}}</ng-template></div></mat-tab-header><div class="mat-tab-body-wrapper" #tabBodyWrapper><mat-tab-body role="tabpanel" *ngFor="let tab of _tabs; let i = index" [id]="_getTabContentId(i)" [attr.aria-labelledby]="_getTabLabelId(i)" [class.mat-tab-body-active]="selectedIndex == i" [content]="tab.content" [position]="tab.position" [origin]="tab.origin" (_onCentered)="_removeTabBodyWrapperHeight()" (_onCentering)="_setTabBodyWrapperHeight($event)"></mat-tab-body></div>',styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0;opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}@media (max-width:600px){.mat-tab-label{padding:0 12px}}@media (max-width:960px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs] .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:a.Z.None,preserveWhitespaces:!1,changeDetection:a.g.OnPush,inputs:["color","disableRipple"],host:{class:"mat-tab-group","[class.mat-tab-group-dynamic-height]":"dynamicHeight","[class.mat-tab-group-inverted-header]":'headerPosition === "below"'}}]}],C.ctorParameters=(()=>[{type:a.o},{type:a.h}]),C.propDecorators={_tabs:[{type:a.m,args:[w]}],_tabBodyWrapper:[{type:a.W,args:["tabBodyWrapper"]}],dynamicHeight:[{type:a.y}],_dynamicHeightDeprecated:[{type:a.y,args:["mat-dynamic-height"]}],selectedIndex:[{type:a.y}],headerPosition:[{type:a.y}],backgroundColor:[{type:a.y}],selectedIndexChange:[{type:a.H}],focusChange:[{type:a.H}],selectedTabChange:[{type:a.H}],selectChange:[{type:a.H}]};const M=Object(l.E)(class{});class R extends M{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}R.decorators=[{type:a.n,args:[{selector:"[matTabLabelWrapper]",inputs:["disabled"],host:{"[class.mat-tab-disabled]":"disabled"}}]}],R.ctorParameters=(()=>[{type:a.o}]);const L=60;const P=Object(l.D)(class{});class O extends P{constructor(e,t,n,i){super(),this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=n,this._dir=i,this._focusIndex=0,this._scrollDistance=0,this._selectedIndexChanged=!1,this._realignInkBar=p.a.EMPTY,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._selectedIndex=0,this.selectFocusedIndex=new a.q,this.indexFocused=new a.q}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Object(d.c)(e),this._selectedIndexChanged=this._selectedIndex!=e,this._selectedIndex=e,this._focusIndex=e}ngAfterContentChecked(){this._tabLabelCount!=this._labelWrappers.length&&(this._updatePagination(),this._tabLabelCount=this._labelWrappers.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}_handleKeydown(e){switch(e.keyCode){case f.m:this._focusNextTab();break;case f.i:this._focusPreviousTab();break;case f.f:case f.n:this.selectFocusedIndex.emit(this.focusIndex),e.preventDefault()}}ngAfterContentInit(){const e=this._dir?this._dir.change:Object(g.a)(null),t=this._viewportRuler.change(150),n=()=>{this._updatePagination(),this._alignInkBarToSelectedTab()};"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),this._realignInkBar=Object(m.a)(e,t).subscribe(n)}ngOnDestroy(){this._realignInkBar.unsubscribe()}_onContentChanges(){this._updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}_updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}set focusIndex(e){this._isValidIndex(e)&&this._focusIndex!=e&&(this._focusIndex=e,this.indexFocused.emit(e),this._setTabFocus(e))}get focusIndex(){return this._focusIndex}_isValidIndex(e){if(!this._labelWrappers)return!0;const t=this._labelWrappers?this._labelWrappers.toArray()[e]:null;return!!t&&!t.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._labelWrappers&&this._labelWrappers.length){this._labelWrappers.toArray()[e].focus();const t=this._tabListContainer.nativeElement,n=this._getLayoutDirection();t.scrollLeft="ltr"==n?0:t.scrollWidth-t.offsetWidth}}_moveFocus(e){if(this._labelWrappers){const t=this._labelWrappers.toArray();for(let n=this.focusIndex+e;n<t.length&&n>=0;n+=e)if(this._isValidIndex(n))return void(this.focusIndex=n)}}_focusNextTab(){this._moveFocus("ltr"==this._getLayoutDirection()?1:-1)}_focusPreviousTab(){this._moveFocus("ltr"==this._getLayoutDirection()?-1:1)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){const e=this.scrollDistance,t="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translate3d(${t}px, 0, 0)`}set scrollDistance(e){this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),e)),this._scrollDistanceChanged=!0,this._checkScrollingControls()}get scrollDistance(){return this._scrollDistance}_scrollHeader(e){const t=this._tabListContainer.nativeElement.offsetWidth;this.scrollDistance+=("before"==e?-1:1)*t/3}_scrollToLabel(e){const t=this._labelWrappers?this._labelWrappers.toArray()[e]:null;if(!t)return;const n=this._tabListContainer.nativeElement.offsetWidth;let i,r;"ltr"==this._getLayoutDirection()?r=(i=t.getOffsetLeft())+t.getOffsetWidth():i=(r=this._tabList.nativeElement.offsetWidth-t.getOffsetLeft())-t.getOffsetWidth();const s=this.scrollDistance,o=this.scrollDistance+n;i<s?this.scrollDistance-=s-i+L:r>o&&(this.scrollDistance+=r-o+L)}_checkPaginationEnabled(){const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}_checkScrollingControls(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._labelWrappers&&this._labelWrappers.length?this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement:null;this._inkBar.alignToElement(e)}}O.decorators=[{type:a.j,args:[{selector:"mat-tab-header",template:'<div class="mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4" aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollBefore || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollBefore" (click)="_scrollHeader(\'before\')"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container" #tabListContainer (keydown)="_handleKeydown($event)"><div class="mat-tab-list" #tabList role="tablist" (cdkObserveContent)="_onContentChanges()"><div class="mat-tab-labels"><ng-content></ng-content></div><mat-ink-bar></mat-ink-bar></div></div><div class="mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4" aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollAfter || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollAfter" (click)="_scrollHeader(\'after\')"><div class="mat-tab-header-pagination-chevron"></div></div>',styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0;opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}@media (max-width:600px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.mat-tab-header-pagination{position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}"],inputs:["disableRipple"],encapsulation:a.Z.None,preserveWhitespaces:!1,changeDetection:a.g.OnPush,host:{class:"mat-tab-header","[class.mat-tab-header-pagination-controls-enabled]":"_showPaginationControls","[class.mat-tab-header-rtl]":"_getLayoutDirection() == 'rtl'"}}]}],O.ctorParameters=(()=>[{type:a.o},{type:a.h},{type:s.f},{type:h.c,decorators:[{type:a.G}]}]),O.propDecorators={_labelWrappers:[{type:a.m,args:[R]}],_inkBar:[{type:a.W,args:[b]}],_tabListContainer:[{type:a.W,args:["tabListContainer"]}],_tabList:[{type:a.W,args:["tabList"]}],selectedIndex:[{type:a.y}],selectFocusedIndex:[{type:a.H}],indexFocused:[{type:a.H}]};const D=Object(l.D)(Object(l.C)(class{constructor(e){this._elementRef=e}},"primary"));class F extends D{constructor(e,t,n,i,r){super(e),this._dir=t,this._ngZone=n,this._changeDetectorRef=i,this._viewportRuler=r,this._onDestroy=new c.a,this._disableRipple=!1}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement;t.classList.remove(`mat-background-${this.backgroundColor}`),e&&t.classList.add(`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(d.b)(e),this._setLinkDisableRipple()}updateActiveLink(e){this._activeLinkChanged=this._activeLinkElement!=e,this._activeLinkElement=e,this._activeLinkChanged&&this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._ngZone.runOutsideAngular(()=>{const e=this._dir?this._dir.change:Object(g.a)(null);return Object(m.a)(e,this._viewportRuler.change(10)).pipe(Object(y.a)(this._onDestroy)).subscribe(()=>this._alignInkBar())}),this._setLinkDisableRipple()}ngAfterContentChecked(){this._activeLinkChanged&&(this._alignInkBar(),this._activeLinkChanged=!1)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_alignInkBar(){this._activeLinkElement&&this._inkBar.alignToElement(this._activeLinkElement.nativeElement)}_setLinkDisableRipple(){this._tabLinks&&this._tabLinks.forEach(e=>e.disableRipple=this.disableRipple)}}F.decorators=[{type:a.j,args:[{selector:"[mat-tab-nav-bar]",exportAs:"matTabNavBar, matTabNav",inputs:["color","disableRipple"],template:'<div class="mat-tab-links" (cdkObserveContent)="_alignInkBar()"><ng-content></ng-content><mat-ink-bar></mat-ink-bar></div>',styles:[".mat-tab-nav-bar{overflow:hidden;position:relative;flex-shrink:0}.mat-tab-links{position:relative}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden}.mat-tab-link:focus{outline:0;opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}@media (max-width:600px){.mat-tab-link{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}"],host:{class:"mat-tab-nav-bar"},encapsulation:a.Z.None,preserveWhitespaces:!1,changeDetection:a.g.OnPush}]}],F.ctorParameters=(()=>[{type:a.o},{type:h.c,decorators:[{type:a.G}]},{type:a.F},{type:a.h},{type:s.f}]),F.propDecorators={_inkBar:[{type:a.W,args:[b]}],_tabLinks:[{type:a.m,args:[Object(a._3)(()=>N),{descendants:!0}]}],backgroundColor:[{type:a.y}]};const I=Object(l.G)(Object(l.E)(class{}));class N extends I{constructor(e,t,n,i,r,s){super(),this._tabNavBar=e,this._elementRef=t,this._isActive=!1,this._disableRipple=!1,this._tabLinkRipple=new l.x(t,n,i,r),this.tabIndex=parseInt(s)||0}get active(){return this._isActive}set active(e){this._isActive=e,e&&this._tabNavBar.updateActiveLink(this._elementRef)}get disableRipple(){return this.disabled||this._disableRipple}set disableRipple(e){this._disableRipple=e,this._tabLinkRipple.disabled=this.disableRipple,this._tabLinkRipple._updateRippleRenderer()}ngOnDestroy(){this._tabLinkRipple.ngOnDestroy()}}N.decorators=[{type:a.n,args:[{selector:"[mat-tab-link], [matTabLink]",exportAs:"matTabLink",inputs:["disabled","tabIndex"],host:{class:"mat-tab-link","[attr.aria-disabled]":"disabled.toString()","[attr.tabIndex]":"tabIndex","[class.mat-tab-disabled]":"disabled","[class.mat-tab-label-active]":"active"}}]}],N.ctorParameters=(()=>[{type:F},{type:a.o},{type:a.F},{type:v.a},{type:void 0,decorators:[{type:a.G},{type:a.u,args:[l.m]}]},{type:void 0,decorators:[{type:a.f,args:["tabindex"]}]}]),N.propDecorators={active:[{type:a.y}]};class B{}B.decorators=[{type:a.C,args:[{imports:[o.a,l.n,r.g,l.y,i.b,s.b],exports:[l.n,C,_,w,F,N],declarations:[C,_,w,b,R,F,N,T,E,O],providers:[s.d]}]}],B.ctorParameters=(()=>[])},GOGn:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.decorators=[{type:i.j,args:[{selector:"tree-node-content",encapsulation:i.Z.None,template:'\n  <span *ngIf="!template">{{ node.displayField }}</span>\n  <ng-container\n    [ngTemplateOutlet]="template"\n    [ngTemplateOutletContext]="{ $implicit: node, node: node, index: index }">\n  </ng-container>'}]}],e.ctorParameters=function(){return[]},e.propDecorators={node:[{type:i.y}],index:[{type:i.y}],template:[{type:i.y}]},e}()},GcAb:function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},"Hb/P":function(e,t,n){"use strict";function i(e){const{value:t,subscriber:n}=e;n.closed||(n.next(t),n.complete())}function r(e){const{err:t,subscriber:n}=e;n.closed||n.error(t)}var s=n("2K0D"),o=n("05/P");class a extends o.a{constructor(e,t){super(),this.promise=e,this.scheduler=t}static create(e,t){return new a(e,t)}_subscribe(e){const t=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):t.then(t=>{this.value=t,this._isScalar=!0,e.closed||(e.next(t),e.complete())},t=>{e.closed||e.error(t)}).then(null,e=>{s.a.setTimeout(()=>{throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(i,0,{value:this.value,subscriber:e})}else t.then(t=>{this.value=t,this._isScalar=!0,e.closed||e.add(n.schedule(i,0,{value:t,subscriber:e}))},t=>{e.closed||e.add(n.schedule(r,0,{err:t,subscriber:e}))}).then(null,e=>{s.a.setTimeout(()=>{throw e})})}}t.a=a},IEaL:function(e,t,n){"use strict";n.d(t,"p",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"m",function(){return s}),n.d(t,"i",function(){return o}),n.d(t,"l",function(){return a}),n.d(t,"k",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"q",function(){return y}),n.d(t,"r",function(){return b}),n.d(t,"j",function(){return _});const i=38,r=40,s=39,o=37,a=33,l=34,c=36,u=35,h=13,d=32,p=9,m=27,f=8,g=46,v=65,y=90,b=48,_=91},IKzn:function(e,t,n){"use strict";t.a=function(){return Object(i.a)()(this)};var i=n("o1Kc")},IMoF:function(e,t,n){"use strict";function i(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(d.b)(e)}}}function r(e,t){return class extends e{get color(){return this._color}set color(e){const n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.color=t}}}function s(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(d.b)(e)}}}function o(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:t}}}function a(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new p.a}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,i=this.ngControl?this.ngControl.control:null,r=n.isErrorState(i,t);r!==e&&(this.errorState=r,this.stateChanges.next())}}}function l(e,t){const n=Array(e);for(let i=0;i<e;i++)n[i]=t(i);return n}function c(e,t){let n=t.trim();e.style.transform=n,e.style.webkitTransform=n}n.d(t,"a",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"n",function(){return x}),n.d(t,"f",function(){return _}),n.d(t,"E",function(){return i}),n.d(t,"C",function(){return r}),n.d(t,"D",function(){return s}),n.d(t,"G",function(){return o}),n.d(t,"F",function(){return a}),n.d(t,"A",function(){return O}),n.d(t,"r",function(){return F}),n.d(t,"h",function(){return w}),n.d(t,"c",function(){return T}),n.d(t,"g",function(){return S}),n.d(t,"z",function(){return L}),n.d(t,"k",function(){return P}),n.d(t,"d",function(){return N}),n.d(t,"i",function(){return B}),n.d(t,"e",function(){return j}),n.d(t,"o",function(){return z}),n.d(t,"q",function(){return U}),n.d(t,"p",function(){return V}),n.d(t,"u",function(){return ae}),n.d(t,"l",function(){return se}),n.d(t,"t",function(){return oe}),n.d(t,"s",function(){return ne}),n.d(t,"j",function(){return le}),n.d(t,"x",function(){return K}),n.d(t,"m",function(){return Y}),n.d(t,"y",function(){return Z}),n.d(t,"w",function(){return Q}),n.d(t,"v",function(){return J}),n.d(t,"B",function(){return c});var u=n("1GK5"),h=n("ZDMg"),d=n("bVHt"),p=n("9i4M"),m=n("PXDV"),f=n("AdGS"),g=n("tksO"),v=n("IEaL");class y{}y.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",y.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",y.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",y.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class b{}b.COMPLEX="375ms",b.ENTERING="225ms",b.EXITING="195ms";const _=new u.w("mat-sanity-checks");class x{constructor(e){this._sanityChecksEnabled=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Object(u._5)()&&!this._isTestEnv()}_isTestEnv(){return this._window&&(this._window.__karma__||this._window.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(this._document&&"function"==typeof getComputedStyle){const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}x.decorators=[{type:u.C,args:[{imports:[h.a],exports:[h.a],providers:[{provide:_,useValue:!0}]}]}],x.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.G},{type:u.u,args:[_]}]}]);const w=new u.w("MAT_DATE_LOCALE"),E={provide:w,useExisting:u.B};class T{constructor(){this._localeChanges=new p.a}get localeChanges(){return this._localeChanges}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),i=this.isValid(t);return n&&i?!this.compareDate(e,t):n==i}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const S=new u.w("mat-date-formats"),k="undefined"!=typeof Intl,A={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},C=l(31,e=>String(e+1)),M={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},R=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;class L extends T{constructor(e){super(),super.setLocale(e),this.useUtcForDisplay=!("object"==typeof document&&document&&/(msie|trident)/i.test(navigator.userAgent))}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(k){let t=new Intl.DateTimeFormat(this.locale,{month:e});return l(12,e=>this._stripDirectionalityCharacters(t.format(new Date(2017,e,1))))}return A[e]}getDateNames(){if(k){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric"});return l(31,t=>this._stripDirectionalityCharacters(e.format(new Date(2017,0,t+1))))}return C}getDayOfWeekNames(e){if(k){let t=new Intl.DateTimeFormat(this.locale,{weekday:e});return l(7,e=>this._stripDirectionalityCharacters(t.format(new Date(2017,0,e+1))))}return M[e]}getYearName(e){if(k){let t=new Intl.DateTimeFormat(this.locale,{year:"numeric"});return this._stripDirectionalityCharacters(t.format(e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e))}createDate(e,t,n){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let i=this._createDateWithOverflow(e,t,n);if(i.getMonth()!=t)throw Error(`Invalid date "${n}" for month with index "${t}".`);return i}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(k){this.useUtcForDisplay&&(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),t=Object.assign({},t,{timeZone:"utc"}));let n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(n.format(e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(R.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){let i=new Date(e,t,n);return e>=0&&e<100&&i.setFullYear(this.getYear(i)-1900),i}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}}L.decorators=[{type:u.v}],L.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.G},{type:u.u,args:[w]}]}]);const P={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class O{}O.decorators=[{type:u.C,args:[{providers:[{provide:T,useClass:L},E]}]}],O.ctorParameters=(()=>[]);const D=P;class F{}F.decorators=[{type:u.C,args:[{imports:[O],providers:[{provide:S,useValue:D}]}]}],F.ctorParameters=(()=>[]);class I{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))}}I.decorators=[{type:u.v}],I.ctorParameters=(()=>[]);class N{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}N.decorators=[{type:u.v}],N.ctorParameters=(()=>[]);const B=new u.w("MAT_HAMMER_OPTIONS");class j extends m.g{constructor(e,t){super(),this._hammerOptions=e,this._hammer="undefined"!=typeof window?window.Hammer:null,this.events=this._hammer?["longpress","slide","slidestart","slideend","slideright","slideleft"]:[],t&&t._checkHammerIsAvailable()}buildHammer(e){const t=new this._hammer(e,this._hammerOptions||void 0),n=new this._hammer.Pan,i=new this._hammer.Swipe,r=new this._hammer.Press,s=this._createRecognizer(n,{event:"slide",threshold:0},i),o=this._createRecognizer(r,{event:"longpress",time:500});return n.recognizeWith(i),t.add([i,r,n,s,o]),t}_createRecognizer(e,t,...n){let i=new e.constructor(t);return n.push(e),n.forEach(e=>i.recognizeWith(e)),i}}j.decorators=[{type:u.v}],j.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.G},{type:u.u,args:[B]}]},{type:x,decorators:[{type:u.G}]}]);class z{}z.decorators=[{type:u.n,args:[{selector:"[mat-line], [matLine]",host:{class:"mat-line"}}]}],z.ctorParameters=(()=>[]);class U{constructor(e,t){this._lines=e,this._element=t,this._setLineClass(this._lines.length),this._lines.changes.subscribe(()=>{this._setLineClass(this._lines.length)})}_setLineClass(e){this._resetClasses(),2===e||3===e?this._setClass(`mat-${e}-line`,!0):e>3&&this._setClass("mat-multi-line",!0)}_resetClasses(){this._setClass("mat-2-line",!1),this._setClass("mat-3-line",!1),this._setClass("mat-multi-line",!1)}_setClass(e,t){t?this._element.nativeElement.classList.add(e):this._element.nativeElement.classList.remove(e)}}class V{}V.decorators=[{type:u.C,args:[{imports:[x],exports:[z,x],declarations:[z]}]}],V.ctorParameters=(()=>[]);const G={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};G[G.FADING_IN]="FADING_IN",G[G.VISIBLE]="VISIBLE",G[G.FADING_OUT]="FADING_OUT",G[G.HIDDEN]="HIDDEN";class H{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=G.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const W=450,$=400,q=800;class X{constructor(e,t,n){this._ngZone=t,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._eventOptions=!!Object(g.d)()&&{passive:!0},this.rippleConfig={},this.rippleDisabled=!1,this.onMousedown=(e=>{const t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+q;this.rippleDisabled||t||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this.rippleConfig))}),this.onTouchStart=(e=>{this.rippleDisabled||(this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0,this.fadeInRipple(e.touches[0].clientX,e.touches[0].clientY,this.rippleConfig))}),this.onPointerUp=(()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{e.config.persistent||e.state!==G.VISIBLE||e.fadeOut()}))}),n.isBrowser&&(this._containerElement=e.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown),this._triggerEvents.set("mouseup",this.onPointerUp),this._triggerEvents.set("mouseleave",this.onPointerUp),this._triggerEvents.set("touchstart",this.onTouchStart),this._triggerEvents.set("touchend",this.onPointerUp),this.setTriggerElement(this._containerElement))}fadeInRipple(e,t,n={}){const i=this._containerElement.getBoundingClientRect();n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const r=n.radius||function(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(e,t,i),s=W/(n.speedFactor||1),o=e-i.left,a=t-i.top,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${o-r}px`,l.style.top=`${a-r}px`,l.style.height=`${2*r}px`,l.style.width=`${2*r}px`,l.style.backgroundColor=n.color||null,l.style.transitionDuration=`${s}ms`,this._containerElement.appendChild(l),function(e){window.getComputedStyle(e).getPropertyValue("opacity")}(l),l.style.transform="scale(1)";const c=new H(this,l,n);return c.state=G.FADING_IN,this._activeRipples.add(c),this.runTimeoutOutsideZone(()=>{c.state=G.VISIBLE,n.persistent||this._isPointerDown||c.fadeOut()},s),c}fadeOutRipple(e){if(!this._activeRipples.delete(e))return;const t=e.element;t.style.transitionDuration=`${$}ms`,t.style.opacity="0",e.state=G.FADING_OUT,this.runTimeoutOutsideZone(()=>{e.state=G.HIDDEN,t.parentNode.removeChild(t)},$)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setTriggerElement(e){this._triggerElement&&this._triggerEvents.forEach((e,t)=>{this._triggerElement.removeEventListener(t,e,this._eventOptions)}),e&&this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>e.addEventListener(n,t,this._eventOptions))}),this._triggerElement=e}runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const Y=new u.w("mat-ripple-global-options");class K{constructor(e,t,n,i){this.radius=0,this.speedFactor=1,this._rippleRenderer=new X(e,t,n),this._globalOptions=i||{},this._updateRippleRenderer()}ngOnChanges(e){e.trigger&&this.trigger&&this._rippleRenderer.setTriggerElement(this.trigger),this._updateRippleRenderer()}ngOnDestroy(){this._rippleRenderer.setTriggerElement(null)}launch(e,t,n=this.rippleConfig){return this._rippleRenderer.fadeInRipple(e,t,n)}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,speedFactor:this.speedFactor*(this._globalOptions.baseSpeedFactor||1),radius:this.radius,color:this.color}}_updateRippleRenderer(){this._rippleRenderer.rippleDisabled=this._globalOptions.disabled||this.disabled,this._rippleRenderer.rippleConfig=this.rippleConfig}}K.decorators=[{type:u.n,args:[{selector:"[mat-ripple], [matRipple]",exportAs:"matRipple",host:{class:"mat-ripple","[class.mat-ripple-unbounded]":"unbounded"}}]}],K.ctorParameters=(()=>[{type:u.o},{type:u.F},{type:g.a},{type:void 0,decorators:[{type:u.G},{type:u.u,args:[Y]}]}]),K.propDecorators={trigger:[{type:u.y,args:["matRippleTrigger"]}],centered:[{type:u.y,args:["matRippleCentered"]}],disabled:[{type:u.y,args:["matRippleDisabled"]}],radius:[{type:u.y,args:["matRippleRadius"]}],speedFactor:[{type:u.y,args:["matRippleSpeedFactor"]}],color:[{type:u.y,args:["matRippleColor"]}],unbounded:[{type:u.y,args:["matRippleUnbounded"]}]};class Z{}Z.decorators=[{type:u.C,args:[{imports:[x,g.b],exports:[K,x],declarations:[K]}]}],Z.ctorParameters=(()=>[]);class J{constructor(){this.state="unchecked",this.disabled=!1}}J.decorators=[{type:u.j,args:[{encapsulation:u.Z.None,preserveWhitespaces:!1,changeDetection:u.g.OnPush,selector:"mat-pseudo-checkbox",styles:[".mat-pseudo-checkbox{width:20px;height:20px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:9px;left:2px;width:16px;opacity:1}.mat-pseudo-checkbox-checked::after{top:5px;left:3px;width:12px;height:5px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1}"],template:"",host:{class:"mat-pseudo-checkbox","[class.mat-pseudo-checkbox-indeterminate]":'state === "indeterminate"',"[class.mat-pseudo-checkbox-checked]":'state === "checked"',"[class.mat-pseudo-checkbox-disabled]":"disabled"}}]}],J.ctorParameters=(()=>[]),J.propDecorators={state:[{type:u.y}],disabled:[{type:u.y}]};class Q{}Q.decorators=[{type:u.C,args:[{exports:[J],declarations:[J]}]}],Q.ctorParameters=(()=>[]);const ee=i(class{});let te=0;class ne extends ee{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${te++}`}}ne.decorators=[{type:u.j,args:[{selector:"mat-optgroup",exportAs:"matOptgroup",template:'<label class="mat-optgroup-label" [id]="_labelId">{{ label }}</label><ng-content select="mat-option"></ng-content>',encapsulation:u.Z.None,preserveWhitespaces:!1,changeDetection:u.g.OnPush,inputs:["disabled"],host:{class:"mat-optgroup",role:"group","[class.mat-optgroup-disabled]":"disabled","[attr.aria-disabled]":"disabled.toString()","[attr.aria-labelledby]":"_labelId"}}]}],ne.ctorParameters=(()=>[]),ne.propDecorators={label:[{type:u.y}]};let ie=0;class re{constructor(e,t=!1){this.source=e,this.isUserInput=t}}const se=new u.w("MAT_OPTION_PARENT_COMPONENT");class oe{constructor(e,t,n,i){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._id=`mat-option-${ie++}`,this.onSelectionChange=new u.q}get multiple(){return this._parent&&this._parent.multiple}get id(){return this._id}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Object(d.b)(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent()}deselect(){this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent()}focus(){const e=this._getHostElement();"function"==typeof e.focus&&e.focus()}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){e.keyCode!==v.f&&e.keyCode!==v.n||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new re(this,e))}static countGroupLabelsBeforeOption(e,t,n){if(n.length){let i=t.toArray(),r=n.toArray(),s=0;for(let t=0;t<e+1;t++)i[t].group&&i[t].group===r[s]&&s++;return s}return 0}}oe.decorators=[{type:u.j,args:[{selector:"mat-option",exportAs:"matOption",host:{role:"option","[attr.tabindex]":"_getTabIndex()","[class.mat-selected]":"selected","[class.mat-option-multiple]":"multiple","[class.mat-active]":"active","[id]":"id","[attr.aria-selected]":"selected.toString()","[attr.aria-disabled]":"disabled.toString()","[class.mat-option-disabled]":"disabled","(click)":"_selectViaInteraction()","(keydown)":"_handleKeydown($event)",class:"mat-option"},template:'<mat-pseudo-checkbox *ngIf="multiple" class="mat-option-pseudo-checkbox" [state]="selected ? \'checked\' : \'\'" [disabled]="disabled"></mat-pseudo-checkbox><span class="mat-option-text"><ng-content></ng-content></span><div class="mat-option-ripple" mat-ripple [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="disabled || disableRipple"></div>',encapsulation:u.Z.None,preserveWhitespaces:!1,changeDetection:u.g.OnPush}]}],oe.ctorParameters=(()=>[{type:u.o},{type:u.h},{type:void 0,decorators:[{type:u.G},{type:u.u,args:[se]}]},{type:ne,decorators:[{type:u.G}]}]),oe.propDecorators={value:[{type:u.y}],disabled:[{type:u.y}],onSelectionChange:[{type:u.H}]};class ae{}ae.decorators=[{type:u.C,args:[{imports:[Z,f.a,Q],exports:[oe,ne],declarations:[oe,ne]}]}],ae.ctorParameters=(()=>[]);const le=new u.w("mat-label-global-options")},IP8f:function(e,t){},J9Eb:function(e,t){e.exports.id="ace/mode/html_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/html/saxparser",["require","exports","module"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error("Cannot find module \'"+o+"\'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function isScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI?"applet"===node.localName||"caption"===node.localName||"marquee"===node.localName||"object"===node.localName||"table"===node.localName||"td"===node.localName||"th"===node.localName:"http://www.w3.org/1998/Math/MathML"===node.namespaceURI?"mi"===node.localName||"mo"===node.localName||"mn"===node.localName||"ms"===node.localName||"mtext"===node.localName||"annotation-xml"===node.localName:"http://www.w3.org/2000/svg"===node.namespaceURI?"foreignObject"===node.localName||"desc"===node.localName||"title"===node.localName:void 0}function isListItemScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ol"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ul"===node.localName}function isTableScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"table"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableBodyScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tbody"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tfoot"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"thead"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableRowScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tr"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isButtonScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"button"===node.localName}function isSelectScopeMarker(node){return!("http://www.w3.org/1999/xhtml"===node.namespaceURI&&"optgroup"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"option"===node.localName)}function ElementStack(){this.elements=[],this.rootNode=null,this.headElement=null,this.bodyElement=null}ElementStack.prototype._inScope=function(localName,isMarker){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.localName===localName)return!0;if(isMarker(node))return!1}},ElementStack.prototype.push=function(item){this.elements.push(item)},ElementStack.prototype.pushHtmlElement=function(item){this.rootNode=item.node,this.push(item)},ElementStack.prototype.pushHeadElement=function(item){this.headElement=item.node,this.push(item)},ElementStack.prototype.pushBodyElement=function(item){this.bodyElement=item.node,this.push(item)},ElementStack.prototype.pop=function(){return this.elements.pop()},ElementStack.prototype.remove=function(item){this.elements.splice(this.elements.indexOf(item),1)},ElementStack.prototype.popUntilPopped=function(localName){var element;do element=this.pop();while(element.localName!=localName)},ElementStack.prototype.popUntilTableScopeMarker=function(){for(;!isTableScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableBodyScopeMarker=function(){for(;!isTableBodyScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableRowScopeMarker=function(){for(;!isTableRowScopeMarker(this.top);)this.pop()},ElementStack.prototype.item=function(index){return this.elements[index]},ElementStack.prototype.contains=function(element){return-1!==this.elements.indexOf(element)},ElementStack.prototype.inScope=function(localName){return this._inScope(localName,isScopeMarker)},ElementStack.prototype.inListItemScope=function(localName){return this._inScope(localName,isListItemScopeMarker)},ElementStack.prototype.inTableScope=function(localName){return this._inScope(localName,isTableScopeMarker)},ElementStack.prototype.inButtonScope=function(localName){return this._inScope(localName,isButtonScopeMarker)},ElementStack.prototype.inSelectScope=function(localName){return this._inScope(localName,isSelectScopeMarker)},ElementStack.prototype.hasNumberedHeaderElementInScope=function(){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.isNumberedHeader())return!0;if(isScopeMarker(node))return!1}},ElementStack.prototype.furthestBlockForFormattingElement=function(element){for(var furthestBlock=null,i=this.elements.length-1;i>=0;i--){var node=this.elements[i];\nif(node.node===element)break;node.isSpecial()&&(furthestBlock=node)}return furthestBlock},ElementStack.prototype.findIndex=function(localName){for(var i=this.elements.length-1;i>=0;i--)if(this.elements[i].localName==localName)return i;return-1},ElementStack.prototype.remove_openElements_until=function(callback){for(var element,finished=!1;!finished;)element=this.elements.pop(),finished=callback(element);return element},Object.defineProperty(ElementStack.prototype,"top",{get:function(){return this.elements[this.elements.length-1]}}),Object.defineProperty(ElementStack.prototype,"length",{get:function(){return this.elements.length}}),exports.ElementStack=ElementStack},{}],2:[function(_dereq_,module,exports){function isAlphaNumeric(c){return c>="0"&&"9">=c||c>="a"&&"z">=c||c>="A"&&"Z">=c}function isHexDigit(c){return c>="0"&&"9">=c||c>="a"&&"f">=c||c>="A"&&"F">=c}function isDecimalDigit(c){return c>="0"&&"9">=c}var entities=_dereq_("html5-entities"),InputStream=_dereq_("./InputStream").InputStream,namedEntityPrefixes={};Object.keys(entities).forEach(function(entityKey){for(var i=0;entityKey.length>i;i++)namedEntityPrefixes[entityKey.substring(0,i+1)]=!0});var EntityParser={};EntityParser.consumeEntity=function(buffer,tokenizer,additionalAllowedCharacter){var decodedCharacter="",consumedCharacters="",ch=buffer.char();if(ch===InputStream.EOF)return!1;if(consumedCharacters+=ch,"\t"==ch||"\\n"==ch||"\v"==ch||" "==ch||"<"==ch||"&"==ch)return buffer.unget(consumedCharacters),!1;if(additionalAllowedCharacter===ch)return buffer.unget(consumedCharacters),!1;if("#"==ch){if(ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch;var radix=10,isDigit=isDecimalDigit;if("x"==ch||"X"==ch){if(radix=16,isDigit=isHexDigit,ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch}if(isDigit(ch)){for(var code="";ch!==InputStream.EOF&&isDigit(ch);)code+=ch,ch=buffer.char();code=parseInt(code,radix);var replacement=this.replaceEntityNumbers(code);if(replacement&&(tokenizer._parseError("invalid-numeric-entity-replaced"),code=replacement),code>65535&&1114111>=code){code-=65536;var first=((1047552&code)>>10)+55296,second=(1023&code)+56320;decodedCharacter=String.fromCharCode(first,second)}else decodedCharacter=String.fromCharCode(code);return";"!==ch&&(tokenizer._parseError("numeric-entity-without-semicolon"),buffer.unget(ch)),decodedCharacter}return buffer.unget(consumedCharacters),tokenizer._parseError("expected-numeric-entity"),!1}if(ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch){for(var mostRecentMatch="";namedEntityPrefixes[consumedCharacters]&&(entities[consumedCharacters]&&(mostRecentMatch=consumedCharacters),";"!=ch)&&(ch=buffer.char(),ch!==InputStream.EOF);)consumedCharacters+=ch;return mostRecentMatch?(decodedCharacter=entities[mostRecentMatch],";"===ch||!additionalAllowedCharacter||!isAlphaNumeric(ch)&&"="!==ch?(consumedCharacters.length>mostRecentMatch.length&&buffer.unget(consumedCharacters.substring(mostRecentMatch.length)),";"!==ch&&tokenizer._parseError("named-entity-without-semicolon"),decodedCharacter):(buffer.unget(consumedCharacters),!1)):(tokenizer._parseError("expected-named-entity"),buffer.unget(consumedCharacters),!1)}},EntityParser.replaceEntityNumbers=function(c){switch(c){case 0:return 65533;case 19:return 16;case 128:return 8364;case 129:return 129;case 130:return 8218;case 131:return 402;case 132:return 8222;case 133:return 8230;case 134:return 8224;case 135:return 8225;case 136:return 710;case 137:return 8240;case 138:return 352;case 139:return 8249;case 140:return 338;case 141:return 141;case 142:return 381;case 143:return 143;case 144:return 144;case 145:return 8216;case 146:return 8217;case 147:return 8220;case 148:return 8221;case 149:return 8226;case 150:return 8211;case 151:return 8212;case 152:return 732;case 153:return 8482;case 154:return 353;case 155:return 8250;case 156:return 339;case 157:return 157;case 158:return 382;case 159:return 376;default:if(c>=55296&&57343>=c||c>1114111)return 65533;if(c>=1&&8>=c||c>=14&&31>=c||c>=127&&159>=c||c>=64976&&65007>=c||11==c||65534==c||131070==c||3145726==c||196607==c||262142==c||262143==c||327678==c||327679==c||393214==c||393215==c||458750==c||458751==c||524286==c||524287==c||589822==c||589823==c||655358==c||655359==c||720894==c||720895==c||786430==c||786431==c||851966==c||851967==c||917502==c||917503==c||983038==c||983039==c||1048574==c||1048575==c||1114110==c||1114111==c)return c}},exports.EntityParser=EntityParser},{"./InputStream":3,"html5-entities":12}],3:[function(_dereq_,module,exports){function InputStream(){this.data="",this.start=0,this.committed=0,this.eof=!1,this.lastLocation={line:0,column:0}}InputStream.EOF=-1,InputStream.DRAIN=-2,InputStream.prototype={slice:function(){if(this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}return this.data.slice(this.start,this.data.length)},"char":function(){if(!this.eof&&this.start>=this.data.length-1)throw InputStream.DRAIN;if(this.start>=this.data.length)return InputStream.EOF;var ch=this.data[this.start++];return"\\r"===ch&&(ch="\\n"),ch},advance:function(amount){if(this.start+=amount,this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}this.committed>this.data.length/2&&(this.lastLocation=this.location(),this.data=this.data.slice(this.committed),this.start=this.start-this.committed,this.committed=0)},matchWhile:function(re){if(this.eof&&this.start>=this.data.length)return"";var r=RegExp("^"+re+"+"),m=r.exec(this.slice());if(m){if(!this.eof&&m[0].length==this.data.length-this.start)throw InputStream.DRAIN;return this.advance(m[0].length),m[0]}return""},matchUntil:function(re){var m,s;if(s=this.slice(),s===InputStream.EOF)return"";if(m=RegExp(re+(this.eof?"|$":"")).exec(s)){var t=this.data.slice(this.start,this.start+m.index);return this.advance(m.index),t.replace(/\\r/g,"\\n").replace(/\\n{2,}/g,"\\n")}throw InputStream.DRAIN},append:function(data){this.data+=data},shift:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;if(this.eof&&this.start>=this.data.length)return InputStream.EOF;var d=""+this.data.slice(this.start,this.start+n);return this.advance(Math.min(n,this.data.length-this.start)),d},peek:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;return this.eof&&this.start>=this.data.length?InputStream.EOF:""+this.data.slice(this.start,Math.min(this.start+n,this.data.length))},length:function(){return this.data.length-this.start-1},unget:function(d){d!==InputStream.EOF&&(this.start-=d.length)},undo:function(){this.start=this.committed},commit:function(){this.committed=this.start},location:function(){var lastLine=this.lastLocation.line,lastColumn=this.lastLocation.column,read=this.data.slice(0,this.committed),newlines=read.match(/\\n/g),line=newlines?lastLine+newlines.length:lastLine,column=newlines?read.length-read.lastIndexOf("\\n")-1:lastColumn+read.length;return{line:line,column:column}}},exports.InputStream=InputStream},{}],4:[function(_dereq_,module,exports){function StackItem(namespaceURI,localName,attributes,node){this.localName=localName,this.namespaceURI=namespaceURI,this.attributes=attributes,this.node=node}function getAttribute(item,name){for(var i=0;item.attributes.length>i;i++)if(item.attributes[i].nodeName==name)return item.attributes[i].nodeValue;return null}var SpecialElements={"http://www.w3.org/1999/xhtml":["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],"http://www.w3.org/1998/Math/MathML":["mi","mo","mn","ms","mtext","annotation-xml"],"http://www.w3.org/2000/svg":["foreignObject","desc","title"]};StackItem.prototype.isSpecial=function(){return this.namespaceURI in SpecialElements&&SpecialElements[this.namespaceURI].indexOf(this.localName)>-1},StackItem.prototype.isFosterParenting=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"table"===this.localName||"tbody"===this.localName||"tfoot"===this.localName||"thead"===this.localName||"tr"===this.localName:!1},StackItem.prototype.isNumberedHeader=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"h1"===this.localName||"h2"===this.localName||"h3"===this.localName||"h4"===this.localName||"h5"===this.localName||"h6"===this.localName:!1},StackItem.prototype.isForeign=function(){return"http://www.w3.org/1999/xhtml"!=this.namespaceURI},StackItem.prototype.isHtmlIntegrationPoint=function(){if("http://www.w3.org/1998/Math/MathML"===this.namespaceURI){if("annotation-xml"!==this.localName)return!1;var encoding=getAttribute(this,"encoding");return encoding?(encoding=encoding.toLowerCase(),"text/html"===encoding||"application/xhtml+xml"===encoding):!1}return"http://www.w3.org/2000/svg"===this.namespaceURI?"foreignObject"===this.localName||"desc"===this.localName||"title"===this.localName:!1},StackItem.prototype.isMathMLTextIntegrationPoint=function(){return"http://www.w3.org/1998/Math/MathML"===this.namespaceURI?"mi"===this.localName||"mo"===this.localName||"mn"===this.localName||"ms"===this.localName||"mtext"===this.localName:!1},exports.StackItem=StackItem},{}],5:[function(_dereq_,module,exports){function isWhitespace(c){return" "===c||"\\n"===c||"\t"===c||"\\r"===c||"\\f"===c}function isAlpha(c){return c>="A"&&"Z">=c||c>="a"&&"z">=c}function Tokenizer(tokenHandler){this._tokenHandler=tokenHandler,this._state=Tokenizer.DATA,this._inputStream=new InputStream,this._currentToken=null,this._temporaryBuffer="",this._additionalAllowedCharacter=""}var InputStream=_dereq_("./InputStream").InputStream,EntityParser=_dereq_("./EntityParser").EntityParser;Tokenizer.prototype._parseError=function(code,args){this._tokenHandler.parseError(code,args)},Tokenizer.prototype._emitToken=function(token){if("StartTag"===token.type)for(var i=1;token.data.length>i;i++)token.data[i].nodeName||token.data.splice(i--,1);else"EndTag"===token.type&&(token.selfClosing&&this._parseError("self-closing-flag-on-end-tag"),0!==token.data.length&&this._parseError("attributes-in-end-tag"));this._tokenHandler.processToken(token),"StartTag"===token.type&&token.selfClosing&&!this._tokenHandler.isSelfClosingFlagAcknowledged()&&this._parseError("non-void-element-with-trailing-solidus",{name:token.name})},Tokenizer.prototype._emitCurrentToken=function(){this._state=Tokenizer.DATA,this._emitToken(this._currentToken)},Tokenizer.prototype._currentAttribute=function(){return this._currentToken.data[this._currentToken.data.length-1]},Tokenizer.prototype.setState=function(state){this._state=state},Tokenizer.prototype.tokenize=function(source){function data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_data_state);else if("<"===data)tokenizer.setState(tag_open_state);else if("\\0"===data)tokenizer._emitToken({type:"Characters",data:data}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_data_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(data_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rcdata_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_rcdata_state);else if("<"===data)tokenizer.setState(rcdata_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_rcdata_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(rcdata_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rawtext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(rawtext_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function plaintext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(script_data_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function rcdata_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rcdata_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rcdata_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rawtext_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rawtext_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rawtext_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function script_data_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_end_tag_open_state)):"!"===data?(tokenizer._emitToken({type:"Characters",data:"<!"}),tokenizer.setState(script_data_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(script_data_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escape_start_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_dash_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escaped_state(buffer){var data=buffer.char();if(data===InputStream.EOF)buffer.unget(data),tokenizer.setState(data_state);else if("-"===data)tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_state);else if("<"===data)tokenizer.setState(script_data_escaped_less_then_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("<|-|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_less_then_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_escaped_end_tag_open_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:"<"+data}),this._temporaryBuffer=data,tokenizer.setState(script_data_double_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer=data,tokenizer.setState(script_data_escaped_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escape_start_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_double_escaped_state):tokenizer.setState(script_data_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escaped_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit()):(tokenizer._emitToken({type:"Characters",data:data}),buffer.commit()),!0}function script_data_double_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),buffer.commit()):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(tokenizer._emitToken({type:"Characters",data:"/"}),this._temporaryBuffer="",tokenizer.setState(script_data_double_escape_end_state)):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escape_end_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_escaped_state):tokenizer.setState(script_data_double_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("bare-less-than-sign-at-eof"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"StartTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):"!"===data?tokenizer.setState(markup_declaration_open_state):"/"===data?tokenizer.setState(close_tag_open_state):">"===data?(tokenizer._parseError("expected-tag-name-but-got-right-bracket"),tokenizer._emitToken({type:"Characters",data:"<>"}),tokenizer.setState(data_state)):"?"===data?(tokenizer._parseError("expected-tag-name-but-got-question-mark"),buffer.unget(data),tokenizer.setState(bogus_comment_state)):(tokenizer._parseError("expected-tag-name"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)),!0}function close_tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-closing-tag-but-got-eof"),tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"EndTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):">"===data?(tokenizer._parseError("expected-closing-tag-but-got-right-bracket"),tokenizer.setState(data_state)):(tokenizer._parseError("expected-closing-tag-but-got-char",{data:data}),buffer.unget(data),tokenizer.setState(bogus_comment_state)),!0}function tag_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-tag-name"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):isAlpha(data)?tokenizer._currentToken.name+=data.toLowerCase():">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.name+="\ufffd"):tokenizer._currentToken.name+=data,buffer.commit(),!0}function before_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-name-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data.toLowerCase(),nodeValue:""}),tokenizer.setState(attribute_name_state)):">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"="===data||"<"===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"\ufffd",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function attribute_name_state(buffer){var data=buffer.char(),leavingThisState=!0,shouldEmit=!1;if(data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-name"),buffer.unget(data),tokenizer.setState(data_state),shouldEmit=!0):"="===data?tokenizer.setState(before_attribute_value_state):isAlpha(data)?(tokenizer._currentAttribute().nodeName+=data.toLowerCase(),leavingThisState=!1):">"===data?shouldEmit=!0:isWhitespace(data)?tokenizer.setState(after_attribute_name_state):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeName+="\ufffd"):(tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1),leavingThisState){for(var attributes=tokenizer._currentToken.data,currentAttribute=attributes[attributes.length-1],i=attributes.length-2;i>=0;i--)if(currentAttribute.nodeName===attributes[i].nodeName){tokenizer._parseError("duplicate-attribute",{name:currentAttribute.nodeName}),currentAttribute.nodeName=null;break}shouldEmit&&tokenizer._emitCurrentToken()}else buffer.commit();return!0}function after_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-end-of-tag-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;"="===data?tokenizer.setState(before_attribute_value_state):">"===data?tokenizer._emitCurrentToken():isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"<"===data?(tokenizer._parseError("invalid-character-after-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"\ufffd",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function before_attribute_value_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-value-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;\'"\'===data?tokenizer.setState(attribute_value_double_quoted_state):"&"===data?(tokenizer.setState(attribute_value_unquoted_state),buffer.unget(data)):"\'"===data?tokenizer.setState(attribute_value_single_quoted_state):">"===data?(tokenizer._parseError("expected-attribute-value-but-got-right-bracket"),tokenizer._emitCurrentToken()):"="===data||"<"===data||"`"===data?(tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd"):(tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state))}return!0\n}function attribute_value_double_quoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-in-attribute-value-double-quote"),buffer.unget(data),tokenizer.setState(data_state);else if(\'"\'===data)tokenizer.setState(after_attribute_value_state);else if("&"===data)this._additionalAllowedCharacter=\'"\',tokenizer.setState(character_reference_in_attribute_value_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd";else{var s=buffer.matchUntil(\'[\\0"&]\');data+=s,tokenizer._currentAttribute().nodeValue+=data}return!0}function attribute_value_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-value-single-quote"),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_attribute_value_state):"&"===data?(this._additionalAllowedCharacter="\'",tokenizer.setState(character_reference_in_attribute_value_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd"):tokenizer._currentAttribute().nodeValue+=data+buffer.matchUntil("\\0|[\'&]"),!0}function attribute_value_unquoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state);else if(isWhitespace(data))tokenizer.setState(before_attribute_name_state);else if("&"===data)this._additionalAllowedCharacter=">",tokenizer.setState(character_reference_in_attribute_value_state);else if(">"===data)tokenizer._emitCurrentToken();else if(\'"\'===data||"\'"===data||"="===data||"`"===data||"<"===data)tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,buffer.commit();else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd";else{var o=buffer.matchUntil("\\0|[\t\\n\v\\f \\r&<>\\"\'=`]");o===InputStream.EOF&&(tokenizer._parseError("eof-in-attribute-value-no-quotes"),tokenizer._emitCurrentToken()),buffer.commit(),tokenizer._currentAttribute().nodeValue+=data+o}return!0}function character_reference_in_attribute_value_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer,this._additionalAllowedCharacter);return this._currentAttribute().nodeValue+=character||"&",\'"\'===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_double_quoted_state):"\'"===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_single_quoted_state):">"===this._additionalAllowedCharacter&&tokenizer.setState(attribute_value_unquoted_state),!0}function after_attribute_value_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"/"===data?tokenizer.setState(self_closing_tag_state):(tokenizer._parseError("unexpected-character-after-attribute-value"),buffer.unget(data),tokenizer.setState(before_attribute_name_state)),!0}function self_closing_tag_state(buffer){var c=buffer.char();return c===InputStream.EOF?(tokenizer._parseError("unexpected-eof-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(data_state)):">"===c?(tokenizer._currentToken.selfClosing=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-character-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(before_attribute_name_state)),!0}function bogus_comment_state(buffer){var data=buffer.matchUntil(">");return data=data.replace(/\\u0000/g,"\ufffd"),buffer.char(),tokenizer._emitToken({type:"Comment",data:data}),tokenizer.setState(data_state),!0}function markup_declaration_open_state(buffer){var chars=buffer.shift(2);if("--"===chars)tokenizer._currentToken={type:"Comment",data:""},tokenizer.setState(comment_start_state);else{var newchars=buffer.shift(5);if(newchars===InputStream.EOF||chars===InputStream.EOF)return tokenizer._parseError("expected-dashes-or-doctype"),tokenizer.setState(bogus_comment_state),buffer.unget(chars),!0;chars+=newchars,"DOCTYPE"===chars.toUpperCase()?(tokenizer._currentToken={type:"Doctype",name:"",publicId:null,systemId:null,forceQuirks:!1},tokenizer.setState(doctype_state)):tokenizer._tokenHandler.isCdataSectionAllowed()&&"[CDATA["===chars?tokenizer.setState(cdata_section_state):(tokenizer._parseError("expected-dashes-or-doctype"),buffer.unget(chars),tokenizer.setState(bogus_comment_state))}return!0}function cdata_section_state(buffer){var data=buffer.matchUntil("]]>");return buffer.shift(3),data&&tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(data_state),!0}function comment_start_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_start_dash_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="\ufffd"):(tokenizer._currentToken.data+=data,tokenizer.setState(comment_state)),!0}function comment_start_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="\ufffd"):(tokenizer._currentToken.data+="-"+data,tokenizer.setState(comment_state)),!0}function comment_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_dash_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="\ufffd"):(tokenizer._currentToken.data+=data,buffer.commit()),!0}function comment_end_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="-\ufffd",tokenizer.setState(comment_state)):(tokenizer._currentToken.data+="-"+data+buffer.matchUntil("\\0|-"),buffer.char()),!0}function comment_end_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-double-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"!"===data?(tokenizer._parseError("unexpected-bang-after-double-dash-in-comment"),tokenizer.setState(comment_end_bang_state)):"-"===data?(tokenizer._parseError("unexpected-dash-after-double-dash-in-comment"),tokenizer._currentToken.data+=data):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="--\ufffd",tokenizer.setState(comment_state)):(tokenizer._parseError("unexpected-char-in-comment"),tokenizer._currentToken.data+="--"+data,tokenizer.setState(comment_state)),!0}function comment_end_bang_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-bang-state"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"-"===data?(tokenizer._currentToken.data+="--!",tokenizer.setState(comment_end_dash_state)):(tokenizer._currentToken.data+="--!"+data,tokenizer.setState(comment_state)),!0}function doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_name_state):(tokenizer._parseError("need-space-after-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_name_state)),!0}function before_doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(">"===data?(tokenizer._parseError("expected-doctype-name-but-got-right-bracket"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name=data,tokenizer.setState(doctype_name_state))),!0}function doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype-name"),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(after_doctype_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name+=data,buffer.commit()),!0}function after_doctype_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype"),tokenizer.setState(data_state),tokenizer._emitCurrentToken();else if(isWhitespace(data));else if(">"===data)tokenizer.setState(data_state),tokenizer._emitCurrentToken();else{if(["p","P"].indexOf(data)>-1){var expected=[["u","U"],["b","B"],["l","L"],["i","I"],["c","C"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_public_keyword_state),!0}else if(["s","S"].indexOf(data)>-1){var expected=[["y","Y"],["s","S"],["t","T"],["e","E"],["m","M"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_system_keyword_state),!0}buffer.unget(data),tokenizer._currentToken.forceQuirks=!0,data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("expected-space-or-right-bracket-in-doctype",{data:data}),tokenizer.setState(bogus_doctype_state))}return!0}function after_doctype_public_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_public_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)),!0}function before_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_public_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function doctype_public_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"\'"===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function after_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(between_doctype_public_and_system_identifiers_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state)),!0}function between_doctype_public_and_system_identifiers_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function after_doctype_system_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_doctype_system_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)),!0}function before_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_system_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):\'"\'===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function doctype_system_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function after_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer.setState(bogus_doctype_state))),!0}function bogus_doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):">"===data&&(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)),!0}Tokenizer.DATA=data_state,Tokenizer.RCDATA=rcdata_state,Tokenizer.RAWTEXT=rawtext_state,Tokenizer.SCRIPT_DATA=script_data_state,Tokenizer.PLAINTEXT=plaintext_state,this._state=Tokenizer.DATA,this._inputStream.append(source),this._tokenHandler.startTokenization(this),this._inputStream.eof=!0;for(var tokenizer=this;this._state.call(this,this._inputStream););},Object.defineProperty(Tokenizer.prototype,"lineNumber",{get:function(){return this._inputStream.location().line}}),Object.defineProperty(Tokenizer.prototype,"columnNumber",{get:function(){return this._inputStream.location().column}}),exports.Tokenizer=Tokenizer},{"./EntityParser":2,"./InputStream":3}],6:[function(_dereq_,module,exports){function isWhitespace(ch){return" "===ch||"\\n"===ch||"\t"===ch||"\\r"===ch||"\\f"===ch}function isWhitespaceOrReplacementCharacter(ch){return isWhitespace(ch)||"\ufffd"===ch}function isAllWhitespace(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespace(ch))return!1}return!0}function isAllWhitespaceOrReplacementCharacters(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespaceOrReplacementCharacter(ch))return!1}return!0}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute}return null}function CharacterBuffer(characters){this.characters=characters,this.current=0,this.end=this.characters.length}function TreeBuilder(){this.tokenizer=null,this.errorHandler=null,this.scriptingEnabled=!1,this.document=null,this.head=null,this.form=null,this.openElements=new ElementStack,this.activeFormattingElements=[],this.insertionMode=null,this.insertionModeName="",this.originalInsertionMode="",this.inQuirksMode=!1,this.compatMode="no quirks",this.framesetOk=!0,this.redirectAttachToFosterParent=!1,this.selfClosingFlagAcknowledged=!1,this.context="",this.pendingTableCharacters=[],this.shouldSkipLeadingNewline=!1;var tree=this,modes=this.insertionModes={};modes.base={end_tag_handlers:{"-default":"endTagOther"},start_tag_handlers:{"-default":"startTagOther"},processEOF:function(){tree.generateImpliedEndTags(),tree.openElements.length>2?tree.parseError("expected-closing-tag-but-got-eof"):2==tree.openElements.length&&"body"!=tree.openElements.item(1).localName?tree.parseError("expected-closing-tag-but-got-eof"):tree.context&&tree.openElements.length>1},processComment:function(data){tree.insertComment(data,tree.currentStackItem().node)},processDoctype:function(){tree.parseError("unexpected-doctype")},processStartTag:function(name,attributes,selfClosing){if(this[this.start_tag_handlers[name]])this[this.start_tag_handlers[name]](name,attributes,selfClosing);else{if(!this[this.start_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.start_tag_handlers["-default"]](name,attributes,selfClosing)}},processEndTag:function(name){if(this[this.end_tag_handlers[name]])this[this.end_tag_handlers[name]](name);else{if(!this[this.end_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.end_tag_handlers["-default"]](name)}},startTagHtml:function(name,attributes){modes.inBody.startTagHtml(name,attributes)}},modes.initial=Object.create(modes.base),modes.initial.processEOF=function(){tree.parseError("expected-doctype-but-got-eof"),this.anythingElse(),tree.insertionMode.processEOF()},modes.initial.processComment=function(data){tree.insertComment(data,tree.document)},modes.initial.processDoctype=function(name,publicId,systemId,forceQuirks){function publicIdStartsWith(string){return 0===publicId.toLowerCase().indexOf(string)}tree.insertDoctype(name||"",publicId||"",systemId||""),forceQuirks||"html"!=name||null!=publicId&&(["+//silmaril//dtd html pro v0r11 19970101//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//as//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//ietf//dtd html//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o\'reilly and associates//dtd html 2.0//","-//o\'reilly and associates//dtd html extended 1.0//","-//spyglass//dtd html 2.0 extended//","-//sq//dtd html 2.0 hotmetal + extensions//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//","html"].some(publicIdStartsWith)||["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"].indexOf(publicId.toLowerCase())>-1||null==systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].some(publicIdStartsWith))||null!=systemId&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"==systemId.toLowerCase()?(tree.compatMode="quirks",tree.parseError("quirky-doctype")):null!=publicId&&(["-//w3c//dtd xhtml 1.0 transitional//","-//w3c//dtd xhtml 1.0 frameset//"].some(publicIdStartsWith)||null!=systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].indexOf(publicId.toLowerCase())>-1)?(tree.compatMode="limited quirks",tree.parseError("almost-standards-doctype")):"-//W3C//DTD HTML 4.0//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/REC-html40/strict.dtd"==systemId)||"-//W3C//DTD HTML 4.01//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/html4/strict.dtd"==systemId)||"-//W3C//DTD XHTML 1.0 Strict//EN"==publicId&&"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"==systemId||"-//W3C//DTD XHTML 1.1//EN"==publicId&&"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"==systemId||(null!=systemId&&"about:legacy-compat"!=systemId||null!=publicId)&&tree.parseError("unknown-doctype"),tree.setInsertionMode("beforeHTML")},modes.initial.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(tree.parseError("expected-doctype-but-got-chars"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.initial.processStartTag=function(name,attributes,selfClosing){tree.parseError("expected-doctype-but-got-start-tag",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.initial.processEndTag=function(name){tree.parseError("expected-doctype-but-got-end-tag",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.initial.anythingElse=function(){tree.compatMode="quirks",tree.setInsertionMode("beforeHTML")},modes.beforeHTML=Object.create(modes.base),modes.beforeHTML.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.beforeHTML.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.beforeHTML.processComment=function(data){tree.insertComment(data,tree.document)},modes.beforeHTML.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.beforeHTML.startTagHtml=function(name,attributes){tree.insertHtmlElement(attributes),tree.setInsertionMode("beforeHead")},modes.beforeHTML.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHTML.processEndTag=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.beforeHTML.anythingElse=function(){tree.insertHtmlElement(),tree.setInsertionMode("beforeHead")},modes.afterAfterBody=Object.create(modes.base),modes.afterAfterBody.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.afterAfterBody.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterBody.processDoctype=function(data){modes.inBody.processDoctype(data)},modes.afterAfterBody.startTagHtml=function(data,attributes){modes.inBody.startTagHtml(data,attributes)},modes.afterAfterBody.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterAfterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterAfterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody=Object.create(modes.base),modes.afterBody.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterBody.processComment=function(data){tree.insertComment(data,tree.openElements.rootNode)},modes.afterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody.processStartTag=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterBody.endTagHtml=function(){tree.context?tree.parseError("end-html-in-innerhtml"):tree.setInsertionMode("afterAfterBody")},modes.afterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterFrameset=Object.create(modes.base),modes.afterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoframes","-default":"startTagOther"},modes.afterFrameset.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&tree.insertText(whitespace),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterFrameset.startTagNoframes=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-after-frameset",{name:name})},modes.afterFrameset.endTagHtml=function(){tree.setInsertionMode("afterAfterFrameset")},modes.afterFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-frameset",{name:name})},modes.beforeHead=Object.create(modes.base),modes.beforeHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead","-default":"startTagOther"},modes.beforeHead.end_tag_handlers={html:"endTagImplyHead",head:"endTagImplyHead",body:"endTagImplyHead",br:"endTagImplyHead","-default":"endTagOther"},modes.beforeHead.processEOF=function(){this.startTagHead("head",[]),tree.insertionMode.processEOF()},modes.beforeHead.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.startTagHead("head",[]),tree.insertionMode.processCharacters(buffer))},modes.beforeHead.startTagHead=function(name,attributes){tree.insertHeadElement(attributes),tree.setInsertionMode("inHead")},modes.beforeHead.startTagOther=function(name,attributes,selfClosing){this.startTagHead("head",[]),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHead.endTagImplyHead=function(name){this.startTagHead("head",[]),tree.insertionMode.processEndTag(name)},modes.beforeHead.endTagOther=function(name){tree.parseError("end-tag-after-implied-root",{name:name})},modes.inHead=Object.create(modes.base),modes.inHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",title:"startTagTitle",script:"startTagScript",style:"startTagNoFramesStyle",noscript:"startTagNoScript",noframes:"startTagNoFramesStyle",base:"startTagBaseBasefontBgsoundLink",basefont:"startTagBaseBasefontBgsoundLink",bgsound:"startTagBaseBasefontBgsoundLink",link:"startTagBaseBasefontBgsoundLink",meta:"startTagMeta","-default":"startTagOther"},modes.inHead.end_tag_handlers={head:"endTagHead",html:"endTagHtmlBodyBr",body:"endTagHtmlBodyBr",br:"endTagHtmlBodyBr","-default":"endTagOther"},modes.inHead.processEOF=function(){var name=tree.currentStackItem().localName;\n-1!=["title","style","script"].indexOf(name)&&(tree.parseError("expected-named-closing-tag-but-got-eof",{name:name}),tree.popElement()),this.anythingElse(),tree.insertionMode.processEOF()},modes.inHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inHead.startTagHead=function(){tree.parseError("two-heads-are-not-better-than-one")},modes.inHead.startTagTitle=function(name,attributes){tree.processGenericRCDATAStartTag(name,attributes)},modes.inHead.startTagNoScript=function(name,attributes){return tree.scriptingEnabled?tree.processGenericRawTextStartTag(name,attributes):(tree.insertElement(name,attributes),tree.setInsertionMode("inHeadNoscript"),void 0)},modes.inHead.startTagNoFramesStyle=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inHead.startTagScript=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.SCRIPT_DATA),tree.originalInsertionMode=tree.insertionModeName,tree.setInsertionMode("text")},modes.inHead.startTagBaseBasefontBgsoundLink=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagMeta=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inHead.endTagHead=function(){"head"==tree.openElements.item(tree.openElements.length-1).localName?tree.openElements.pop():tree.parseError("unexpected-end-tag",{name:"head"}),tree.setInsertionMode("afterHead")},modes.inHead.endTagHtmlBodyBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.inHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inHead.anythingElse=function(){this.endTagHead("head")},modes.afterHead=Object.create(modes.base),modes.afterHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",body:"startTagBody",frameset:"startTagFrameset",base:"startTagFromHead",link:"startTagFromHead",meta:"startTagFromHead",script:"startTagFromHead",style:"startTagFromHead",title:"startTagFromHead","-default":"startTagOther"},modes.afterHead.end_tag_handlers={body:"endTagBodyHtmlBr",html:"endTagBodyHtmlBr",br:"endTagBodyHtmlBr","-default":"endTagOther"},modes.afterHead.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.afterHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.afterHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.afterHead.startTagBody=function(name,attributes){tree.framesetOk=!1,tree.insertBodyElement(attributes),tree.setInsertionMode("inBody")},modes.afterHead.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")},modes.afterHead.startTagFromHead=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-out-of-my-head",{name:name}),tree.openElements.push(tree.head),modes.inHead.processStartTag(name,attributes,selfClosing),tree.openElements.remove(tree.head)},modes.afterHead.startTagHead=function(name){tree.parseError("unexpected-start-tag",{name:name})},modes.afterHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterHead.endTagBodyHtmlBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.afterHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.afterHead.anythingElse=function(){tree.insertBodyElement([]),tree.setInsertionMode("inBody"),tree.framesetOk=!0},modes.inBody=Object.create(modes.base),modes.inBody.start_tag_handlers={html:"startTagHtml",head:"startTagMisplaced",base:"startTagProcessInHead",basefont:"startTagProcessInHead",bgsound:"startTagProcessInHead",link:"startTagProcessInHead",meta:"startTagProcessInHead",noframes:"startTagProcessInHead",script:"startTagProcessInHead",style:"startTagProcessInHead",title:"startTagProcessInHead",body:"startTagBody",form:"startTagForm",plaintext:"startTagPlaintext",a:"startTagA",button:"startTagButton",xmp:"startTagXmp",table:"startTagTable",hr:"startTagHr",image:"startTagImage",input:"startTagInput",textarea:"startTagTextarea",select:"startTagSelect",isindex:"startTagIsindex",applet:"startTagAppletMarqueeObject",marquee:"startTagAppletMarqueeObject",object:"startTagAppletMarqueeObject",li:"startTagListItem",dd:"startTagListItem",dt:"startTagListItem",address:"startTagCloseP",article:"startTagCloseP",aside:"startTagCloseP",blockquote:"startTagCloseP",center:"startTagCloseP",details:"startTagCloseP",dir:"startTagCloseP",div:"startTagCloseP",dl:"startTagCloseP",fieldset:"startTagCloseP",figcaption:"startTagCloseP",figure:"startTagCloseP",footer:"startTagCloseP",header:"startTagCloseP",hgroup:"startTagCloseP",main:"startTagCloseP",menu:"startTagCloseP",nav:"startTagCloseP",ol:"startTagCloseP",p:"startTagCloseP",section:"startTagCloseP",summary:"startTagCloseP",ul:"startTagCloseP",listing:"startTagPreListing",pre:"startTagPreListing",b:"startTagFormatting",big:"startTagFormatting",code:"startTagFormatting",em:"startTagFormatting",font:"startTagFormatting",i:"startTagFormatting",s:"startTagFormatting",small:"startTagFormatting",strike:"startTagFormatting",strong:"startTagFormatting",tt:"startTagFormatting",u:"startTagFormatting",nobr:"startTagNobr",area:"startTagVoidFormatting",br:"startTagVoidFormatting",embed:"startTagVoidFormatting",img:"startTagVoidFormatting",keygen:"startTagVoidFormatting",wbr:"startTagVoidFormatting",param:"startTagParamSourceTrack",source:"startTagParamSourceTrack",track:"startTagParamSourceTrack",iframe:"startTagIFrame",noembed:"startTagRawText",noscript:"startTagRawText",h1:"startTagHeading",h2:"startTagHeading",h3:"startTagHeading",h4:"startTagHeading",h5:"startTagHeading",h6:"startTagHeading",caption:"startTagMisplaced",col:"startTagMisplaced",colgroup:"startTagMisplaced",frame:"startTagMisplaced",frameset:"startTagFrameset",tbody:"startTagMisplaced",td:"startTagMisplaced",tfoot:"startTagMisplaced",th:"startTagMisplaced",thead:"startTagMisplaced",tr:"startTagMisplaced",option:"startTagOptionOptgroup",optgroup:"startTagOptionOptgroup",math:"startTagMath",svg:"startTagSVG",rt:"startTagRpRt",rp:"startTagRpRt","-default":"startTagOther"},modes.inBody.end_tag_handlers={p:"endTagP",body:"endTagBody",html:"endTagHtml",address:"endTagBlock",article:"endTagBlock",aside:"endTagBlock",blockquote:"endTagBlock",button:"endTagBlock",center:"endTagBlock",details:"endTagBlock",dir:"endTagBlock",div:"endTagBlock",dl:"endTagBlock",fieldset:"endTagBlock",figcaption:"endTagBlock",figure:"endTagBlock",footer:"endTagBlock",header:"endTagBlock",hgroup:"endTagBlock",listing:"endTagBlock",main:"endTagBlock",menu:"endTagBlock",nav:"endTagBlock",ol:"endTagBlock",pre:"endTagBlock",section:"endTagBlock",summary:"endTagBlock",ul:"endTagBlock",form:"endTagForm",applet:"endTagAppletMarqueeObject",marquee:"endTagAppletMarqueeObject",object:"endTagAppletMarqueeObject",dd:"endTagListItem",dt:"endTagListItem",li:"endTagListItem",h1:"endTagHeading",h2:"endTagHeading",h3:"endTagHeading",h4:"endTagHeading",h5:"endTagHeading",h6:"endTagHeading",a:"endTagFormatting",b:"endTagFormatting",big:"endTagFormatting",code:"endTagFormatting",em:"endTagFormatting",font:"endTagFormatting",i:"endTagFormatting",nobr:"endTagFormatting",s:"endTagFormatting",small:"endTagFormatting",strike:"endTagFormatting",strong:"endTagFormatting",tt:"endTagFormatting",u:"endTagFormatting",br:"endTagBr","-default":"endTagOther"},modes.inBody.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline()),tree.reconstructActiveFormattingElements();var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&(tree.insertText(characters),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1))},modes.inBody.startTagHtml=function(name,attributes){tree.parseError("non-html-root"),tree.addAttributesToElement(tree.openElements.rootNode,attributes)},modes.inBody.startTagProcessInHead=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inBody.startTagBody=function(name,attributes){tree.parseError("unexpected-start-tag",{name:"body"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName?assert.ok(tree.context):(tree.framesetOk=!1,tree.addAttributesToElement(tree.openElements.bodyElement,attributes))},modes.inBody.startTagFrameset=function(name,attributes){if(tree.parseError("unexpected-start-tag",{name:"frameset"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName)assert.ok(tree.context);else if(tree.framesetOk){for(tree.detachFromParent(tree.openElements.bodyElement);tree.openElements.length>1;)tree.openElements.pop();tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")}},modes.inBody.startTagCloseP=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes)},modes.inBody.startTagPreListing=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1,tree.shouldSkipLeadingNewline=!0},modes.inBody.startTagForm=function(name,attributes){tree.form?tree.parseError("unexpected-start-tag",{name:name}):(tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.form=tree.currentStackItem())},modes.inBody.startTagRpRt=function(name,attributes){tree.openElements.inScope("ruby")&&(tree.generateImpliedEndTags(),"ruby"!=tree.currentStackItem().localName&&tree.parseError("unexpected-start-tag",{name:name})),tree.insertElement(name,attributes)},modes.inBody.startTagListItem=function(name,attributes){for(var stopNames={li:["li"],dd:["dd","dt"],dt:["dd","dt"]},stopName=stopNames[name],els=tree.openElements,i=els.length-1;i>=0;i--){var node=els.item(i);if(-1!=stopName.indexOf(node.localName)){tree.insertionMode.processEndTag(node.localName);break}if(node.isSpecial()&&"p"!==node.localName&&"address"!==node.localName&&"div"!==node.localName)break}tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagPlaintext=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.PLAINTEXT)},modes.inBody.startTagHeading=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.currentStackItem().isNumberedHeader()&&(tree.parseError("unexpected-start-tag",{name:name}),tree.popElement()),tree.insertElement(name,attributes)},modes.inBody.startTagA=function(name,attributes){var activeA=tree.elementInActiveFormattingElements("a");activeA&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"a",endName:"a"}),tree.adoptionAgencyEndTag("a"),tree.openElements.contains(activeA)&&tree.openElements.remove(activeA),tree.removeElementFromActiveFormattingElements(activeA)),tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagNobr=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.openElements.inScope("nobr")&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"nobr",endName:"nobr"}),this.processEndTag("nobr"),tree.reconstructActiveFormattingElements()),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagButton=function(name,attributes){tree.openElements.inScope("button")?(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"button",endName:"button"}),this.processEndTag("button"),tree.insertionMode.processStartTag(name,attributes)):(tree.framesetOk=!1,tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes))},modes.inBody.startTagAppletMarqueeObject=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.activeFormattingElements.push(Marker),tree.framesetOk=!1},modes.inBody.endTagAppletMarqueeObject=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name),tree.clearActiveFormattingElements()):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.startTagXmp=function(name,attributes){tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.reconstructActiveFormattingElements(),tree.processGenericRawTextStartTag(name,attributes),tree.framesetOk=!1},modes.inBody.startTagTable=function(name,attributes){"quirks"!==tree.compatMode&&tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.insertElement(name,attributes),tree.setInsertionMode("inTable"),tree.framesetOk=!1},modes.inBody.startTagVoidFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagParamSourceTrack=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inBody.startTagHr=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagImage=function(name,attributes){tree.parseError("unexpected-start-tag-treated-as",{originalName:"image",newName:"img"}),this.processStartTag("img",attributes)},modes.inBody.startTagInput=function(name,attributes){var currentFramesetOk=tree.framesetOk;this.startTagVoidFormatting(name,attributes);for(var key in attributes)if("type"==attributes[key].nodeName){"hidden"==attributes[key].nodeValue.toLowerCase()&&(tree.framesetOk=currentFramesetOk);break}},modes.inBody.startTagIsindex=function(name,attributes){if(tree.parseError("deprecated-tag",{name:"isindex"}),tree.selfClosingFlagAcknowledged=!0,!tree.form){var formAttributes=[],inputAttributes=[],prompt="This is a searchable index. Enter search keywords: ";for(var key in attributes)switch(attributes[key].nodeName){case"action":formAttributes.push({nodeName:"action",nodeValue:attributes[key].nodeValue});break;case"prompt":prompt=attributes[key].nodeValue;break;case"name":break;default:inputAttributes.push({nodeName:attributes[key].nodeName,nodeValue:attributes[key].nodeValue})}inputAttributes.push({nodeName:"name",nodeValue:"isindex"}),this.processStartTag("form",formAttributes),this.processStartTag("hr"),this.processStartTag("label"),this.processCharacters(new CharacterBuffer(prompt)),this.processStartTag("input",inputAttributes),this.processEndTag("label"),this.processStartTag("hr"),this.processEndTag("form")}},modes.inBody.startTagTextarea=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.RCDATA),tree.originalInsertionMode=tree.insertionModeName,tree.shouldSkipLeadingNewline=!0,tree.framesetOk=!1,tree.setInsertionMode("text")},modes.inBody.startTagIFrame=function(name,attributes){tree.framesetOk=!1,this.startTagRawText(name,attributes)},modes.inBody.startTagRawText=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inBody.startTagSelect=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.framesetOk=!1;var insertionModeName=tree.insertionModeName;"inTable"==insertionModeName||"inCaption"==insertionModeName||"inColumnGroup"==insertionModeName||"inTableBody"==insertionModeName||"inRow"==insertionModeName||"inCell"==insertionModeName?tree.setInsertionMode("inSelectInTable"):tree.setInsertionMode("inSelect")},modes.inBody.startTagMisplaced=function(name){tree.parseError("unexpected-start-tag-ignored",{name:name})},modes.inBody.endTagMisplaced=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagBr=function(name){tree.parseError("unexpected-end-tag-treated-as",{originalName:"br",newName:"br element"}),tree.reconstructActiveFormattingElements(),tree.insertElement(name,[]),tree.popElement()},modes.inBody.startTagOptionOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.startTagOther=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.endTagOther=function(name){for(var node,i=tree.openElements.length-1;i>0;i--){if(node=tree.openElements.item(i),node.localName==name){tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("unexpected-end-tag",{name:name}),tree.openElements.remove_openElements_until(function(x){return x===node});break}if(node.isSpecial()){tree.parseError("unexpected-end-tag",{name:name});break}}},modes.inBody.startTagMath=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustMathMLAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/1998/Math/MathML",selfClosing)},modes.inBody.startTagSVG=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustSVGAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/2000/svg",selfClosing)},modes.inBody.endTagP=function(name){tree.openElements.inButtonScope("p")?(tree.generateImpliedEndTags("p"),"p"!=tree.currentStackItem().localName&&tree.parseError("unexpected-implied-end-tag",{name:"p"}),tree.openElements.popUntilPopped(name)):(tree.parseError("unexpected-end-tag",{name:"p"}),this.startTagCloseP("p",[]),this.endTagP("p"))},modes.inBody.endTagBody=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagHtml=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),tree.insertionMode.processEndTag(name),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagBlock=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagForm=function(name){var node=tree.form;tree.form=null,node&&tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem()!=node&&tree.parseError("end-tag-too-early-ignored",{name:"form"}),tree.openElements.remove(node)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagListItem=function(name){tree.openElements.inListItemScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagHeading=function(name){return tree.openElements.hasNumberedHeaderElementInScope()?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.remove_openElements_until(function(e){return e.isNumberedHeader()}),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagFormatting=function(name,attributes){tree.adoptionAgencyEndTag(name)||this.endTagOther(name,attributes)},modes.inCaption=Object.create(modes.base),modes.inCaption.start_tag_handlers={html:"startTagHtml",caption:"startTagTableElement",col:"startTagTableElement",colgroup:"startTagTableElement",tbody:"startTagTableElement",td:"startTagTableElement",tfoot:"startTagTableElement",thead:"startTagTableElement",tr:"startTagTableElement","-default":"startTagOther"},modes.inCaption.end_tag_handlers={caption:"endTagCaption",table:"endTagTable",body:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfood:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inCaption.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCaption.startTagTableElement=function(name,attributes){tree.parseError("unexpected-end-tag",{name:name});var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inCaption.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCaption.endTagCaption=function(name){tree.openElements.inTableScope("caption")?(tree.generateImpliedEndTags(),"caption"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{gotName:"caption",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("caption"),tree.clearActiveFormattingElements(),tree.setInsertionMode("inTable")):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inCaption.endTagTable=function(name){tree.parseError("unexpected-end-table-in-caption");var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inCaption.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCaption.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell=Object.create(modes.base),modes.inCell.start_tag_handlers={html:"startTagHtml",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",td:"startTagTableOther",tfoot:"startTagTableOther",th:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inCell.end_tag_handlers={td:"endTagTableCell",th:"endTagTableCell",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",table:"endTagImply",tbody:"endTagImply",tfoot:"endTagImply",thead:"endTagImply",tr:"endTagImply","-default":"endTagOther"},modes.inCell.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCell.startTagTableOther=function(name,attributes,selfClosing){tree.openElements.inTableScope("td")||tree.openElements.inTableScope("th")?(this.closeCell(),tree.insertionMode.processStartTag(name,attributes,selfClosing)):tree.parseError("unexpected-start-tag",{name:name})},modes.inCell.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCell.endTagTableCell=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name.toLowerCase()?(tree.parseError("unexpected-cell-end-tag",{name:name}),tree.openElements.popUntilPopped(name)):tree.popElement(),tree.clearActiveFormattingElements(),tree.setInsertionMode("inRow")):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagImply=function(name){tree.openElements.inTableScope(name)?(this.closeCell(),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell.closeCell=function(){tree.openElements.inTableScope("td")?this.endTagTableCell("td"):tree.openElements.inTableScope("th")&&this.endTagTableCell("th")},modes.inColumnGroup=Object.create(modes.base),modes.inColumnGroup.start_tag_handlers={html:"startTagHtml",col:"startTagCol","-default":"startTagOther"},modes.inColumnGroup.end_tag_handlers={colgroup:"endTagColgroup",col:"endTagCol","-default":"endTagOther"},modes.inColumnGroup.ignoreEndTagColgroup=function(){return"html"==tree.currentStackItem().localName},modes.inColumnGroup.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();if(leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processCharacters(buffer)}},modes.inColumnGroup.startTagCol=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inColumnGroup.startTagOther=function(name,attributes,selfClosing){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inColumnGroup.endTagColgroup=function(name){this.ignoreEndTagColgroup()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.popElement(),tree.setInsertionMode("inTable"))},modes.inColumnGroup.endTagCol=function(){tree.parseError("no-end-tag",{name:"col"})},modes.inColumnGroup.endTagOther=function(name){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inForeignContent=Object.create(modes.base),modes.inForeignContent.processStartTag=function(name,attributes,selfClosing){if(-1!=["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","menu","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].indexOf(name)||"font"==name&&attributes.some(function(attr){return["color","face","size"].indexOf(attr.nodeName)>=0})){for(tree.parseError("unexpected-html-element-in-foreign-content",{name:name});tree.currentStackItem().isForeign()&&!tree.currentStackItem().isHtmlIntegrationPoint()&&!tree.currentStackItem().isMathMLTextIntegrationPoint();)tree.openElements.pop();return tree.insertionMode.processStartTag(name,attributes,selfClosing),void 0}"http://www.w3.org/1998/Math/MathML"==tree.currentStackItem().namespaceURI&&(attributes=tree.adjustMathMLAttributes(attributes)),"http://www.w3.org/2000/svg"==tree.currentStackItem().namespaceURI&&(name=tree.adjustSVGTagNameCase(name),attributes=tree.adjustSVGAttributes(attributes)),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,tree.currentStackItem().namespaceURI,selfClosing)},modes.inForeignContent.processEndTag=function(name){var node=tree.currentStackItem(),index=tree.openElements.length-1;for(node.localName.toLowerCase()!=name&&tree.parseError("unexpected-end-tag",{name:name});;){if(0===index)break;if(node.localName.toLowerCase()==name){for(;tree.openElements.pop()!=node;);break}if(index-=1,node=tree.openElements.item(index),!node.isForeign()){tree.insertionMode.processEndTag(name);break}}},modes.inForeignContent.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),"\ufffd"}),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1),tree.insertText(characters)},modes.inHeadNoscript=Object.create(modes.base),modes.inHeadNoscript.start_tag_handlers={html:"startTagHtml",basefont:"startTagBasefontBgsoundLinkMetaNoframesStyle",bgsound:"startTagBasefontBgsoundLinkMetaNoframesStyle",link:"startTagBasefontBgsoundLinkMetaNoframesStyle",meta:"startTagBasefontBgsoundLinkMetaNoframesStyle",noframes:"startTagBasefontBgsoundLinkMetaNoframesStyle",style:"startTagBasefontBgsoundLinkMetaNoframesStyle",head:"startTagHeadNoscript",noscript:"startTagHeadNoscript","-default":"startTagOther"},modes.inHeadNoscript.end_tag_handlers={noscript:"endTagNoscript",br:"endTagBr","-default":"endTagOther"},modes.inHeadNoscript.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(tree.parseError("unexpected-char-in-frameset"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHeadNoscript.processComment=function(data){modes.inHead.processComment(data)},modes.inHeadNoscript.startTagBasefontBgsoundLinkMetaNoframesStyle=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inHeadNoscript.startTagHeadNoscript=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inHeadNoscript.startTagOther=function(name,attributes){tree.parseError("unexpected-start-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes)},modes.inHeadNoscript.endTagBr=function(name,attributes){tree.parseError("unexpected-end-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name,attributes)},modes.inHeadNoscript.endTagNoscript=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inHeadNoscript.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inHeadNoscript.anythingElse=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inFrameset=Object.create(modes.base),modes.inFrameset.start_tag_handlers={html:"startTagHtml",frameset:"startTagFrameset",frame:"startTagFrame",noframes:"startTagNoframes","-default":"startTagOther"},modes.inFrameset.end_tag_handlers={frameset:"endTagFrameset",noframes:"endTagNoframes","-default":"endTagOther"},modes.inFrameset.processCharacters=function(){tree.parseError("unexpected-char-in-frameset")},modes.inFrameset.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes)},modes.inFrameset.startTagFrame=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inFrameset.startTagNoframes=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inFrameset.endTagFrameset=function(){"html"==tree.currentStackItem().localName?tree.parseError("unexpected-frameset-in-frameset-innerhtml"):tree.popElement(),tree.context||"frameset"==tree.currentStackItem().localName||tree.setInsertionMode("afterFrameset")},modes.inFrameset.endTagNoframes=function(name){modes.inBody.processEndTag(name)},modes.inFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inTable=Object.create(modes.base),modes.inTable.start_tag_handlers={html:"startTagHtml",caption:"startTagCaption",colgroup:"startTagColgroup",col:"startTagCol",table:"startTagTable",tbody:"startTagRowGroup",tfoot:"startTagRowGroup",thead:"startTagRowGroup",td:"startTagImplyTbody",th:"startTagImplyTbody",tr:"startTagImplyTbody",style:"startTagStyleScript",script:"startTagStyleScript",input:"startTagInput",form:"startTagForm","-default":"startTagOther"},modes.inTable.end_tag_handlers={table:"endTagTable",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfoot:"endTagIgnore",th:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTable.processCharacters=function(data){if(tree.currentStackItem().isFosterParenting()){var originalInsertionMode=tree.insertionModeName;\ntree.setInsertionMode("inTableText"),tree.originalInsertionMode=originalInsertionMode,tree.insertionMode.processCharacters(data)}else tree.redirectAttachToFosterParent=!0,modes.inBody.processCharacters(data),tree.redirectAttachToFosterParent=!1},modes.inTable.startTagCaption=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.activeFormattingElements.push(Marker),tree.insertElement(name,attributes),tree.setInsertionMode("inCaption")},modes.inTable.startTagColgroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inColumnGroup")},modes.inTable.startTagCol=function(name,attributes){this.startTagColgroup("colgroup",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagRowGroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inTableBody")},modes.inTable.startTagImplyTbody=function(name,attributes){this.startTagRowGroup("tbody",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagTable=function(name,attributes){tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"table",endName:"table"}),tree.insertionMode.processEndTag("table"),tree.context||tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagStyleScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inTable.startTagInput=function(name,attributes){for(var key in attributes)if("type"==attributes[key].nodeName.toLowerCase()){if("hidden"==attributes[key].nodeValue.toLowerCase())return tree.parseError("unexpected-hidden-input-in-table"),tree.insertElement(name,attributes),tree.openElements.pop(),void 0;break}this.startTagOther(name,attributes)},modes.inTable.startTagForm=function(name,attributes){tree.parseError("unexpected-form-in-table"),tree.form||(tree.insertElement(name,attributes),tree.form=tree.currentStackItem(),tree.openElements.pop())},modes.inTable.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processStartTag(name,attributes,selfClosing),tree.redirectAttachToFosterParent=!1},modes.inTable.endTagTable=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early-named",{gotName:"table",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("table"),tree.resetInsertionMode()):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inTable.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inTable.endTagOther=function(name){tree.parseError("unexpected-end-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processEndTag(name),tree.redirectAttachToFosterParent=!1},modes.inTableText=Object.create(modes.base),modes.inTableText.flushCharacters=function(){var characters=tree.pendingTableCharacters.join("");isAllWhitespace(characters)?tree.insertText(characters):(tree.redirectAttachToFosterParent=!0,tree.reconstructActiveFormattingElements(),tree.insertText(characters),tree.framesetOk=!1,tree.redirectAttachToFosterParent=!1),tree.pendingTableCharacters=[]},modes.inTableText.processComment=function(data){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processComment(data)},modes.inTableText.processEOF=function(){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.inTableText.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&tree.pendingTableCharacters.push(characters)},modes.inTableText.processStartTag=function(name,attributes,selfClosing){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inTableText.processEndTag=function(name,attributes){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEndTag(name,attributes)},modes.inTableBody=Object.create(modes.base),modes.inTableBody.start_tag_handlers={html:"startTagHtml",tr:"startTagTr",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther","-default":"startTagOther"},modes.inTableBody.end_tag_handlers={table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTableBody.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inTableBody.startTagTr=function(name,attributes){tree.openElements.popUntilTableBodyScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inRow")},modes.inTableBody.startTagTableCell=function(name,attributes){tree.parseError("unexpected-cell-in-table-body",{name:name}),this.startTagTr("tr",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTableBody.startTagTableOther=function(name,attributes){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processStartTag(name,attributes)):tree.parseError("unexpected-start-tag",{name:name})},modes.inTableBody.startTagOther=function(name,attributes){modes.inTable.processStartTag(name,attributes)},modes.inTableBody.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(tree.openElements.popUntilTableBodyScopeMarker(),tree.popElement(),tree.setInsertionMode("inTable")):tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagTable=function(name){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inTableBody.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inSelect=Object.create(modes.base),modes.inSelect.start_tag_handlers={html:"startTagHtml",option:"startTagOption",optgroup:"startTagOptgroup",select:"startTagSelect",input:"startTagInput",keygen:"startTagInput",textarea:"startTagInput",script:"startTagScript","-default":"startTagOther"},modes.inSelect.end_tag_handlers={option:"endTagOption",optgroup:"endTagOptgroup",select:"endTagSelect",caption:"endTagTableElements",table:"endTagTableElements",tbody:"endTagTableElements",tfoot:"endTagTableElements",thead:"endTagTableElements",tr:"endTagTableElements",td:"endTagTableElements",th:"endTagTableElements","-default":"endTagOther"},modes.inSelect.processCharacters=function(buffer){var data=buffer.takeRemaining();data=data.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),data&&tree.insertText(data)},modes.inSelect.startTagOption=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.startTagOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.endTagOption=function(name){return"option"!==tree.currentStackItem().localName?(tree.parseError("unexpected-end-tag-in-select",{name:name}),void 0):(tree.popElement(),void 0)},modes.inSelect.endTagOptgroup=function(){"option"==tree.currentStackItem().localName&&"optgroup"==tree.openElements.item(tree.openElements.length-2).localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName?tree.popElement():tree.parseError("unexpected-end-tag-in-select",{name:"optgroup"})},modes.inSelect.startTagSelect=function(){tree.parseError("unexpected-select-in-select"),this.endTagSelect("select")},modes.inSelect.endTagSelect=function(name){tree.openElements.inTableScope("select")?(tree.openElements.popUntilPopped("select"),tree.resetInsertionMode()):tree.parseError("unexpected-end-tag",{name:name})},modes.inSelect.startTagInput=function(name,attributes){tree.parseError("unexpected-input-in-select"),tree.openElements.inSelectScope("select")&&(this.endTagSelect("select"),tree.insertionMode.processStartTag(name,attributes))},modes.inSelect.startTagScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inSelect.endTagTableElements=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagSelect("select"),tree.insertionMode.processEndTag(name))},modes.inSelect.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-select",{name:name})},modes.inSelect.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name})},modes.inSelectInTable=Object.create(modes.base),modes.inSelectInTable.start_tag_handlers={caption:"startTagTable",table:"startTagTable",tbody:"startTagTable",tfoot:"startTagTable",thead:"startTagTable",tr:"startTagTable",td:"startTagTable",th:"startTagTable","-default":"startTagOther"},modes.inSelectInTable.end_tag_handlers={caption:"endTagTable",table:"endTagTable",tbody:"endTagTable",tfoot:"endTagTable",thead:"endTagTable",tr:"endTagTable",td:"endTagTable",th:"endTagTable","-default":"endTagOther"},modes.inSelectInTable.processCharacters=function(data){modes.inSelect.processCharacters(data)},modes.inSelectInTable.startTagTable=function(name,attributes){tree.parseError("unexpected-table-element-start-tag-in-select-in-table",{name:name}),this.endTagOther("select"),tree.insertionMode.processStartTag(name,attributes)},modes.inSelectInTable.startTagOther=function(name,attributes,selfClosing){modes.inSelect.processStartTag(name,attributes,selfClosing)},modes.inSelectInTable.endTagTable=function(name){tree.parseError("unexpected-table-element-end-tag-in-select-in-table",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagOther("select"),tree.insertionMode.processEndTag(name))},modes.inSelectInTable.endTagOther=function(name){modes.inSelect.processEndTag(name)},modes.inRow=Object.create(modes.base),modes.inRow.start_tag_handlers={html:"startTagHtml",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inRow.end_tag_handlers={tr:"endTagTr",table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore","-default":"endTagOther"},modes.inRow.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inRow.startTagTableCell=function(name,attributes){tree.openElements.popUntilTableRowScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inCell"),tree.activeFormattingElements.push(Marker)},modes.inRow.startTagTableOther=function(name,attributes){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inRow.startTagOther=function(name,attributes,selfClosing){modes.inTable.processStartTag(name,attributes,selfClosing)},modes.inRow.endTagTr=function(name){this.ignoreEndTagTr()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.openElements.popUntilTableRowScopeMarker(),tree.popElement(),tree.setInsertionMode("inTableBody"))},modes.inRow.endTagTable=function(name){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inRow.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(this.endTagTr("tr"),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inRow.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-row",{name:name})},modes.inRow.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inRow.ignoreEndTagTr=function(){return!tree.openElements.inTableScope("tr")},modes.afterAfterFrameset=Object.create(modes.base),modes.afterAfterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoFrames","-default":"startTagOther"},modes.afterAfterFrameset.processEOF=function(){},modes.afterAfterFrameset.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&(tree.reconstructActiveFormattingElements(),tree.insertText(whitespace)),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterAfterFrameset.startTagNoFrames=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterAfterFrameset.startTagOther=function(name){tree.parseError("expected-eof-but-got-start-tag",{name:name})},modes.afterAfterFrameset.processEndTag=function(name){tree.parseError("expected-eof-but-got-end-tag",{name:name})},modes.text=Object.create(modes.base),modes.text.start_tag_handlers={"-default":"startTagOther"},modes.text.end_tag_handlers={script:"endTagScript","-default":"endTagOther"},modes.text.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline());var data=buffer.takeRemaining();data&&tree.insertText(data)},modes.text.processEOF=function(){tree.parseError("expected-named-closing-tag-but-got-eof",{name:tree.currentStackItem().localName}),tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.text.startTagOther=function(name){throw"Tried to process start tag "+name+" in RCDATA/RAWTEXT mode"},modes.text.endTagScript=function(){var node=tree.openElements.pop();assert.ok("script"==node.localName),tree.setInsertionMode(tree.originalInsertionMode)},modes.text.endTagOther=function(){tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode)}}function formatMessage(format,args){return format.replace(RegExp("{[0-9a-z-]+}","gi"),function(match){return args[match.slice(1,-1)]||match})}var assert=_dereq_("assert"),messages=_dereq_("./messages.json"),constants=_dereq_("./constants");_dereq_("events").EventEmitter;var Tokenizer=_dereq_("./Tokenizer").Tokenizer,ElementStack=_dereq_("./ElementStack").ElementStack,StackItem=_dereq_("./StackItem").StackItem,Marker={};CharacterBuffer.prototype.skipAtMostOneLeadingNewline=function(){"\\n"===this.characters[this.current]&&this.current++},CharacterBuffer.prototype.skipLeadingWhitespace=function(){for(;isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.skipLeadingNonWhitespace=function(){for(;!isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.takeRemaining=function(){return this.characters.substring(this.current)},CharacterBuffer.prototype.takeLeadingWhitespace=function(){var start=this.current;return this.skipLeadingWhitespace(),start===this.current?"":this.characters.substring(start,this.current-start)},Object.defineProperty(CharacterBuffer.prototype,"length",{get:function(){return this.end-this.current}}),TreeBuilder.prototype.setInsertionMode=function(name){this.insertionMode=this.insertionModes[name],this.insertionModeName=name},TreeBuilder.prototype.adoptionAgencyEndTag=function(name){function isActiveFormattingElement(el){return el===formattingElement}for(var formattingElement,outerIterationLimit=8,innerIterationLimit=3,outerLoopCounter=0;outerIterationLimit>outerLoopCounter++;){if(formattingElement=this.elementInActiveFormattingElements(name),!formattingElement||this.openElements.contains(formattingElement)&&!this.openElements.inScope(formattingElement.localName))return this.parseError("adoption-agency-1.1",{name:name}),!1;if(!this.openElements.contains(formattingElement))return this.parseError("adoption-agency-1.2",{name:name}),this.removeElementFromActiveFormattingElements(formattingElement),!0;this.openElements.inScope(formattingElement.localName)||this.parseError("adoption-agency-4.4",{name:name}),formattingElement!=this.currentStackItem()&&this.parseError("adoption-agency-1.3",{name:name});var furthestBlock=this.openElements.furthestBlockForFormattingElement(formattingElement.node);if(!furthestBlock)return this.openElements.remove_openElements_until(isActiveFormattingElement),this.removeElementFromActiveFormattingElements(formattingElement),!0;for(var afeIndex=this.openElements.elements.indexOf(formattingElement),commonAncestor=this.openElements.item(afeIndex-1),bookmark=this.activeFormattingElements.indexOf(formattingElement),node=furthestBlock,lastNode=furthestBlock,index=this.openElements.elements.indexOf(node),innerLoopCounter=0;innerIterationLimit>innerLoopCounter++;)if(index-=1,node=this.openElements.item(index),0>this.activeFormattingElements.indexOf(node))this.openElements.elements.splice(index,1);else{if(node==formattingElement)break;lastNode==furthestBlock&&(bookmark=this.activeFormattingElements.indexOf(node)+1);var clone=this.createElement(node.namespaceURI,node.localName,node.attributes),newNode=new StackItem(node.namespaceURI,node.localName,node.attributes,clone);this.activeFormattingElements[this.activeFormattingElements.indexOf(node)]=newNode,this.openElements.elements[this.openElements.elements.indexOf(node)]=newNode,node=newNode,this.detachFromParent(lastNode.node),this.attachNode(lastNode.node,node.node),lastNode=node}this.detachFromParent(lastNode.node),commonAncestor.isFosterParenting()?this.insertIntoFosterParent(lastNode.node):this.attachNode(lastNode.node,commonAncestor.node);var clone=this.createElement("http://www.w3.org/1999/xhtml",formattingElement.localName,formattingElement.attributes),formattingClone=new StackItem(formattingElement.namespaceURI,formattingElement.localName,formattingElement.attributes,clone);this.reparentChildren(furthestBlock.node,clone),this.attachNode(clone,furthestBlock.node),this.removeElementFromActiveFormattingElements(formattingElement),this.activeFormattingElements.splice(Math.min(bookmark,this.activeFormattingElements.length),0,formattingClone),this.openElements.remove(formattingElement),this.openElements.elements.splice(this.openElements.elements.indexOf(furthestBlock)+1,0,formattingClone)}return!0},TreeBuilder.prototype.start=function(){throw"Not mplemented"},TreeBuilder.prototype.startTokenization=function(tokenizer){if(this.tokenizer=tokenizer,this.compatMode="no quirks",this.originalInsertionMode="initial",this.framesetOk=!0,this.openElements=new ElementStack,this.activeFormattingElements=[],this.start(),this.context){switch(this.context){case"title":case"textarea":this.tokenizer.setState(Tokenizer.RCDATA);break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"script":this.tokenizer.setState(Tokenizer.SCRIPT_DATA);break;case"noscript":this.scriptingEnabled&&this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"plaintext":this.tokenizer.setState(Tokenizer.PLAINTEXT)}this.insertHtmlElement(),this.resetInsertionMode()}else this.setInsertionMode("initial")},TreeBuilder.prototype.processToken=function(token){this.selfClosingFlagAcknowledged=!1;var insertionMode,currentNode=this.openElements.top||null;switch(insertionMode=!currentNode||!currentNode.isForeign()||currentNode.isMathMLTextIntegrationPoint()&&("StartTag"==token.type&&!(token.name in{mglyph:0,malignmark:0})||"Characters"===token.type)||"http://www.w3.org/1998/Math/MathML"==currentNode.namespaceURI&&"annotation-xml"==currentNode.localName&&"StartTag"==token.type&&"svg"==token.name||currentNode.isHtmlIntegrationPoint()&&token.type in{StartTag:0,Characters:0}||"EOF"==token.type?this.insertionMode:this.insertionModes.inForeignContent,token.type){case"Characters":var buffer=new CharacterBuffer(token.data);insertionMode.processCharacters(buffer);break;case"Comment":insertionMode.processComment(token.data);break;case"StartTag":insertionMode.processStartTag(token.name,token.data,token.selfClosing);break;case"EndTag":insertionMode.processEndTag(token.name);break;case"Doctype":insertionMode.processDoctype(token.name,token.publicId,token.systemId,token.forceQuirks);break;case"EOF":insertionMode.processEOF()}},TreeBuilder.prototype.isCdataSectionAllowed=function(){return this.openElements.length>0&&this.currentStackItem().isForeign()},TreeBuilder.prototype.isSelfClosingFlagAcknowledged=function(){return this.selfClosingFlagAcknowledged},TreeBuilder.prototype.createElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNode=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNodeToFosterParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.detachFromParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.addAttributesToElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertHtmlElement=function(attributes){var root=this.createElement("http://www.w3.org/1999/xhtml","html",attributes);return this.attachNode(root,this.document),this.openElements.pushHtmlElement(new StackItem("http://www.w3.org/1999/xhtml","html",attributes,root)),root},TreeBuilder.prototype.insertHeadElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","head",attributes);return this.head=new StackItem("http://www.w3.org/1999/xhtml","head",attributes,element),this.attachNode(element,this.openElements.top.node),this.openElements.pushHeadElement(this.head),element},TreeBuilder.prototype.insertBodyElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","body",attributes);return this.attachNode(element,this.openElements.top.node),this.openElements.pushBodyElement(new StackItem("http://www.w3.org/1999/xhtml","body",attributes,element)),element},TreeBuilder.prototype.insertIntoFosterParent=function(node){var tableIndex=this.openElements.findIndex("table"),tableElement=this.openElements.item(tableIndex).node;return 0===tableIndex?this.attachNode(node,tableElement):(this.attachNodeToFosterParent(node,tableElement,this.openElements.item(tableIndex-1).node),void 0)},TreeBuilder.prototype.insertElement=function(name,attributes,namespaceURI,selfClosing){namespaceURI||(namespaceURI="http://www.w3.org/1999/xhtml");var element=this.createElement(namespaceURI,name,attributes);this.shouldFosterParent()?this.insertIntoFosterParent(element):this.attachNode(element,this.openElements.top.node),selfClosing||this.openElements.push(new StackItem(namespaceURI,name,attributes,element))},TreeBuilder.prototype.insertFormattingElement=function(name,attributes){this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml"),this.appendElementToActiveFormattingElements(this.currentStackItem())},TreeBuilder.prototype.insertSelfClosingElement=function(name,attributes){this.selfClosingFlagAcknowledged=!0,this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml",!0)},TreeBuilder.prototype.insertForeignElement=function(name,attributes,namespaceURI,selfClosing){selfClosing&&(this.selfClosingFlagAcknowledged=!0),this.insertElement(name,attributes,namespaceURI,selfClosing)},TreeBuilder.prototype.insertComment=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertDoctype=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertText=function(){throw Error("Not implemented")},TreeBuilder.prototype.currentStackItem=function(){return this.openElements.top},TreeBuilder.prototype.popElement=function(){return this.openElements.pop()},TreeBuilder.prototype.shouldFosterParent=function(){return this.redirectAttachToFosterParent&&this.currentStackItem().isFosterParenting()},TreeBuilder.prototype.generateImpliedEndTags=function(exclude){var name=this.openElements.top.localName;-1!=["dd","dt","li","option","optgroup","p","rp","rt"].indexOf(name)&&name!=exclude&&(this.popElement(),this.generateImpliedEndTags(exclude))},TreeBuilder.prototype.reconstructActiveFormattingElements=function(){if(0!==this.activeFormattingElements.length){var i=this.activeFormattingElements.length-1,entry=this.activeFormattingElements[i];if(entry!=Marker&&!this.openElements.contains(entry)){for(;entry!=Marker&&!this.openElements.contains(entry)&&(i-=1,entry=this.activeFormattingElements[i]););for(;;){i+=1,entry=this.activeFormattingElements[i],this.insertElement(entry.localName,entry.attributes);var element=this.currentStackItem();if(this.activeFormattingElements[i]=element,element==this.activeFormattingElements[this.activeFormattingElements.length-1])break}}}},TreeBuilder.prototype.ensureNoahsArkCondition=function(item){var kNoahsArkCapacity=3;if(!(kNoahsArkCapacity>this.activeFormattingElements.length)){for(var candidates=[],newItemAttributeCount=item.attributes.length,i=this.activeFormattingElements.length-1;i>=0;i--){var candidate=this.activeFormattingElements[i];if(candidate===Marker)break;item.localName===candidate.localName&&item.namespaceURI===candidate.namespaceURI&&candidate.attributes.length==newItemAttributeCount&&candidates.push(candidate)}if(!(kNoahsArkCapacity>candidates.length)){for(var remainingCandidates=[],attributes=item.attributes,i=0;attributes.length>i;i++){for(var attribute=attributes[i],j=0;candidates.length>j;j++){var candidate=candidates[j],candidateAttribute=getAttribute(candidate,attribute.nodeName);candidateAttribute&&candidateAttribute.nodeValue===attribute.nodeValue&&remainingCandidates.push(candidate)}if(kNoahsArkCapacity>remainingCandidates.length)return;candidates=remainingCandidates,remainingCandidates=[]}for(var i=kNoahsArkCapacity-1;candidates.length>i;i++)this.removeElementFromActiveFormattingElements(candidates[i])}}},TreeBuilder.prototype.appendElementToActiveFormattingElements=function(item){this.ensureNoahsArkCondition(item),this.activeFormattingElements.push(item)},TreeBuilder.prototype.removeElementFromActiveFormattingElements=function(item){var index=this.activeFormattingElements.indexOf(item);index>=0&&this.activeFormattingElements.splice(index,1)},TreeBuilder.prototype.elementInActiveFormattingElements=function(name){for(var els=this.activeFormattingElements,i=els.length-1;i>=0&&els[i]!=Marker;i--)if(els[i].localName==name)return els[i];return!1},TreeBuilder.prototype.clearActiveFormattingElements=function(){for(;0!==this.activeFormattingElements.length&&this.activeFormattingElements.pop()!=Marker;);},TreeBuilder.prototype.reparentChildren=function(){throw Error("Not implemented")},TreeBuilder.prototype.setFragmentContext=function(context){this.context=context},TreeBuilder.prototype.parseError=function(code,args){if(this.errorHandler){var message=formatMessage(messages[code],args);this.errorHandler.error(message,this.tokenizer._inputStream.location(),code)}},TreeBuilder.prototype.resetInsertionMode=function(){for(var last=!1,node=null,i=this.openElements.length-1;i>=0;i--){if(node=this.openElements.item(i),0===i&&(assert.ok(this.context),last=!0,node=new StackItem("http://www.w3.org/1999/xhtml",this.context,[],null)),"http://www.w3.org/1999/xhtml"===node.namespaceURI){if("select"===node.localName)return this.setInsertionMode("inSelect");if("td"===node.localName||"th"===node.localName)return this.setInsertionMode("inCell");if("tr"===node.localName)return this.setInsertionMode("inRow");if("tbody"===node.localName||"thead"===node.localName||"tfoot"===node.localName)return this.setInsertionMode("inTableBody");if("caption"===node.localName)return this.setInsertionMode("inCaption");if("colgroup"===node.localName)return this.setInsertionMode("inColumnGroup");if("table"===node.localName)return this.setInsertionMode("inTable");if("head"===node.localName&&!last)return this.setInsertionMode("inHead");if("body"===node.localName)return this.setInsertionMode("inBody");if("frameset"===node.localName)return this.setInsertionMode("inFrameset");if("html"===node.localName)return this.openElements.headElement?this.setInsertionMode("afterHead"):this.setInsertionMode("beforeHead")}if(last)return this.setInsertionMode("inBody")}},TreeBuilder.prototype.processGenericRCDATAStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RCDATA),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.processGenericRawTextStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RAWTEXT),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.adjustMathMLAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/1998/Math/MathML",constants.MATHMLAttributeMap[a.nodeName]&&(a.nodeName=constants.MATHMLAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustSVGTagNameCase=function(name){return constants.SVGTagMap[name]||name},TreeBuilder.prototype.adjustSVGAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/2000/svg",constants.SVGAttributeMap[a.nodeName]&&(a.nodeName=constants.SVGAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustForeignAttributes=function(attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i],adjusted=constants.ForeignAttributeMap[attribute.nodeName];adjusted&&(attribute.nodeName=adjusted.localName,attribute.prefix=adjusted.prefix,attribute.namespaceURI=adjusted.namespaceURI)}return attributes},exports.TreeBuilder=TreeBuilder},{"./ElementStack":1,"./StackItem":4,"./Tokenizer":5,"./constants":7,"./messages.json":8,assert:13,events:16}],7:[function(_dereq_,module,exports){exports.SVGTagMap={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},exports.MATHMLAttributeMap={definitionurl:"definitionURL"},exports.SVGAttributeMap={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",externalresourcesacequired:"externalResourcesRequired",filterres:"filterRes",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",acequiredextensions:"acequiredExtensions",acequiredfeatures:"acequiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},exports.ForeignAttributeMap={"xlink:actuate":{prefix:"xlink",localName:"actuate",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:arcrole":{prefix:"xlink",localName:"arcrole",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:href":{prefix:"xlink",localName:"href",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:role":{prefix:"xlink",localName:"role",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:show":{prefix:"xlink",localName:"show",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:title":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:type":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xml:base":{prefix:"xml",localName:"base",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:lang":{prefix:"xml",localName:"lang",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:space":{prefix:"xml",localName:"space",namespaceURI:"http://www.w3.org/XML/1998/namespace"},xmlns:{prefix:null,localName:"xmlns",namespaceURI:"http://www.w3.org/2000/xmlns/"},"xmlns:xlink":{prefix:"xmlns",localName:"xlink",namespaceURI:"http://www.w3.org/2000/xmlns/"}}\n},{}],8:[function(_dereq_,module){module.exports={"null-character":"Null character in input stream, replaced with U+FFFD.","invalid-codepoint":"Invalid codepoint in stream","incorrectly-placed-solidus":"Solidus (/) incorrectly placed in tag.","incorrect-cr-newline-entity":"Incorrect CR newline entity, replaced with LF.","illegal-windows-1252-entity":"Entity used with illegal number (windows-1252 reference).","cant-convert-numeric-entity":"Numeric entity couldn\'t be converted to character (codepoint U+{charAsInt}).","invalid-numeric-entity-replaced":"Numeric entity represents an illegal codepoint. Expanded to the C1 controls range.","numeric-entity-without-semicolon":"Numeric entity didn\'t end with \';\'.","expected-numeric-entity-but-got-eof":"Numeric entity expected. Got end of file instead.","expected-numeric-entity":"Numeric entity expected but none found.","named-entity-without-semicolon":"Named entity didn\'t end with \';\'.","expected-named-entity":"Named entity expected. Got none.","attributes-in-end-tag":"End tag contains unexpected attributes.","self-closing-flag-on-end-tag":"End tag contains unexpected self-closing flag.","bare-less-than-sign-at-eof":"End of file after <.","expected-tag-name-but-got-right-bracket":"Expected tag name. Got \'>\' instead.","expected-tag-name-but-got-question-mark":"Expected tag name. Got \'?\' instead. (HTML doesn\'t support processing instructions.)","expected-tag-name":"Expected tag name. Got something else instead.","expected-closing-tag-but-got-right-bracket":"Expected closing tag. Got \'>\' instead. Ignoring \'</>\'.","expected-closing-tag-but-got-eof":"Expected closing tag. Unexpected end of file.","expected-closing-tag-but-got-char":"Expected closing tag. Unexpected character \'{data}\' found.","eof-in-tag-name":"Unexpected end of file in the tag name.","expected-attribute-name-but-got-eof":"Unexpected end of file. Expected attribute name instead.","eof-in-attribute-name":"Unexpected end of file in attribute name.","invalid-character-in-attribute-name":"Invalid character in attribute name.","duplicate-attribute":"Dropped duplicate attribute \'{name}\' on tag.","expected-end-of-tag-but-got-eof":"Unexpected end of file. Expected = or end of tag.","expected-attribute-value-but-got-eof":"Unexpected end of file. Expected attribute value.","expected-attribute-value-but-got-right-bracket":"Expected attribute value. Got \'>\' instead.","unexpected-character-in-unquoted-attribute-value":"Unexpected character in unquoted attribute","invalid-character-after-attribute-name":"Unexpected character after attribute name.","unexpected-character-after-attribute-value":"Unexpected character after attribute value.","eof-in-attribute-value-double-quote":\'Unexpected end of file in attribute value (").\',"eof-in-attribute-value-single-quote":"Unexpected end of file in attribute value (\').","eof-in-attribute-value-no-quotes":"Unexpected end of file in attribute value.","eof-after-attribute-value":"Unexpected end of file after attribute value.","unexpected-eof-after-solidus-in-tag":"Unexpected end of file in tag. Expected >.","unexpected-character-after-solidus-in-tag":"Unexpected character after / in tag. Expected >.","expected-dashes-or-doctype":"Expected \'--\' or \'DOCTYPE\'. Not found.","unexpected-bang-after-double-dash-in-comment":"Unexpected ! after -- in comment.","incorrect-comment":"Incorrect comment.","eof-in-comment":"Unexpected end of file in comment.","eof-in-comment-end-dash":"Unexpected end of file in comment (-).","unexpected-dash-after-double-dash-in-comment":"Unexpected \'-\' after \'--\' found in comment.","eof-in-comment-double-dash":"Unexpected end of file in comment (--).","eof-in-comment-end-bang-state":"Unexpected end of file in comment.","unexpected-char-in-comment":"Unexpected character in comment found.","need-space-after-doctype":"No space after literal string \'DOCTYPE\'.","expected-doctype-name-but-got-right-bracket":"Unexpected > character. Expected DOCTYPE name.","expected-doctype-name-but-got-eof":"Unexpected end of file. Expected DOCTYPE name.","eof-in-doctype-name":"Unexpected end of file in DOCTYPE name.","eof-in-doctype":"Unexpected end of file in DOCTYPE.","expected-space-or-right-bracket-in-doctype":"Expected space or \'>\'. Got \'{data}\'.","unexpected-end-of-doctype":"Unexpected end of DOCTYPE.","unexpected-char-in-doctype":"Unexpected character in DOCTYPE.","eof-in-bogus-doctype":"Unexpected end of file in bogus doctype.","eof-in-innerhtml":"Unexpected EOF in inner html mode.","unexpected-doctype":"Unexpected DOCTYPE. Ignored.","non-html-root":"html needs to be the first start tag.","expected-doctype-but-got-eof":"Unexpected End of file. Expected DOCTYPE.","unknown-doctype":"Erroneous DOCTYPE. Expected <!DOCTYPE html>.","quirky-doctype":"Quirky doctype. Expected <!DOCTYPE html>.","almost-standards-doctype":"Almost standards mode doctype. Expected <!DOCTYPE html>.","obsolete-doctype":"Obsolete doctype. Expected <!DOCTYPE html>.","expected-doctype-but-got-chars":"Non-space characters found without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-start-tag":"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-end-tag":"End tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","end-tag-after-implied-root":"Unexpected end tag ({name}) after the (implied) root element.","expected-named-closing-tag-but-got-eof":"Unexpected end of file. Expected end tag ({name}).","two-heads-are-not-better-than-one":"Unexpected start tag head in existing head. Ignored.","unexpected-end-tag":"Unexpected end tag ({name}). Ignored.","unexpected-implied-end-tag":"End tag {name} implied, but there were open elements.","unexpected-start-tag-out-of-my-head":"Unexpected start tag ({name}) that can be in head. Moved.","unexpected-start-tag":"Unexpected start tag ({name}).","missing-end-tag":"Missing end tag ({name}).","missing-end-tags":"Missing end tags ({name}).","unexpected-start-tag-implies-end-tag":"Unexpected start tag ({startName}) implies end tag ({endName}).","unexpected-start-tag-treated-as":"Unexpected start tag ({originalName}). Treated as {newName}.","deprecated-tag":"Unexpected start tag {name}. Don\'t use it!","unexpected-start-tag-ignored":"Unexpected start tag {name}. Ignored.","expected-one-end-tag-but-got-another":"Unexpected end tag ({gotName}). Missing end tag ({expectedName}).","end-tag-too-early":"End tag ({name}) seen too early. Expected other end tag.","end-tag-too-early-named":"Unexpected end tag ({gotName}). Expected end tag ({expectedName}.","end-tag-too-early-ignored":"End tag ({name}) seen too early. Ignored.","adoption-agency-1.1":"End tag ({name}) violates step 1, paragraph 1 of the adoption agency algorithm.","adoption-agency-1.2":"End tag ({name}) violates step 1, paragraph 2 of the adoption agency algorithm.","adoption-agency-1.3":"End tag ({name}) violates step 1, paragraph 3 of the adoption agency algorithm.","adoption-agency-4.4":"End tag ({name}) violates step 4, paragraph 4 of the adoption agency algorithm.","unexpected-end-tag-treated-as":"Unexpected end tag ({originalName}). Treated as {newName}.","no-end-tag":"This element ({name}) has no end tag.","unexpected-implied-end-tag-in-table":"Unexpected implied end tag ({name}) in the table phase.","unexpected-implied-end-tag-in-table-body":"Unexpected implied end tag ({name}) in the table body phase.","unexpected-char-implies-table-voodoo":"Unexpected non-space characters in table context caused voodoo mode.","unexpected-hidden-input-in-table":"Unexpected input with type hidden in table context.","unexpected-form-in-table":"Unexpected form in table context.","unexpected-start-tag-implies-table-voodoo":"Unexpected start tag ({name}) in table context caused voodoo mode.","unexpected-end-tag-implies-table-voodoo":"Unexpected end tag ({name}) in table context caused voodoo mode.","unexpected-cell-in-table-body":"Unexpected table cell start tag ({name}) in the table body phase.","unexpected-cell-end-tag":"Got table cell end tag ({name}) while acequired end tags are missing.","unexpected-end-tag-in-table-body":"Unexpected end tag ({name}) in the table body phase. Ignored.","unexpected-implied-end-tag-in-table-row":"Unexpected implied end tag ({name}) in the table row phase.","unexpected-end-tag-in-table-row":"Unexpected end tag ({name}) in the table row phase. Ignored.","unexpected-select-in-select":"Unexpected select start tag in the select phase treated as select end tag.","unexpected-input-in-select":"Unexpected input start tag in the select phase.","unexpected-start-tag-in-select":"Unexpected start tag token ({name}) in the select phase. Ignored.","unexpected-end-tag-in-select":"Unexpected end tag ({name}) in the select phase. Ignored.","unexpected-table-element-start-tag-in-select-in-table":"Unexpected table element start tag ({name}) in the select in table phase.","unexpected-table-element-end-tag-in-select-in-table":"Unexpected table element end tag ({name}) in the select in table phase.","unexpected-char-after-body":"Unexpected non-space characters in the after body phase.","unexpected-start-tag-after-body":"Unexpected start tag token ({name}) in the after body phase.","unexpected-end-tag-after-body":"Unexpected end tag token ({name}) in the after body phase.","unexpected-char-in-frameset":"Unepxected characters in the frameset phase. Characters ignored.","unexpected-start-tag-in-frameset":"Unexpected start tag token ({name}) in the frameset phase. Ignored.","unexpected-frameset-in-frameset-innerhtml":"Unexpected end tag token (frameset in the frameset phase (innerHTML).","unexpected-end-tag-in-frameset":"Unexpected end tag token ({name}) in the frameset phase. Ignored.","unexpected-char-after-frameset":"Unexpected non-space characters in the after frameset phase. Ignored.","unexpected-start-tag-after-frameset":"Unexpected start tag ({name}) in the after frameset phase. Ignored.","unexpected-end-tag-after-frameset":"Unexpected end tag ({name}) in the after frameset phase. Ignored.","expected-eof-but-got-char":"Unexpected non-space characters. Expected end of file.","expected-eof-but-got-start-tag":"Unexpected start tag ({name}). Expected end of file.","expected-eof-but-got-end-tag":"Unexpected end tag ({name}). Expected end of file.","unexpected-end-table-in-caption":"Unexpected end table tag in caption. Generates implied end caption.","end-html-in-innerhtml":"Unexpected html end tag in inner html mode.","eof-in-table":"Unexpected end of file. Expected table content.","eof-in-script":"Unexpected end of file. Expected script content.","non-void-element-with-trailing-solidus":"Trailing solidus not allowed on element {name}.","unexpected-html-element-in-foreign-content":\'HTML start tag "{name}" in a foreign namespace context.\',"unexpected-start-tag-in-table":"Unexpected {name}. Expected table content."}},{}],9:[function(_dereq_,module,exports){function SAXParser(){this.contentHandler=null,this._errorHandler=null,this._treeBuilder=new SAXTreeBuilder,this._tokenizer=new Tokenizer(this._treeBuilder),this._scriptingEnabled=!1}var SAXTreeBuilder=_dereq_("./SAXTreeBuilder").SAXTreeBuilder,Tokenizer=_dereq_("../Tokenizer").Tokenizer,TreeParser=_dereq_("./TreeParser").TreeParser;SAXParser.prototype.parse=function(source){this._tokenizer.tokenize(source);var document=this._treeBuilder.document;document&&new TreeParser(this.contentHandler).parse(document)},SAXParser.prototype.parseFragment=function(source,context){this._treeBuilder.setFragmentContext(context),this._tokenizer.tokenize(source);var fragment=this._treeBuilder.getFragment();fragment&&new TreeParser(this.contentHandler).parse(fragment)},Object.defineProperty(SAXParser.prototype,"scriptingEnabled",{get:function(){return this._scriptingEnabled},set:function(value){this._scriptingEnabled=value,this._treeBuilder.scriptingEnabled=value}}),Object.defineProperty(SAXParser.prototype,"errorHandler",{get:function(){return this._errorHandler},set:function(value){this._errorHandler=value,this._treeBuilder.errorHandler=value}}),exports.SAXParser=SAXParser},{"../Tokenizer":5,"./SAXTreeBuilder":10,"./TreeParser":11}],10:[function(_dereq_,module,exports){function SAXTreeBuilder(){TreeBuilder.call(this)}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute.nodeValue}}function Node(locator){locator?(this.columnNumber=locator.columnNumber,this.lineNumber=locator.lineNumber):(this.columnNumber=-1,this.lineNumber=-1),this.parentNode=null,this.nextSibling=null,this.firstChild=null}function ParentNode(locator){Node.call(this,locator),this.lastChild=null,this._endLocator=null}function Document(locator){ParentNode.call(this,locator),this.nodeType=NodeType.DOCUMENT}function DocumentFragment(){ParentNode.call(this,new Locator),this.nodeType=NodeType.DOCUMENT_FRAGMENT}function Element(locator,uri,localName,qName,atts,prefixMappings){ParentNode.call(this,locator),this.uri=uri,this.localName=localName,this.qName=qName,this.attributes=atts,this.prefixMappings=prefixMappings,this.nodeType=NodeType.ELEMENT}function Characters(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.CHARACTERS}function IgnorableWhitespace(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.IGNORABLE_WHITESPACE}function Comment(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.COMMENT}function CDATA(locator){ParentNode.call(this,locator),this.nodeType=NodeType.CDATA}function Entity(name){ParentNode.call(this),this.name=name,this.nodeType=NodeType.ENTITY}function SkippedEntity(name){Node.call(this),this.name=name,this.nodeType=NodeType.SKIPPED_ENTITY}function ProcessingInstruction(target,data){Node.call(this),this.target=target,this.data=data}function DTD(name,publicIdentifier,systemIdentifier){ParentNode.call(this),this.name=name,this.publicIdentifier=publicIdentifier,this.systemIdentifier=systemIdentifier,this.nodeType=NodeType.DTD}var util=_dereq_("util"),TreeBuilder=_dereq_("../TreeBuilder").TreeBuilder;util.inherits(SAXTreeBuilder,TreeBuilder),SAXTreeBuilder.prototype.start=function(){this.document=new Document(this.tokenizer)},SAXTreeBuilder.prototype.end=function(){this.document.endLocator=this.tokenizer},SAXTreeBuilder.prototype.insertDoctype=function(name,publicId,systemId){var doctype=new DTD(this.tokenizer,name,publicId,systemId);doctype.endLocator=this.tokenizer,this.document.appendChild(doctype)},SAXTreeBuilder.prototype.createElement=function(namespaceURI,localName,attributes){var element=new Element(this.tokenizer,namespaceURI,localName,localName,attributes||[]);return element},SAXTreeBuilder.prototype.insertComment=function(data,parent){parent||(parent=this.currentStackItem());var comment=new Comment(this.tokenizer,data);parent.appendChild(comment)},SAXTreeBuilder.prototype.appendCharacters=function(parent,data){var text=new Characters(this.tokenizer,data);parent.appendChild(text)},SAXTreeBuilder.prototype.insertText=function(data){if(this.redirectAttachToFosterParent&&this.openElements.top.isFosterParenting()){var tableIndex=this.openElements.findIndex("table"),tableItem=this.openElements.item(tableIndex),table=tableItem.node;if(0===tableIndex)return this.appendCharacters(table,data);var text=new Characters(this.tokenizer,data),parent=table.parentNode;if(parent)return parent.insertBetween(text,table.previousSibling,table),void 0;var stackParent=this.openElements.item(tableIndex-1).node;return stackParent.appendChild(text),void 0}this.appendCharacters(this.currentStackItem().node,data)},SAXTreeBuilder.prototype.attachNode=function(node,parent){parent.appendChild(node)},SAXTreeBuilder.prototype.attachNodeToFosterParent=function(child,table,stackParent){var parent=table.parentNode;parent?parent.insertBetween(child,table.previousSibling,table):stackParent.appendChild(child)},SAXTreeBuilder.prototype.detachFromParent=function(element){element.detach()},SAXTreeBuilder.prototype.reparentChildren=function(oldParent,newParent){newParent.appendChildren(oldParent.firstChild)},SAXTreeBuilder.prototype.getFragment=function(){var fragment=new DocumentFragment;return this.reparentChildren(this.openElements.rootNode,fragment),fragment},SAXTreeBuilder.prototype.addAttributesToElement=function(element,attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i];getAttribute(element,attribute.nodeName)||element.attributes.push(attribute)}};var NodeType={CDATA:1,CHARACTERS:2,COMMENT:3,DOCUMENT:4,DOCUMENT_FRAGMENT:5,DTD:6,ELEMENT:7,ENTITY:8,IGNORABLE_WHITESPACE:9,PROCESSING_INSTRUCTION:10,SKIPPED_ENTITY:11};Node.prototype.visit=function(){throw Error("Not Implemented")},Node.prototype.revisit=function(){},Node.prototype.detach=function(){null!==this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},Object.defineProperty(Node.prototype,"previousSibling",{get:function(){for(var prev=null,next=this.parentNode.firstChild;;){if(this==next)return prev;prev=next,next=next.nextSibling}}}),ParentNode.prototype=Object.create(Node.prototype),ParentNode.prototype.insertBefore=function(child,sibling){if(!sibling)return this.appendChild(child);if(child.detach(),child.parentNode=this,this.firstChild==sibling)child.nextSibling=sibling,this.firstChild=child;else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=sibling;)prev=next,next=next.nextSibling;prev.nextSibling=child,child.nextSibling=next}return child},ParentNode.prototype.insertBetween=function(child,prev,next){return next?(child.detach(),child.parentNode=this,child.nextSibling=next,prev?prev.nextSibling=child:firstChild=child,child):this.appendChild(child)},ParentNode.prototype.appendChild=function(child){return child.detach(),child.parentNode=this,this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=child,child},ParentNode.prototype.appendChildren=function(parent){var child=parent.firstChild;if(child){var another=parent;this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=another.lastChild;do child.parentNode=this;while(child=child.nextSibling);another.firstChild=null,another.lastChild=null}},ParentNode.prototype.removeChild=function(node){if(this.firstChild==node)this.firstChild=node.nextSibling,this.lastChild==node&&(this.lastChild=null);else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=node;)prev=next,next=next.nextSibling;prev.nextSibling=node.nextSibling,this.lastChild==node&&(this.lastChild=prev)}return node.parentNode=null,node},Object.defineProperty(ParentNode.prototype,"endLocator",{get:function(){return this._endLocator},set:function(endLocator){this._endLocator={lineNumber:endLocator.lineNumber,columnNumber:endLocator.columnNumber}}}),Document.prototype=Object.create(ParentNode.prototype),Document.prototype.visit=function(treeParser){treeParser.startDocument(this)},Document.prototype.revisit=function(treeParser){treeParser.endDocument(this.endLocator)},DocumentFragment.prototype=Object.create(ParentNode.prototype),DocumentFragment.prototype.visit=function(){},Element.prototype=Object.create(ParentNode.prototype),Element.prototype.visit=function(treeParser){if(this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.startPrefixMapping(mapping.getPrefix(),mapping.getUri(),this)}treeParser.startElement(this.uri,this.localName,this.qName,this.attributes,this)},Element.prototype.revisit=function(treeParser){if(treeParser.endElement(this.uri,this.localName,this.qName,this.endLocator),this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.endPrefixMapping(mapping.getPrefix(),this.endLocator)}},Characters.prototype=Object.create(Node.prototype),Characters.prototype.visit=function(treeParser){treeParser.characters(this.data,0,this.data.length,this)},IgnorableWhitespace.prototype=Object.create(Node.prototype),IgnorableWhitespace.prototype.visit=function(treeParser){treeParser.ignorableWhitespace(this.data,0,this.data.length,this)},Comment.prototype=Object.create(Node.prototype),Comment.prototype.visit=function(treeParser){treeParser.comment(this.data,0,this.data.length,this)},CDATA.prototype=Object.create(ParentNode.prototype),CDATA.prototype.visit=function(treeParser){treeParser.startCDATA(this)},CDATA.prototype.revisit=function(treeParser){treeParser.endCDATA(this.endLocator)},Entity.prototype=Object.create(ParentNode.prototype),Entity.prototype.visit=function(treeParser){treeParser.startEntity(this.name,this)},Entity.prototype.revisit=function(treeParser){treeParser.endEntity(this.name)},SkippedEntity.prototype=Object.create(Node.prototype),SkippedEntity.prototype.visit=function(treeParser){treeParser.skippedEntity(this.name,this)},ProcessingInstruction.prototype=Object.create(Node.prototype),ProcessingInstruction.prototype.visit=function(treeParser){treeParser.processingInstruction(this.target,this.data,this)},ProcessingInstruction.prototype.getNodeType=function(){return NodeType.PROCESSING_INSTRUCTION},DTD.prototype=Object.create(ParentNode.prototype),DTD.prototype.visit=function(treeParser){treeParser.startDTD(this.name,this.publicIdentifier,this.systemIdentifier,this)},DTD.prototype.revisit=function(treeParser){treeParser.endDTD()},exports.SAXTreeBuilder=SAXTreeBuilder},{"../TreeBuilder":6,util:20}],11:[function(_dereq_,module,exports){function TreeParser(contentHandler,lexicalHandler){if(this.contentHandler,this.lexicalHandler,this.locatorDelegate,!contentHandler)throw new IllegalArgumentException("contentHandler was null.");this.contentHandler=contentHandler,this.lexicalHandler=lexicalHandler?lexicalHandler:new NullLexicalHandler}function NullLexicalHandler(){}TreeParser.prototype.parse=function(node){this.contentHandler.documentLocator=this;for(var next,current=node;;)if(current.visit(this),next=current.firstChild)current=next;else for(;;){if(current.revisit(this),current==node)return;if(next=current.nextSibling){current=next;break}current=current.parentNode}},TreeParser.prototype.characters=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.characters(ch,start,length)},TreeParser.prototype.endDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.endDocument()},TreeParser.prototype.endElement=function(uri,localName,qName,locator){this.locatorDelegate=locator,this.contentHandler.endElement(uri,localName,qName)},TreeParser.prototype.endPrefixMapping=function(prefix,locator){this.locatorDelegate=locator,this.contentHandler.endPrefixMapping(prefix)},TreeParser.prototype.ignorableWhitespace=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.ignorableWhitespace(ch,start,length)},TreeParser.prototype.processingInstruction=function(target,data,locator){this.locatorDelegate=locator,this.contentHandler.processingInstruction(target,data)},TreeParser.prototype.skippedEntity=function(name,locator){this.locatorDelegate=locator,this.contentHandler.skippedEntity(name)},TreeParser.prototype.startDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.startDocument()},TreeParser.prototype.startElement=function(uri,localName,qName,atts,locator){this.locatorDelegate=locator,this.contentHandler.startElement(uri,localName,qName,atts)},TreeParser.prototype.startPrefixMapping=function(prefix,uri,locator){this.locatorDelegate=locator,this.contentHandler.startPrefixMapping(prefix,uri)},TreeParser.prototype.comment=function(ch,start,length,locator){this.locatorDelegate=locator,this.lexicalHandler.comment(ch,start,length)},TreeParser.prototype.endCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endCDATA()},TreeParser.prototype.endDTD=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endDTD()},TreeParser.prototype.endEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.endEntity(name)},TreeParser.prototype.startCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.startCDATA()},TreeParser.prototype.startDTD=function(name,publicId,systemId,locator){this.locatorDelegate=locator,this.lexicalHandler.startDTD(name,publicId,systemId)},TreeParser.prototype.startEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.startEntity(name)},Object.defineProperty(TreeParser.prototype,"columnNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.columnNumber:-1}}),Object.defineProperty(TreeParser.prototype,"lineNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.lineNumber:-1}}),NullLexicalHandler.prototype.comment=function(){},NullLexicalHandler.prototype.endCDATA=function(){},NullLexicalHandler.prototype.endDTD=function(){},NullLexicalHandler.prototype.endEntity=function(){},NullLexicalHandler.prototype.startCDATA=function(){},NullLexicalHandler.prototype.startDTD=function(){},NullLexicalHandler.prototype.startEntity=function(){},exports.TreeParser=TreeParser},{}],12:[function(_dereq_,module){module.exports={"Aacute;":"\xc1",Aacute:"\xc1","aacute;":"\xe1",aacute:"\xe1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223e","acd;":"\u223f","acE;":"\u223e\u0333","Acirc;":"\xc2",Acirc:"\xc2","acirc;":"\xe2",acirc:"\xe2","acute;":"\xb4",acute:"\xb4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xc6",AElig:"\xc6","aelig;":"\xe6",aelig:"\xe6","af;":"\u2061","Afr;":"\u{1d504}","afr;":"\u{1d51e}","Agrave;":"\xc0",Agrave:"\xc0","agrave;":"\xe0",agrave:"\xe0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03b1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2a3f","amp;":"&",amp:"&","AMP;":"&",AMP:"&","andand;":"\u2a55","And;":"\u2a53","and;":"\u2227","andd;":"\u2a5c","andslope;":"\u2a58","andv;":"\u2a5a","ang;":"\u2220","ange;":"\u29a4","angle;":"\u2220","angmsdaa;":"\u29a8","angmsdab;":"\u29a9","angmsdac;":"\u29aa","angmsdad;":"\u29ab","angmsdae;":"\u29ac","angmsdaf;":"\u29ad","angmsdag;":"\u29ae","angmsdah;":"\u29af","angmsd;":"\u2221","angrt;":"\u221f","angrtvb;":"\u22be","angrtvbd;":"\u299d","angsph;":"\u2222","angst;":"\xc5","angzarr;":"\u237c","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1d538}","aopf;":"\u{1d552}","apacir;":"\u2a6f","ap;":"\u2248","apE;":"\u2a70","ape;":"\u224a","apid;":"\u224b","apos;":"\'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224a","Aring;":"\xc5",Aring:"\xc5","aring;":"\xe5",aring:"\xe5","Ascr;":"\u{1d49c}","ascr;":"\u{1d4b6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224d","Atilde;":"\xc3",Atilde:"\xc3","atilde;":"\xe3",atilde:"\xe3","Auml;":"\xc4",Auml:"\xc4","auml;":"\xe4",auml:"\xe4","awconint;":"\u2233","awint;":"\u2a11","backcong;":"\u224c","backepsilon;":"\u03f6","backprime;":"\u2035","backsim;":"\u223d","backsimeq;":"\u22cd","Backslash;":"\u2216","Barv;":"\u2ae7","barvee;":"\u22bd","barwed;":"\u2305","Barwed;":"\u2306","barwedge;":"\u2305","bbrk;":"\u23b5","bbrktbrk;":"\u23b6","bcong;":"\u224c","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201e","becaus;":"\u2235","because;":"\u2235","Because;":"\u2235","bemptyv;":"\u29b0","bepsi;":"\u03f6","bernou;":"\u212c","Bernoullis;":"\u212c","Beta;":"\u0392","beta;":"\u03b2","beth;":"\u2136","between;":"\u226c","Bfr;":"\u{1d505}","bfr;":"\u{1d51f}","bigcap;":"\u22c2","bigcirc;":"\u25ef","bigcup;":"\u22c3","bigodot;":"\u2a00","bigoplus;":"\u2a01","bigotimes;":"\u2a02","bigsqcup;":"\u2a06","bigstar;":"\u2605","bigtriangledown;":"\u25bd","bigtriangleup;":"\u25b3","biguplus;":"\u2a04","bigvee;":"\u22c1","bigwedge;":"\u22c0","bkarow;":"\u290d","blacklozenge;":"\u29eb","blacksquare;":"\u25aa","blacktriangle;":"\u25b4","blacktriangledown;":"\u25be","blacktriangleleft;":"\u25c2","blacktriangleright;":"\u25b8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20e5","bnequiv;":"\u2261\u20e5","bNot;":"\u2aed","bnot;":"\u2310","Bopf;":"\u{1d539}","bopf;":"\u{1d553}","bot;":"\u22a5","bottom;":"\u22a5","bowtie;":"\u22c8","boxbox;":"\u29c9","boxdl;":"\u2510","boxdL;":"\u2555","boxDl;":"\u2556","boxDL;":"\u2557","boxdr;":"\u250c","boxdR;":"\u2552","boxDr;":"\u2553","boxDR;":"\u2554","boxh;":"\u2500","boxH;":"\u2550","boxhd;":"\u252c","boxHd;":"\u2564","boxhD;":"\u2565","boxHD;":"\u2566","boxhu;":"\u2534","boxHu;":"\u2567","boxhU;":"\u2568","boxHU;":"\u2569","boxminus;":"\u229f","boxplus;":"\u229e","boxtimes;":"\u22a0","boxul;":"\u2518","boxuL;":"\u255b","boxUl;":"\u255c","boxUL;":"\u255d","boxur;":"\u2514","boxuR;":"\u2558","boxUr;":"\u2559","boxUR;":"\u255a","boxv;":"\u2502","boxV;":"\u2551","boxvh;":"\u253c","boxvH;":"\u256a","boxVh;":"\u256b","boxVH;":"\u256c","boxvl;":"\u2524","boxvL;":"\u2561","boxVl;":"\u2562","boxVL;":"\u2563","boxvr;":"\u251c","boxvR;":"\u255e","boxVr;":"\u255f","boxVR;":"\u2560","bprime;":"\u2035","breve;":"\u02d8","Breve;":"\u02d8","brvbar;":"\xa6",brvbar:"\xa6","bscr;":"\u{1d4b7}","Bscr;":"\u212c","bsemi;":"\u204f","bsim;":"\u223d","bsime;":"\u22cd","bsolb;":"\u29c5","bsol;":"\\\\","bsolhsub;":"\u27c8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224e","bumpE;":"\u2aae","bumpe;":"\u224f","Bumpeq;":"\u224e","bumpeq;":"\u224f","Cacute;":"\u0106","cacute;":"\u0107","capand;":"\u2a44","capbrcup;":"\u2a49","capcap;":"\u2a4b","cap;":"\u2229","Cap;":"\u22d2","capcup;":"\u2a47","capdot;":"\u2a40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\ufe00","caret;":"\u2041","caron;":"\u02c7","Cayleys;":"\u212d","ccaps;":"\u2a4d","Ccaron;":"\u010c","ccaron;":"\u010d","Ccedil;":"\xc7",Ccedil:"\xc7","ccedil;":"\xe7",ccedil:"\xe7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2a4c","ccupssm;":"\u2a50","Cdot;":"\u010a","cdot;":"\u010b","cedil;":"\xb8",cedil:"\xb8","Cedilla;":"\xb8","cemptyv;":"\u29b2","cent;":"\xa2",cent:"\xa2","centerdot;":"\xb7","CenterDot;":"\xb7","cfr;":"\u{1d520}","Cfr;":"\u212d","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03a7","chi;":"\u03c7","circ;":"\u02c6","circeq;":"\u2257","circlearrowleft;":"\u21ba","circlearrowright;":"\u21bb","circledast;":"\u229b","circledcirc;":"\u229a","circleddash;":"\u229d","CircleDot;":"\u2299","circledR;":"\xae","circledS;":"\u24c8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cir;":"\u25cb","cirE;":"\u29c3","cire;":"\u2257","cirfnint;":"\u2a10","cirmid;":"\u2aef","cirscir;":"\u29c2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201d","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","colon;":":","Colon;":"\u2237","Colone;":"\u2a74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2a6d","Congruent;":"\u2261","conint;":"\u222e","Conint;":"\u222f","ContourIntegral;":"\u222e","copf;":"\u{1d554}","Copf;":"\u2102","coprod;":"\u2210","Coproduct;":"\u2210","copy;":"\xa9",copy:"\xa9","COPY;":"\xa9",COPY:"\xa9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21b5","cross;":"\u2717","Cross;":"\u2a2f","Cscr;":"\u{1d49e}","cscr;":"\u{1d4b8}","csub;":"\u2acf","csube;":"\u2ad1","csup;":"\u2ad0","csupe;":"\u2ad2","ctdot;":"\u22ef","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22de","cuesc;":"\u22df","cularr;":"\u21b6","cularrp;":"\u293d","cupbrcap;":"\u2a48","cupcap;":"\u2a46","CupCap;":"\u224d","cup;":"\u222a","Cup;":"\u22d3","cupcup;":"\u2a4a","cupdot;":"\u228d","cupor;":"\u2a45","cups;":"\u222a\ufe00","curarr;":"\u21b7","curarrm;":"\u293c","curlyeqprec;":"\u22de","curlyeqsucc;":"\u22df","curlyvee;":"\u22ce","curlywedge;":"\u22cf","curren;":"\xa4",curren:"\xa4","curvearrowleft;":"\u21b6","curvearrowright;":"\u21b7","cuvee;":"\u22ce","cuwed;":"\u22cf","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232d","dagger;":"\u2020","Dagger;":"\u2021","daleth;":"\u2138","darr;":"\u2193","Darr;":"\u21a1","dArr;":"\u21d3","dash;":"\u2010","Dashv;":"\u2ae4","dashv;":"\u22a3","dbkarow;":"\u290f","dblac;":"\u02dd","Dcaron;":"\u010e","dcaron;":"\u010f","Dcy;":"\u0414","dcy;":"\u0434","ddagger;":"\u2021","ddarr;":"\u21ca","DD;":"\u2145","dd;":"\u2146","DDotrahd;":"\u2911","ddotseq;":"\u2a77","deg;":"\xb0",deg:"\xb0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03b4","demptyv;":"\u29b1","dfisht;":"\u297f","Dfr;":"\u{1d507}","dfr;":"\u{1d521}","dHar;":"\u2965","dharl;":"\u21c3","dharr;":"\u21c2","DiacriticalAcute;":"\xb4","DiacriticalDot;":"\u02d9","DiacriticalDoubleAcute;":"\u02dd","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02dc","diam;":"\u22c4","diamond;":"\u22c4","Diamond;":"\u22c4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xa8","DifferentialD;":"\u2146","digamma;":"\u03dd","disin;":"\u22f2","div;":"\xf7","divide;":"\xf7",divide:"\xf7","divideontimes;":"\u22c7","divonx;":"\u22c7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231e","dlcrop;":"\u230d","dollar;":"$","Dopf;":"\u{1d53b}","dopf;":"\u{1d555}","Dot;":"\xa8","dot;":"\u02d9","DotDot;":"\u20dc","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22a1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222f","DoubleDot;":"\xa8","DoubleDownArrow;":"\u21d3","DoubleLeftArrow;":"\u21d0","DoubleLeftRightArrow;":"\u21d4","DoubleLeftTee;":"\u2ae4","DoubleLongLeftArrow;":"\u27f8","DoubleLongLeftRightArrow;":"\u27fa","DoubleLongRightArrow;":"\u27f9","DoubleRightArrow;":"\u21d2","DoubleRightTee;":"\u22a8","DoubleUpArrow;":"\u21d1","DoubleUpDownArrow;":"\u21d5","DoubleVerticalBar;":"\u2225","DownArrowBar;":"\u2913","downarrow;":"\u2193","DownArrow;":"\u2193","Downarrow;":"\u21d3","DownArrowUpArrow;":"\u21f5","DownBreve;":"\u0311","downdownarrows;":"\u21ca","downharpoonleft;":"\u21c3","downharpoonright;":"\u21c2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295e","DownLeftVectorBar;":"\u2956","DownLeftVector;":"\u21bd","DownRightTeeVector;":"\u295f","DownRightVectorBar;":"\u2957","DownRightVector;":"\u21c1","DownTeeArrow;":"\u21a7","DownTee;":"\u22a4","drbkarow;":"\u2910","drcorn;":"\u231f","drcrop;":"\u230c","Dscr;":"\u{1d49f}","dscr;":"\u{1d4b9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29f6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22f1","dtri;":"\u25bf","dtrif;":"\u25be","duarr;":"\u21f5","duhar;":"\u296f","dwangle;":"\u29a6","DZcy;":"\u040f","dzcy;":"\u045f","dzigrarr;":"\u27ff","Eacute;":"\xc9",Eacute:"\xc9","eacute;":"\xe9",eacute:"\xe9","easter;":"\u2a6e","Ecaron;":"\u011a","ecaron;":"\u011b","Ecirc;":"\xca",Ecirc:"\xca","ecirc;":"\xea",ecirc:"\xea","ecir;":"\u2256","ecolon;":"\u2255","Ecy;":"\u042d","ecy;":"\u044d","eDDot;":"\u2a77","Edot;":"\u0116","edot;":"\u0117","eDot;":"\u2251","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1d508}","efr;":"\u{1d522}","eg;":"\u2a9a","Egrave;":"\xc8",Egrave:"\xc8","egrave;":"\xe8",egrave:"\xe8","egs;":"\u2a96","egsdot;":"\u2a98","el;":"\u2a99","Element;":"\u2208","elinters;":"\u23e7","ell;":"\u2113","els;":"\u2a95","elsdot;":"\u2a97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25fb","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25ab","emsp13;":"\u2004","emsp14;":"\u2005","emsp;":"\u2003","ENG;":"\u014a","eng;":"\u014b","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1d53c}","eopf;":"\u{1d556}","epar;":"\u22d5","eparsl;":"\u29e3","eplus;":"\u2a71","epsi;":"\u03b5","Epsilon;":"\u0395","epsilon;":"\u03b5","epsiv;":"\u03f5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2a96","eqslantless;":"\u2a95","Equal;":"\u2a75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225f","Equilibrium;":"\u21cc","equiv;":"\u2261","equivDD;":"\u2a78","eqvparsl;":"\u29e5","erarr;":"\u2971","erDot;":"\u2253","escr;":"\u212f","Escr;":"\u2130","esdot;":"\u2250","Esim;":"\u2a73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03b7","ETH;":"\xd0",ETH:"\xd0","eth;":"\xf0",eth:"\xf0","Euml;":"\xcb",Euml:"\xcb","euml;":"\xeb",euml:"\xeb","euro;":"\u20ac","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","exponentiale;":"\u2147","ExponentialE;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\ufb03","fflig;":"\ufb00","ffllig;":"\ufb04","Ffr;":"\u{1d509}","ffr;":"\u{1d523}","filig;":"\ufb01","FilledSmallSquare;":"\u25fc","FilledVerySmallSquare;":"\u25aa","fjlig;":"fj","flat;":"\u266d","fllig;":"\ufb02","fltns;":"\u25b1","fnof;":"\u0192","Fopf;":"\u{1d53d}","fopf;":"\u{1d557}","forall;":"\u2200","ForAll;":"\u2200","fork;":"\u22d4","forkv;":"\u2ad9","Fouriertrf;":"\u2131","fpartint;":"\u2a0d","frac12;":"\xbd",frac12:"\xbd","frac13;":"\u2153","frac14;":"\xbc",frac14:"\xbc","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215b","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xbe",frac34:"\xbe","frac35;":"\u2157","frac38;":"\u215c","frac45;":"\u2158","frac56;":"\u215a","frac58;":"\u215d","frac78;":"\u215e","frasl;":"\u2044","frown;":"\u2322","fscr;":"\u{1d4bb}","Fscr;":"\u2131","gacute;":"\u01f5","Gamma;":"\u0393","gamma;":"\u03b3","Gammad;":"\u03dc","gammad;":"\u03dd","gap;":"\u2a86","Gbreve;":"\u011e","gbreve;":"\u011f","Gcedil;":"\u0122","Gcirc;":"\u011c","gcirc;":"\u011d","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","ge;":"\u2265","gE;":"\u2267","gEl;":"\u2a8c","gel;":"\u22db","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2a7e","gescc;":"\u2aa9","ges;":"\u2a7e","gesdot;":"\u2a80","gesdoto;":"\u2a82","gesdotol;":"\u2a84","gesl;":"\u22db\ufe00","gesles;":"\u2a94","Gfr;":"\u{1d50a}","gfr;":"\u{1d524}","gg;":"\u226b","Gg;":"\u22d9","ggg;":"\u22d9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gla;":"\u2aa5","gl;":"\u2277","glE;":"\u2a92","glj;":"\u2aa4","gnap;":"\u2a8a","gnapprox;":"\u2a8a","gne;":"\u2a88","gnE;":"\u2269","gneq;":"\u2a88","gneqq;":"\u2269","gnsim;":"\u22e7","Gopf;":"\u{1d53e}","gopf;":"\u{1d558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22db","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2aa2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2a7e","GreaterTilde;":"\u2273","Gscr;":"\u{1d4a2}","gscr;":"\u210a","gsim;":"\u2273","gsime;":"\u2a8e","gsiml;":"\u2a90","gtcc;":"\u2aa7","gtcir;":"\u2a7a","gt;":">",gt:">","GT;":">",GT:">","Gt;":"\u226b","gtdot;":"\u22d7","gtlPar;":"\u2995","gtquest;":"\u2a7c","gtrapprox;":"\u2a86","gtrarr;":"\u2978","gtrdot;":"\u22d7","gtreqless;":"\u22db","gtreqqless;":"\u2a8c","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\ufe00","gvnE;":"\u2269\ufe00","Hacek;":"\u02c7","hairsp;":"\u200a","half;":"\xbd","hamilt;":"\u210b","HARDcy;":"\u042a","hardcy;":"\u044a","harrcir;":"\u2948","harr;":"\u2194","hArr;":"\u21d4","harrw;":"\u21ad","Hat;":"^","hbar;":"\u210f","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22b9","hfr;":"\u{1d525}","Hfr;":"\u210c","HilbertSpace;":"\u210b","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21ff","homtht;":"\u223b","hookleftarrow;":"\u21a9","hookrightarrow;":"\u21aa","hopf;":"\u{1d559}","Hopf;":"\u210d","horbar;":"\u2015","HorizontalLine;":"\u2500","hscr;":"\u{1d4bd}","Hscr;":"\u210b","hslash;":"\u210f","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224e","HumpEqual;":"\u224f","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xcd",Iacute:"\xcd","iacute;":"\xed",iacute:"\xed","ic;":"\u2063","Icirc;":"\xce",Icirc:"\xce","icirc;":"\xee",icirc:"\xee","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xa1",iexcl:"\xa1","iff;":"\u21d4","ifr;":"\u{1d526}","Ifr;":"\u2111","Igrave;":"\xcc",Igrave:"\xcc","igrave;":"\xec",igrave:"\xec","ii;":"\u2148","iiiint;":"\u2a0c","iiint;":"\u222d","iinfin;":"\u29dc","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Imacr;":"\u012a","imacr;":"\u012b","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","Im;":"\u2111","imof;":"\u22b7","imped;":"\u01b5","Implies;":"\u21d2","incare;":"\u2105","in;":"\u2208","infin;":"\u221e","infintie;":"\u29dd","inodot;":"\u0131","intcal;":"\u22ba","int;":"\u222b","Int;":"\u222c","integers;":"\u2124","Integral;":"\u222b","intercal;":"\u22ba","Intersection;":"\u22c2","intlarhk;":"\u2a17","intprod;":"\u2a3c","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012e","iogon;":"\u012f","Iopf;":"\u{1d540}","iopf;":"\u{1d55a}","Iota;":"\u0399","iota;":"\u03b9","iprod;":"\u2a3c","iquest;":"\xbf",iquest:"\xbf","iscr;":"\u{1d4be}","Iscr;":"\u2110","isin;":"\u2208","isindot;":"\u22f5","isinE;":"\u22f9","isins;":"\u22f4","isinsv;":"\u22f3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xcf",Iuml:"\xcf","iuml;":"\xef",iuml:"\xef","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1d50d}","jfr;":"\u{1d527}","jmath;":"\u0237","Jopf;":"\u{1d541}","jopf;":"\u{1d55b}","Jscr;":"\u{1d4a5}","jscr;":"\u{1d4bf}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039a","kappa;":"\u03ba","kappav;":"\u03f0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041a","kcy;":"\u043a","Kfr;":"\u{1d50e}","kfr;":"\u{1d528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040c","kjcy;":"\u045c","Kopf;":"\u{1d542}","kopf;":"\u{1d55c}","Kscr;":"\u{1d4a6}","kscr;":"\u{1d4c0}","lAarr;":"\u21da","Lacute;":"\u0139","lacute;":"\u013a","laemptyv;":"\u29b4","lagran;":"\u2112","Lambda;":"\u039b","lambda;":"\u03bb","lang;":"\u27e8","Lang;":"\u27ea","langd;":"\u2991","langle;":"\u27e8","lap;":"\u2a85","Laplacetrf;":"\u2112","laquo;":"\xab",laquo:"\xab","larrb;":"\u21e4","larrbfs;":"\u291f","larr;":"\u2190","Larr;":"\u219e","lArr;":"\u21d0","larrfs;":"\u291d","larrhk;":"\u21a9","larrlp;":"\u21ab","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21a2","latail;":"\u2919","lAtail;":"\u291b","lat;":"\u2aab","late;":"\u2aad","lates;":"\u2aad\ufe00","lbarr;":"\u290c","lBarr;":"\u290e","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298b","lbrksld;":"\u298f","lbrkslu;":"\u298d","Lcaron;":"\u013d","lcaron;":"\u013e","Lcedil;":"\u013b","lcedil;":"\u013c","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041b","lcy;":"\u043b","ldca;":"\u2936","ldquo;":"\u201c","ldquor;":"\u201e","ldrdhar;":"\u2967","ldrushar;":"\u294b","ldsh;":"\u21b2","le;":"\u2264","lE;":"\u2266","LeftAngleBracket;":"\u27e8","LeftArrowBar;":"\u21e4","leftarrow;":"\u2190","LeftArrow;":"\u2190","Leftarrow;":"\u21d0","LeftArrowRightArrow;":"\u21c6","leftarrowtail;":"\u21a2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27e6","LeftDownTeeVector;":"\u2961","LeftDownVectorBar;":"\u2959","LeftDownVector;":"\u21c3","LeftFloor;":"\u230a","leftharpoondown;":"\u21bd","leftharpoonup;":"\u21bc","leftleftarrows;":"\u21c7","leftrightarrow;":"\u2194","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21d4","leftrightarrows;":"\u21c6","leftrightharpoons;":"\u21cb","leftrightsquigarrow;":"\u21ad","LeftRightVector;":"\u294e","LeftTeeArrow;":"\u21a4","LeftTee;":"\u22a3","LeftTeeVector;":"\u295a","leftthreetimes;":"\u22cb","LeftTriangleBar;":"\u29cf","LeftTriangle;":"\u22b2","LeftTriangleEqual;":"\u22b4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVectorBar;":"\u2958","LeftUpVector;":"\u21bf","LeftVectorBar;":"\u2952","LeftVector;":"\u21bc","lEg;":"\u2a8b","leg;":"\u22da","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2a7d","lescc;":"\u2aa8","les;":"\u2a7d","lesdot;":"\u2a7f","lesdoto;":"\u2a81","lesdotor;":"\u2a83","lesg;":"\u22da\ufe00","lesges;":"\u2a93","lessapprox;":"\u2a85","lessdot;":"\u22d6","lesseqgtr;":"\u22da","lesseqqgtr;":"\u2a8b","LessEqualGreater;":"\u22da","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2aa1","lesssim;":"\u2272","LessSlantEqual;":"\u2a7d","LessTilde;":"\u2272","lfisht;":"\u297c","lfloor;":"\u230a","Lfr;":"\u{1d50f}","lfr;":"\u{1d529}","lg;":"\u2276","lgE;":"\u2a91","lHar;":"\u2962","lhard;":"\u21bd","lharu;":"\u21bc","lharul;":"\u296a","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","llarr;":"\u21c7","ll;":"\u226a","Ll;":"\u22d8","llcorner;":"\u231e","Lleftarrow;":"\u21da","llhard;":"\u296b","lltri;":"\u25fa","Lmidot;":"\u013f","lmidot;":"\u0140","lmoustache;":"\u23b0","lmoust;":"\u23b0","lnap;":"\u2a89","lnapprox;":"\u2a89","lne;":"\u2a87","lnE;":"\u2268","lneq;":"\u2a87","lneqq;":"\u2268","lnsim;":"\u22e6","loang;":"\u27ec","loarr;":"\u21fd","lobrk;":"\u27e6","longleftarrow;":"\u27f5","LongLeftArrow;":"\u27f5","Longleftarrow;":"\u27f8","longleftrightarrow;":"\u27f7","LongLeftRightArrow;":"\u27f7","Longleftrightarrow;":"\u27fa","longmapsto;":"\u27fc","longrightarrow;":"\u27f6","LongRightArrow;":"\u27f6","Longrightarrow;":"\u27f9","looparrowleft;":"\u21ab","looparrowright;":"\u21ac","lopar;":"\u2985","Lopf;":"\u{1d543}","lopf;":"\u{1d55d}","loplus;":"\u2a2d","lotimes;":"\u2a34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25ca","lozenge;":"\u25ca","lozf;":"\u29eb","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21c6","lrcorner;":"\u231f","lrhar;":"\u21cb","lrhard;":"\u296d","lrm;":"\u200e","lrtri;":"\u22bf","lsaquo;":"\u2039","lscr;":"\u{1d4c1}","Lscr;":"\u2112","lsh;":"\u21b0","Lsh;":"\u21b0","lsim;":"\u2272","lsime;":"\u2a8d","lsimg;":"\u2a8f","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201a","Lstrok;":"\u0141","lstrok;":"\u0142","ltcc;":"\u2aa6","ltcir;":"\u2a79","lt;":"<",lt:"<","LT;":"<",LT:"<","Lt;":"\u226a","ltdot;":"\u22d6","lthree;":"\u22cb","ltimes;":"\u22c9","ltlarr;":"\u2976","ltquest;":"\u2a7b","ltri;":"\u25c3","ltrie;":"\u22b4","ltrif;":"\u25c2","ltrPar;":"\u2996","lurdshar;":"\u294a","luruhar;":"\u2966","lvertneqq;":"\u2268\ufe00","lvnE;":"\u2268\ufe00","macr;":"\xaf",macr:"\xaf","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21a6","mapsto;":"\u21a6","mapstodown;":"\u21a7","mapstoleft;":"\u21a4","mapstoup;":"\u21a5","marker;":"\u25ae","mcomma;":"\u2a29","Mcy;":"\u041c","mcy;":"\u043c","mdash;":"\u2014","mDDot;":"\u223a","measuredangle;":"\u2221","MediumSpace;":"\u205f","Mellintrf;":"\u2133","Mfr;":"\u{1d510}","mfr;":"\u{1d52a}","mho;":"\u2127","micro;":"\xb5",micro:"\xb5","midast;":"*","midcir;":"\u2af0","mid;":"\u2223","middot;":"\xb7",middot:"\xb7","minusb;":"\u229f","minus;":"\u2212","minusd;":"\u2238","minusdu;":"\u2a2a","MinusPlus;":"\u2213","mlcp;":"\u2adb","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22a7","Mopf;":"\u{1d544}","mopf;":"\u{1d55e}","mp;":"\u2213","mscr;":"\u{1d4c2}","Mscr;":"\u2133","mstpos;":"\u223e","Mu;":"\u039c","mu;":"\u03bc","multimap;":"\u22b8","mumap;":"\u22b8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20d2","nap;":"\u2249","napE;":"\u2a70\u0338","napid;":"\u224b\u0338","napos;":"\u0149","napprox;":"\u2249","natural;":"\u266e","naturals;":"\u2115","natur;":"\u266e","nbsp;":"\xa0",nbsp:"\xa0","nbump;":"\u224e\u0338","nbumpe;":"\u224f\u0338","ncap;":"\u2a43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2a6d\u0338","ncup;":"\u2a42","Ncy;":"\u041d","ncy;":"\u043d","ndash;":"\u2013","nearhk;":"\u2924","nearr;":"\u2197","neArr;":"\u21d7","nearrow;":"\u2197","ne;":"\u2260","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200b","NegativeThickSpace;":"\u200b","NegativeThinSpace;":"\u200b","NegativeVeryThinSpace;":"\u200b","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226b","NestedLessLess;":"\u226a","NewLine;":"\\n","nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1d511}","nfr;":"\u{1d52b}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2a7e\u0338","nges;":"\u2a7e\u0338","nGg;":"\u22d9\u0338","ngsim;":"\u2275","nGt;":"\u226b\u20d2","ngt;":"\u226f","ngtr;":"\u226f","nGtv;":"\u226b\u0338","nharr;":"\u21ae","nhArr;":"\u21ce","nhpar;":"\u2af2","ni;":"\u220b","nis;":"\u22fc","nisd;":"\u22fa","niv;":"\u220b","NJcy;":"\u040a","njcy;":"\u045a","nlarr;":"\u219a","nlArr;":"\u21cd","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nleftarrow;":"\u219a","nLeftarrow;":"\u21cd","nleftrightarrow;":"\u21ae","nLeftrightarrow;":"\u21ce","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2a7d\u0338","nles;":"\u2a7d\u0338","nless;":"\u226e","nLl;":"\u22d8\u0338","nlsim;":"\u2274","nLt;":"\u226a\u20d2","nlt;":"\u226e","nltri;":"\u22ea","nltrie;":"\u22ec","nLtv;":"\u226a\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xa0","nopf;":"\u{1d55f}","Nopf;":"\u2115","Not;":"\u2aec","not;":"\xac",not:"\xac","NotCongruent;":"\u2262","NotCupCap;":"\u226d","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226f","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226b\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2a7e\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224e\u0338","NotHumpEqual;":"\u224f\u0338","notin;":"\u2209","notindot;":"\u22f5\u0338","notinE;":"\u22f9\u0338","notinva;":"\u2209","notinvb;":"\u22f7","notinvc;":"\u22f6","NotLeftTriangleBar;":"\u29cf\u0338","NotLeftTriangle;":"\u22ea","NotLeftTriangleEqual;":"\u22ec","NotLess;":"\u226e","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226a\u0338","NotLessSlantEqual;":"\u2a7d\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2aa2\u0338","NotNestedLessLess;":"\u2aa1\u0338","notni;":"\u220c","notniva;":"\u220c","notnivb;":"\u22fe","notnivc;":"\u22fd","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2aaf\u0338","NotPrecedesSlantEqual;":"\u22e0","NotReverseElement;":"\u220c","NotRightTriangleBar;":"\u29d0\u0338","NotRightTriangle;":"\u22eb","NotRightTriangleEqual;":"\u22ed","NotSquareSubset;":"\u228f\u0338","NotSquareSubsetEqual;":"\u22e2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22e3","NotSubset;":"\u2282\u20d2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2ab0\u0338","NotSucceedsSlantEqual;":"\u22e1","NotSucceedsTilde;":"\u227f\u0338","NotSuperset;":"\u2283\u20d2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","nparallel;":"\u2226","npar;":"\u2226","nparsl;":"\u2afd\u20e5","npart;":"\u2202\u0338","npolint;":"\u2a14","npr;":"\u2280","nprcue;":"\u22e0","nprec;":"\u2280","npreceq;":"\u2aaf\u0338","npre;":"\u2aaf\u0338","nrarrc;":"\u2933\u0338","nrarr;":"\u219b","nrArr;":"\u21cf","nrarrw;":"\u219d\u0338","nrightarrow;":"\u219b","nRightarrow;":"\u21cf","nrtri;":"\u22eb","nrtrie;":"\u22ed","nsc;":"\u2281","nsccue;":"\u22e1","nsce;":"\u2ab0\u0338","Nscr;":"\u{1d4a9}","nscr;":"\u{1d4c3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22e2","nsqsupe;":"\u22e3","nsub;":"\u2284","nsubE;":"\u2ac5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20d2","nsubseteq;":"\u2288","nsubseteqq;":"\u2ac5\u0338","nsucc;":"\u2281","nsucceq;":"\u2ab0\u0338","nsup;":"\u2285","nsupE;":"\u2ac6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20d2","nsupseteq;":"\u2289","nsupseteqq;":"\u2ac6\u0338","ntgl;":"\u2279","Ntilde;":"\xd1",Ntilde:"\xd1","ntilde;":"\xf1",ntilde:"\xf1","ntlg;":"\u2278","ntriangleleft;":"\u22ea","ntrianglelefteq;":"\u22ec","ntriangleright;":"\u22eb","ntrianglerighteq;":"\u22ed","Nu;":"\u039d","nu;":"\u03bd","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224d\u20d2","nvdash;":"\u22ac","nvDash;":"\u22ad","nVdash;":"\u22ae","nVDash;":"\u22af","nvge;":"\u2265\u20d2","nvgt;":">\u20d2","nvHarr;":"\u2904","nvinfin;":"\u29de","nvlArr;":"\u2902","nvle;":"\u2264\u20d2","nvlt;":"<\u20d2","nvltrie;":"\u22b4\u20d2","nvrArr;":"\u2903","nvrtrie;":"\u22b5\u20d2","nvsim;":"\u223c\u20d2","nwarhk;":"\u2923","nwarr;":"\u2196","nwArr;":"\u21d6","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xd3",Oacute:"\xd3","oacute;":"\xf3",oacute:"\xf3","oast;":"\u229b","Ocirc;":"\xd4",Ocirc:"\xd4","ocirc;":"\xf4",ocirc:"\xf4","ocir;":"\u229a","Ocy;":"\u041e","ocy;":"\u043e","odash;":"\u229d","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2a38","odot;":"\u2299","odsold;":"\u29bc","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29bf","Ofr;":"\u{1d512}","ofr;":"\u{1d52c}","ogon;":"\u02db","Ograve;":"\xd2",Ograve:"\xd2","ograve;":"\xf2",ograve:"\xf2","ogt;":"\u29c1","ohbar;":"\u29b5","ohm;":"\u03a9","oint;":"\u222e","olarr;":"\u21ba","olcir;":"\u29be","olcross;":"\u29bb","oline;":"\u203e","olt;":"\u29c0","Omacr;":"\u014c","omacr;":"\u014d","Omega;":"\u03a9","omega;":"\u03c9","Omicron;":"\u039f","omicron;":"\u03bf","omid;":"\u29b6","ominus;":"\u2296","Oopf;":"\u{1d546}","oopf;":"\u{1d560}","opar;":"\u29b7","OpenCurlyDoubleQuote;":"\u201c","OpenCurlyQuote;":"\u2018","operp;":"\u29b9","oplus;":"\u2295","orarr;":"\u21bb","Or;":"\u2a54","or;":"\u2228","ord;":"\u2a5d","order;":"\u2134","orderof;":"\u2134","ordf;":"\xaa",ordf:"\xaa","ordm;":"\xba",ordm:"\xba","origof;":"\u22b6","oror;":"\u2a56","orslope;":"\u2a57","orv;":"\u2a5b","oS;":"\u24c8","Oscr;":"\u{1d4aa}","oscr;":"\u2134","Oslash;":"\xd8",Oslash:"\xd8","oslash;":"\xf8",oslash:"\xf8","osol;":"\u2298","Otilde;":"\xd5",Otilde:"\xd5","otilde;":"\xf5",otilde:"\xf5","otimesas;":"\u2a36","Otimes;":"\u2a37","otimes;":"\u2297","Ouml;":"\xd6",Ouml:"\xd6","ouml;":"\xf6",ouml:"\xf6","ovbar;":"\u233d","OverBar;":"\u203e","OverBrace;":"\u23de","OverBracket;":"\u23b4","OverParenthesis;":"\u23dc","para;":"\xb6",para:"\xb6","parallel;":"\u2225","par;":"\u2225","parsim;":"\u2af3","parsl;":"\u2afd","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041f","pcy;":"\u043f","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22a5","pertenk;":"\u2031","Pfr;":"\u{1d513}","pfr;":"\u{1d52d}","Phi;":"\u03a6","phi;":"\u03c6","phiv;":"\u03d5","phmmat;":"\u2133","phone;":"\u260e","Pi;":"\u03a0","pi;":"\u03c0","pitchfork;":"\u22d4","piv;":"\u03d6","planck;":"\u210f","planckh;":"\u210e","plankv;":"\u210f","plusacir;":"\u2a23","plusb;":"\u229e","pluscir;":"\u2a22","plus;":"+","plusdo;":"\u2214","plusdu;":"\u2a25","pluse;":"\u2a72","PlusMinus;":"\xb1","plusmn;":"\xb1",plusmn:"\xb1","plussim;":"\u2a26","plustwo;":"\u2a27","pm;":"\xb1","Poincareplane;":"\u210c","pointint;":"\u2a15","popf;":"\u{1d561}","Popf;":"\u2119","pound;":"\xa3",pound:"\xa3","prap;":"\u2ab7","Pr;":"\u2abb","pr;":"\u227a","prcue;":"\u227c","precapprox;":"\u2ab7","prec;":"\u227a","preccurlyeq;":"\u227c","Precedes;":"\u227a","PrecedesEqual;":"\u2aaf","PrecedesSlantEqual;":"\u227c","PrecedesTilde;":"\u227e","preceq;":"\u2aaf","precnapprox;":"\u2ab9","precneqq;":"\u2ab5","precnsim;":"\u22e8","pre;":"\u2aaf","prE;":"\u2ab3","precsim;":"\u227e","prime;":"\u2032","Prime;":"\u2033","primes;":"\u2119","prnap;":"\u2ab9","prnE;":"\u2ab5","prnsim;":"\u22e8","prod;":"\u220f","Product;":"\u220f","profalar;":"\u232e","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221d","Proportional;":"\u221d","Proportion;":"\u2237","propto;":"\u221d","prsim;":"\u227e","prurel;":"\u22b0","Pscr;":"\u{1d4ab}","pscr;":"\u{1d4c5}","Psi;":"\u03a8","psi;":"\u03c8","puncsp;":"\u2008","Qfr;":"\u{1d514}","qfr;":"\u{1d52e}","qint;":"\u2a0c","qopf;":"\u{1d562}","Qopf;":"\u211a","qprime;":"\u2057","Qscr;":"\u{1d4ac}","qscr;":"\u{1d4c6}","quaternions;":"\u210d","quatint;":"\u2a16","quest;":"?","questeq;":"\u225f","quot;":\'"\',quot:\'"\',"QUOT;":\'"\',QUOT:\'"\',"rAarr;":"\u21db","race;":"\u223d\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221a","raemptyv;":"\u29b3","rang;":"\u27e9","Rang;":"\u27eb","rangd;":"\u2992","range;":"\u29a5","rangle;":"\u27e9","raquo;":"\xbb",raquo:"\xbb","rarrap;":"\u2975","rarrb;":"\u21e5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarr;":"\u2192","Rarr;":"\u21a0","rArr;":"\u21d2","rarrfs;":"\u291e","rarrhk;":"\u21aa","rarrlp;":"\u21ac","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21a3","rarrw;":"\u219d","ratail;":"\u291a","rAtail;":"\u291c","ratio;":"\u2236","rationals;":"\u211a","rbarr;":"\u290d","rBarr;":"\u290f","RBarr;":"\u2910","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298c","rbrksld;":"\u298e","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201d","rdquor;":"\u201d","rdsh;":"\u21b3","real;":"\u211c","realine;":"\u211b","realpart;":"\u211c","reals;":"\u211d","Re;":"\u211c","rect;":"\u25ad","reg;":"\xae",reg:"\xae","REG;":"\xae",REG:"\xae","ReverseElement;":"\u220b","ReverseEquilibrium;":"\u21cb","ReverseUpEquilibrium;":"\u296f","rfisht;":"\u297d","rfloor;":"\u230b","rfr;":"\u{1d52f}","Rfr;":"\u211c","rHar;":"\u2964","rhard;":"\u21c1","rharu;":"\u21c0","rharul;":"\u296c","Rho;":"\u03a1","rho;":"\u03c1","rhov;":"\u03f1","RightAngleBracket;":"\u27e9","RightArrowBar;":"\u21e5","rightarrow;":"\u2192","RightArrow;":"\u2192","Rightarrow;":"\u21d2","RightArrowLeftArrow;":"\u21c4","rightarrowtail;":"\u21a3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27e7","RightDownTeeVector;":"\u295d","RightDownVectorBar;":"\u2955","RightDownVector;":"\u21c2","RightFloor;":"\u230b","rightharpoondown;":"\u21c1","rightharpoonup;":"\u21c0","rightleftarrows;":"\u21c4","rightleftharpoons;":"\u21cc","rightrightarrows;":"\u21c9","rightsquigarrow;":"\u219d","RightTeeArrow;":"\u21a6","RightTee;":"\u22a2","RightTeeVector;":"\u295b","rightthreetimes;":"\u22cc","RightTriangleBar;":"\u29d0","RightTriangle;":"\u22b3","RightTriangleEqual;":"\u22b5","RightUpDownVector;":"\u294f","RightUpTeeVector;":"\u295c","RightUpVectorBar;":"\u2954","RightUpVector;":"\u21be","RightVectorBar;":"\u2953","RightVector;":"\u21c0","ring;":"\u02da","risingdotseq;":"\u2253","rlarr;":"\u21c4","rlhar;":"\u21cc","rlm;":"\u200f","rmoustache;":"\u23b1","rmoust;":"\u23b1","rnmid;":"\u2aee","roang;":"\u27ed","roarr;":"\u21fe","robrk;":"\u27e7","ropar;":"\u2986","ropf;":"\u{1d563}","Ropf;":"\u211d","roplus;":"\u2a2e","rotimes;":"\u2a35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2a12","rrarr;":"\u21c9","Rrightarrow;":"\u21db","rsaquo;":"\u203a","rscr;":"\u{1d4c7}","Rscr;":"\u211b","rsh;":"\u21b1","Rsh;":"\u21b1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22cc","rtimes;":"\u22ca","rtri;":"\u25b9","rtrie;":"\u22b5","rtrif;":"\u25b8","rtriltri;":"\u29ce","RuleDelayed;":"\u29f4","ruluhar;":"\u2968","rx;":"\u211e","Sacute;":"\u015a","sacute;":"\u015b","sbquo;":"\u201a","scap;":"\u2ab8","Scaron;":"\u0160","scaron;":"\u0161","Sc;":"\u2abc","sc;":"\u227b","sccue;":"\u227d","sce;":"\u2ab0","scE;":"\u2ab4","Scedil;":"\u015e","scedil;":"\u015f","Scirc;":"\u015c","scirc;":"\u015d","scnap;":"\u2aba","scnE;":"\u2ab6","scnsim;":"\u22e9","scpolint;":"\u2a13","scsim;":"\u227f","Scy;":"\u0421","scy;":"\u0441","sdotb;":"\u22a1","sdot;":"\u22c5","sdote;":"\u2a66","searhk;":"\u2925","searr;":"\u2198","seArr;":"\u21d8","searrow;":"\u2198","sect;":"\xa7",sect:"\xa7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1d516}","sfr;":"\u{1d530}","sfrown;":"\u2322","sharp;":"\u266f","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xad",shy:"\xad","Sigma;":"\u03a3","sigma;":"\u03c3","sigmaf;":"\u03c2","sigmav;":"\u03c2","sim;":"\u223c","simdot;":"\u2a6a","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2a9e","simgE;":"\u2aa0","siml;":"\u2a9d","simlE;":"\u2a9f","simne;":"\u2246","simplus;":"\u2a24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2a33","smeparsl;":"\u29e4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2aaa","smte;":"\u2aac","smtes;":"\u2aac\ufe00","SOFTcy;":"\u042c","softcy;":"\u044c","solbar;":"\u233f","solb;":"\u29c4","sol;":"/","Sopf;":"\u{1d54a}","sopf;":"\u{1d564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\ufe00","sqcup;":"\u2294","sqcups;":"\u2294\ufe00","Sqrt;":"\u221a","sqsub;":"\u228f","sqsube;":"\u2291","sqsubset;":"\u228f","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","square;":"\u25a1","Square;":"\u25a1","SquareIntersection;":"\u2293","SquareSubset;":"\u228f","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25aa","squ;":"\u25a1","squf;":"\u25aa","srarr;":"\u2192","Sscr;":"\u{1d4ae}","sscr;":"\u{1d4c8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22c6","Star;":"\u22c6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03f5","straightphi;":"\u03d5","strns;":"\xaf","sub;":"\u2282","Sub;":"\u22d0","subdot;":"\u2abd","subE;":"\u2ac5","sube;":"\u2286","subedot;":"\u2ac3","submult;":"\u2ac1","subnE;":"\u2acb","subne;":"\u228a","subplus;":"\u2abf","subrarr;":"\u2979","subset;":"\u2282","Subset;":"\u22d0","subseteq;":"\u2286","subseteqq;":"\u2ac5","SubsetEqual;":"\u2286","subsetneq;":"\u228a","subsetneqq;":"\u2acb","subsim;":"\u2ac7","subsub;":"\u2ad5","subsup;":"\u2ad3","succapprox;":"\u2ab8","succ;":"\u227b","succcurlyeq;":"\u227d","Succeeds;":"\u227b","SucceedsEqual;":"\u2ab0","SucceedsSlantEqual;":"\u227d","SucceedsTilde;":"\u227f","succeq;":"\u2ab0","succnapprox;":"\u2aba","succneqq;":"\u2ab6","succnsim;":"\u22e9","succsim;":"\u227f","SuchThat;":"\u220b","sum;":"\u2211","Sum;":"\u2211","sung;":"\u266a","sup1;":"\xb9",sup1:"\xb9","sup2;":"\xb2",sup2:"\xb2","sup3;":"\xb3",sup3:"\xb3","sup;":"\u2283","Sup;":"\u22d1","supdot;":"\u2abe","supdsub;":"\u2ad8","supE;":"\u2ac6","supe;":"\u2287","supedot;":"\u2ac4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27c9","suphsub;":"\u2ad7","suplarr;":"\u297b","supmult;":"\u2ac2","supnE;":"\u2acc","supne;":"\u228b","supplus;":"\u2ac0","supset;":"\u2283","Supset;":"\u22d1","supseteq;":"\u2287","supseteqq;":"\u2ac6","supsetneq;":"\u228b","supsetneqq;":"\u2acc","supsim;":"\u2ac8","supsub;":"\u2ad4","supsup;":"\u2ad6","swarhk;":"\u2926","swarr;":"\u2199","swArr;":"\u21d9","swarrow;":"\u2199","swnwar;":"\u292a","szlig;":"\xdf",szlig:"\xdf","Tab;":"\t","target;":"\u2316","Tau;":"\u03a4","tau;":"\u03c4","tbrk;":"\u23b4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20db","telrec;":"\u2315","Tfr;":"\u{1d517}","tfr;":"\u{1d531}","there4;":"\u2234","therefore;":"\u2234","Therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03b8","thetasym;":"\u03d1","thetav;":"\u03d1","thickapprox;":"\u2248","thicksim;":"\u223c","ThickSpace;":"\u205f\u200a","ThinSpace;":"\u2009","thinsp;":"\u2009","thkap;":"\u2248","thksim;":"\u223c","THORN;":"\xde",THORN:"\xde","thorn;":"\xfe",thorn:"\xfe","tilde;":"\u02dc","Tilde;":"\u223c","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","timesbar;":"\u2a31","timesb;":"\u22a0","times;":"\xd7",times:"\xd7","timesd;":"\u2a30","tint;":"\u222d","toea;":"\u2928","topbot;":"\u2336","topcir;":"\u2af1","top;":"\u22a4","Topf;":"\u{1d54b}","topf;":"\u{1d565}","topfork;":"\u2ada","tosa;":"\u2929","tprime;":"\u2034","trade;":"\u2122","TRADE;":"\u2122","triangle;":"\u25b5","triangledown;":"\u25bf","triangleleft;":"\u25c3","trianglelefteq;":"\u22b4","triangleq;":"\u225c","triangleright;":"\u25b9","trianglerighteq;":"\u22b5","tridot;":"\u25ec","trie;":"\u225c","triminus;":"\u2a3a","TripleDot;":"\u20db","triplus;":"\u2a39","trisb;":"\u29cd","tritime;":"\u2a3b","trpezium;":"\u23e2","Tscr;":"\u{1d4af}","tscr;":"\u{1d4c9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040b","tshcy;":"\u045b","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226c","twoheadleftarrow;":"\u219e","twoheadrightarrow;":"\u21a0","Uacute;":"\xda",Uacute:"\xda","uacute;":"\xfa",uacute:"\xfa","uarr;":"\u2191","Uarr;":"\u219f","uArr;":"\u21d1","Uarrocir;":"\u2949","Ubrcy;":"\u040e","ubrcy;":"\u045e","Ubreve;":"\u016c","ubreve;":"\u016d","Ucirc;":"\xdb",Ucirc:"\xdb","ucirc;":"\xfb",ucirc:"\xfb","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21c5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296e","ufisht;":"\u297e","Ufr;":"\u{1d518}","ufr;":"\u{1d532}","Ugrave;":"\xd9",Ugrave:"\xd9","ugrave;":"\xf9",ugrave:"\xf9","uHar;":"\u2963","uharl;":"\u21bf","uharr;":"\u21be","uhblk;":"\u2580","ulcorn;":"\u231c","ulcorner;":"\u231c","ulcrop;":"\u230f","ultri;":"\u25f8","Umacr;":"\u016a","umacr;":"\u016b","uml;":"\xa8",uml:"\xa8","UnderBar;":"_","UnderBrace;":"\u23df","UnderBracket;":"\u23b5","UnderParenthesis;":"\u23dd","Union;":"\u22c3","UnionPlus;":"\u228e","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1d54c}","uopf;":"\u{1d566}","UpArrowBar;":"\u2912","uparrow;":"\u2191","UpArrow;":"\u2191","Uparrow;":"\u21d1","UpArrowDownArrow;":"\u21c5","updownarrow;":"\u2195","UpDownArrow;":"\u2195","Updownarrow;":"\u21d5","UpEquilibrium;":"\u296e","upharpoonleft;":"\u21bf","upharpoonright;":"\u21be","uplus;":"\u228e","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","upsi;":"\u03c5","Upsi;":"\u03d2","upsih;":"\u03d2","Upsilon;":"\u03a5","upsilon;":"\u03c5","UpTeeArrow;":"\u21a5","UpTee;":"\u22a5","upuparrows;":"\u21c8","urcorn;":"\u231d","urcorner;":"\u231d","urcrop;":"\u230e","Uring;":"\u016e","uring;":"\u016f","urtri;":"\u25f9","Uscr;":"\u{1d4b0}","uscr;":"\u{1d4ca}","utdot;":"\u22f0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25b5","utrif;":"\u25b4","uuarr;":"\u21c8","Uuml;":"\xdc",Uuml:"\xdc","uuml;":"\xfc",uuml:"\xfc","uwangle;":"\u29a7","vangrt;":"\u299c","varepsilon;":"\u03f5","varkappa;":"\u03f0","varnothing;":"\u2205","varphi;":"\u03d5","varpi;":"\u03d6","varpropto;":"\u221d","varr;":"\u2195","vArr;":"\u21d5","varrho;":"\u03f1","varsigma;":"\u03c2","varsubsetneq;":"\u228a\ufe00","varsubsetneqq;":"\u2acb\ufe00","varsupsetneq;":"\u228b\ufe00","varsupsetneqq;":"\u2acc\ufe00","vartheta;":"\u03d1","vartriangleleft;":"\u22b2","vartriangleright;":"\u22b3","vBar;":"\u2ae8","Vbar;":"\u2aeb","vBarv;":"\u2ae9","Vcy;":"\u0412","vcy;":"\u0432","vdash;":"\u22a2","vDash;":"\u22a8","Vdash;":"\u22a9","VDash;":"\u22ab","Vdashl;":"\u2ae6","veebar;":"\u22bb","vee;":"\u2228","Vee;":"\u22c1","veeeq;":"\u225a","vellip;":"\u22ee","verbar;":"|","Verbar;":"\u2016","vert;":"|","Vert;":"\u2016","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200a","Vfr;":"\u{1d519}","vfr;":"\u{1d533}","vltri;":"\u22b2","vnsub;":"\u2282\u20d2","vnsup;":"\u2283\u20d2","Vopf;":"\u{1d54d}","vopf;":"\u{1d567}","vprop;":"\u221d","vrtri;":"\u22b3","Vscr;":"\u{1d4b1}","vscr;":"\u{1d4cb}","vsubnE;":"\u2acb\ufe00","vsubne;":"\u228a\ufe00","vsupnE;":"\u2acc\ufe00","vsupne;":"\u228b\ufe00","Vvdash;":"\u22aa","vzigzag;":"\u299a","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2a5f","wedge;":"\u2227","Wedge;":"\u22c0","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1d51a}","wfr;":"\u{1d534}","Wopf;":"\u{1d54e}","wopf;":"\u{1d568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1d4b2}","wscr;":"\u{1d4cc}","xcap;":"\u22c2","xcirc;":"\u25ef","xcup;":"\u22c3","xdtri;":"\u25bd","Xfr;":"\u{1d51b}","xfr;":"\u{1d535}","xharr;":"\u27f7","xhArr;":"\u27fa","Xi;":"\u039e","xi;":"\u03be","xlarr;":"\u27f5","xlArr;":"\u27f8","xmap;":"\u27fc","xnis;":"\u22fb","xodot;":"\u2a00","Xopf;":"\u{1d54f}","xopf;":"\u{1d569}","xoplus;":"\u2a01","xotime;":"\u2a02","xrarr;":"\u27f6","xrArr;":"\u27f9","Xscr;":"\u{1d4b3}","xscr;":"\u{1d4cd}","xsqcup;":"\u2a06","xuplus;":"\u2a04","xutri;":"\u25b3","xvee;":"\u22c1","xwedge;":"\u22c0","Yacute;":"\xdd",Yacute:"\xdd","yacute;":"\xfd",yacute:"\xfd","YAcy;":"\u042f","yacy;":"\u044f","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042b","ycy;":"\u044b","yen;":"\xa5",yen:"\xa5","Yfr;":"\u{1d51c}","yfr;":"\u{1d536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1d550}","yopf;":"\u{1d56a}","Yscr;":"\u{1d4b4}","yscr;":"\u{1d4ce}","YUcy;":"\u042e","yucy;":"\u044e","yuml;":"\xff",yuml:"\xff","Yuml;":"\u0178","Zacute;":"\u0179","zacute;":"\u017a","Zcaron;":"\u017d","zcaron;":"\u017e","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017b","zdot;":"\u017c","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200b","Zeta;":"\u0396","zeta;":"\u03b6","zfr;":"\u{1d537}","Zfr;":"\u2128","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21dd","zopf;":"\u{1d56b}","Zopf;":"\u2124","Zscr;":"\u{1d4b5}","zscr;":"\u{1d4cf}","zwj;":"\u200d","zwnj;":"\u200c"}\n},{}],13:[function(_dereq_,module){function replacer(key,value){return util.isUndefined(value)?""+value:!util.isNumber(value)||!isNaN(value)&&isFinite(value)?util.isFunction(value)||util.isRegExp(value)?""+value:value:""+value}function truncate(s,n){return util.isString(s)?n>s.length?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;actual.length>i;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=_dereq_("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=Error();if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":15}],14:[function(_dereq_,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],15:[function(_dereq_,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"\x1b["+inspect.colors[style][0]+"m"+str+"\x1b["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="\'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,i+"")?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+"",!0)):output.push("");return keys.forEach(function(key){key.match(/^\\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\\n")>-1&&(str=array?str.split("\\n").map(function(line){return"  "+line}).join("\\n").substr(2):"\\n"+str.split("\\n").map(function(line){return"   "+line}).join("\\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\\n")>=0&&numLinesEst++,prev+cur.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\\n ")+" "+output.join(",\\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||arg===void 0}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;arguments.length>i;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=(f+"").replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return args[i++]+"";case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(RegExp("\\\\b"+set+"\\\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,_dereq_("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}],16:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError(\'Uncaught, unspecified "error" event.\');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i--\x3e0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],17:[function(_dereq_,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],18:[function(_dereq_,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw Error("process.chdir is not supported")}},{}],19:[function(_dereq_,module){module.exports=_dereq_(14)},{}],20:[function(_dereq_,module){module.exports=_dereq_(15)},{"./support/isBuffer":19,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}]},{},[9])(9)}),ace.define("ace/mode/html_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/html/saxparser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,SAXParser=acequire("./html/saxparser").SAXParser,errorTypes={"expected-doctype-but-got-start-tag":"info","expected-doctype-but-got-chars":"info","non-html-root":"info"},Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new SAXParser,errors=[],noop=function(){};parser.contentHandler={startDocument:noop,endDocument:noop,startElement:noop,endElement:noop,characters:noop},parser.errorHandler={error:function(message,location,code){errors.push({row:location.line,column:location.column,text:message,type:errorTypes[code]||"error"})}},this.context?parser.parseFragment(value,this.context):parser.parse(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object\n});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},"KF/P":function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new class{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new class extends i.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}}(e,this.predicate,this.thisArg))}}(e,t))}};var i=n("WJ2g")},Kiz6:function(e,t,n){"use strict";var i=n("1GK5"),r=n("AdGS"),s=n("9i4M"),o=n("05/P"),a=n("vVQ5"),l=n("U2gC");o.a.prototype.debounceTime=function(e,t=a.a){return Object(l.a)(e,t)(this)},n.d(t,"a",function(){return m}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return h});class c{constructor(e,t,n){this.elRef=e,this.cdRef=t,this.renderer=n,this._direction="horizontal",this._useTransition=!1,this._disabled=!1,this._width=null,this._height=null,this._gutterSize=11,this._gutterColor="",this._gutterImageH="",this._gutterImageV="",this._dir="ltr",this.dragStart=new i.q(!1),this.dragProgress=new i.q(!1),this.dragEnd=new i.q(!1),this.gutterClick=new i.q(!1),this.transitionEndInternal=new s.a,this.transitionEnd=this.transitionEndInternal.asObservable().debounceTime(20),this.isViewInitialized=!1,this.isDragging=!1,this.draggingWithoutMove=!1,this.currentGutterNum=0,this.displayedAreas=[],this.hidedAreas=[],this.dragListeners=[],this.dragStartValues={sizePixelContainer:0,sizePixelA:0,sizePixelB:0,sizePercentA:0,sizePercentB:0}}set direction(e){e="vertical"===e?"vertical":"horizontal",this._direction=e,[...this.displayedAreas,...this.hidedAreas].forEach(e=>{e.comp.setStyleVisibleAndDir(e.comp.visible,this.isDragging,this.direction)}),this.build(!1,!1)}get direction(){return this._direction}set useTransition(e){e="boolean"==typeof e?e:"false"!==e,this._useTransition=e}get useTransition(){return this._useTransition}set disabled(e){e="boolean"==typeof e?e:"false"!==e,this._disabled=e,this.cdRef.markForCheck()}get disabled(){return this._disabled}set width(e){e=Number(e),this._width=!isNaN(e)&&e>0?e:null,this.build(!1,!1)}get width(){return this._width}set height(e){e=Number(e),this._height=!isNaN(e)&&e>0?e:null,this.build(!1,!1)}get height(){return this._height}set gutterSize(e){e=Number(e),this._gutterSize=!isNaN(e)&&e>0?e:11,this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterColor(e){this._gutterColor="string"==typeof e&&""!==e?e:"",this.cdRef.markForCheck()}get gutterColor(){return this._gutterColor}set gutterImageH(e){this._gutterImageH="string"==typeof e&&""!==e?e:"",this.cdRef.markForCheck()}get gutterImageH(){return this._gutterImageH}set gutterImageV(e){this._gutterImageV="string"==typeof e&&""!==e?e:"",this.cdRef.markForCheck()}get gutterImageV(){return this._gutterImageV}set dir(e){e="rtl"===e?"rtl":"ltr",this._dir=e}get dir(){return this._dir}get cssFlexdirection(){return"horizontal"===this.direction?"row":"column"}get cssWidth(){return this.width?`${this.width}px`:"100%"}get cssHeight(){return this.height?`${this.height}px`:"100%"}get cssMinwidth(){return"horizontal"===this.direction?`${this.getNbGutters()*this.gutterSize}px`:null}get cssMinheight(){return"vertical"===this.direction?`${this.getNbGutters()*this.gutterSize}px`:null}ngAfterViewInit(){this.isViewInitialized=!0}getNbGutters(){return this.displayedAreas.length-1}addArea(e){const t={comp:e,order:0,size:0};!0===e.visible?this.displayedAreas.push(t):this.hidedAreas.push(t),e.setStyleVisibleAndDir(e.visible,this.isDragging,this.direction),this.build(!0,!0)}removeArea(e){if(this.displayedAreas.some(t=>t.comp===e)){const t=this.displayedAreas.find(t=>t.comp===e);this.displayedAreas.splice(this.displayedAreas.indexOf(t),1),this.build(!0,!0)}else if(this.hidedAreas.some(t=>t.comp===e)){const t=this.hidedAreas.find(t=>t.comp===e);this.hidedAreas.splice(this.hidedAreas.indexOf(t),1)}}updateArea(e,t,n){this.displayedAreas.find(t=>t.comp===e)&&this.build(t,n)}showArea(e){const t=this.hidedAreas.find(t=>t.comp===e);if(t){e.setStyleVisibleAndDir(e.visible,this.isDragging,this.direction);const n=this.hidedAreas.splice(this.hidedAreas.indexOf(t),1);this.displayedAreas.push(...n),this.build(!0,!0)}}hideArea(e){const t=this.displayedAreas.find(t=>t.comp===e);if(t){e.setStyleVisibleAndDir(e.visible,this.isDragging,this.direction);const n=this.displayedAreas.splice(this.displayedAreas.indexOf(t),1);n.forEach(e=>{e.order=0,e.size=0}),this.hidedAreas.push(...n),this.build(!0,!0)}}build(e,t){if(this.stopDragging(),!0===e&&(this.displayedAreas.every(e=>null!==e.comp.order)&&this.displayedAreas.sort((e,t)=>e.comp.order-t.comp.order),this.displayedAreas.forEach((e,t)=>{e.order=2*t,e.comp.setStyleOrder(e.order)})),!0===t){const e=this.displayedAreas.reduce((e,t)=>t.comp.size?e+t.comp.size:e,0);if(this.displayedAreas.every(e=>null!==e.comp.size)&&e>.999&&e<1.001)this.displayedAreas.forEach(e=>{e.size=e.comp.size});else{const e=1/this.displayedAreas.length;this.displayedAreas.forEach(t=>{t.size=e})}}let n=0,i=this.getNbGutters()*this.gutterSize;if(i="horizontal"===this.direction?this.width?this.width:this.elRef.nativeElement.offsetWidth:this.height?this.height:this.elRef.nativeElement.offsetHeight,this.displayedAreas.forEach(e=>{e.size*i<this.gutterSize&&(n+=e.size,e.size=0)}),n>0&&this.displayedAreas.length>0){const e=this.displayedAreas.filter(e=>0!==e.size).length;if(e>0){const t=n/e;this.displayedAreas.filter(e=>0!==e.size).forEach(e=>{e.size+=t})}else this.displayedAreas[this.displayedAreas.length-1].size=1}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){const e=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(t=>{t.comp.setStyleFlexbasis(`calc( ${100*t.size}% - ${t.size*e}px )`,this.isDragging)})}startDragging(e,t,n){if(e.preventDefault(),this.currentGutterNum=n,this.draggingWithoutMove=!0,this.dragListeners.push(this.renderer.listen("document","mouseup",e=>this.stopDragging())),this.dragListeners.push(this.renderer.listen("document","touchend",e=>this.stopDragging())),this.dragListeners.push(this.renderer.listen("document","touchcancel",e=>this.stopDragging())),this.disabled)return;const i=this.displayedAreas.find(e=>e.order===t-1),r=this.displayedAreas.find(e=>e.order===t+1);if(!i||!r)return;const s="horizontal"===this.direction?"offsetWidth":"offsetHeight";this.dragStartValues.sizePixelContainer=this.elRef.nativeElement[s],this.dragStartValues.sizePixelA=i.comp.getSizePixel(s),this.dragStartValues.sizePixelB=r.comp.getSizePixel(s),this.dragStartValues.sizePercentA=i.size,this.dragStartValues.sizePercentB=r.size;let o;if(e instanceof MouseEvent)o={x:e.screenX,y:e.screenY};else{if(!(e instanceof TouchEvent))return;o={x:e.touches[0].screenX,y:e.touches[0].screenY}}this.dragListeners.push(this.renderer.listen("document","mousemove",e=>this.dragEvent(e,o,i,r))),this.dragListeners.push(this.renderer.listen("document","touchmove",e=>this.dragEvent(e,o,i,r))),i.comp.lockEvents(),r.comp.lockEvents(),this.isDragging=!0,this.notify("start")}dragEvent(e,t,n,i){if(!this.isDragging)return;let r;if(e instanceof MouseEvent)r={x:e.screenX,y:e.screenY};else{if(!(e instanceof TouchEvent))return;r={x:e.touches[0].screenX,y:e.touches[0].screenY}}this.draggingWithoutMove=!1,this.drag(t,r,n,i)}drag(e,t,n,i){let r="horizontal"===this.direction?e.x-t.x:e.y-t.y;"rtl"===this.dir&&(r=-r);let s=this.dragStartValues.sizePixelA-r,o=this.dragStartValues.sizePixelB+r;s<this.gutterSize&&o<this.gutterSize||(s<this.gutterSize?(o+=s,s=0):o<this.gutterSize&&(s+=o,o=0),0===s?(i.size+=n.size,n.size=0):0===o?(n.size+=i.size,i.size=0):0===this.dragStartValues.sizePercentA?(i.size=this.dragStartValues.sizePercentB/this.dragStartValues.sizePixelB*o,n.size=this.dragStartValues.sizePercentB-i.size):0===this.dragStartValues.sizePercentB?(n.size=this.dragStartValues.sizePercentA/this.dragStartValues.sizePixelA*s,i.size=this.dragStartValues.sizePercentA-n.size):(n.size=this.dragStartValues.sizePercentA/this.dragStartValues.sizePixelA*s,i.size=this.dragStartValues.sizePercentA+this.dragStartValues.sizePercentB-n.size),this.refreshStyleSizes(),this.notify("progress"))}stopDragging(){if(!1!==this.isDragging||!1!==this.draggingWithoutMove){for(this.displayedAreas.forEach(e=>{e.comp.unlockEvents()});this.dragListeners.length>0;){const e=this.dragListeners.pop();e&&e()}!0===this.draggingWithoutMove?this.notify("click"):this.notify("end"),this.isDragging=!1,this.draggingWithoutMove=!1}}notify(e){const t=this.displayedAreas.map(e=>100*e.size);switch(e){case"start":return this.dragStart.emit({gutterNum:this.currentGutterNum,sizes:t});case"progress":return this.dragProgress.emit({gutterNum:this.currentGutterNum,sizes:t});case"end":return this.dragEnd.emit({gutterNum:this.currentGutterNum,sizes:t});case"click":return this.gutterClick.emit({gutterNum:this.currentGutterNum,sizes:t});case"transitionEnd":return this.transitionEndInternal.next(t)}}ngOnDestroy(){this.stopDragging()}}c.decorators=[{type:i.j,args:[{selector:"split",changeDetection:i.g.OnPush,styles:["\n        :host {\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: flex-start;\n            align-items: stretch;\n            overflow: hidden;\n            /* \n                Important to keep following rules even if overrided later by 'HostBinding' \n                because if [width] & [height] not provided, when build() is executed,\n                'HostBinding' hasn't been applied yet so code:\n                this.elRef.nativeElement[\"offsetHeight\"] gives wrong value!  \n             */\n            width: 100%;\n            height: 100%;   \n        }\n\n        split-gutter {\n            flex-grow: 0;\n            flex-shrink: 0;\n            background-position: center center;\n            background-repeat: no-repeat;\n        }\n    "],template:'\n        <ng-content></ng-content>\n        <ng-template ngFor let-area [ngForOf]="displayedAreas" let-index="index" let-last="last">\n            <split-gutter *ngIf="last === false" \n                          [order]="index*2+1"\n                          [direction]="direction"\n                          [useTransition]="useTransition"\n                          [size]="gutterSize"\n                          [color]="gutterColor"\n                          [imageH]="gutterImageH"\n                          [imageV]="gutterImageV"\n                          [disabled]="disabled"\n                          (mousedown)="startDragging($event, index*2+1, index+1)"\n                          (touchstart)="startDragging($event, index*2+1, index+1)"></split-gutter>\n        </ng-template>'}]}],c.ctorParameters=(()=>[{type:i.o},{type:i.h},{type:i.M}]),c.propDecorators={direction:[{type:i.y}],useTransition:[{type:i.y}],disabled:[{type:i.y}],width:[{type:i.y}],height:[{type:i.y}],gutterSize:[{type:i.y}],gutterColor:[{type:i.y}],gutterImageH:[{type:i.y}],gutterImageV:[{type:i.y}],dir:[{type:i.y}],dragStart:[{type:i.H}],dragProgress:[{type:i.H}],dragEnd:[{type:i.H}],gutterClick:[{type:i.H}],transitionEnd:[{type:i.H}],cssFlexdirection:[{type:i.s,args:["style.flex-direction"]}],cssWidth:[{type:i.s,args:["style.width"]}],cssHeight:[{type:i.s,args:["style.height"]}],cssMinwidth:[{type:i.s,args:["style.min-width"]}],cssMinheight:[{type:i.s,args:["style.min-height"]}]};class u{constructor(e,t,n){this.elRef=e,this.renderer=t,this.split=n,this._order=null,this._size=null,this._minSize=0,this._visible=!0,this.lockListeners=[]}set order(e){e=Number(e),this._order=isNaN(e)?null:e,this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(e){e=Number(e),this._size=!isNaN(e)&&e>=0&&e<=100?e/100:null,this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(e){e=Number(e),this._minSize=!isNaN(e)&&e>0&&e<100?e/100:0,this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set visible(e){e="boolean"==typeof e?e:"false"!==e,this._visible=e,this.visible?this.split.showArea(this):this.split.hideArea(this)}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.renderer.setStyle(this.elRef.nativeElement,"flex-grow","0"),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink","0"),this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",e=>this.onTransitionEnd(e))}getSizePixel(e){return this.elRef.nativeElement[e]}setStyleVisibleAndDir(e,t,n){!1===e?(this.setStyleFlexbasis("0",t),this.renderer.setStyle(this.elRef.nativeElement,"overflow-x","hidden"),this.renderer.setStyle(this.elRef.nativeElement,"overflow-y","hidden"),"vertical"===n&&this.renderer.setStyle(this.elRef.nativeElement,"max-width","0")):(this.renderer.setStyle(this.elRef.nativeElement,"overflow-x","hidden"),this.renderer.setStyle(this.elRef.nativeElement,"overflow-y","auto"),this.renderer.removeStyle(this.elRef.nativeElement,"max-width")),"horizontal"===n?(this.renderer.setStyle(this.elRef.nativeElement,"height","100%"),this.renderer.removeStyle(this.elRef.nativeElement,"width")):(this.renderer.setStyle(this.elRef.nativeElement,"width","100%"),this.renderer.removeStyle(this.elRef.nativeElement,"height"))}setStyleOrder(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}setStyleFlexbasis(e,t){!1===this.split.isViewInitialized||!0===t?this.setStyleTransition(!1):this.setStyleTransition(this.split.useTransition),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",e)}setStyleTransition(e){e?this.renderer.setStyle(this.elRef.nativeElement,"transition","flex-basis 0.3s"):this.renderer.removeStyle(this.elRef.nativeElement,"transition")}onTransitionEnd(e){"flex-basis"===e.propertyName&&this.split.notify("transitionEnd")}lockEvents(){this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",e=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",e=>!1))}unlockEvents(){for(;this.lockListeners.length>0;){const e=this.lockListeners.pop();e&&e()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}}u.decorators=[{type:i.n,args:[{selector:"split-area"}]}],u.ctorParameters=(()=>[{type:i.o},{type:i.M},{type:c}]),u.propDecorators={order:[{type:i.y}],size:[{type:i.y}],minSize:[{type:i.y}],visible:[{type:i.y}]};class h{constructor(e,t){this.elRef=e,this.renderer=t,this._disabled=!1}set order(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}set direction(e){this._direction=e,this.refreshStyle()}get direction(){return this._direction}set useTransition(e){e?this.renderer.setStyle(this.elRef.nativeElement,"transition","flex-basis 0.3s"):this.renderer.removeStyle(this.elRef.nativeElement,"transition")}set size(e){this._size=e,this.refreshStyle()}get size(){return this._size}set color(e){this._color=e,this.refreshStyle()}get color(){return this._color}set imageH(e){this._imageH=e,this.refreshStyle()}get imageH(){return this._imageH}set imageV(e){this._imageV=e,this.refreshStyle()}get imageV(){return this._imageV}set disabled(e){this._disabled=e,this.refreshStyle()}get disabled(){return this._disabled}refreshStyle(){this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",`${this.size}px`),this.renderer.setStyle(this.elRef.nativeElement,"height","vertical"===this.direction?`${this.size}px`:"100%"),this.renderer.setStyle(this.elRef.nativeElement,"background-color",""!==this.color?this.color:"#eeeeee");const e=!0===this.disabled?"disabled":this.direction;this.renderer.setStyle(this.elRef.nativeElement,"background-image",this.getImage(e)),this.renderer.setStyle(this.elRef.nativeElement,"cursor",this.getCursor(e))}getCursor(e){switch(e){case"horizontal":return"col-resize";case"vertical":return"row-resize";case"disabled":return"default"}}getImage(e){switch(e){case"horizontal":return""!==this.imageH?this.imageH:d;case"vertical":return""!==this.imageV?this.imageV:p;case"disabled":return""}}}h.decorators=[{type:i.n,args:[{selector:"split-gutter"}]}],h.ctorParameters=(()=>[{type:i.o},{type:i.M}]),h.propDecorators={order:[{type:i.y}],direction:[{type:i.y}],useTransition:[{type:i.y}],size:[{type:i.y}],color:[{type:i.y}],imageH:[{type:i.y}],imageV:[{type:i.y}],disabled:[{type:i.y}]};const d='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==")',p='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC")';class m{static forRoot(){return{ngModule:m,providers:[]}}static forChild(){return{ngModule:m,providers:[]}}}m.decorators=[{type:i.C,args:[{imports:[r.a],declarations:[c,u,h],exports:[c,u]}]}],m.ctorParameters=(()=>[])},LLJX:function(e,t,n){"use strict";var i=n("05/P");class r{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return i.a.of(this.value);case"E":return i.a.throw(this.error);case"C":return i.a.empty()}throw new Error("unexpected notification kind value")}static createNext(e){return"undefined"!=typeof e?new r("N",e):r.undefinedValueNotification}static createError(e){return new r("E",void 0,e)}static createComplete(){return r.completeNotification}}t.a=r,r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0)},"LT8/":function(e,t){},LhFP:function(e,t,n){"use strict";n.d(t,"e",function(){return C}),n.d(t,"c",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"d",function(){return _}),n.d(t,"f",function(){return k}),n.d(t,"i",function(){return A});var i=n("AdGS"),r=n("1GK5"),s=n("IMoF"),o=n("3P+V"),a=n("bVHt"),l=n("nTP9"),c=n("IEaL"),u=n("pnCZ");const h=Object(s.D)(class{});const d=Object(s.D)(class{});class p{}p.decorators=[{type:r.n,args:[{selector:"mat-divider",host:{role:"separator","aria-orientation":"horizontal"}}]}],p.ctorParameters=(()=>[]);class m extends h{}m.decorators=[{type:r.j,args:[{selector:"mat-nav-list",exportAs:"matNavList",host:{role:"navigation",class:"mat-nav-list"},template:"<ng-content></ng-content>",styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-avatar,.mat-list .mat-list-option.mat-list-item-avatar,.mat-nav-list .mat-list-item.mat-list-item-avatar,.mat-nav-list .mat-list-option.mat-list-item-avatar,.mat-selection-list .mat-list-item.mat-list-item-avatar,.mat-selection-list .mat-list-option.mat-list-item-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item .mat-list-text:nth-child(2),.mat-list .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-avatar,.mat-list[dense] .mat-list-option.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-divider{display:block;border-top-style:solid;border-top-width:1px;margin:0}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item-content{cursor:pointer}.mat-nav-list .mat-list-item-content.mat-list-item-focus,.mat-nav-list .mat-list-item-content:hover{outline:0}.mat-list-option:not([disabled]){cursor:pointer}"],inputs:["disableRipple"],encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush}]}],m.ctorParameters=(()=>[]);class f extends h{}f.decorators=[{type:r.j,args:[{selector:"mat-list",exportAs:"matList",template:"<ng-content></ng-content>",host:{class:"mat-list"},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-avatar,.mat-list .mat-list-option.mat-list-item-avatar,.mat-nav-list .mat-list-item.mat-list-item-avatar,.mat-nav-list .mat-list-option.mat-list-item-avatar,.mat-selection-list .mat-list-item.mat-list-item-avatar,.mat-selection-list .mat-list-option.mat-list-item-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item .mat-list-text:nth-child(2),.mat-list .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-avatar,.mat-list[dense] .mat-list-option.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-divider{display:block;border-top-style:solid;border-top-width:1px;margin:0}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item-content{cursor:pointer}.mat-nav-list .mat-list-item-content.mat-list-item-focus,.mat-nav-list .mat-list-item-content:hover{outline:0}.mat-list-option:not([disabled]){cursor:pointer}"],inputs:["disableRipple"],encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush}]}],f.ctorParameters=(()=>[]);class g{}g.decorators=[{type:r.n,args:[{selector:"mat-divider",host:{class:"mat-divider"}}]}],g.ctorParameters=(()=>[]);class v{}v.decorators=[{type:r.n,args:[{selector:"[mat-list-avatar], [matListAvatar]",host:{class:"mat-list-avatar"}}]}],v.ctorParameters=(()=>[]);class y{}y.decorators=[{type:r.n,args:[{selector:"[mat-list-icon], [matListIcon]",host:{class:"mat-list-icon"}}]}],y.ctorParameters=(()=>[]);class b{}b.decorators=[{type:r.n,args:[{selector:"[mat-subheader], [matSubheader]",host:{class:"mat-subheader"}}]}],b.ctorParameters=(()=>[]);class _ extends d{constructor(e,t){super(),this._element=e,this._navList=t,this._isNavList=!1,this._isNavList=!!t}set _hasAvatar(e){null!=e?this._element.nativeElement.classList.add("mat-list-item-avatar"):this._element.nativeElement.classList.remove("mat-list-item-avatar")}ngAfterContentInit(){this._lineSetter=new s.q(this._lines,this._element)}_isRippleDisabled(){return!this._isNavList||this.disableRipple||this._navList.disableRipple}_handleFocus(){this._element.nativeElement.classList.add("mat-list-item-focus")}_handleBlur(){this._element.nativeElement.classList.remove("mat-list-item-focus")}_getHostElement(){return this._element.nativeElement}}_.decorators=[{type:r.j,args:[{selector:"mat-list-item, a[mat-list-item]",exportAs:"matListItem",host:{class:"mat-list-item","(focus)":"_handleFocus()","(blur)":"_handleBlur()"},inputs:["disableRipple"],template:'<div class="mat-list-item-content"><div class="mat-list-item-ripple" mat-ripple [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="_isRippleDisabled()"></div><ng-content select="[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"></ng-content><div class="mat-list-text"><ng-content select="[mat-line], [matLine]"></ng-content></div><ng-content></ng-content></div>',encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush}]}],_.ctorParameters=(()=>[{type:r.o},{type:m,decorators:[{type:r.G}]}]),_.propDecorators={_lines:[{type:r.m,args:[s.o]}],_hasAvatar:[{type:r.l,args:[v]}]};const x=Object(s.G)(Object(s.D)(Object(s.E)(class{})));const w=Object(s.D)(class{}),E={provide:u.h,useExisting:Object(r._3)(()=>A),multi:!0};class T{constructor(e,t){this.source=e,this.selected=t}}class S{constructor(e,t){this.source=e,this.option=t}}class k extends w{constructor(e,t,n){super(),this._element=e,this._changeDetector=t,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this.selectionChange=new r.q}get disabled(){return this.selectionList&&this.selectionList.disabled||this._disabled}set disabled(e){const t=Object(a.b)(e);t!==this._disabled&&(this._disabled=t,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(e){const t=Object(a.b)(e);t!==this._selected&&(this._setSelected(t),this.selectionList._reportValueChange())}ngOnInit(){this.selected&&Promise.resolve(()=>this.selected&&this.selectionList._reportValueChange())}ngAfterContentInit(){this._lineSetter=new s.q(this._lines,this._element)}ngOnDestroy(){this.selectionList._removeOptionFromList(this)}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||(this.toggle(),this.selectionList._emitChangeEvent(this),this._emitDeprecatedChangeEvent())}_handleFocus(){this._hasFocus=!0,this.selectionList._setFocusedOption(this)}_handleBlur(){this._hasFocus=!1,this.selectionList.onTouched()}_getHostElement(){return this._element.nativeElement}_setSelected(e){e!==this._selected&&(this._selected=e,e?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck())}_emitDeprecatedChangeEvent(){this.selectionChange.emit(new T(this,this.selected))}}k.decorators=[{type:r.j,args:[{selector:"mat-list-option",exportAs:"matListOption",inputs:["disableRipple"],host:{role:"option",class:"mat-list-item mat-list-option","(focus)":"_handleFocus()","(blur)":"_handleBlur()","(click)":"_handleClick()",tabindex:"-1","[class.mat-list-item-disabled]":"disabled","[class.mat-list-item-focus]":"_hasFocus","[attr.aria-selected]":"selected.toString()","[attr.aria-disabled]":"disabled.toString()"},template:'<div class="mat-list-item-content" [class.mat-list-item-content-reverse]="checkboxPosition == \'after\'" [class.mat-list-item-disabled]="disabled"><div mat-ripple class="mat-list-item-ripple" [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="_isRippleDisabled()"></div><mat-pseudo-checkbox #autocheckbox [state]="selected ? \'checked\' : \'unchecked\'" [disabled]="disabled"></mat-pseudo-checkbox><div class="mat-list-text"><ng-content></ng-content></div></div>',encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush}]}],k.ctorParameters=(()=>[{type:r.o},{type:r.h},{type:A,decorators:[{type:r.G},{type:r.u,args:[Object(r._3)(()=>A)]}]}]),k.propDecorators={_lines:[{type:r.m,args:[s.o]}],checkboxPosition:[{type:r.y}],value:[{type:r.y}],disabled:[{type:r.y}],selected:[{type:r.y}],selectionChange:[{type:r.H}]};class A extends x{constructor(e,t){super(),this._element=e,this.selectionChange=new r.q,this.selectedOptions=new l.a(!0),this._onChange=(e=>{}),this.onTouched=(()=>{}),this.tabIndex=parseInt(t)||0}ngAfterContentInit(){this._keyManager=new o.g(this.options).withWrap()}focus(){this._element.nativeElement.focus()}selectAll(){this.options.forEach(e=>e._setSelected(!0)),this._reportValueChange()}deselectAll(){this.options.forEach(e=>e._setSelected(!1)),this._reportValueChange()}_setFocusedOption(e){this._keyManager.updateActiveItemIndex(this._getOptionIndex(e))}_removeOptionFromList(e){if(e._hasFocus){const t=this._getOptionIndex(e);t>0?this._keyManager.setPreviousItemActive():0===t&&this.options.length>1&&this._keyManager.setNextItemActive()}}_keydown(e){switch(e.keyCode){case c.n:case c.f:this._toggleSelectOnFocusedOption(),e.preventDefault();break;default:this._keyManager.onKeydown(e)}}_reportValueChange(){this.options&&this._onChange(this._getSelectedOptionValues())}_emitChangeEvent(e){this.selectionChange.emit(new S(this,e))}writeValue(e){this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.options&&this.options.forEach(t=>t.disabled=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this.onTouched=e}_getOptionByValue(e){return this.options.find(t=>t.value===e)}_setOptionsFromValues(e){this.options.forEach(e=>e._setSelected(!1)),e.map(e=>this._getOptionByValue(e)).filter(Boolean).forEach(e=>e._setSelected(!0))}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_toggleSelectOnFocusedOption(){let e=this._keyManager.activeItemIndex;if(null!=e&&this._isValidIndex(e)){let t=this.options.toArray()[e];t&&(t.toggle(),this._emitChangeEvent(t),t._emitDeprecatedChangeEvent())}}_isValidIndex(e){return e>=0&&e<this.options.length}_getOptionIndex(e){return this.options.toArray().indexOf(e)}}A.decorators=[{type:r.j,args:[{selector:"mat-selection-list",exportAs:"matSelectionList",inputs:["disabled","disableRipple","tabIndex"],host:{role:"listbox","[tabIndex]":"tabIndex",class:"mat-selection-list","(focus)":"focus()","(blur)":"onTouched()","(keydown)":"_keydown($event)","[attr.aria-disabled]":"disabled.toString()"},template:"<ng-content></ng-content>",styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-avatar,.mat-list .mat-list-option.mat-list-item-avatar,.mat-nav-list .mat-list-item.mat-list-item-avatar,.mat-nav-list .mat-list-option.mat-list-item-avatar,.mat-selection-list .mat-list-item.mat-list-item-avatar,.mat-selection-list .mat-list-option.mat-list-item-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item .mat-list-text:nth-child(2),.mat-list .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-avatar,.mat-list[dense] .mat-list-option.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-divider{display:block;border-top-style:solid;border-top-width:1px;margin:0}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item-content{cursor:pointer}.mat-nav-list .mat-list-item-content.mat-list-item-focus,.mat-nav-list .mat-list-item-content:hover{outline:0}.mat-list-option:not([disabled]){cursor:pointer}"],encapsulation:r.Z.None,providers:[E],preserveWhitespaces:!1,changeDetection:r.g.OnPush}]}],A.ctorParameters=(()=>[{type:r.o},{type:void 0,decorators:[{type:r.f,args:["tabindex"]}]}]),A.propDecorators={options:[{type:r.m,args:[k]}],selectionChange:[{type:r.H}]};class C{}C.decorators=[{type:r.C,args:[{imports:[s.p,s.y,s.n,s.w,i.a],exports:[f,m,_,p,v,s.p,s.n,y,g,b,s.w,A,k],declarations:[f,m,_,p,v,y,g,b,A,k]}]}],C.ctorParameters=(()=>[])},Lq4y:function(e,t,n){"use strict";const i=function(e){const t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;{const{Set:t}=e;if(t&&"function"==typeof(new t)["@@iterator"])return"@@iterator";const{Map:n}=e;if(n){let e=Object.getOwnPropertyNames(n.prototype);for(let t=0;t<e.length;++t){let i=e[t];if("entries"!==i&&"size"!==i&&n.prototype[i]===n.prototype.entries)return i}}return"@@iterator"}}(n("2K0D").a);t.a=i},Lv9R:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"}},MwgA:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},NV2o:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(e,t,n){this.renderer=e,this.templateRef=t,this.viewContainerRef=n}return Object.defineProperty(e.prototype,"isOpen",{set:function(e){e?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!e},enumerable:!0,configurable:!0}),e.prototype._show=function(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])},e.prototype._hide=function(){this.viewContainerRef.clear(),this.innerElement=null},e.prototype._animateOpen=function(){var e=this,t=this.animateSpeed,n=this.animateAcceleration,i=0;this.renderer.setElementStyle(this.innerElement,"max-height","0"),setTimeout(function(){var r=setInterval(function(){if(!e._isOpen||!e.innerElement)return clearInterval(r);i+=t;var s=Math.round(i);e.renderer.setElementStyle(e.innerElement,"max-height",s+"px");var o=e.innerElement.getBoundingClientRect?e.innerElement.getBoundingClientRect().height:0;t*=n,n*=1.005,o<s&&(e.renderer.setElementStyle(e.innerElement,"max-height",null),clearInterval(r))},17)})},e.prototype._animateClose=function(){var e=this;if(this.innerElement)var t=this.animateSpeed,n=this.animateAcceleration,i=this.innerElement.getBoundingClientRect().height,r=setInterval(function(){if(e._isOpen||!e.innerElement)return clearInterval(r);i-=t,e.renderer.setElementStyle(e.innerElement,"max-height",i+"px"),t*=n,n*=1.005,i<=0&&(e.viewContainerRef.clear(),e.innerElement=null,clearInterval(r))},17)},e.decorators=[{type:i.n,args:[{selector:"[treeAnimateOpen]"}]}],e.ctorParameters=function(){return[{type:i.L},{type:i.T},{type:i.Y}]},e.propDecorators={animateSpeed:[{type:i.y,args:["treeAnimateOpenSpeed"]}],animateAcceleration:[{type:i.y,args:["treeAnimateOpenAcceleration"]}],isEnabled:[{type:i.y,args:["treeAnimateOpenEnabled"]}],isOpen:[{type:i.y,args:["treeAnimateOpen"]}]},e}()},NwoR:function(e,t,n){"use strict";t.a=function(e,t){return Object(i.a)(e,t)(this)};var i=n("O60Z")},"O+ca":function(e,t,n){"use strict";(function(e){function i(e,t){function n(){this.constructor=e}nt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function r(e){return e.interceptors&&e.interceptors.length>0}function s(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),le(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function o(e,t){var n=Ve();try{var i=e.interceptors;if(i)for(var r=0,s=i.length;r<s&&(t=i[r](t),oe(!t||t.type,"Intercept handlers should return nothing or a change object"),t);r++);return t}finally{Ge(n)}}function a(e){return e.changeListeners&&e.changeListeners.length>0}function l(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),le(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function c(e,t){var n=Ve(),i=e.changeListeners;if(i){for(var r=0,s=(i=i.slice()).length;r<s;r++)i[r](t);Ge(n)}}function u(){return!!Wt.spyListeners.length}function h(e){if(Wt.spyListeners.length)for(var t=Wt.spyListeners,n=0,i=t.length;n<i;n++)t[n](e)}function d(e){h(pe({},e,{spyReportStart:!0}))}function p(e){h(e?pe({},e,ot):ot)}function m(e){return Wt.spyListeners.push(e),le(function(){var t=Wt.spyListeners.indexOf(e);-1!==t&&Wt.spyListeners.splice(t,1)})}function f(e){oe(!0!==e[at],"Illegal state: cannot recycle array as iterator"),ge(e,at,!0);var t=-1;return ge(e,"next",function(){return t++,{done:t>=this.length,value:t<this.length?this[t]:void 0}}),e}function g(e,t){ge(e,"function"==typeof Symbol&&Symbol.iterator||"@@iterator",t)}function v(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function y(e){Object.defineProperty(dt.prototype,""+e,v(e))}function b(e){for(var t=ct;t<e;t++)y(t);ct=e}function _(e){return he(e)&&mt(e.$mobx)}function x(e){return yt[e]}function w(e,t){oe("function"==typeof t,x("m026")),oe("string"==typeof e&&e.length>0,"actions should have valid names, got: '"+e+"'");var n=function(){return E(e,t,this,arguments)};return n.originalFn=t,n.isMobxAction=!0,n}function E(e,t,n,i){var r=function(e,t,n,i){var r=u()&&!!e,s=0;if(r){s=Date.now();var o=i&&i.length||0,a=new Array(o);if(o>0)for(var l=0;l<o;l++)a[l]=i[l];d({type:"action",name:e,fn:t,object:n,arguments:a})}var c=Ve();Pe();var h=T(!0);return{prevDerivation:c,prevAllowStateChanges:h,notifySpy:r,startTime:s}}(e,t,n,i);try{return t.apply(n,i)}finally{!function(e){S(e.prevAllowStateChanges),Oe(),Ge(e.prevDerivation),e.notifySpy&&p({time:Date.now()-e.startTime})}(r)}}function T(e){var t=Wt.allowStateChanges;return Wt.allowStateChanges=e,t}function S(e){Wt.allowStateChanges=e}function k(e,t,n,i,r){function s(s,o,a,l,c){if(void 0===c&&(c=0),oe(r||M(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),a){me(s,"__mobxLazyInitializers")||fe(s,"__mobxLazyInitializers",s.__mobxLazyInitializers&&s.__mobxLazyInitializers.slice()||[]);var u=a.value,h=a.initializer;return s.__mobxLazyInitializers.push(function(t){e(t,o,h?h.call(t):u,l,a)}),{enumerable:i,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&C(this),t.call(this,o)},set:function(e){!0!==this.__mobxDidRunLazyInitializers&&C(this),n.call(this,o,e)}}}var d={enumerable:i,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[o]||A(this,o,void 0,e,l,a),t.call(this,o)},set:function(t){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[o]?n.call(this,o,t):A(this,o,t,e,l,a)}};return(arguments.length<3||5===arguments.length&&c<3)&&Object.defineProperty(s,o,d),d}return r?function(){if(M(arguments))return s.apply(null,arguments);var e=arguments,t=arguments.length;return function(n,i,r){return s(n,i,r,e,t)}}:s}function A(e,t,n,i,r,s){me(e,"__mobxInitializedProps")||fe(e,"__mobxInitializedProps",{}),e.__mobxInitializedProps[t]=!0,i(e,t,n,r,s)}function C(e){!0!==e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers&&(fe(e,"__mobxDidRunLazyInitializers",!0),e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers.forEach(function(t){return t(e)}))}function M(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]}function R(e){return function(t,n,i){if(i&&"function"==typeof i.value)return i.value=w(e,i.value),i.enumerable=!1,i.configurable=!0,i;if(void 0!==i&&void 0!==i.get)throw new Error("[mobx] action is not expected to be used with getters");return bt(e).apply(this,arguments)}}function L(e){return"function"==typeof e&&!0===e.isMobxAction}function P(e,t,n){var i=function(){return E(t,n,e,arguments)};i.isMobxAction=!0,fe(e,t,i)}function O(e,t){return e===t}function D(e,t,n){function i(){s(a)}var r,s,o;"string"==typeof e?(r=e,s=t,o=n):(r=e.name||"Autorun@"+re(),s=e,o=t),oe("function"==typeof s,x("m004")),oe(!1===L(s),x("m005")),o&&(s=s.bind(o));var a=new Jt(r,function(){this.track(i)});return a.schedule(),a.getDisposer()}function F(e,t,n){function i(){if(!c.isDisposed){var n=!1;c.track(function(){var t=e(c);n=o||!l(s,t),s=t}),o&&r.fireImmediately&&t(s,c),o||!0!==n||t(s,c),o&&(o=!1)}}arguments.length>3&&se(x("m007")),Y(e)&&se(x("m008"));var r;(r="object"==typeof n?n:{}).name=r.name||e.name||t.name||"Reaction@"+re(),r.fireImmediately=!0===n||!0===r.fireImmediately,r.delay=r.delay||0,r.compareStructural=r.compareStructural||r.struct||!1,t=xt(r.name,r.context?t.bind(r.context):t),r.context&&(e=e.bind(r.context));var s,o=!0,a=!1,l=r.equals?r.equals:r.compareStructural||r.struct?wt.structural:wt.default,c=new Jt(r.name,function(){o||r.delay<1?i():a||(a=!0,setTimeout(function(){a=!1,i()},r.delay))});return c.schedule(),c.getDisposer()}function I(e,t){if(V(e)&&e.hasOwnProperty("$mobx"))return e.$mobx;oe(Object.isExtensible(e),x("m035")),de(e)||(t=(e.constructor.name||"ObservableObject")+"@"+re()),t||(t="ObservableObject@"+re());var n=new St(e,t);return ge(e,"$mobx",n),n}function N(e,t,n,i){if(e.values[t]&&!Tt(e.values[t]))return oe("value"in n,"The property "+t+" in "+e.name+" is already observable, cannot redefine it as computed property"),void(e.target[t]=n.value);if("value"in n)if(Y(n.value)){var r=n.value;B(e,t,r.initialValue,r.enhancer)}else L(n.value)&&!0===n.value.autoBind?P(e.target,t,n.value.originalFn):Tt(n.value)?function(e,t,n){var i=e.name+"."+t;n.name=i,n.scope||(n.scope=e.target);e.values[t]=n,Object.defineProperty(e.target,t,z(t))}(e,t,n.value):B(e,t,n.value,i);else j(e,t,n.get,n.set,wt.default,!0)}function B(e,t,n,i){if(ye(e.target,t),r(e)){var s=o(e,{object:e.target,name:t,type:"add",newValue:n});if(!s)return;n=s.newValue}n=(e.values[t]=new gt(n,i,e.name+"."+t,!1)).value,Object.defineProperty(e.target,t,function(e){return kt[e]||(kt[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[e].get()},set:function(t){U(this,e,t)}})}(t)),function(e,t,n,i){var r=a(e),s=u(),o=r||s?{type:"add",object:t,name:n,newValue:i}:null;s&&d(o);r&&c(e,o);s&&p()}(e,e.target,t,n)}function j(e,t,n,i,r,s){s&&ye(e.target,t),e.values[t]=new Et(n,e.target,r,e.name+"."+t,i),s&&Object.defineProperty(e.target,t,z(t))}function z(e){return At[e]||(At[e]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[e].get()},set:function(t){return this.$mobx.values[e].set(t)}})}function U(e,t,n){var i=e.$mobx,s=i.values[t];if(r(i)){if(!(m=o(i,{type:"update",object:e,name:t,newValue:n})))return;n=m.newValue}if((n=s.prepareNewValue(n))!==ft){var l=a(i),h=u(),m=l||h?{type:"update",object:e,oldValue:s.value,name:t,newValue:n}:null;h&&d(m),s.setNewValue(n),l&&c(i,m),h&&p()}}function V(e){return!!he(e)&&(C(e),Ct(e.$mobx))}function G(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(_(e)||Bt(e))throw new Error(x("m019"));if(V(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return V(e)||!!e.$mobx||st(e)||tn(e)||Tt(e)}function H(e){return oe(!!e,":("),k(function(t,n,i,r,s){ye(t,n),oe(!s||!s.get,x("m022"));B(I(t,void 0),n,i,e)},function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()},function(e,t){U(this,e,t)},!0,!1)}function W(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return q(e,Z,t)}function $(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return q(e,Q,t)}function q(e,t,n){oe(arguments.length>=2,x("m014")),oe("object"==typeof e,x("m015")),oe(!Bt(e),x("m016")),n.forEach(function(e){oe("object"==typeof e,x("m017")),oe(!G(e),x("m018"))});for(var i=I(e),r={},s=n.length-1;s>=0;s--){var o=n[s];for(var a in o)if(!0!==r[a]&&me(o,a)){if(r[a]=!0,e===o&&!ve(e,a))continue;N(i,a,Object.getOwnPropertyDescriptor(o,a),t)}}return e}function X(e){se("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function Y(e){return"object"==typeof e&&null!==e&&!0===e.isMobxModifierDescriptor}function K(e,t){return oe(!Y(t),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:t,enhancer:e}}function Z(e,t,n){return Y(e)&&se("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),G(e)?e:Array.isArray(e)?Ft.array(e,n):de(e)?Ft.object(e,n):Se(e)?Ft.map(e,n):e}function J(e,t,n){return Y(e)&&se("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),void 0===e||null===e?e:V(e)||_(e)||Bt(e)?e:Array.isArray(e)?Ft.shallowArray(e,n):de(e)?Ft.shallowObject(e,n):Se(e)?Ft.shallowMap(e,n):se("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function Q(e){return e}function ee(e,t,n){if(_e(e,t))return t;if(G(e))return e;if(Array.isArray(e))return new dt(e,ee,n);if(Se(e))return new Nt(e,ee,n);if(de(e)){var i={};return I(i,n),q(i,ee,[e]),i}return e}function te(e,t,n){return _e(e,t)?t:e}function ne(e,t){void 0===t&&(t=void 0),Pe();try{return e.apply(t)}finally{Oe()}}function ie(){return"undefined"!=typeof window?window:e}function re(){return++Wt.mobxGuid}function se(e,t){throw oe(!1,e,t),"X"}function oe(e,t,n){if(!e)throw new Error("[mobx] Invariant failed: "+t+(n?" in '"+n+"'":""))}function ae(e){return-1===zt.indexOf(e)&&(zt.push(e),console.error("[mobx] Deprecated: "+e),!0)}function le(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}function ce(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function ue(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=" - "),!e)return"";return e.slice(0,t).join(n)+(e.length>t?" (... and "+(e.length-t)+"more)":"")}function he(e){return null!==e&&"object"==typeof e}function de(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function pe(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)me(i,r)&&(e[r]=i[r])}return e}function me(e,t){return Vt.call(e,t)}function fe(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ge(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ve(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function ye(e,t){oe(ve(e,t),"Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function be(e){var t=[];for(var n in e)t.push(n);return t}function _e(e,t){if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;if(we(e,t))return!0;if("object"!=typeof e)return e===t;var n=Ee(e),i=Te(e);if(n!==Ee(t))return!1;if(i!==Te(t))return!1;if(n){if(e.length!==t.length)return!1;for(var r=e.length-1;r>=0;r--)if(!_e(e[r],t[r]))return!1;return!0}if(i){if(e.size!==t.size)return!1;var s=!0;return e.forEach(function(e,n){s=s&&_e(t.get(n),e)}),s}if("object"==typeof e&&"object"==typeof t){if(null===e||null===t)return!1;if(Te(e)&&Te(t))return e.size===t.size&&_e(Ft.shallowMap(e).entries(),Ft.shallowMap(t).entries());if(be(e).length!==be(t).length)return!1;for(var o in e){if(!(o in t))return!1;if(!_e(e[o],t[o]))return!1}return!0}return!1}function xe(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return he(e)&&!0===e[n]}}function we(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ee(e){return Array.isArray(e)||_(e)}function Te(e){return Se(e)||Bt(e)}function Se(e){return void 0!==ie().Map&&e instanceof ie().Map}function ke(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Ae(e){return null===e?null:"object"==typeof e?""+e:e}function Ce(e){return e.observers}function Me(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Re(e,t){if(1===e.observers.length)e.observers.length=0,Le(e);else{var n=e.observers,i=e.observersIndexes,r=n.pop();if(r!==t){var s=i[t.__mapid]||0;s?i[r.__mapid]=s:delete i[r.__mapid],n[s]=r}delete i[t.__mapid]}}function Le(e){e.isPendingUnobservation||(e.isPendingUnobservation=!0,Wt.pendingUnobservations.push(e))}function Pe(){Wt.inBatch++}function Oe(){if(0==--Wt.inBatch){$e();for(var e=Wt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&n.onBecomeUnobserved()}Wt.pendingUnobservations=[]}}function De(e){var t=Wt.trackingDerivation;null!==t?t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e):0===e.observers.length&&Le(e)}function Fe(e){return e instanceof Zt}function Ie(e){switch(e.dependenciesState){case Kt.UP_TO_DATE:return!1;case Kt.NOT_TRACKING:case Kt.STALE:return!0;case Kt.POSSIBLY_STALE:for(var t=Ve(),n=e.observing,i=n.length,r=0;r<i;r++){var s=n[r];if(Tt(s)){try{s.get()}catch(e){return Ge(t),!0}if(e.dependenciesState===Kt.STALE)return Ge(t),!0}}return He(e),Ge(t),!1}}function Ne(){return null!==Wt.trackingDerivation}function Be(e){var t=e.observers.length>0;Wt.computationDepth>0&&t&&se(x("m031")+e.name),!Wt.allowStateChanges&&t&&se(x(Wt.strictMode?"m030a":"m030b")+e.name)}function je(e,t,n){He(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Wt.runId;var i=Wt.trackingDerivation;Wt.trackingDerivation=e;var r;try{r=t.call(n)}catch(e){r=new Zt(e)}return Wt.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,i=Kt.UP_TO_DATE,r=0,s=e.unboundDepsCount,o=0;o<s;o++){var a=n[o];0===a.diffValue&&(a.diffValue=1,r!==o&&(n[r]=a),r++),a.dependenciesState>i&&(i=a.dependenciesState)}n.length=r,e.newObserving=null,s=t.length;for(;s--;){var a=t[s];0===a.diffValue&&Re(a,e),a.diffValue=0}for(;r--;){var a=n[r];1===a.diffValue&&(a.diffValue=0,Me(a,e))}i!==Kt.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),r}function ze(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Re(t[n],e);e.dependenciesState=Kt.NOT_TRACKING}function Ue(e){var t=Ve(),n=e();return Ge(t),n}function Ve(){var e=Wt.trackingDerivation;return Wt.trackingDerivation=null,e}function Ge(e){Wt.trackingDerivation=e}function He(e){if(e.dependenciesState!==Kt.UP_TO_DATE){e.dependenciesState=Kt.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Kt.UP_TO_DATE}}function We(e){oe(this&&this.$mobx&&tn(this.$mobx),"Invalid `this`"),oe(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=e}function $e(){Wt.inBatch>0||Wt.isRunningReactions||en(qe)}function qe(){Wt.isRunningReactions=!0;for(var e=Wt.pendingReactions,t=0;e.length>0;){++t===Qt&&(console.error("Reaction doesn't converge to a stable state after "+Qt+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}Wt.isRunningReactions=!1}function Xe(e){return k(function(t,n,i,r,s){oe("undefined"!=typeof s,x("m009")),oe("function"==typeof s.get,x("m010"));j(I(t,""),n,s.get,s.set,e,!1)},function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()},function(e,t){this.$mobx.values[e].set(t)},!1,!1)}function Ye(e,t){if("object"==typeof e&&null!==e){if(_(e))return oe(void 0===t,x("m036")),e.$mobx.atom;if(Bt(e)){var n=e;if(void 0===t)return Ye(n._keys);return oe(!!(i=n._data[t]||n._hasMap[t]),"the entry '"+t+"' does not exist in the observable map '"+Ze(e)+"'"),i}if(C(e),t&&!e.$mobx&&e[t],V(e)){if(!t)return se("please specify a property");var i;return oe(!!(i=e.$mobx.values[t]),"no observable property '"+t+"' found on the observable object '"+Ze(e)+"'"),i}if(st(e)||Tt(e)||tn(e))return e}else if("function"==typeof e&&tn(e.$mobx))return e.$mobx;return se("Cannot obtain atom from "+e)}function Ke(e,t){return oe(e,"Expecting some object"),void 0!==t?Ke(Ye(e,t)):st(e)||Tt(e)||tn(e)?e:Bt(e)?e:(C(e),e.$mobx?e.$mobx:void oe(!1,"Cannot obtain administration from "+e))}function Ze(e,t){return(void 0!==t?Ye(e,t):V(e)||Bt(e)?Ke(e):Ye(e)).name}function Je(e,t,n){function i(i){return t&&n.push([e,i]),i}if(void 0===t&&(t=!0),void 0===n&&(n=[]),G(e)){if(t&&null===n&&(n=[]),t&&null!==e&&"object"==typeof e)for(var r=0,s=n.length;r<s;r++)if(n[r][0]===e)return n[r][1];if(_(e)){var o=i([]),a=e.map(function(e){return Je(e,t,n)});o.length=a.length;for(r=0,s=a.length;r<s;r++)o[r]=a[r];return o}if(V(e)){o=i({});for(var l in e)o[l]=Je(e[l],t,n);return o}if(Bt(e)){var c=i({});return e.forEach(function(e,i){return c[i]=Je(e,t,n)}),c}if(vt(e))return Je(e.get(),t,n)}return e}function Qe(e){return console.log(e),e}function et(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=ce(e.observing).map(et)),t}function tt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.length>0}(e)&&(t.observers=Ce(e).map(tt)),t}n.d(t,"d",function(){return on}),n.d(t,"i",function(){return m}),n.d(t,"f",function(){return V}),n.d(t,"e",function(){return _}),n.d(t,"g",function(){return Ft}),n.d(t,"c",function(){return sn}),n.d(t,"b",function(){return D}),n.d(t,"h",function(){return F}),n.d(t,"a",function(){return xt});var nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},it=function(){function e(e){void 0===e&&(e="Atom@"+re()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Kt.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.reportObserved=function(){De(this)},e.prototype.reportChanged=function(){Pe(),function(e){if(e.lowestObserverState!==Kt.STALE){e.lowestObserverState=Kt.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===Kt.UP_TO_DATE&&i.onBecomeStale(),i.dependenciesState=Kt.STALE}}}(this),Oe()},e.prototype.toString=function(){return this.name},e}(),rt=function(e){function t(t,n,i){void 0===t&&(t="Atom@"+re()),void 0===n&&(n=Ut),void 0===i&&(i=Ut);var r=e.call(this,t)||this;return r.name=t,r.onBecomeObservedHandler=n,r.onBecomeUnobservedHandler=i,r.isPendingUnobservation=!1,r.isBeingTracked=!1,r}return i(t,e),t.prototype.reportObserved=function(){return Pe(),e.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),Oe(),!!Wt.trackingDerivation},t.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},t}(it),st=xe("Atom",it),ot={spyReportEnd:!0},at="__$$iterating",lt=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),ct=0,ut=function(){return function(){}}();!function(e,t){"undefined"!=typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):"undefined"!=typeof e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}(ut,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(ut.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var ht=function(){function e(e,t,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new it(e||"ObservableArray@"+re()),this.enhancer=function(n,i){return t(n,i,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer?e.map(this.dehancer):e},e.prototype.intercept=function(e){return s(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),l(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>ct&&b(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;Be(this.atom);var s=this.values.length;if(void 0===e?e=0:e>s?e=s:e<0&&(e=Math.max(0,s+e)),t=1===arguments.length?s-e:void 0===t||null===t?0:Math.max(0,Math.min(t,s-e)),void 0===n&&(n=[]),r(this)){var a=o(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!a)return jt;t=a.removedCount,n=a.added}var l=(n=n.map(function(e){return i.enhancer(e,void 0)})).length-t;this.updateArrayLength(s,l);var c=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(r=this.values).splice.apply(r,[e,t].concat(n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i;var r},e.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&u(),r=a(this),s=r||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&d(s),this.atom.reportChanged(),r&&c(this,s),i&&p()},e.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&u(),r=a(this),s=r||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&d(s),this.atom.reportChanged(),r&&c(this,s),i&&p()},e}(),dt=function(e){function t(t,n,i,r){void 0===i&&(i="ObservableArray@"+re()),void 0===r&&(r=!1);var s=e.call(this)||this,o=new ht(i,n,s,r);return ge(s,"$mobx",o),t&&t.length&&s.spliceWithArray(0,0,t),lt&&Object.defineProperty(o.array,"0",pt),s}return i(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return _(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var i=this.peek(),r=i.length,s=n;s<r;s++)if(e.call(t,i[s],s,this))return s;return-1},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var i,r=this.$mobx.values;i=e<t?r.slice(0,e).concat(r.slice(e+1,t+1),[r[e]],r.slice(t+1)):r.slice(0,t).concat([r[e]],r.slice(t,e),r.slice(e+1)),this.replace(i)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,i=n.values;if(e<i.length){Be(n.atom);var s=i[e];if(r(n)){var a=o(n,{type:"update",object:this,index:e,newValue:t});if(!a)return;t=a.newValue}(t=n.enhancer(t,s))!==s&&(i[e]=t,n.notifyArrayChildUpdate(e,t,s))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);n.spliceWithArray(e,0,[t])}},t}(ut);g(dt.prototype,function(){return f(this.slice())}),Object.defineProperty(dt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];oe("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),fe(dt.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)fe(e,t[n],e[t[n]])}(dt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var pt=v(0);b(1e3);var mt=xe("ObservableArrayAdministration",ht),ft={},gt=function(e){function t(t,n,i,r){void 0===i&&(i="ObservableValue@"+re()),void 0===r&&(r=!0);var s=e.call(this,i)||this;return s.enhancer=n,s.hasUnreportedChange=!1,s.dehancer=void 0,s.value=n(t,void 0,i),r&&u()&&h({type:"create",object:s,newValue:s.value}),s}return i(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==ft){var n=u();n&&d({type:"update",object:this,newValue:e,oldValue:t}),this.setNewValue(e),n&&p()}},t.prototype.prepareNewValue=function(e){if(Be(this),r(this)){var t=o(this,{object:this,type:"update",newValue:e});if(!t)return ft;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:ft},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),a(this)&&c(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return s(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),l(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Ae(this.get())},t}(it);gt.prototype[ke()]=gt.prototype.valueOf;var vt=xe("ObservableValue",gt),yt={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:"* This computation is suspended (not in use by any reaction) and won't run automatically.\n\tDidn't expect this computation to be suspended at this point?\n\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).",m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:'Hi there! I\'m sorry you have just run into an exception.\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\n\nHowever, more interesting is the actual stack trace of the error itself.\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\nSee `error.stack` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.\nThat stack is more interesting than the stack of this console.error itself.\n\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error("Oops")` instead of `throw "Oops"`,\nbecause the javascript environment will only preserve the original stack trace in the first form.\n\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".\n(Note that it might pause on many other, unrelated exception as well).\n\nIf that all doesn\'t help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\n',m038:"Missing items in this list?\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n"},bt=k(function(e,t,n,i,r){var s=i&&1===i.length?i[0]:n.name||t||"<unnamed action>";fe(e,t,xt(s,n))},function(e){return this[e]},function(){oe(!1,x("m001"))},!1,!0),_t=k(function(e,t,n){P(e,t,n)},function(e){return this[e]},function(){oe(!1,x("m001"))},!1,!1),xt=function(e,t,n,i){return 1===arguments.length&&"function"==typeof e?w(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?w(e,t):1===arguments.length&&"string"==typeof e?R(e):R(t).apply(null,arguments)};xt.bound=function(e,t,n){if("function"==typeof e){var i=w("<not yet bound action>",e);return i.autoBind=!0,i}return _t.apply(null,arguments)};var wt={identity:O,structural:function(e,t){return _e(e,t)},default:function(e,t){return we(e,t)||O(e,t)}},Et=function(){function e(e,t,n,i,r){this.derivation=e,this.scope=t,this.equals=n,this.dependenciesState=Kt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Kt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+re(),this.value=new Zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.name=i||"ComputedValue@"+re(),r&&(this.setter=w(i+"-setter",r))}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===Kt.UP_TO_DATE){e.lowestObserverState=Kt.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===Kt.UP_TO_DATE&&(i.dependenciesState=Kt.POSSIBLY_STALE,i.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){ze(this),this.value=void 0},e.prototype.get=function(){oe(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),0===Wt.inBatch?(Pe(),Ie(this)&&(this.value=this.computeValue(!1)),Oe()):(De(this),Ie(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==Kt.STALE){e.lowestObserverState=Kt.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===Kt.POSSIBLY_STALE?i.dependenciesState=Kt.STALE:i.dependenciesState===Kt.UP_TO_DATE&&(e.lowestObserverState=Kt.UP_TO_DATE)}}}(this));var e=this.value;if(Fe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Fe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){oe(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else oe(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){u()&&h({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,t=this.dependenciesState===Kt.NOT_TRACKING,n=this.value=this.computeValue(!0);return t||Fe(e)||Fe(n)||!this.equals(e,n)},e.prototype.computeValue=function(e){this.isComputing=!0,Wt.computationDepth++;var t;if(e)t=je(this,this.derivation,this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Zt(e)}return Wt.computationDepth--,this.isComputing=!1,t},e.prototype.observe=function(e,t){var n=this,i=!0,r=void 0;return D(function(){var s=n.get();if(!i||t){var o=Ve();e({type:"update",object:n,newValue:s,oldValue:r}),Ge(o)}i=!1,r=s})},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Ae(this.get())},e.prototype.whyRun=function(){var e=Boolean(Wt.trackingDerivation),t=ce(this.isComputing?this.newObserving:this.observing).map(function(e){return e.name}),n=ce(Ce(this).map(function(e){return e.name}));return"\nWhyRun? computation '"+this.name+"':\n * Running because: "+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+"\n"+(this.dependenciesState===Kt.NOT_TRACKING?x("m032"):" * This computation will re-run if any of the following observables changes:\n    "+ue(t)+"\n    "+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+"\n    "+x("m038")+"\n\n  * If the outcome of this computation changes, the following observers will be re-run:\n    "+ue(n)+"\n")},e}();Et.prototype[ke()]=Et.prototype.valueOf;var Tt=xe("ComputedValue",Et),St=function(){function e(e,t){this.target=e,this.name=t,this.values={},this.changeListeners=null,this.interceptors=null}return e.prototype.observe=function(e,t){return oe(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),l(this,e)},e.prototype.intercept=function(e){return s(this,e)},e}(),kt={},At={},Ct=xe("ObservableObjectAdministration",St),Mt=H(Z),Rt=H(J),Lt=H(Q),Pt=H(ee),Ot=H(te),Dt={box:function(e,t){return arguments.length>2&&X("box"),new gt(e,Z,t)},shallowBox:function(e,t){return arguments.length>2&&X("shallowBox"),new gt(e,Q,t)},array:function(e,t){return arguments.length>2&&X("array"),new dt(e,Z,t)},shallowArray:function(e,t){return arguments.length>2&&X("shallowArray"),new dt(e,Q,t)},map:function(e,t){return arguments.length>2&&X("map"),new Nt(e,Z,t)},shallowMap:function(e,t){return arguments.length>2&&X("shallowMap"),new Nt(e,Q,t)},object:function(e,t){arguments.length>2&&X("object");var n={};return I(n,t),W(n,e),n},shallowObject:function(e,t){arguments.length>2&&X("shallowObject");var n={};return I(n,t),$(n,e),n},ref:function(){return arguments.length<2?K(Q,arguments[0]):Lt.apply(null,arguments)},shallow:function(){return arguments.length<2?K(J,arguments[0]):Rt.apply(null,arguments)},deep:function(){return arguments.length<2?K(Z,arguments[0]):Mt.apply(null,arguments)},struct:function(){return arguments.length<2?K(ee,arguments[0]):Pt.apply(null,arguments)}},Ft=function(e){if(void 0===e&&(e=void 0),"string"==typeof arguments[1])return Mt.apply(null,arguments);if(oe(arguments.length<=1,x("m021")),oe(!Y(e),x("m020")),G(e))return e;var t=Z(e,0,void 0);return t!==e?t:Ft.box(e)};Object.keys(Dt).forEach(function(e){return Ft[e]=Dt[e]}),Ft.deep.struct=Ft.struct,Ft.ref.struct=function(){return arguments.length<2?K(te,arguments[0]):Ot.apply(null,arguments)};var It={},Nt=function(){function e(e,t,n){void 0===t&&(t=Z),void 0===n&&(n="ObservableMap@"+re()),this.enhancer=t,this.name=n,this.$mobx=It,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new dt(void 0,Q,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return e.prototype._has=function(e){return"undefined"!=typeof this._data[e]},e.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},e.prototype.set=function(e,t){this.assertValidKey(e),e=""+e;var n=this._has(e);if(r(this)){var i=o(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(this.assertValidKey(e),e=""+e,r(this)){if(!(s=o(this,{type:"delete",object:this,name:e})))return!1}if(this._has(e)){var n=u(),i=a(this),s=i||n?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return n&&d(s),ne(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1);t._data[e].setNewValue(void 0),t._data[e]=void 0}),i&&c(this,s),n&&p(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap[e];return n?n.setNewValue(t):n=this._hasMap[e]=new gt(t,Q,this.name+"."+e+"?",!1),n},e.prototype._updateValue=function(e,t){var n=this._data[e];if((t=n.prepareNewValue(t))!==ft){var i=u(),r=a(this),s=r||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;i&&d(s),n.setNewValue(t),r&&c(this,s),i&&p()}},e.prototype._addValue=function(e,t){var n=this;ne(function(){var i=n._data[e]=new gt(t,n.enhancer,n.name+"."+e,!1);t=i.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var i=u(),r=a(this),s=r||i?{type:"add",object:this,name:e,newValue:t}:null;i&&d(s),r&&c(this,s),i&&p()},e.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return f(this._keys.slice())},e.prototype.values=function(){return f(this._keys.map(this.get,this))},e.prototype.entries=function(){var e=this;return f(this._keys.map(function(t){return[t,e.get(t)]}))},e.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(i){return e.call(t,n.get(i),i,n)})},e.prototype.merge=function(e){var t=this;return Bt(e)&&(e=e.toJS()),ne(function(){de(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],i=e[1];return t.set(n,i)}):Se(e)?e.forEach(function(e,n){return t.set(n,e)}):null!==e&&void 0!==e&&se("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;ne(function(){Ue(function(){e.keys().forEach(e.delete,e)})})},e.prototype.replace=function(e){var t=this;return ne(function(){var n=function(e){var t;return de(e)?t=Object.keys(e):Array.isArray(e)?t=e.map(function(e){return e[0]}):Te(e)?t=Array.from(e.keys()):se("Cannot get keys from "+e),t}(e);t.keys().filter(function(e){return-1===n.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJS=function(){var e=this,t={};return this.keys().forEach(function(n){return t[n]=e.get(n)}),t},e.prototype.toJSON=function(){return this.toJS()},e.prototype.isValidKey=function(e){return null!==e&&void 0!==e&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e)},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return oe(!0!==t,x("m033")),l(this,e)},e.prototype.intercept=function(e){return s(this,e)},e}();g(Nt.prototype,function(){return this.entries()});var Bt=xe("ObservableMap",Nt),jt=[];Object.freeze(jt);var zt=[],Ut=function(){},Vt=Object.prototype.hasOwnProperty,Gt=["mobxGuid","resetId","spyListeners","strictMode","runId"],Ht=function(){return function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]}}(),Wt=new Ht,$t=!1,qt=!1,Xt=!1,Yt=ie();Yt.__mobxInstanceCount?(Yt.__mobxInstanceCount++,setTimeout(function(){$t||qt||Xt||(Xt=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))})):Yt.__mobxInstanceCount=1;var Kt;!function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Kt||(Kt={}));var Zt=function(){return function(e){this.cause=e}}(),Jt=function(){function e(e,t){void 0===e&&(e="Reaction@"+re()),this.name=e,this.onInvalidate=t,this.observing=[],this.newObserving=[],this.dependenciesState=Kt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+re(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Wt.pendingReactions.push(this),$e())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(Pe(),this._isScheduled=!1,Ie(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&u()&&h({object:this,type:"scheduled-reaction"})),Oe())},e.prototype.track=function(e){Pe();var t,n=u();n&&(t=Date.now(),d({object:this,type:"reaction",fn:e})),this._isRunning=!0;var i=je(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ze(this),Fe(i)&&this.reportExceptionInDerivation(i.cause),n&&p({time:Date.now()-t}),Oe()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,i=x("m037");console.error(n||i,e),u()&&h({type:"error",message:n,error:e,object:this}),Wt.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Pe(),ze(this),Oe()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=We,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.whyRun=function(){var e=ce(this._isRunning?this.newObserving:this.observing).map(function(e){return e.name});return"\nWhyRun? reaction '"+this.name+"':\n * Status: ["+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+"]\n * This reaction will re-run if any of the following observables changes:\n    "+ue(e)+"\n    "+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+"\n\t"+x("m038")+"\n"},e}(),Qt=100,en=function(e){return e()},tn=xe("Reaction",Jt),nn=Xe(wt.default),rn=Xe(wt.structural),sn=function(e,t,n){if("string"==typeof t)return nn.apply(null,arguments);oe("function"==typeof e,x("m011")),oe(arguments.length<3,x("m012"));var i="object"==typeof t?t:{};i.setter="function"==typeof t?t:i.setter;var r=i.equals?i.equals:i.compareStructural||i.struct?wt.structural:wt.default;return new Et(e,i.context,r,i.name||e.name||"",i.setter)};sn.struct=rn,sn.equals=Xe;var on={allowStateChanges:function(e,t){var n,i=T(e);try{n=t()}finally{S(i)}return n},deepEqual:_e,getAtom:Ye,getDebugName:Ze,getDependencyTree:function(e,t){return et(Ye(e,t))},getAdministration:Ke,getGlobalState:function(){return Wt},getObserverTree:function(e,t){return tt(Ye(e,t))},interceptReads:function(e,t,n){var i;if(Bt(e)||_(e)||vt(e))i=Ke(e);else{if(!V(e))return se("Expected observable map, object or array as first array");if("string"!=typeof t)return se("InterceptReads can only be used with a specific property, not with an object in general");i=Ke(e,t)}return void 0!==i.dehancer?se("An intercept reader was already established"):(i.dehancer="function"==typeof t?t:n,function(){i.dehancer=void 0})},isComputingDerivation:Ne,isSpyEnabled:u,onReactionError:function(e){return Wt.globalReactionErrorHandlers.push(e),function(){var t=Wt.globalReactionErrorHandlers.indexOf(e);t>=0&&Wt.globalReactionErrorHandlers.splice(t,1)}},reserveArrayBuffer:b,resetGlobalState:function(){Wt.resetId++;var e=new Ht;for(var t in e)-1===Gt.indexOf(t)&&(Wt[t]=e[t]);Wt.allowStateChanges=!Wt.strictMode},isolateGlobalState:function(){qt=!0,ie().__mobxInstanceCount--},shareGlobalState:function(){ae("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),$t=!0;var e=ie(),t=Wt;if(e.__mobservableTrackingStack||e.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(e.__mobxGlobal&&e.__mobxGlobal.version!==t.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");e.__mobxGlobal?Wt=e.__mobxGlobal:e.__mobxGlobal=t},spyReport:h,spyReportEnd:p,spyReportStart:d,setReactionScheduler:function(e){var t=en;en=function(n){return e(function(){return t(n)})}}},an={Reaction:Jt,untracked:Ue,Atom:rt,BaseAtom:it,useStrict:function(e){oe(null===Wt.trackingDerivation,x("m028")),Wt.strictMode=e,Wt.allowStateChanges=!e},isStrictModeEnabled:function(){return Wt.strictMode},spy:m,comparer:wt,asReference:function(e){return ae("asReference is deprecated, use observable.ref instead"),Ft.ref(e)},asFlat:function(e){return ae("asFlat is deprecated, use observable.shallow instead"),Ft.shallow(e)},asStructure:function(e){return ae("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),Ft.struct(e)},asMap:function(e){return ae("asMap is deprecated, use observable.map or observable.shallowMap instead"),Ft.map(e||{})},isModifierDescriptor:Y,isObservableObject:V,isBoxedObservable:vt,isObservableArray:_,ObservableMap:Nt,isObservableMap:Bt,map:function(e){return ae("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),Ft.map(e)},transaction:ne,observable:Ft,computed:sn,isObservable:G,isComputed:function(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===V(e))return!1;if(!e.$mobx.values[t])return!1;var n=Ye(e,t);return Tt(n)}return Tt(e)},extendObservable:W,extendShallowObservable:$,observe:function(e,t,n,i){return"function"==typeof n?function(e,t,n,i){return Ke(e,t).observe(n,i)}(e,t,n,i):function(e,t,n){return Ke(e).observe(t,n)}(e,t,n)},intercept:function(e,t,n){return"function"==typeof n?function(e,t,n){return Ke(e,t).intercept(n)}(e,t,n):function(e,t){return Ke(e).intercept(t)}(e,t)},autorun:D,autorunAsync:function(e,t,n,i){function r(){o(u)}var s,o,a,l;"string"==typeof e?(s=e,o=t,a=n,l=i):(s=e.name||"AutorunAsync@"+re(),o=e,a=t,l=n),oe(!1===L(o),x("m006")),void 0===a&&(a=1),l&&(o=o.bind(l));var c=!1,u=new Jt(s,function(){c||(c=!0,setTimeout(function(){c=!1,u.isDisposed||u.track(r)},a))});return u.schedule(),u.getDisposer()},when:function(e,t,n,i){var r,s,o,a;return"string"==typeof e?(r=e,s=t,o=n,a=i):(r="When@"+re(),s=e,o=t,a=n),D(r,function(e){if(s.call(a)){e.dispose();var t=Ve();o.call(a),Ge(t)}})},reaction:F,action:xt,isAction:L,runInAction:function(e,t,n){var i="string"==typeof e?e:e.name||"<unnamed action>",r="function"==typeof e?e:t,s="function"==typeof e?t:n;return oe("function"==typeof r,x("m002")),oe(0===r.length,x("m003")),oe("string"==typeof i&&i.length>0,"actions should have valid names, got: '"+i+"'"),E(i,r,s,void 0)},expr:function(e,t){return Ne()||console.warn(x("m013")),sn(e,{context:t}).get()},toJS:Je,createTransformer:function(e,t){oe("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var n={},r=Wt.resetId,s=function(r){function s(t,n){var i=r.call(this,function(){return e(n)},void 0,wt.default,"Transformer-"+e.name+"-"+t,void 0)||this;return i.sourceIdentifier=t,i.sourceObject=n,i}return i(s,r),s.prototype.onBecomeUnobserved=function(){var e=this.value;r.prototype.onBecomeUnobserved.call(this),delete n[this.sourceIdentifier],t&&t(e,this.sourceObject)},s}(Et);return function(e){r!==Wt.resetId&&(n={},r=Wt.resetId);var t=function(e){if("string"==typeof e||"number"==typeof e)return e;if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+e);var t=e.$transformId;return void 0===t&&(t=re(),fe(e,"$transformId",t)),t}(e),i=n[t];return i?i.get():(i=n[t]=new s(t,e)).get()}},whyRun:function(e,t){switch(arguments.length){case 0:if(!(e=Wt.trackingDerivation))return Qe(x("m024"));break;case 2:e=Ye(e,t)}return e=Ye(e),Tt(e)?Qe(e.whyRun()):tn(e)?Qe(e.whyRun()):se(x("m025"))},isArrayLike:Ee,extras:on},ln=!1,cn=function(e){var t=an[e];Object.defineProperty(an,e,{get:function(){return ln||(ln=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won\u2019t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),t}})};for(var un in an)cn(un);"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:m,extras:on})}).call(t,n("fRUx"))},O2wZ:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n("3P+V"),r=n("bVHt"),s=n("1GK5"),o=n("pnCZ"),a=n("IMoF"),l=n("AdGS"),c=n("7K/9");const u=new s.w("mat-checkbox-click-action");let h=0;const d={provide:o.h,useExisting:Object(s._3)(()=>g),multi:!0},p={Init:0,Checked:1,Unchecked:2,Indeterminate:3};p[p.Init]="Init",p[p.Checked]="Checked",p[p.Unchecked]="Unchecked",p[p.Indeterminate]="Indeterminate";class m{}const f=Object(a.G)(Object(a.C)(Object(a.D)(Object(a.E)(class{constructor(e){this._elementRef=e}})),"accent"));class g extends f{constructor(e,t,n,i,r){super(e),this._changeDetectorRef=t,this._focusMonitor=n,this._clickAction=r,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++h}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new s.q,this.indeterminateChange=new s.q,this._rippleConfig={centered:!0,radius:25,speedFactor:1.5},this.onTouched=(()=>{}),this._currentAnimationClass="",this._currentCheckState=p.Init,this._checked=!1,this._indeterminate=!1,this._controlValueAccessorChangeFn=(()=>{}),this.tabIndex=parseInt(i)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Object(r.b)(e)}get align(){return"after"==this.labelPosition?"start":"end"}set align(e){this.labelPosition="start"==e?"after":"before"}ngAfterViewInit(){this._focusMonitor.monitor(this._inputElement.nativeElement,!1).subscribe(e=>this._onInputFocusChange(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(p.Indeterminate):this._transitionCheckState(this.checked?p.Checked:p.Unchecked),this.indeterminateChange.emit(this._indeterminate))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.markForCheck()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,n=this._elementRef.nativeElement;t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0&&n.classList.add(this._currentAnimationClass))}_emitChangeEvent(){let e=new m;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}_onInputFocusChange(e){this._focusRipple||"keyboard"!==e?e||(this._removeFocusRipple(),this.onTouched()):this._focusRipple=this._ripple.launch(0,0,Object.assign({persistent:!0},this._rippleConfig))}toggle(){this.checked=!this.checked}_onInputClick(e){e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?p.Checked:p.Unchecked),this._emitChangeEvent())}focus(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){let n="";switch(e){case p.Init:if(t===p.Checked)n="unchecked-checked";else{if(t!=p.Indeterminate)return"";n="unchecked-indeterminate"}break;case p.Unchecked:n=t===p.Checked?"unchecked-checked":"unchecked-indeterminate";break;case p.Checked:n=t===p.Unchecked?"checked-unchecked":"checked-indeterminate";break;case p.Indeterminate:n=t===p.Checked?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_removeFocusRipple(){this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null)}}g.decorators=[{type:s.j,args:[{selector:"mat-checkbox",template:'<label [attr.for]="inputId" class="mat-checkbox-layout" #label><div class="mat-checkbox-inner-container" [class.mat-checkbox-inner-container-no-side-margin]="!checkboxLabel.textContent || !checkboxLabel.textContent.trim()"><input #input class="mat-checkbox-input cdk-visually-hidden" type="checkbox" [id]="inputId" [required]="required" [checked]="checked" [attr.value]="value" [disabled]="disabled" [attr.name]="name" [tabIndex]="tabIndex" [indeterminate]="indeterminate" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledby" [attr.aria-checked]="_getAriaChecked()" (change)="_onInteractionEvent($event)" (click)="_onInputClick($event)"><div matRipple class="mat-checkbox-ripple" [matRippleTrigger]="label" [matRippleDisabled]="_isRippleDisabled()" [matRippleRadius]="_rippleConfig.radius" [matRippleSpeedFactor]="_rippleConfig.speedFactor" [matRippleCentered]="_rippleConfig.centered"></div><div class="mat-checkbox-frame"></div><div class="mat-checkbox-background"><svg version="1.1" focusable="false" class="mat-checkbox-checkmark" viewBox="0 0 24 24" xml:space="preserve"><path class="mat-checkbox-checkmark-path" fill="none" stroke="white" d="M4.1,12.7 9,17.6 20.3,6.3"/></svg><div class="mat-checkbox-mixedmark"></div></div></div><span class="mat-checkbox-label" #checkboxLabel (cdkObserveContent)="_onLabelTextChange()"><span style="display:none">&nbsp;</span><ng-content></ng-content></span></label>',styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.91026}50%{animation-timing-function:cubic-bezier(0,0,.2,.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0,0,0,1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(.4,0,1,1);stroke-dashoffset:0}to{stroke-dashoffset:-22.91026}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}100%,32.8%{opacity:0;transform:scaleX(0)}}.mat-checkbox-checkmark,.mat-checkbox-mixedmark{width:calc(100% - 4px)}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);cursor:pointer}.mat-checkbox-layout{cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-inner-container{display:inline-block;height:20px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:20px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0,0,.2,.1);border-width:2px;border-style:solid}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0,0,.2,.1),opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.91026;stroke-dasharray:22.91026;stroke-width:2.66667px}.mat-checkbox-mixedmark{height:2px;opacity:0;transform:scaleX(0) rotate(0)}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0s mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0s mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:.3s linear 0s mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-ripple{position:absolute;left:-15px;top:-15px;height:50px;width:50px;z-index:1;pointer-events:none}"],exportAs:"matCheckbox",host:{class:"mat-checkbox","[id]":"id","[class.mat-checkbox-indeterminate]":"indeterminate","[class.mat-checkbox-checked]":"checked","[class.mat-checkbox-disabled]":"disabled","[class.mat-checkbox-label-before]":'labelPosition == "before"'},providers:[d],inputs:["disabled","disableRipple","color","tabIndex"],encapsulation:s.Z.None,preserveWhitespaces:!1,changeDetection:s.g.OnPush}]}],g.ctorParameters=(()=>[{type:s.o},{type:s.h},{type:i.h},{type:void 0,decorators:[{type:s.f,args:["tabindex"]}]},{type:void 0,decorators:[{type:s.G},{type:s.u,args:[u]}]}]),g.propDecorators={ariaLabel:[{type:s.y,args:["aria-label"]}],ariaLabelledby:[{type:s.y,args:["aria-labelledby"]}],id:[{type:s.y}],required:[{type:s.y}],align:[{type:s.y}],labelPosition:[{type:s.y}],name:[{type:s.y}],change:[{type:s.H}],indeterminateChange:[{type:s.H}],value:[{type:s.y}],_inputElement:[{type:s.W,args:["input"]}],_ripple:[{type:s.W,args:[a.x]}],checked:[{type:s.y}],indeterminate:[{type:s.y}]};const v={provide:o.g,useExisting:Object(s._3)(()=>y),multi:!0};class y extends o.b{}y.decorators=[{type:s.n,args:[{selector:"mat-checkbox[required][formControlName],\n             mat-checkbox[required][formControl], mat-checkbox[required][ngModel]",providers:[v],host:{"[attr.required]":'required ? "" : null'}}]}],y.ctorParameters=(()=>[]);class b{}b.decorators=[{type:s.C,args:[{imports:[l.a,a.y,a.n,c.b,i.a],exports:[g,y,a.n],declarations:[g,y]}]}],b.ctorParameters=(()=>[])},O60Z:function(e,t,n){"use strict";t.a=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new class{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new class extends i.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}(e,this.project,this.thisArg))}}(e,t))}};var i=n("WJ2g")},Of46:function(e,t){e.exports=function(e){function t(t,n){function i(){return Math.pow(.95,v.zoomSpeed)}function r(e){S.theta-=e}function s(e){S.phi-=e}function o(t){v.object instanceof e.PerspectiveCamera?k/=t:v.object instanceof e.OrthographicCamera?(v.object.zoom=Math.max(v.minZoom,Math.min(v.maxZoom,v.object.zoom*t)),v.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),v.enableZoom=!1)}function a(t){v.object instanceof e.PerspectiveCamera?k*=t:v.object instanceof e.OrthographicCamera?(v.object.zoom=Math.max(v.minZoom,Math.min(v.maxZoom,v.object.zoom/t)),v.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),v.enableZoom=!1)}function l(e){if(!1!==v.enabled){if(e.preventDefault(),e.button===v.mouseButtons.ORBIT){if(!1===v.enableRotate)return;!function(e){M.set(e.clientX,e.clientY)}(e),w=x.ROTATE}else if(e.button===v.mouseButtons.ZOOM){if(!1===v.enableZoom)return;!function(e){F.set(e.clientX,e.clientY)}(e),w=x.DOLLY}else if(e.button===v.mouseButtons.PAN){if(!1===v.enablePan)return;!function(e){P.set(e.clientX,e.clientY)}(e),w=x.PAN}w!==x.NONE&&(document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",u,!1),v.dispatchEvent(b))}}function c(e){if(!1!==v.enabled)if(e.preventDefault(),w===x.ROTATE){if(!1===v.enableRotate)return;!function(e){R.set(e.clientX,e.clientY),L.subVectors(R,M);var t=v.domElement===document?v.domElement.body:v.domElement;r(2*Math.PI*L.x/t.clientWidth*v.rotateSpeed),s(2*Math.PI*L.y/t.clientHeight*v.rotateSpeed),M.copy(R),v.update()}(e)}else if(w===x.DOLLY){if(!1===v.enableZoom)return;!function(e){I.set(e.clientX,e.clientY),N.subVectors(I,F),N.y>0?o(i()):N.y<0&&a(i()),F.copy(I),v.update()}(e)}else if(w===x.PAN){if(!1===v.enablePan)return;!function(e){O.set(e.clientX,e.clientY),D.subVectors(O,P),z(D.x,D.y),P.copy(O),v.update()}(e)}}function u(e){!1!==v.enabled&&(document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",u,!1),v.dispatchEvent(_),w=x.NONE)}function h(e){!1===v.enabled||!1===v.enableZoom||w!==x.NONE&&w!==x.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?a(i()):e.deltaY>0&&o(i()),v.update()}(e),v.dispatchEvent(b),v.dispatchEvent(_))}function d(e){!1!==v.enabled&&!1!==v.enableKeys&&!1!==v.enablePan&&function(e){switch(e.keyCode){case v.keys.UP:z(0,v.keyPanSpeed),v.update();break;case v.keys.BOTTOM:z(0,-v.keyPanSpeed),v.update();break;case v.keys.LEFT:z(v.keyPanSpeed,0),v.update();break;case v.keys.RIGHT:z(-v.keyPanSpeed,0),v.update()}}(e)}function p(e){if(!1!==v.enabled){switch(e.touches.length){case 1:if(!1===v.enableRotate)return;!function(e){M.set(e.touches[0].pageX,e.touches[0].pageY)}(e),w=x.TOUCH_ROTATE;break;case 2:if(!1===v.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);F.set(0,i)}(e),w=x.TOUCH_DOLLY;break;case 3:if(!1===v.enablePan)return;!function(e){P.set(e.touches[0].pageX,e.touches[0].pageY)}(e),w=x.TOUCH_PAN;break;default:w=x.NONE}w!==x.NONE&&v.dispatchEvent(b)}}function m(e){if(!1!==v.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===v.enableRotate)return;if(w!==x.TOUCH_ROTATE)return;!function(e){R.set(e.touches[0].pageX,e.touches[0].pageY),L.subVectors(R,M);var t=v.domElement===document?v.domElement.body:v.domElement;r(2*Math.PI*L.x/t.clientWidth*v.rotateSpeed),s(2*Math.PI*L.y/t.clientHeight*v.rotateSpeed),M.copy(R),v.update()}(e);break;case 2:if(!1===v.enableZoom)return;if(w!==x.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);I.set(0,r),N.subVectors(I,F),N.y>0?a(i()):N.y<0&&o(i()),F.copy(I),v.update()}(e);break;case 3:if(!1===v.enablePan)return;if(w!==x.TOUCH_PAN)return;!function(e){O.set(e.touches[0].pageX,e.touches[0].pageY),D.subVectors(O,P),z(D.x,D.y),P.copy(O),v.update()}(e);break;default:w=x.NONE}}function f(e){!1!==v.enabled&&(v.dispatchEvent(_),w=x.NONE)}function g(e){e.preventDefault()}this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return T.phi},this.getAzimuthalAngle=function(){return T.theta},this.reset=function(){v.target.copy(v.target0),v.object.position.copy(v.position0),v.object.zoom=v.zoom0,v.object.updateProjectionMatrix(),v.dispatchEvent(y),v.update(),w=x.NONE},this.update=function(){var n=new e.Vector3,i=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),s=i.clone().inverse(),o=new e.Vector3,a=new e.Quaternion;return function(){var e=v.object.position;return n.copy(e).sub(v.target),n.applyQuaternion(i),T.setFromVector3(n),v.autoRotate&&w===x.NONE&&r(2*Math.PI/60/60*v.autoRotateSpeed),T.theta+=S.theta,T.phi+=S.phi,T.theta=Math.max(v.minAzimuthAngle,Math.min(v.maxAzimuthAngle,T.theta)),T.phi=Math.max(v.minPolarAngle,Math.min(v.maxPolarAngle,T.phi)),T.makeSafe(),T.radius*=k,T.radius=Math.max(v.minDistance,Math.min(v.maxDistance,T.radius)),v.target.add(A),n.setFromSpherical(T),n.applyQuaternion(s),e.copy(v.target).add(n),v.object.lookAt(v.target),!0===v.enableDamping?(S.theta*=1-v.dampingFactor,S.phi*=1-v.dampingFactor):S.set(0,0,0),k=1,A.set(0,0,0),!!(C||o.distanceToSquared(v.object.position)>E||8*(1-a.dot(v.object.quaternion))>E)&&(v.dispatchEvent(y),o.copy(v.object.position),a.copy(v.object.quaternion),C=!1,!0)}}(),this.dispose=function(){v.domElement.removeEventListener("contextmenu",g,!1),v.domElement.removeEventListener("mousedown",l,!1),v.domElement.removeEventListener("wheel",h,!1),v.domElement.removeEventListener("touchstart",p,!1),v.domElement.removeEventListener("touchend",f,!1),v.domElement.removeEventListener("touchmove",m,!1),document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",u,!1),window.removeEventListener("keydown",d,!1)};var v=this,y={type:"change"},b={type:"start"},_={type:"end"},x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},w=x.NONE,E=1e-6,T=new e.Spherical,S=new e.Spherical,k=1,A=new e.Vector3,C=!1,M=new e.Vector2,R=new e.Vector2,L=new e.Vector2,P=new e.Vector2,O=new e.Vector2,D=new e.Vector2,F=new e.Vector2,I=new e.Vector2,N=new e.Vector2,B=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),A.add(t)}}(),j=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),A.add(t)}}(),z=function(){var t=new e.Vector3;return function(n,i){var r=v.domElement===document?v.domElement.body:v.domElement;if(v.object instanceof e.PerspectiveCamera){var s=v.object.position;t.copy(s).sub(v.target);var o=t.length();o*=Math.tan(v.object.fov/2*Math.PI/180),B(2*n*o/r.clientHeight,v.object.matrix),j(2*i*o/r.clientHeight,v.object.matrix)}else v.object instanceof e.OrthographicCamera?(B(n*(v.object.right-v.object.left)/v.object.zoom/r.clientWidth,v.object.matrix),j(i*(v.object.top-v.object.bottom)/v.object.zoom/r.clientHeight,v.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),v.enablePan=!1)}}();v.domElement.addEventListener("contextmenu",g,!1),v.domElement.addEventListener("mousedown",l,!1),v.domElement.addEventListener("wheel",h,!1),v.domElement.addEventListener("touchstart",p,!1),v.domElement.addEventListener("touchend",f,!1),v.domElement.addEventListener("touchmove",m,!1),window.addEventListener("keydown",d,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t}},P6aB:function(e,t,n){"use strict";var i=n("05/P");class r extends i.a{constructor(e){super(),this.scheduler=e}static create(e){return new r(e)}static dispatch(e){const{subscriber:t}=e;t.complete()}_subscribe(e){const t=this.scheduler;if(t)return t.schedule(r.dispatch,0,{subscriber:e});e.complete()}}t.a=r},"PT+7":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return g});var i=n("3P+V"),r=n("bVHt"),s=n("nTP9"),o=n("1GK5"),a=n("pnCZ"),l=n("IMoF");const c=Object(l.E)(class{}),u={provide:a.h,useExisting:Object(o._3)(()=>p),multi:!0};let h=0;class d{}class p extends c{constructor(e){super(),this._changeDetector=e,this._value=null,this._name=`mat-button-toggle-group-${h++}`,this._vertical=!1,this._selected=null,this._controlValueAccessorChangeFn=(()=>{}),this._onTouched=(()=>{}),this.valueChange=new o.q,this.change=new o.q}get name(){return this._name}set name(e){this._name=e,this._updateButtonToggleNames()}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(r.b)(e)}get value(){return this._value}set value(e){this._value!=e&&(this._value=e,this.valueChange.emit(e),this._updateSelectedButtonToggleFromValue())}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,e&&!e.checked&&(e.checked=!0)}_updateButtonToggleNames(){this._buttonToggles&&this._buttonToggles.forEach(e=>{e.name=this._name})}_updateSelectedButtonToggleFromValue(){let e=null!=this._selected&&this._selected.value==this._value;if(null!=this._buttonToggles&&!e){let e=this._buttonToggles.filter(e=>e.value==this._value)[0];e?this.selected=e:null==this.value&&(this.selected=null,this._buttonToggles.forEach(e=>{e.checked=!1}))}}_emitChangeEvent(){let e=new d;e.source=this._selected,e.value=this._value,this._controlValueAccessorChangeFn(e.value),this.change.emit(e)}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._markButtonTogglesForCheck()}_markButtonTogglesForCheck(){this._buttonToggles&&this._buttonToggles.forEach(e=>e._markForCheck())}}p.decorators=[{type:o.n,args:[{selector:"mat-button-toggle-group:not([multiple])",providers:[u],inputs:["disabled"],host:{role:"radiogroup",class:"mat-button-toggle-group","[class.mat-button-toggle-vertical]":"vertical"},exportAs:"matButtonToggleGroup"}]}],p.ctorParameters=(()=>[{type:o.h}]),p.propDecorators={_buttonToggles:[{type:o.m,args:[Object(o._3)(()=>f)]}],name:[{type:o.y}],vertical:[{type:o.y}],value:[{type:o.y}],valueChange:[{type:o.H}],selected:[{type:o.y}],change:[{type:o.H}]};class m extends c{constructor(){super(...arguments),this._vertical=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(r.b)(e)}}m.decorators=[{type:o.n,args:[{selector:"mat-button-toggle-group[multiple]",exportAs:"matButtonToggleGroup",inputs:["disabled"],host:{class:"mat-button-toggle-group","[class.mat-button-toggle-vertical]":"vertical",role:"group"}}]}],m.ctorParameters=(()=>[]),m.propDecorators={vertical:[{type:o.y}]};class f{constructor(e,t,n,i,r,s){this._changeDetectorRef=n,this._buttonToggleDispatcher=i,this._elementRef=r,this._focusMonitor=s,this.ariaLabel="",this.ariaLabelledby=null,this._checked=!1,this._disabled=!1,this._value=null,this._isSingleSelector=!1,this._removeUniqueSelectionListener=(()=>{}),this.change=new o.q,this.buttonToggleGroup=e,this.buttonToggleGroupMultiple=t,this.buttonToggleGroup?(this._removeUniqueSelectionListener=i.listen((e,t)=>{e!=this.id&&t==this.name&&(this.checked=!1,this._changeDetectorRef.markForCheck())}),this._type="radio",this.name=this.buttonToggleGroup.name,this._isSingleSelector=!0):(this._type="checkbox",this._isSingleSelector=!1)}get inputId(){return`${this.id}-input`}get checked(){return this._checked}set checked(e){this._isSingleSelector&&e&&(this._buttonToggleDispatcher.notify(this.id,this.name),this._changeDetectorRef.markForCheck()),this._checked=e,e&&this._isSingleSelector&&this.buttonToggleGroup.value!=this.value&&(this.buttonToggleGroup.selected=this)}get value(){return this._value}set value(e){this._value!=e&&(null!=this.buttonToggleGroup&&this.checked&&(this.buttonToggleGroup.value=e),this._value=e)}get disabled(){return this._disabled||null!=this.buttonToggleGroup&&this.buttonToggleGroup.disabled||null!=this.buttonToggleGroupMultiple&&this.buttonToggleGroupMultiple.disabled}set disabled(e){this._disabled=Object(r.b)(e)}ngOnInit(){null==this.id&&(this.id=`mat-button-toggle-${h++}`),this.buttonToggleGroup&&this._value==this.buttonToggleGroup.value&&(this._checked=!0),this._focusMonitor.monitor(this._elementRef.nativeElement,!0)}focus(){this._inputElement.nativeElement.focus()}_toggle(){this.checked=!this.checked}_onInputChange(e){if(e.stopPropagation(),this._isSingleSelector){let e=this.buttonToggleGroup.selected!=this;this.checked=!0,this.buttonToggleGroup.selected=this,this.buttonToggleGroup._onTouched(),e&&this.buttonToggleGroup._emitChangeEvent()}else this._toggle();this._emitChangeEvent()}_onInputClick(e){e.stopPropagation()}_emitChangeEvent(){let e=new d;e.source=this,e.value=this._value,this.change.emit(e)}ngOnDestroy(){this._removeUniqueSelectionListener()}_markForCheck(){this._changeDetectorRef.markForCheck()}}f.decorators=[{type:o.j,args:[{selector:"mat-button-toggle",template:'<label [attr.for]="inputId" class="mat-button-toggle-label"><input #input class="mat-button-toggle-input cdk-visually-hidden" [type]="_type" [id]="inputId" [checked]="checked" [disabled]="disabled || null" [name]="name" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledby" (change)="_onInputChange($event)" (click)="_onInputClick($event)"><div class="mat-button-toggle-label-content"><ng-content></ng-content></div></label><div class="mat-button-toggle-focus-overlay"></div>',styles:[".mat-button-toggle-group,.mat-button-toggle-standalone{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;display:inline-flex;flex-direction:row;border-radius:2px;cursor:pointer;white-space:nowrap;overflow:hidden}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle-disabled .mat-button-toggle-label-content{cursor:default}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay,.mat-button-toggle.cdk-program-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;cursor:pointer}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}"],encapsulation:o.Z.None,preserveWhitespaces:!1,exportAs:"matButtonToggle",changeDetection:o.g.OnPush,host:{"[class.mat-button-toggle-standalone]":"!buttonToggleGroup && !buttonToggleGroupMultiple","[class.mat-button-toggle-checked]":"checked","[class.mat-button-toggle-disabled]":"disabled",class:"mat-button-toggle","[attr.id]":"id"}}]}],f.ctorParameters=(()=>[{type:p,decorators:[{type:o.G}]},{type:m,decorators:[{type:o.G}]},{type:o.h},{type:s.c},{type:o.o},{type:i.h}]),f.propDecorators={ariaLabel:[{type:o.y,args:["aria-label"]}],ariaLabelledby:[{type:o.y,args:["aria-labelledby"]}],_inputElement:[{type:o.W,args:["input"]}],id:[{type:o.y}],name:[{type:o.y}],checked:[{type:o.y}],value:[{type:o.y}],disabled:[{type:o.y}],change:[{type:o.H}]};class g{}g.decorators=[{type:o.C,args:[{imports:[l.n,i.a],exports:[p,m,f,l.n],declarations:[p,m,f],providers:[s.b]}]}],g.ctorParameters=(()=>[])},PXDV:function(e,t,n){"use strict";function i(){return x}function r(){return!!window.history.pushState}function s(e,t){if("undefined"==typeof COMPILED||!COMPILED){(_._17.ng=_._17.ng||{})[e]=t}}function o(e){return Object(_._4)(e)}function a(e){return s(z,o),s(U,Object.assign({},j,function(e){return e.reduce((e,t)=>(e[t.name]=t.token,e),{})}(e||[]))),()=>o}function l(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?l(e,r,n):(r=r.replace(Y,e),n.push(r))}return n}function c(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}function u(e,t){if(e.charCodeAt(0)===ee)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}function h(e){return(e=String(e)).match(Ee)||e.match(Te)?e:(Object(_._5)()&&i().log(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function d(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function p(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}function m(e,t){if(t&&ke.contains(e,t))throw new Error(`Failed to sanitize html because the element is clobbered: ${ke.getOuterHTML(e)}`);return t}function f(e){return e.replace(/&/g,"&amp;").replace(je,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ze,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(e){ke.attributeMap(e).forEach((t,n)=>{"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||ke.removeAttribute(e,n)});for(const t of ke.childNodesAsList(e))ke.isElementNode(t)&&g(t)}function v(e,t){try{const n=function(){if(Se)return Se;const e=(ke=i()).createElement("template");if("content"in e)return e;const t=ke.createHtmlDocument();if(null==(Se=ke.querySelector(t,"body"))){const e=ke.createElement("html",t);Se=ke.createElement("body",t),ke.appendChild(e,Se),ke.appendChild(t,e)}return Se}();let r=t?String(t):"",s=5,o=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=o,ke.setInnerHTML(n,r),e.documentMode&&g(n),o=ke.getInnerHTML(n)}while(r!==o);const a=new Be,l=a.sanitizeChildren(ke.getTemplateContent(n)||n),c=ke.getTemplateContent(n)||n;for(const e of ke.childNodesAsList(c))ke.removeChild(c,e);return Object(_._5)()&&a.sanitizedSomething&&ke.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}catch(e){throw Se=null,e}}function y(){return new _.p}n.d(t,"a",function(){return et}),n.d(t,"j",function(){return Qe}),n.d(t,"h",function(){return D}),n.d(t,"i",function(){return B}),n.d(t,"b",function(){return P}),n.d(t,"d",function(){return G}),n.d(t,"e",function(){return H}),n.d(t,"f",function(){return ve}),n.d(t,"g",function(){return ye}),n.d(t,"c",function(){return Ge}),n.d(t,"s",function(){return i}),n.d(t,"l",function(){return J}),n.d(t,"k",function(){return fe}),n.d(t,"n",function(){return be}),n.d(t,"o",function(){return we}),n.d(t,"m",function(){return q}),n.d(t,"p",function(){return $}),n.d(t,"q",function(){return y}),n.d(t,"t",function(){return a}),n.d(t,"r",function(){return He});var b=n("AdGS"),_=n("1GK5");let x=null;class w{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class E extends w{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const T={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},S=3,k={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let C;_._17.Node&&(C=_._17.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});class M extends E{parse(e){throw new Error("parse not implemented")}static makeCurrent(){!function(e){x||(x=e)}(new M)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return T}contains(e,t){return C.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[i];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const i=this.getStyle(e,t)||"";return n?i==n:i.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,i){e.setAttributeNS(t,n,i)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===S&&A.hasOwnProperty(t)&&(t=A[t]))}return k[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=L||(L=document.querySelector("base"))?L.getAttribute("href"):null;return null==t?null:function(e){return R||(R=document.createElement("a")),R.setAttribute("href",e),"/"===R.pathname.charAt(0)?R.pathname:"/"+R.pathname}(t)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Object(b.o)(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let R,L=null;const P=b.b;class O extends b.l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=i().getLocation(),this._history=i().getHistory()}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(e){i().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){i().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){r()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){r()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}O.decorators=[{type:_.v}],O.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]}]);class D{constructor(e){this._doc=e,this._dom=i()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e?this._dom.querySelector(this._doc,`meta[${e}]`)||null:null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}D.decorators=[{type:_.v}],D.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]}]);const F=new _.w("TRANSITION_ID"),I=[{provide:_.b,useFactory:function(e,t,n){return()=>{n.get(_.c).donePromise.then(()=>{const n=i();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[F,P,_.x],multi:!0}];class N{static init(){Object(_._7)(new N)}addToWindow(e){_._17.getAngularTestability=((t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i}),_._17.getAllAngularTestabilities=(()=>e.getAllTestabilities()),_._17.getAllAngularRootElements=(()=>e.getAllRootElements());_._17.frameworkStabilizers||(_._17.frameworkStabilizers=[]),_._17.frameworkStabilizers.push(e=>{const t=_._17.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?i().isShadowRoot(t)?this.findTestabilityInTree(e,i().getHost(t),!0):this.findTestabilityInTree(e,i().parentElement(t),!0):null}}class B{constructor(e){this._doc=e}getTitle(){return i().getTitle(this._doc)}setTitle(e){i().setTitle(this._doc,e)}}B.decorators=[{type:_.v}],B.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]}]);const j={ApplicationRef:_.e,NgZone:_.F},z="probe",U="coreTokens",V=[{provide:_.b,useFactory:a,deps:[[_.E,new _.G]],multi:!0}],G=new _.w("EventManagerPlugins");class H{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}H.decorators=[{type:_.v}],H.ctorParameters=(()=>[{type:Array,decorators:[{type:_.u,args:[G]}]},{type:_.F}]);class W{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=i().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class ${constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}$.decorators=[{type:_.v}],$.ctorParameters=(()=>[]);class q extends ${constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>i().remove(e))}}q.decorators=[{type:_.v}],q.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]}]);const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=/%COMP%/g,K="_nghost-%COMP%",Z="_ngcontent-%COMP%";class J{constructor(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new Q(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case _.Z.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new class extends Q{constructor(e,t,n){super(e),this.component=n;const i=l(n.id,n.styles,[]);t.addStyles(i),this.contentAttr=function(e){return Z.replace(Y,e)}(n.id),this.hostAttr=function(e){return K.replace(Y,e)}(n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case _.Z.Native:return new class extends Q{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=l(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const e=document.createElement("style");e.textContent=r[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=l(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}J.decorators=[{type:_.v}],J.ctorParameters=(()=>[{type:H},{type:q}]);class Q{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(X[t],e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e){let t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error(`The selector "${e}" did not match any elements`);return t.textContent="",t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=`${i}:${t}`;const r=X[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=X[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&_.O.DashCase?e.style.setProperty(t,n,i&_.O.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&_.O.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){u(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return u(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,c(n)):this.eventManager.addEventListener(e,t,c(n))}}const ee="@".charCodeAt(0);const te="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},ne=te("addEventListener"),ie=te("removeEventListener"),re={},se="FALSE",oe="ANGULAR",ae="addEventListener",le="removeEventListener",ce="__zone_symbol__propagationStopped",ue="__zone_symbol__stopImmediatePropagation",he="undefined"!=typeof Zone&&Zone[te("BLACK_LISTED_EVENTS")];let de;he&&(de={},he.forEach(e=>{de[e]=e}));const pe=function(e){return!!de&&de.hasOwnProperty(e)},me=function(e){const t=re[e.type];if(!t)return;const n=this[t];if(!n)return;const i=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[ce];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}}};class fe extends W{constructor(e,t){super(e),this.ngZone=t,this.patchEvent()}patchEvent(){if(!Event||!Event.prototype)return;if(Event.prototype[ue])return;const e=Event.prototype[ue]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ce]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let i=n;if(!e[ne]||_.F.isInAngularZone()&&!pe(t))e[ae](t,i,!1);else{let n=re[t];n||(n=re[t]=te(oe+t+se));let r=e[n];const s=r&&r.length>0;r||(r=e[n]=[]);const o=pe(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:o,handler:i})}s||e[ne](t,me,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let i=e[ie];if(!i)return e[le].apply(e,[t,n,!1]);let r=re[t],s=r&&e[r];if(!s)return e[le].apply(e,[t,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&i.apply(e,[t,me,!1]):e[le].apply(e,[t,n,!1])}}fe.decorators=[{type:_.v}],fe.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]},{type:_.F}]);const ge={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ve=new _.w("HammerGestureConfig");class ye{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}ye.decorators=[{type:_.v}],ye.ctorParameters=(()=>[]);class be extends W{constructor(e,t){super(e),this._config=t}supports(e){if(!ge.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))return!1;if(!window.Hammer)throw new Error(`Hammer.js is not loaded, can not bind ${e} event`);return!0}addEventListener(e,t,n){const i=this.manager.getZone();return t=t.toLowerCase(),i.runOutsideAngular(()=>{const r=this._config.buildHammer(e),s=function(e){i.runGuarded(function(){n(e)})};return r.on(t,s),()=>r.off(t,s)})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}be.decorators=[{type:_.v}],be.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]},{type:ye,decorators:[{type:_.u,args:[ve]}]}]);const _e=["alt","control","meta","shift"],xe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class we extends W{constructor(e){super(e)}supports(e){return null!=we.parseEventName(e)}addEventListener(e,t,n){const r=we.parseEventName(t),s=we.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>i().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const i=we._normalizeKey(t.pop());let r="";if(_e.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=i,0!=t.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(e){let t="",n=i().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),_e.forEach(i=>{if(i!=n){(0,xe[i])(e)&&(t+=i+".")}}),t+=n}static eventCallback(e,t,n){return i=>{we.getEventFullKey(i)===e&&n.runGuarded(()=>t(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}we.decorators=[{type:_.v}],we.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]}]);const Ee=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Te=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;let Se=null,ke=null;const Ae=d("area,br,col,hr,img,wbr"),Ce=d("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Me=d("rp,rt"),Re=p(Me,Ce),Le=p(Ce,d("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pe=p(Me,d("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oe=p(Ae,Le,Pe,Re),De=d("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fe=d("srcset"),Ie=d("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ne=p(De,Fe,Ie);class Be{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild;for(;t;)if(ke.isElementNode(t)?this.startElement(t):ke.isTextNode(t)?this.chars(ke.nodeValue(t)):this.sanitizedSomething=!0,ke.firstChild(t))t=ke.firstChild(t);else for(;t;){ke.isElementNode(t)&&this.endElement(t);let e=m(t,ke.nextSibling(t));if(e){t=e;break}t=m(t,ke.parentElement(t))}return this.buf.join("")}startElement(e){const t=ke.nodeName(e).toLowerCase();Oe.hasOwnProperty(t)?(this.buf.push("<"),this.buf.push(t),ke.attributeMap(e).forEach((e,t)=>{const n=t.toLowerCase();Ne.hasOwnProperty(n)?(De[n]&&(e=h(e)),Fe[n]&&(e=function(e){return(e=String(e)).split(",").map(e=>h(e.trim())).join(", ")}(e)),this.buf.push(" "),this.buf.push(t),this.buf.push('="'),this.buf.push(f(e)),this.buf.push('"')):this.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0}endElement(e){const t=ke.nodeName(e).toLowerCase();Oe.hasOwnProperty(t)&&!Ae.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(f(e))}}const je=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ze=/([^\#-~ |!])/g,Ue=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ve=/^url\(([^)]+)\)$/;class Ge{}class He extends Ge{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case _.Q.NONE:return t;case _.Q.HTML:return t instanceof $e?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),v(this._doc,String(t)));case _.Q.STYLE:return t instanceof qe?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Ve);return t&&h(t[1])===t[1]||e.match(Ue)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(Object(_._5)()&&i().log(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case _.Q.SCRIPT:if(t instanceof Xe)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case _.Q.URL:return t instanceof Ke||t instanceof Ye?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),h(String(t)));case _.Q.RESOURCE_URL:if(t instanceof Ke)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof We)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new $e(e)}bypassSecurityTrustStyle(e){return new qe(e)}bypassSecurityTrustScript(e){return new Xe(e)}bypassSecurityTrustUrl(e){return new Ye(e)}bypassSecurityTrustResourceUrl(e){return new Ke(e)}}He.decorators=[{type:_.v}],He.ctorParameters=(()=>[{type:void 0,decorators:[{type:_.u,args:[P]}]}]);class We{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class $e extends We{getTypeName(){return"HTML"}}class qe extends We{getTypeName(){return"Style"}}class Xe extends We{getTypeName(){return"Script"}}class Ye extends We{getTypeName(){return"URL"}}class Ke extends We{getTypeName(){return"ResourceURL"}}const Ze=[{provide:_.I,useValue:b.m},{provide:_.J,useValue:function(){M.makeCurrent(),N.init()},multi:!0},{provide:b.l,useClass:O,deps:[P]},{provide:P,useFactory:function(){return document},deps:[]}],Je=[{provide:_.P,useExisting:Ge},{provide:Ge,useClass:He,deps:[P]}],Qe=Object(_._1)(_._6,"browser",Ze);class et{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:et,providers:[{provide:_.a,useValue:e.appId},{provide:F,useExisting:_.a},I]}}}et.decorators=[{type:_.C,args:[{providers:[Je,{provide:_.p,useFactory:y,deps:[]},{provide:G,useClass:fe,multi:!0},{provide:G,useClass:we,multi:!0},{provide:G,useClass:be,multi:!0},{provide:ve,useClass:ye},J,{provide:_.N,useExisting:J},{provide:$,useExisting:q},q,_.U,H,V,D,B],exports:[b.a,_.d]}]}],et.ctorParameters=(()=>[{type:et,decorators:[{type:_.G},{type:_.S}]}]);"undefined"!=typeof window&&window;class tt{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new tt;return t.store=e,t}get(e,t){return this.store[e]||t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}tt.decorators=[{type:_.v}],tt.ctorParameters=(()=>[]);class nt{}nt.decorators=[{type:_.C,args:[{providers:[{provide:tt,useFactory:function(e,t){const n=e.getElementById(t+"-state");let i={};if(n&&n.textContent)try{i=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(e){console.warn("Exception while restoring TransferState for app "+t,e)}return tt.init(i)},deps:[P,_.a]}]}]}],nt.ctorParameters=(()=>[]);new _.V("5.1.2")},Qltl:function(e,t,n){function i(e,t,n){var i=function(t,n){return e.js_beautify(t,n)};return i.js=e.js_beautify,i.css=t.css_beautify,i.html=n.html_beautify,i.js_beautify=e.js_beautify,i.css_beautify=t.css_beautify,i.html_beautify=n.html_beautify,i}var r,s;r=[n("FN//"),n("cJbR"),n("Vu9s")],void 0===(s=(function(e,t,n){return i(e,t,n)}).apply(t,r))||(e.exports=s)},R02D:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("1GK5"),r=n("fM0E"),s=n("Lv9R"),o=function(){function e(e,t){this.elementRef=e,this.virtualScroll=t}return e.prototype.ngOnInit=function(){this.virtualScroll.init()},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.setViewport(),e.virtualScroll.fireEvent({eventName:s.a.initialized})})},e.prototype.ngOnDestroy=function(){this.virtualScroll.clear()},e.prototype.getTotalHeight=function(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"},e.prototype.onScroll=function(){this.setViewport()},e.prototype.setViewport=function(){this.virtualScroll.setViewport(this.elementRef.nativeElement)},e.decorators=[{type:i.j,args:[{selector:"tree-viewport",styles:[],providers:[r.a],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div [style.height]="getTotalHeight()">\n        <ng-content></ng-content>\n      </div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[{type:i.o},{type:r.a}]},e.propDecorators={onScroll:[{type:i.t,args:["scroll",["$event"]]}]},e}()},RDxG:function(e,t,n){"use strict";var i=n("1GK5"),r=n("pnCZ"),s=(n("Xq7M"),n("iYlb"),n("jG7V"),function(){function e(e){this.textChanged=new i.q,this.textChange=new i.q,this.style={},this._options={},this._readOnly=!1,this._theme="monokai",this._mode="html",this._autoUpdateContent=!0,this._durationBeforeCallback=0,this._text="",this._onChange=function(e){},this._onTouched=function(){};var t=e.nativeElement;this._editor=ace.edit(t),this._editor.$blockScrolling=1/0}return e.prototype.ngOnInit=function(){this.init(),this.initEvents()},e.prototype.init=function(){this.setOptions(this._options||{}),this.setTheme(this._theme),this.setMode(this._mode),this.setReadOnly(this._readOnly)},e.prototype.initEvents=function(){var e=this;this._editor.on("change",function(){return e.updateText()}),this._editor.on("paste",function(){return e.updateText()})},e.prototype.updateText=function(){var e=this._editor.getValue(),t=this;e!==this.oldText&&(this._durationBeforeCallback?(this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(function(){t._text=e,t.textChange.emit(e),t.textChanged.emit(e),t.timeoutSaving=null},this._durationBeforeCallback)):(this._text=e,this.textChange.emit(e),this.textChanged.emit(e),this._onChange(e)),this.oldText=e)},Object.defineProperty(e.prototype,"options",{set:function(e){this.setOptions(e)},enumerable:!0,configurable:!0}),e.prototype.setOptions=function(e){this._options=e,this._editor.setOptions(e||{})},Object.defineProperty(e.prototype,"readOnly",{set:function(e){this.setReadOnly(e)},enumerable:!0,configurable:!0}),e.prototype.setReadOnly=function(e){this._readOnly=e,this._editor.setReadOnly(e)},Object.defineProperty(e.prototype,"theme",{set:function(e){this.setTheme(e)},enumerable:!0,configurable:!0}),e.prototype.setTheme=function(e){this._theme=e,this._editor.setTheme("ace/theme/"+e)},Object.defineProperty(e.prototype,"mode",{set:function(e){this.setMode(e)},enumerable:!0,configurable:!0}),e.prototype.setMode=function(e){this._mode=e,"object"==typeof this._mode?this._editor.getSession().setMode(this._mode):this._editor.getSession().setMode("ace/mode/"+this._mode)},Object.defineProperty(e.prototype,"value",{get:function(){return this.text},set:function(e){this.setText(e)},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.setText(e)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this.setText(e)},enumerable:!0,configurable:!0}),e.prototype.setText=function(e){null!==e&&void 0!==e||(e=""),this._text!==e&&!0===this._autoUpdateContent&&(this._text=e,this._editor.setValue(e),this._onChange(e),this._editor.clearSelection())},Object.defineProperty(e.prototype,"autoUpdateContent",{set:function(e){this.setAutoUpdateContent(e)},enumerable:!0,configurable:!0}),e.prototype.setAutoUpdateContent=function(e){this._autoUpdateContent=e},Object.defineProperty(e.prototype,"durationBeforeCallback",{set:function(e){this.setDurationBeforeCallback(e)},enumerable:!0,configurable:!0}),e.prototype.setDurationBeforeCallback=function(e){this._durationBeforeCallback=e},e.prototype.getEditor=function(){return this._editor},e.decorators=[{type:i.j,args:[{selector:"ace-editor",template:"",styles:[":host { display:block;width:100%; }"],providers:[{provide:r.h,useExisting:Object(i._3)(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:i.o}]},e.propDecorators={textChanged:[{type:i.H}],textChange:[{type:i.H}],style:[{type:i.y}],options:[{type:i.y}],readOnly:[{type:i.y}],theme:[{type:i.y}],mode:[{type:i.y}],value:[{type:i.y}],text:[{type:i.y}],autoUpdateContent:[{type:i.y}],durationBeforeCallback:[{type:i.y}]},e}()),o=n("ES+H");n.d(t,"a",function(){return l});var a=[s,o.a],l=function(){function e(){}return e.decorators=[{type:i.C,args:[{declarations:a.slice(),imports:[],providers:[],exports:a}]}],e.ctorParameters=function(){return[]},e}()},RkpI:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.decorators=[{type:i.j,args:[{selector:"TreeNode, tree-node",encapsulation:i.Z.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div\n        *ngIf="!templates.treeNodeFullTemplate"\n        [class]="node.getClass()"\n        [class.tree-node]="true"\n        [class.tree-node-expanded]="node.isExpanded && node.hasChildren"\n        [class.tree-node-collapsed]="node.isCollapsed && node.hasChildren"\n        [class.tree-node-leaf]="node.isLeaf"\n        [class.tree-node-active]="node.isActive"\n        [class.tree-node-focused]="node.isFocused"\n        >\n\n        <tree-node-drop-slot *ngIf="index === 0" [dropIndex]="node.index" [node]="node.parent"></tree-node-drop-slot>\n\n        <tree-node-wrapper [node]="node" [index]="index" [templates]="templates"></tree-node-wrapper>\n\n        <tree-node-children [node]="node" [templates]="templates"></tree-node-children>\n        <tree-node-drop-slot [dropIndex]="node.index + 1" [node]="node.parent"></tree-node-drop-slot>\n      </div>\n      <ng-container\n        [ngTemplateOutlet]="templates.treeNodeFullTemplate"\n        [ngTemplateOutletContext]="{ $implicit: node, node: node, index: index, templates: templates }">\n      </ng-container>\n    </ng-container>'}]}],e.ctorParameters=function(){return[]},e.propDecorators={node:[{type:i.y}],index:[{type:i.y}],templates:[{type:i.y}]},e}()},TBql:function(e,t,n){"use strict";function i(e,t=O.a){const n=Object(D.a)(e)?+e-t.now():Math.abs(e);return e=>e.lift(new class{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new N(e,this.delay,this.scheduler))}}(n,t))}function r(e){return()=>e.scrollStrategies.reposition()}function s(){return Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}function o(e){return Error(`MatDatepicker: No provider found for ${e}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}function a(e){return()=>e.scrollStrategies.reposition()}function l(e){return`${e||""}`}function c(e){return"string"==typeof e?parseInt(e,10):e}function u(e){return`calc(${e})`}function h(e){return e.match(/px|em|rem/)?e:e+"px"}function d(e){return()=>e.scrollStrategies.reposition()}function p(e){return e||new Ut}function m(e,t=0,n=100){return Math.max(t,Math.min(n,e))}function f(e){throw Error(`A drawer was already declared for 'position="${e}"'`)}function g(...e){let t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(Nn.a)(e[0])&&(e=e[0].slice()),n=>n.lift.call(new Bn.a([n,...e]),new Vn(t))}function v(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}function y(e){return Object.assign({},new Qn,e)}function b(e){return Error(`Could not find column with id "${e}".`)}function _(e){return e||new Mi}var x=n("1GK5"),w=n("IMoF"),E=n("3P+V"),T=n("AdGS"),S=n("ZvDg"),k=n("ZDMg"),A=n("IEaL"),C=n("7pQ/"),M=n("KF/P"),R=n("tOHq"),L=n("WSmR"),P=n("Fxis"),O=n("vVQ5"),D=n("wgF0"),F=n("WJ2g"),I=n("LLJX");class N extends F.a{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,i=e.scheduler,r=e.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const t=Math.max(0,n[0].time-i.now());this.schedule(e,t)}else t.active=!1}_schedule(e){this.active=!0,this.add(e.schedule(N.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new class{constructor(e,t){this.time=e,this.notification=t}}(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(I.a.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e)}_complete(){this.scheduleNotification(I.a.createComplete())}}var B=n("pnCZ"),j=n("Y9GW"),z=n("9i4M"),U=n("m1U/"),V=n("cv3d"),G=n("eQ+q");let H=0;class W{constructor(e,t){this.source=e,this.option=t}}class ${constructor(e,t){this._changeDetectorRef=e,this._elementRef=t,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new x.q,this._classList={},this.id=`mat-autocomplete-${H++}`}get isOpen(){return this._isOpen&&this.showPanel}set classList(e){e&&e.length&&(e.split(" ").forEach(e=>this._classList[e.trim()]=!0),this._elementRef.nativeElement.className="")}ngAfterContentInit(){this._keyManager=new E.d(this.options).withWrap(),this._setVisibility()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._classList["mat-autocomplete-visible"]=this.showPanel,this._classList["mat-autocomplete-hidden"]=!this.showPanel,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const t=new W(this,e);this.optionSelected.emit(t)}}$.decorators=[{type:x.j,args:[{selector:"mat-autocomplete",template:'<ng-template><div class="mat-autocomplete-panel" role="listbox" [id]="id" [ngClass]="_classList" #panel><ng-content></ng-content></div></ng-template>',styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,exportAs:"matAutocomplete",host:{class:"mat-autocomplete"}}]}],$.ctorParameters=(()=>[{type:x.h},{type:x.o}]),$.propDecorators={template:[{type:x.W,args:[x.T]}],panel:[{type:x.W,args:["panel"]}],options:[{type:x.m,args:[w.t,{descendants:!0}]}],optionGroups:[{type:x.m,args:[w.s]}],displayWith:[{type:x.y}],optionSelected:[{type:x.H}],classList:[{type:x.y,args:["class"]}]};const q=48,X=256,Y=new x.w("mat-autocomplete-scroll-strategy"),K={provide:Y,deps:[S.b],useFactory:r},Z={provide:B.h,useExisting:Object(x._3)(()=>J),multi:!0};class J{constructor(e,t,n,i,r,s,o,a,l){this._element=e,this._overlay=t,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._scrollStrategy=s,this._dir=o,this._formField=a,this._document=l,this._panelOpen=!1,this._manuallyFloatingLabel=!1,this._escapeEventStream=new z.a,this._onChange=(()=>{}),this._onTouched=(()=>{})}ngOnDestroy(){this._destroyPanel(),this._escapeEventStream.complete()}get panelOpen(){return this._panelOpen&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._resetLabel(),this._panelOpen&&(this.autocomplete._isOpen=this._panelOpen=!1,this._changeDetectorRef.detectChanges())}get panelClosingActions(){return Object(V.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(M.a)(()=>this._panelOpen)),this._escapeEventStream,this._outsideClickStream,this._overlayRef?this._overlayRef.detachments():Object(G.a)())}get optionSelections(){return Object(V.a)(...this.autocomplete.options.map(e=>e.onSelectionChange))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}get _outsideClickStream(){return this._document?Object(V.a)(Object(U.a)(this._document,"click"),Object(U.a)(this._document,"touchend")).pipe(Object(M.a)(e=>{const t=e.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._panelOpen&&t!==this._element.nativeElement&&(!n||!n.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)})):Object(G.a)(null)}writeValue(e){Promise.resolve(null).then(()=>this._setTriggerValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const t=e.keyCode;if(t===A.g&&this.panelOpen)this._resetActiveItem(),this._escapeEventStream.next(),e.stopPropagation();else if(this.activeOption&&t===A.f&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else{const n=this.autocomplete._keyManager.activeItem,i=t===A.p||t===A.d;this.panelOpen||t===A.o?this.autocomplete._keyManager.onKeydown(e):i&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(e){document.activeElement===e.target&&(this._onChange(e.target.value),this.openPanel())}_handleFocus(){this._element.nativeElement.readOnly||(this._attachOverlay(),this._floatLabel(!0))}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const e=this.autocomplete._keyManager.activeItemIndex||0,t=(e+w.t.countGroupLabelsBeforeOption(e,this.autocomplete.options,this.autocomplete.optionGroups))*q,n=this.autocomplete._getScrollTop();if(t<n)this.autocomplete._setScrollTop(t);else if(t+q>n+X){const e=t-X+q;this.autocomplete._setScrollTop(Math.max(0,e))}}_subscribeToClosingActions(){const e=this._zone.onStable.asObservable().pipe(Object(R.a)(1)),t=this.autocomplete.options.changes.pipe(Object(P.a)(()=>this._positionStrategy.recalculateLastPosition()),i(0));return Object(V.a)(e,t).pipe(Object(L.a)(()=>(this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelClosingActions)),Object(R.a)(1)).subscribe(e=>this._setValueAndClose(e))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(e){const t=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,n=null!=t?t:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n}_setValueAndClose(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(t=>{t!=e&&t.selected&&t.deselect()})}_attachOverlay(){if(!this.autocomplete)throw s();this._overlayRef?this._overlayRef.updateSize({width:this._getHostWidth()}):(this._portal=new C.h(this.autocomplete.template,this._viewContainerRef),this._overlayRef=this._overlay.create(this._getOverlayConfig())),this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions()),this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._panelOpen=!0}_getOverlayConfig(){return new S.c({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getHostWidth(),direction:this._dir?this._dir.value:"ltr"})}_getOverlayPosition(){return this._positionStrategy=this._overlay.position().connectedTo(this._getConnectedElement(),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),this._positionStrategy}_getConnectedElement(){return this._formField?this._formField._connectionContainerRef:this._element}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(-1)}}J.decorators=[{type:x.n,args:[{selector:"input[matAutocomplete], textarea[matAutocomplete]",host:{role:"combobox",autocomplete:"off","aria-autocomplete":"list","[attr.aria-activedescendant]":"activeOption?.id","[attr.aria-expanded]":"panelOpen.toString()","[attr.aria-owns]":"autocomplete?.id","(focusin)":"_handleFocus()","(blur)":"_onTouched()","(input)":"_handleInput($event)","(keydown)":"_handleKeydown($event)"},providers:[Z]}]}],J.ctorParameters=(()=>[{type:x.o},{type:S.b},{type:x.Y},{type:x.F},{type:x.h},{type:void 0,decorators:[{type:x.u,args:[Y]}]},{type:k.c,decorators:[{type:x.G}]},{type:j.a,decorators:[{type:x.G},{type:x.r}]},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[T.b]}]}]),J.propDecorators={autocomplete:[{type:x.y,args:["matAutocomplete"]}]};class Q{}Q.decorators=[{type:x.C,args:[{imports:[w.u,S.f,w.n,T.a],exports:[$,w.u,J,w.n],declarations:[$,J],providers:[K]}]}],Q.ctorParameters=(()=>[]);var ee=n("85gC"),te=n("PT+7");class ne{}ne.decorators=[{type:x.n,args:[{selector:"mat-card-content",host:{class:"mat-card-content"}}]}],ne.ctorParameters=(()=>[]);class ie{}ie.decorators=[{type:x.n,args:[{selector:"mat-card-title, [mat-card-title], [matCardTitle]",host:{class:"mat-card-title"}}]}],ie.ctorParameters=(()=>[]);class re{}re.decorators=[{type:x.n,args:[{selector:"mat-card-subtitle, [mat-card-subtitle], [matCardSubtitle]",host:{class:"mat-card-subtitle"}}]}],re.ctorParameters=(()=>[]);class se{constructor(){this.align="start"}}se.decorators=[{type:x.n,args:[{selector:"mat-card-actions",exportAs:"matCardActions",host:{class:"mat-card-actions","[class.mat-card-actions-align-end]":'align === "end"'}}]}],se.ctorParameters=(()=>[]),se.propDecorators={align:[{type:x.y}]};class oe{}oe.decorators=[{type:x.n,args:[{selector:"mat-card-footer",host:{class:"mat-card-footer"}}]}],oe.ctorParameters=(()=>[]);class ae{}ae.decorators=[{type:x.n,args:[{selector:"[mat-card-image], [matCardImage]",host:{class:"mat-card-image"}}]}],ae.ctorParameters=(()=>[]);class le{}le.decorators=[{type:x.n,args:[{selector:"[mat-card-sm-image], [matCardImageSmall]",host:{class:"mat-card-sm-image"}}]}],le.ctorParameters=(()=>[]);class ce{}ce.decorators=[{type:x.n,args:[{selector:"[mat-card-md-image], [matCardImageMedium]",host:{class:"mat-card-md-image"}}]}],ce.ctorParameters=(()=>[]);class ue{}ue.decorators=[{type:x.n,args:[{selector:"[mat-card-lg-image], [matCardImageLarge]",host:{class:"mat-card-lg-image"}}]}],ue.ctorParameters=(()=>[]);class he{}he.decorators=[{type:x.n,args:[{selector:"[mat-card-xl-image], [matCardImageXLarge]",host:{class:"mat-card-xl-image"}}]}],he.ctorParameters=(()=>[]);class de{}de.decorators=[{type:x.n,args:[{selector:"[mat-card-avatar], [matCardAvatar]",host:{class:"mat-card-avatar"}}]}],de.ctorParameters=(()=>[]);class pe{}pe.decorators=[{type:x.j,args:[{selector:"mat-card",exportAs:"matCard",template:'<ng-content></ng-content><ng-content select="mat-card-footer"></ng-content>',styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:24px;border-radius:2px}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-flat{box-shadow:none}.mat-card-actions,.mat-card-content,.mat-card-subtitle,.mat-card-title{display:block;margin-bottom:16px}.mat-card-actions{margin-left:-16px;margin-right:-16px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 48px);margin:0 -24px 16px -24px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-footer{display:block;margin:0 -24px -24px -24px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 4px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header-text{margin:0 8px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0}.mat-card-lg-image,.mat-card-md-image,.mat-card-sm-image{margin:-8px 0}.mat-card-title-group{display:flex;justify-content:space-between;margin:0 -8px}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}@media (max-width:600px){.mat-card{padding:24px 16px}.mat-card-actions{margin-left:-8px;margin-right:-8px}.mat-card-image{width:calc(100% + 32px);margin:16px -16px}.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}.mat-card-header{margin:-8px 0 0 0}.mat-card-footer{margin-left:-16px;margin-right:-16px}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-24px}.mat-card>.mat-card-actions:last-child{margin-bottom:-16px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,host:{class:"mat-card"}}]}],pe.ctorParameters=(()=>[]);class me{}me.decorators=[{type:x.j,args:[{selector:"mat-card-header",template:'<ng-content select="[mat-card-avatar], [matCardAvatar]"></ng-content><div class="mat-card-header-text"><ng-content select="mat-card-title, mat-card-subtitle, [mat-card-title], [mat-card-subtitle]"></ng-content></div><ng-content></ng-content>',encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,host:{class:"mat-card-header"}}]}],me.ctorParameters=(()=>[]);class fe{}fe.decorators=[{type:x.j,args:[{selector:"mat-card-title-group",template:'<div><ng-content select="mat-card-title, mat-card-subtitle, [mat-card-title], [mat-card-subtitle]"></ng-content></div><ng-content select="img"></ng-content><ng-content></ng-content>',encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,host:{class:"mat-card-title-group"}}]}],fe.ctorParameters=(()=>[]);class ge{}ge.decorators=[{type:x.C,args:[{imports:[w.n],exports:[pe,me,fe,ne,ie,re,se,oe,le,ce,ue,ae,he,de,w.n],declarations:[pe,me,fe,ne,ie,re,se,oe,le,ce,ue,ae,he,de]}]}],ge.ctorParameters=(()=>[]);var ve=n("O2wZ"),ye=n("bVHt"),be=n("nTP9"),_e=n("8C/W"),xe=n("0mJR");class we{constructor(e,t,n=!1){this.source=e,this.selected=t,this.isUserInput=n}}class Ee{constructor(e){this._elementRef=e}}const Te=Object(w.C)(Object(w.E)(Ee),"primary");class Se{}Se.decorators=[{type:x.n,args:[{selector:"mat-basic-chip, [mat-basic-chip]",host:{class:"mat-basic-chip"}}]}],Se.ctorParameters=(()=>[]);class ke extends Te{constructor(e){super(e),this._elementRef=e,this._selected=!1,this._selectable=!0,this._removable=!0,this._hasFocus=!1,this._onFocus=new z.a,this._onBlur=new z.a,this.selectionChange=new x.q,this.destroyed=new x.q,this.destroy=this.destroyed,this.removed=new x.q,this.onRemove=this.removed}get selected(){return this._selected}set selected(e){this._selected=Object(ye.b)(e),this.selectionChange.emit({source:this,isUserInput:!1,selected:e})}get value(){return void 0!=this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable}set selectable(e){this._selectable=Object(ye.b)(e)}get removable(){return this._removable}set removable(e){this._removable=Object(ye.b)(e)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnDestroy(){this.destroyed.emit({chip:this})}select(){this._selected=!0,this.selectionChange.emit({source:this,isUserInput:!1,selected:!0})}deselect(){this._selected=!1,this.selectionChange.emit({source:this,isUserInput:!1,selected:!1})}selectViaInteraction(){this._selected=!0,this.selectionChange.emit({source:this,isUserInput:!0,selected:!0})}toggleSelected(e=!1){return this._selected=!this.selected,this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected}),this.selected}focus(){this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this.focus())}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case A.c:case A.b:this.remove(),e.preventDefault();break;case A.n:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._hasFocus=!1,this._onBlur.next({chip:this})}}ke.decorators=[{type:x.n,args:[{selector:"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]",inputs:["color","disabled"],exportAs:"matChip",host:{class:"mat-chip",tabindex:"-1",role:"option","[class.mat-chip-selected]":"selected","[attr.disabled]":"disabled || null","[attr.aria-disabled]":"disabled.toString()","[attr.aria-selected]":"ariaSelected","(click)":"_handleClick($event)","(keydown)":"_handleKeydown($event)","(focus)":"_hasFocus = true","(blur)":"_blur()"}}]}],ke.ctorParameters=(()=>[{type:x.o}]),ke.propDecorators={selected:[{type:x.y}],value:[{type:x.y}],selectable:[{type:x.y}],removable:[{type:x.y}],selectionChange:[{type:x.H}],destroyed:[{type:x.H}],destroy:[{type:x.H}],removed:[{type:x.H}],onRemove:[{type:x.H,args:["remove"]}]};class Ae{constructor(e){this._parentChip=e}_handleClick(e){this._parentChip.removable&&(this._parentChip.remove(),e.preventDefault(),e.stopPropagation())}}Ae.decorators=[{type:x.n,args:[{selector:"[matChipRemove]",host:{class:"mat-chip-remove","(click)":"_handleClick($event)"}}]}],Ae.ctorParameters=(()=>[{type:ke}]);class Ce{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}}const Me=Object(w.F)(Ce);let Re=0;class Le{constructor(e,t){this.source=e,this.value=t}}class Pe extends Me{constructor(e,t,n,i,r,s,o){super(s,i,r,o),this._elementRef=e,this._changeDetectorRef=t,this._dir=n,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedIndex=null,this._chipSet=new WeakMap,this._tabOutSubscription=xe.a.EMPTY,this._selectable=!0,this._multiple=!1,this._uid=`mat-chip-list-${Re++}`,this._required=!1,this._disabled=!1,this._tabIndex=0,this._userTabIndex=null,this._onTouched=(()=>{}),this._onChange=(()=>{}),this._compareWith=((e,t)=>e===t),this.ariaOrientation="horizontal",this.change=new x.q,this.valueChange=new x.q,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(ye.b)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}set id(e){this._id=e,this.stateChanges.next()}get id(){return this._id||this._uid}set required(e){this._required=Object(ye.b)(e),this.stateChanges.next()}get required(){return this._required}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}get focused(){return this.chips.some(e=>e._hasFocus)||this._chipInput&&this._chipInput.focused}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Object(ye.b)(e)}get selectable(){return this._selectable}set selectable(e){this._selectable=Object(ye.b)(e)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return Object(V.a)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return Object(V.a)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return Object(V.a)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return Object(V.a)(...this.chips.map(e=>e.destroy))}ngAfterContentInit(){this._keyManager=new E.g(this.chips).withWrap(),this._tabOutSubscription=this._keyManager.tabOut.subscribe(()=>{this._tabIndex=-1,setTimeout(()=>this._tabIndex=this._userTabIndex||0)}),this._changeSubscription=this.chips.changes.pipe(Object(_e.a)(null)).subscribe(()=>{this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips()})}ngOnInit(){this._selectionModel=new be.a(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){this._tabOutSubscription.unsubscribe(),this._changeSubscription&&this._changeSubscription.unsubscribe(),this._dropSubscriptions(),this.stateChanges.complete()}registerInput(e){this._chipInput=e}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._elementRef.nativeElement.disabled=e,this.stateChanges.next()}onContainerClick(){this.focus()}focus(){this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(),this.stateChanges.next()))}_focusInput(){this._chipInput&&this._chipInput.focus()}_keydown(e){let t=e.keyCode,n=e.target,i=this._isInputEmpty(n),r=this._dir&&"rtl"==this._dir.value,s=t===(r?A.m:A.i),o=t===(r?A.i:A.m),a=t===A.b;if(i&&a)return this._keyManager.setLastItemActive(),void e.preventDefault();n&&n.classList.contains("mat-chip")&&(s?(this._keyManager.setPreviousItemActive(),e.preventDefault()):o?(this._keyManager.setNextItemActive(),e.preventDefault()):this._keyManager.onKeydown(e)),this.stateChanges.next()}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateKeyManager(e){let t=this.chips.toArray().indexOf(e);this._isValidIndex(t)&&(e._hasFocus&&(t<this.chips.length-1?this._keyManager.setActiveItem(t):t-1>=0&&this._keyManager.setActiveItem(t-1)),this._keyManager.activeItemIndex===t&&(this._lastDestroyedIndex=t))}_updateFocusForDestroyedChips(){let e=this.chips;if(null!=this._lastDestroyedIndex&&e.length>0){const t=Math.min(this._lastDestroyedIndex,e.length-1);this._keyManager.setActiveItem(t);let n=this._keyManager.activeItem;n&&n.focus()}this._lastDestroyedIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_isInputEmpty(e){if(e&&"input"===e.nodeName.toLowerCase()){return!e.value}return!1}_setSelectionByValue(e,t=!0){if(this._clearSelection(),this.chips.forEach(e=>e.deselect()),Array.isArray(e))e.forEach(e=>this._selectValue(e,t)),this._sortValues();else{const n=this._selectValue(e,t);if(n){const e=this.chips.toArray().indexOf(n);t?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItemIndex(e)}}}_selectValue(e,t=!0){const n=this.chips.find(t=>null!=t.value&&this._compareWith(t.value,e));return n&&(t?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(t=>{t!==e&&t.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let t=null;t=Array.isArray(this.selected)?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.change.emit(new Le(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}_blur(){this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(e=>{!this._selectionModel.isSelected(e)&&e.selected&&e.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let t=this.chips.toArray().indexOf(e.chip);this._isValidIndex(t)&&this._keyManager.updateActiveItemIndex(t),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(e=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{this._updateKeyManager(e.chip)})}}Pe.decorators=[{type:x.j,args:[{selector:"mat-chip-list",template:'<div class="mat-chip-list-wrapper"><ng-content></ng-content></div>',exportAs:"matChipList",host:{"[attr.tabindex]":"_tabIndex","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-required]":"required.toString()","[attr.aria-disabled]":"disabled.toString()","[attr.aria-invalid]":"errorState","[attr.aria-multiselectable]":"multiple","[attr.role]":"role","[class.mat-chip-list-disabled]":"disabled","[class.mat-chip-list-invalid]":"errorState","[class.mat-chip-list-required]":"required","[attr.aria-orientation]":"ariaOrientation",class:"mat-chip-list","(focus)":"focus()","(blur)":"_blur()","(keydown)":"_keydown($event)"},providers:[{provide:j.b,useExisting:Pe}],styles:[".mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:baseline}.mat-chip:not(.mat-basic-chip){transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:24px;align-items:center;cursor:default}.mat-chip:not(.mat-basic-chip)+.mat-chip:not(.mat-basic-chip){margin:0 0 0 8px}[dir=rtl] .mat-chip:not(.mat-basic-chip)+.mat-chip:not(.mat-basic-chip){margin:0 8px 0 0}.mat-form-field-prefix .mat-chip:not(.mat-basic-chip):last-child{margin-right:8px}[dir=rtl] .mat-form-field-prefix .mat-chip:not(.mat-basic-chip):last-child{margin-left:8px}.mat-chip:not(.mat-basic-chip) .mat-chip-remove.mat-icon{width:1em;height:1em}.mat-chip:not(.mat-basic-chip):focus{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);outline:0}@media screen and (-ms-high-contrast:active){.mat-chip:not(.mat-basic-chip){outline:solid 1px}}.mat-chip-list-stacked .mat-chip-list-wrapper{display:block}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-chip:not(.mat-basic-chip){display:block;margin:0;margin-bottom:8px}[dir=rtl] .mat-chip-list-stacked .mat-chip-list-wrapper .mat-chip:not(.mat-basic-chip){margin:0;margin-bottom:8px}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-chip:not(.mat-basic-chip):last-child,[dir=rtl] .mat-chip-list-stacked .mat-chip-list-wrapper .mat-chip:not(.mat-basic-chip):last-child{margin-bottom:0}.mat-form-field-prefix .mat-chip-list-wrapper{margin-bottom:8px}.mat-chip-remove{margin-right:-4px;margin-left:6px;cursor:pointer}[dir=rtl] .mat-chip-remove{margin-right:6px;margin-left:-4px}input.mat-chip-input{width:150px;margin:3px;flex:1 0 150px}"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Pe.ctorParameters=(()=>[{type:x.o},{type:x.h},{type:k.c,decorators:[{type:x.G}]},{type:B.l,decorators:[{type:x.G}]},{type:B.e,decorators:[{type:x.G}]},{type:w.d},{type:B.i,decorators:[{type:x.G},{type:x.R}]}]),Pe.propDecorators={errorStateMatcher:[{type:x.y}],multiple:[{type:x.y}],compareWith:[{type:x.y}],value:[{type:x.y}],id:[{type:x.y}],required:[{type:x.y}],placeholder:[{type:x.y}],disabled:[{type:x.y}],ariaOrientation:[{type:x.y,args:["aria-orientation"]}],selectable:[{type:x.y}],tabIndex:[{type:x.y}],change:[{type:x.H}],valueChange:[{type:x.H}],chips:[{type:x.m,args:[ke]}]};class Oe{constructor(e){this._elementRef=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=[A.f],this.chipEnd=new x.q,this.placeholder="",this._inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=Object(ye.b)(e)}get empty(){let e=this._inputElement.value;return null==e||""===e}_keydown(e){this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(e){!this._inputElement.value&&e&&this._chipList._keydown(e),(!e||this.separatorKeyCodes.indexOf(e.keyCode)>-1)&&(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),e&&e.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(){this._inputElement.focus()}}Oe.decorators=[{type:x.n,args:[{selector:"input[matChipInputFor]",exportAs:"matChipInput, matChipInputFor",host:{class:"mat-chip-input mat-input-element","(keydown)":"_keydown($event)","(blur)":"_blur()","(focus)":"_focus()","(input)":"_onInput()"}}]}],Oe.ctorParameters=(()=>[{type:x.o}]),Oe.propDecorators={chipList:[{type:x.y,args:["matChipInputFor"]}],addOnBlur:[{type:x.y,args:["matChipInputAddOnBlur"]}],separatorKeyCodes:[{type:x.y,args:["matChipInputSeparatorKeyCodes"]}],chipEnd:[{type:x.H,args:["matChipInputTokenEnd"]}],placeholder:[{type:x.y}]};class De{}De.decorators=[{type:x.C,args:[{imports:[],exports:[Pe,ke,Oe,Ae,Ae,Se],declarations:[Pe,ke,Oe,Ae,Ae,Se],providers:[w.d]}]}],De.ctorParameters=(()=>[]);var Fe=n("6krl"),Ie=n("6DMU"),Ne=n("q3rK");class Be{constructor(){this.changes=new z.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.switchToMonthViewLabel="Change to month view",this.switchToYearViewLabel="Change to year view"}}Be.decorators=[{type:x.v}],Be.ctorParameters=(()=>[]);class je{constructor(e,t,n,i){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=i}}class ze{constructor(){this.numCols=7,this.allowDisabledSelection=!1,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new x.q}_cellClicked(e){(this.allowDisabledSelection||e.enabled)&&this.selectedValueChange.emit(e.value)}get _firstRowOffset(){return this.rows&&this.rows.length&&this.rows[0].length?this.numCols-this.rows[0].length:0}_isActiveCell(e,t){let n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}}ze.decorators=[{type:x.j,args:[{selector:"[mat-calendar-body]",template:'<tr *ngIf="_firstRowOffset < labelMinRequiredCells" aria-hidden="true"><td class="mat-calendar-body-label" [attr.colspan]="numCols" [style.paddingTop.%]="50 * cellAspectRatio / numCols" [style.paddingBottom.%]="50 * cellAspectRatio / numCols">{{label}}</td></tr><tr *ngFor="let row of rows; let rowIndex = index" role="row"><td *ngIf="rowIndex === 0 && _firstRowOffset" aria-hidden="true" class="mat-calendar-body-label" [attr.colspan]="_firstRowOffset" [style.paddingTop.%]="50 * cellAspectRatio / numCols" [style.paddingBottom.%]="50 * cellAspectRatio / numCols">{{_firstRowOffset >= labelMinRequiredCells ? label : \'\'}}</td><td *ngFor="let item of row; let colIndex = index" role="gridcell" class="mat-calendar-body-cell" [tabindex]="_isActiveCell(rowIndex, colIndex) ? 0 : -1" [class.mat-calendar-body-disabled]="!item.enabled" [class.mat-calendar-body-active]="_isActiveCell(rowIndex, colIndex)" [attr.aria-label]="item.ariaLabel" [attr.aria-disabled]="!item.enabled || null" (click)="_cellClicked(item)" [style.width.%]="100 / numCols" [style.paddingTop.%]="50 * cellAspectRatio / numCols" [style.paddingBottom.%]="50 * cellAspectRatio / numCols"><div class="mat-calendar-body-cell-content" [class.mat-calendar-body-selected]="selectedValue === item.value" [class.mat-calendar-body-today]="todayValue === item.value">{{item.displayValue}}</div></td></tr>',styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}[dir=rtl] .mat-calendar-body-label{text-align:right}"],host:{class:"mat-calendar-body"},exportAs:"matCalendarBody",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],ze.ctorParameters=(()=>[]),ze.propDecorators={label:[{type:x.y}],rows:[{type:x.y}],todayValue:[{type:x.y}],selectedValue:[{type:x.y}],labelMinRequiredCells:[{type:x.y}],numCols:[{type:x.y}],allowDisabledSelection:[{type:x.y}],activeCell:[{type:x.y}],cellAspectRatio:[{type:x.y}],selectedValueChange:[{type:x.H}]};const Ue=7;class Ve{constructor(e,t,n){if(this._dateAdapter=e,this._dateFormats=t,this._changeDetectorRef=n,this.selectedChange=new x.q,this._userSelection=new x.q,!this._dateAdapter)throw o("DateAdapter");if(!this._dateFormats)throw o("MAT_DATE_FORMATS");const i=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((e,t)=>({long:e,narrow:r[t]}));this._weekdays=s.slice(i).concat(s.slice(0,i)),this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;this._activeDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today(),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}ngAfterContentInit(){this._init()}_dateSelected(e){if(this._selectedDate!=e){const t=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(t,n,e);this.selectedChange.emit(i)}this._userSelection.emit()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Ue+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Ue,this._createWeekCells(),this._changeDetectorRef.markForCheck()}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<e;n++,i++){i==Ue&&(this._weeks.push([]),i=0);let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),r=!this.dateFilter||this.dateFilter(e),s=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel);this._weeks[this._weeks.length-1].push(new je(n+1,t[n],s,r))}}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}Ve.decorators=[{type:x.j,args:[{selector:"mat-month-view",template:'<table class="mat-calendar-table"><thead class="mat-calendar-table-header"><tr><th *ngFor="let day of _weekdays" [attr.aria-label]="day.long">{{day.narrow}}</th></tr><tr><th class="mat-calendar-table-header-divider" colspan="7" aria-hidden="true"></th></tr></thead><tbody mat-calendar-body role="grid" [label]="_monthLabel" [rows]="_weeks" [todayValue]="_todayDate" [selectedValue]="_selectedDate" [labelMinRequiredCells]="3" [activeCell]="_dateAdapter.getDate(activeDate) - 1" (selectedValueChange)="_dateSelected($event)"></tbody></table>',exportAs:"matMonthVeiw",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Ve.ctorParameters=(()=>[{type:w.c,decorators:[{type:x.G}]},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[w.g]}]},{type:x.h}]),Ve.propDecorators={activeDate:[{type:x.y}],selected:[{type:x.y}],dateFilter:[{type:x.y}],selectedChange:[{type:x.H}],_userSelection:[{type:x.H}]};class Ge{constructor(e,t,n){if(this._dateAdapter=e,this._dateFormats=t,this._changeDetectorRef=n,this.selectedChange=new x.q,!this._dateAdapter)throw o("DateAdapter");if(!this._dateFormats)throw o("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;this._activeDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today(),this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}ngAfterContentInit(){this._init()}_monthSelected(e){let t=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1));this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),t)))}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,t){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new je(e,t.toLocaleUpperCase(),n,this._isMonthEnabled(e))}_isMonthEnabled(e){if(!this.dateFilter)return!0;for(let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this._dateAdapter.getMonth(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}Ge.decorators=[{type:x.j,args:[{selector:"mat-year-view",template:'<table class="mat-calendar-table"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body role="grid" allowDisabledSelection="true" [label]="_yearLabel" [rows]="_months" [todayValue]="_todayMonth" [selectedValue]="_selectedMonth" [labelMinRequiredCells]="2" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_dateAdapter.getMonth(activeDate)" (selectedValueChange)="_monthSelected($event)"></tbody></table>',exportAs:"matYearView",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Ge.ctorParameters=(()=>[{type:w.c,decorators:[{type:x.G}]},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[w.g]}]},{type:x.h}]),Ge.propDecorators={activeDate:[{type:x.y}],selected:[{type:x.y}],dateFilter:[{type:x.y}],selectedChange:[{type:x.H}]};class He{constructor(e,t,n,i,r,s){if(this._elementRef=e,this._intl=t,this._ngZone=n,this._dateAdapter=i,this._dateFormats=r,this.startView="month",this.selectedChange=new x.q,this._userSelection=new x.q,this._dateFilterForViews=(e=>!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)),!this._dateAdapter)throw o("DateAdapter");if(!this._dateFormats)throw o("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>s.markForCheck())}get startAt(){return this._startAt}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get _activeDate(){return this._clampedActiveDate}set _activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate)}get _periodButtonText(){return this._monthView?this._dateAdapter.format(this._activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this._dateAdapter.getYearName(this._activeDate)}get _periodButtonLabel(){return this._monthView?this._intl.switchToYearViewLabel:this._intl.switchToMonthViewLabel}get _prevButtonLabel(){return this._monthView?this._intl.prevMonthLabel:this._intl.prevYearLabel}get _nextButtonLabel(){return this._monthView?this._intl.nextMonthLabel:this._intl.nextYearLabel}ngAfterContentInit(){this._activeDate=this.startAt||this._dateAdapter.today(),this._focusActiveCell(),this._monthView="year"!=this.startView}ngOnDestroy(){this._intlChanges.unsubscribe()}ngOnChanges(e){const t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){const e=this.monthView||this.yearView;e&&e._init()}}_dateSelected(e){this._dateAdapter.sameDate(e,this.selected)||this.selectedChange.emit(e)}_userSelected(){this._userSelection.emit()}_monthSelected(e){this._activeDate=e,this._monthView=!0}_currentPeriodClicked(){this._monthView=!this._monthView}_previousClicked(){this._activeDate=this._monthView?this._dateAdapter.addCalendarMonths(this._activeDate,-1):this._dateAdapter.addCalendarYears(this._activeDate,-1)}_nextClicked(){this._activeDate=this._monthView?this._dateAdapter.addCalendarMonths(this._activeDate,1):this._dateAdapter.addCalendarYears(this._activeDate,1)}_previousEnabled(){return!this.minDate||(!this.minDate||!this._isSameView(this._activeDate,this.minDate))}_nextEnabled(){return!this.maxDate||!this._isSameView(this._activeDate,this.maxDate)}_handleCalendarBodyKeydown(e){this._monthView?this._handleCalendarBodyKeydownInMonthView(e):this._handleCalendarBodyKeydownInYearView(e)}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{this._elementRef.nativeElement.querySelector(".mat-calendar-body-active").focus()})})}_isSameView(e,t){return this._monthView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)}_handleCalendarBodyKeydownInMonthView(e){switch(e.keyCode){case A.i:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-1);break;case A.m:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1);break;case A.p:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.d:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.h:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.e:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.l:this._activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.k:this._activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.f:return void(this._dateFilterForViews(this._activeDate)&&(this._dateSelected(this._activeDate),this._userSelected(),e.preventDefault()));default:return}this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeydownInYearView(e){switch(e.keyCode){case A.i:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.m:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.p:this._activeDate=this._prevMonthInSameCol(this._activeDate);break;case A.d:this._activeDate=this._nextMonthInSameCol(this._activeDate);break;case A.h:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.e:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.l:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case A.k:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case A.f:this._monthSelected(this._activeDate);break;default:return}this._focusActiveCell(),e.preventDefault()}_prevMonthInSameCol(e){return this._dateAdapter.addCalendarMonths(e,-4)}_nextMonthInSameCol(e){return this._dateAdapter.addCalendarMonths(e,4)}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}He.decorators=[{type:x.j,args:[{selector:"mat-calendar",template:'<div class="mat-calendar-header"><div class="mat-calendar-controls"><button mat-button class="mat-calendar-period-button" (click)="_currentPeriodClicked()" [attr.aria-label]="_periodButtonLabel">{{_periodButtonText}}<div class="mat-calendar-arrow" [class.mat-calendar-invert]="!_monthView"></div></button><div class="mat-calendar-spacer"></div><button mat-icon-button class="mat-calendar-previous-button" [disabled]="!_previousEnabled()" (click)="_previousClicked()" [attr.aria-label]="_prevButtonLabel"></button> <button mat-icon-button class="mat-calendar-next-button" [disabled]="!_nextEnabled()" (click)="_nextClicked()" [attr.aria-label]="_nextButtonLabel"></button></div></div><div class="mat-calendar-content" (keydown)="_handleCalendarBodyKeydown($event)" [ngSwitch]="_monthView" cdkMonitorSubtreeFocus><mat-month-view *ngSwitchCase="true" [activeDate]="_activeDate" [selected]="selected" [dateFilter]="_dateFilterForViews" (selectedChange)="_dateSelected($event)" (_userSelection)="_userSelected()"></mat-month-view><mat-year-view *ngSwitchDefault [activeDate]="_activeDate" [selected]="selected" [dateFilter]="_dateFilterForViews" (selectedChange)="_monthSelected($event)"></mat-year-view></div>',styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],host:{class:"mat-calendar"},exportAs:"matCalendar",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],He.ctorParameters=(()=>[{type:x.o},{type:Be},{type:x.F},{type:w.c,decorators:[{type:x.G}]},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[w.g]}]},{type:x.h}]),He.propDecorators={startAt:[{type:x.y}],startView:[{type:x.y}],selected:[{type:x.y}],minDate:[{type:x.y}],maxDate:[{type:x.y}],dateFilter:[{type:x.y}],selectedChange:[{type:x.H}],_userSelection:[{type:x.H}],monthView:[{type:x.W,args:[Ve]}],yearView:[{type:x.W,args:[Ge]}]};let We=0;const $e=new x.w("mat-datepicker-scroll-strategy"),qe={provide:$e,deps:[S.b],useFactory:a};class Xe{ngAfterContentInit(){this._calendar._focusActiveCell()}_handleKeydown(e){e.keyCode===A.g&&(this.datepicker.close(),e.preventDefault(),e.stopPropagation())}}Xe.decorators=[{type:x.j,args:[{selector:"mat-datepicker-content",template:'<mat-calendar cdkTrapFocus [id]="datepicker.id" [ngClass]="datepicker.panelClass" [startAt]="datepicker.startAt" [startView]="datepicker.startView" [minDate]="datepicker._minDate" [maxDate]="datepicker._maxDate" [dateFilter]="datepicker._dateFilter" [selected]="datepicker._selected" (selectedChange)="datepicker._select($event)" (_userSelection)="datepicker.close()"></mat-calendar>',styles:[".mat-datepicker-content{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);display:block}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],host:{class:"mat-datepicker-content","[class.mat-datepicker-content-touch]":"datepicker.touchUi","(keydown)":"_handleKeydown($event)"},exportAs:"matDatepickerContent",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Xe.ctorParameters=(()=>[]),Xe.propDecorators={_calendar:[{type:x.W,args:[He]}]};class Ye{constructor(e,t,n,i,r,s,a,l){if(this._dialog=e,this._overlay=t,this._ngZone=n,this._viewContainerRef=i,this._scrollStrategy=r,this._dateAdapter=s,this._dir=a,this._document=l,this.startView="month",this._touchUi=!1,this.selectedChanged=new x.q,this.openedStream=new x.q,this.closedStream=new x.q,this._opened=!1,this.id=`mat-datepicker-${We++}`,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=xe.a.EMPTY,this._disabledChange=new z.a,!this._dateAdapter)throw o("DateAdapter")}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Object(ye.b)(e)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(e){const t=Object(ye.b)(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get _selected(){return this._validSelected}set _selected(e){this._validSelected=e}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput._dateFilter}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&this._popupRef.dispose()}_select(e){let t=this._selected;this._selected=e,this._dateAdapter.sameDate(t,this._selected)||this.selectedChanged.emit(e)}_registerInput(e){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe(e=>this._selected=e)}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){this._opened&&(this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach(),this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus&&(this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null),this._opened=!1,this.closedStream.emit())}_openAsDialog(){this._dialogRef=this._dialog.open(Xe,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.datepicker=this}_openAsPopup(){if(this._calendarPortal||(this._calendarPortal=new C.d(Xe,this._viewContainerRef)),this._popupRef||this._createPopup(),!this._popupRef.hasAttached()){this._popupRef.attach(this._calendarPortal).instance.datepicker=this,this._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{this._popupRef.updatePosition()})}}_createPopup(){const e=new S.c({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir?this._dir.value:"ltr",scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.backdropClick().subscribe(()=>this.close())}_createPopupPositionStrategy(){const e=this._datepickerInput._getPopupFallbackOffset();return this._overlay.position().connectedTo(this._datepickerInput.getPopupConnectionElementRef(),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,e).withFallbackPosition({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,e)}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}Ye.decorators=[{type:x.j,args:[{selector:"mat-datepicker",template:"",exportAs:"matDatepicker",changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],Ye.ctorParameters=(()=>[{type:Fe.c},{type:S.b},{type:x.F},{type:x.Y},{type:void 0,decorators:[{type:x.u,args:[$e]}]},{type:w.c,decorators:[{type:x.G}]},{type:k.c,decorators:[{type:x.G}]},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[T.b]}]}]),Ye.propDecorators={startAt:[{type:x.y}],startView:[{type:x.y}],touchUi:[{type:x.y}],disabled:[{type:x.y}],selectedChanged:[{type:x.H}],panelClass:[{type:x.y}],openedStream:[{type:x.H,args:["opened"]}],closedStream:[{type:x.H,args:["closed"]}],opened:[{type:x.y}]};const Ke={provide:B.h,useExisting:Object(x._3)(()=>Qe),multi:!0},Ze={provide:B.g,useExisting:Object(x._3)(()=>Qe),multi:!0};class Je{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}class Qe{constructor(e,t,n,i){if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this._formField=i,this.dateChange=new x.q,this.dateInput=new x.q,this._valueChange=new x.q,this._disabledChange=new x.q,this._onTouched=(()=>{}),this._cvaOnChange=(()=>{}),this._validatorOnChange=(()=>{}),this._datepickerSubscription=xe.a.EMPTY,this._localeSubscription=xe.a.EMPTY,this._parseValidator=(()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}}),this._minValidator=(e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.min||!t||this._dateAdapter.compareDate(this.min,t)<=0?null:{matDatepickerMin:{min:this.min,actual:t}}}),this._maxValidator=(e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.max||!t||this._dateAdapter.compareDate(this.max,t)>=0?null:{matDatepickerMax:{max:this.max,actual:t}}}),this._filterValidator=(e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return this._dateFilter&&t&&!this._dateFilter(t)?{matDatepickerFilter:!0}:null}),this._validator=B.p.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw o("DateAdapter");if(!this._dateFormats)throw o("MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(()=>{this.value=this.value})}set matDatepicker(e){this.registerDatepicker(e)}registerDatepicker(e){e&&(this._datepicker=e,this._datepicker._registerInput(this))}set matDatepickerFilter(e){this._dateFilter=e,this._validatorOnChange()}get value(){return this._value}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);let t=this.value;this._value=e,this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):"",this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(e){const t=Object(ye.b)(e);this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t))}ngAfterContentInit(){this._datepicker&&(this._datepickerSubscription=this._datepicker.selectedChanged.subscribe(e=>{this.value=e,this._cvaOnChange(e),this._onTouched(),this.dateInput.emit(new Je(this,this._elementRef.nativeElement)),this.dateChange.emit(new Je(this,this._elementRef.nativeElement))}))}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}getPopupConnectionElementRef(){return this._formField?this._formField.underlineRef:this._elementRef}_getPopupFallbackOffset(){return this._formField?-this._formField._inputContainerRef.nativeElement.clientHeight:0}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&e.keyCode===A.d&&(this._datepicker.open(),e.preventDefault())}_onInput(e){let t=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t),this._value=t,this._cvaOnChange(t),this._valueChange.emit(t),this.dateInput.emit(new Je(this,this._elementRef.nativeElement))}_onChange(){this.dateChange.emit(new Je(this,this._elementRef.nativeElement))}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}Qe.decorators=[{type:x.n,args:[{selector:"input[matDatepicker]",providers:[Ke,Ze,{provide:Ne.a,useExisting:Qe}],host:{"[attr.aria-haspopup]":"true","[attr.aria-owns]":"(_datepicker?.opened && _datepicker.id) || null","[attr.min]":"min ? _dateAdapter.toIso8601(min) : null","[attr.max]":"max ? _dateAdapter.toIso8601(max) : null","[disabled]":"disabled","(input)":"_onInput($event.target.value)","(change)":"_onChange()","(blur)":"_onTouched()","(keydown)":"_onKeydown($event)"},exportAs:"matDatepickerInput"}]}],Qe.ctorParameters=(()=>[{type:x.o},{type:w.c,decorators:[{type:x.G}]},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[w.g]}]},{type:j.a,decorators:[{type:x.G}]}]),Qe.propDecorators={matDatepicker:[{type:x.y}],matDatepickerFilter:[{type:x.y}],value:[{type:x.y}],min:[{type:x.y}],max:[{type:x.y}],disabled:[{type:x.y}],dateChange:[{type:x.H}],dateInput:[{type:x.H}]};class et{constructor(e,t){this._intl=e,this._changeDetectorRef=t,this._stateChanges=xe.a.EMPTY}get disabled(){return void 0===this._disabled?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Object(ye.b)(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker._disabledChange:Object(G.a)(),t=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(G.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(V.a)(this._intl.changes,e,t).subscribe(()=>this._changeDetectorRef.markForCheck())}}et.decorators=[{type:x.j,args:[{selector:"mat-datepicker-toggle",template:'<button mat-icon-button type="button" [attr.aria-label]="_intl.openCalendarLabel" [disabled]="disabled" (click)="_open($event)"><mat-icon><svg viewBox="0 0 24 24" width="100%" height="100%" fill="currentColor" style="vertical-align: top" focusable="false"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg></mat-icon></button>',host:{class:"mat-datepicker-toggle"},exportAs:"matDatepickerToggle",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],et.ctorParameters=(()=>[{type:Be},{type:x.h}]),et.propDecorators={datepicker:[{type:x.y,args:["for"]}],disabled:[{type:x.y}]};class tt{}tt.decorators=[{type:x.C,args:[{imports:[T.a,ee.d,Fe.e,Ie.c,S.f,E.a],exports:[He,ze,Ye,Xe,Qe,et,Ve,Ge],declarations:[He,ze,Ye,Xe,Qe,et,Ve,Ge],providers:[Be,qe],entryComponents:[Xe]}]}],tt.ctorParameters=(()=>[]);var nt=n("waJ0");class it{constructor(e){this._element=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=c(e)}get colspan(){return this._colspan}set colspan(e){this._colspan=c(e)}_setStyle(e,t){this._element.nativeElement.style[e]=t}}it.decorators=[{type:x.j,args:[{selector:"mat-grid-tile",exportAs:"matGridTile",host:{class:"mat-grid-tile"},template:'<figure class="mat-figure"><ng-content></ng-content></figure>',styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],it.ctorParameters=(()=>[{type:x.o}]),it.propDecorators={rowspan:[{type:x.y}],colspan:[{type:x.y}]};class rt{constructor(e){this._element=e}ngAfterContentInit(){this._lineSetter=new w.q(this._lines,this._element)}}rt.decorators=[{type:x.j,args:[{selector:"mat-grid-tile-header, mat-grid-tile-footer",template:'<ng-content select="[mat-grid-avatar], [matGridAvatar]"></ng-content><div class="mat-grid-list-text"><ng-content select="[mat-line], [matLine]"></ng-content></div><ng-content></ng-content>',changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],rt.ctorParameters=(()=>[{type:x.o}]),rt.propDecorators={_lines:[{type:x.m,args:[w.o]}]};class st{}st.decorators=[{type:x.n,args:[{selector:"[mat-grid-avatar], [matGridAvatar]",host:{class:"mat-grid-avatar"}}]}],st.ctorParameters=(()=>[]);class ot{}ot.decorators=[{type:x.n,args:[{selector:"mat-grid-tile-header",host:{class:"mat-grid-tile-header"}}]}],ot.ctorParameters=(()=>[]);class at{}at.decorators=[{type:x.n,args:[{selector:"mat-grid-tile-footer",host:{class:"mat-grid-tile-footer"}}]}],at.ctorParameters=(()=>[]);class lt{constructor(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(e=>this._trackTile(e))}get rowCount(){return this.rowIndex+1}get rowspan(){let e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}_trackTile(e){let t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new class{constructor(e,t){this.row=e,this.col=t}}(this.rowIndex,t)}_findMatchingGap(e){if(e>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${e} is wider than `+`grid with cols="${this.tracker.length}".`);let t=-1,n=-1;do{this.columnIndex+e>this.tracker.length?this._nextRow():-1!=(t=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(t),this.columnIndex=t+1):this._nextRow()}while(n-t<e);return t}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let n=0;n<t.colspan;n++)this.tracker[e+n]=t.rowspan}}class ct{constructor(){this._rows=0,this._rowspan=0}init(e,t,n,i){this._gutterSize=h(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=n,this._direction=i}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":u(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(e,n,i,r),this.setRowStyles(e,t,i,r)}setColStyles(e,t,n,i){let r=this.getBaseTileSize(n,i),s="ltr"===this._direction?"left":"right";e._setStyle(s,this.getTilePosition(r,t)),e._setStyle("width",u(this.getTileSize(r,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class ut extends ct{constructor(e){super(),this.fixedRowHeight=e}init(e,t,n,i){super.init(e,t,n,i),this.fixedRowHeight=h(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",u(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",u(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class ht extends ct{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,n,i){let r=n/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(r,i),e._setStyle("margin-top",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("padding-top",u(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["padding-bottom",u(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["padding-bottom",null]),e._tiles.forEach(e=>{e._setStyle("margin-top",null),e._setStyle("padding-top",null)})}_parseRatio(e){const t=e.split(":");if(2!==t.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${e}"`);this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class dt extends ct{setRowStyles(e,t){let n=100/this._rowspan,i=(this._rows-1)/this._rows,r=this.getBaseTileSize(n,i);e._setStyle("top",this.getTilePosition(r,t)),e._setStyle("height",u(this.getTileSize(r,e.rowspan)))}reset(e){e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}const pt="fit";class mt{constructor(e,t){this._element=e,this._dir=t,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=c(e)}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=l(e)}set rowHeight(e){const t=l(e);t!==this._rowHeight&&(this._rowHeight=t,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),e===pt?this._tileStyler=new dt:e&&e.indexOf(":")>-1?this._tileStyler=new ht(e):this._tileStyler=new ut(e)}_layoutTiles(){const e=new lt(this.cols,this._tiles),t=this._dir?this._dir.value:"ltr";this._tileStyler.init(this.gutterSize,e,this.cols,t),this._tiles.forEach((t,n)=>{const i=e.positions[n];this._tileStyler.setStyle(t,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}mt.decorators=[{type:x.j,args:[{selector:"mat-grid-list",exportAs:"matGridList",template:"<div><ng-content></ng-content></div>",styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],host:{class:"mat-grid-list"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],mt.ctorParameters=(()=>[{type:x.o},{type:k.c,decorators:[{type:x.G}]}]),mt.propDecorators={_tiles:[{type:x.m,args:[it]}],cols:[{type:x.y}],gutterSize:[{type:x.y}],rowHeight:[{type:x.y}]};class ft{}ft.decorators=[{type:x.C,args:[{imports:[w.p,w.n],exports:[mt,it,rt,w.p,w.n,ot,at,st],declarations:[mt,it,rt,ot,at,st]}]}],ft.ctorParameters=(()=>[]);var gt=n("LhFP"),vt=n("4uy6"),yt=n("O60Z"),bt=n("t3RF"),_t=n("05/P"),xt=n("Ug0o"),wt=n("FjVW");const Et=Object(wt.k)("transformPanel",[Object(wt.h)("showing",Object(wt.i)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(wt.h)("showing-multiple",Object(wt.i)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(wt.j)("void => *",[Object(wt.i)({opacity:0,minWidth:"100%",transform:"scaleY(0)"}),Object(wt.e)("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),Object(wt.j)("* => void",[Object(wt.e)("250ms 100ms linear",Object(wt.i)({opacity:0}))])]),Tt=Object(wt.k)("fadeInContent",[Object(wt.h)("showing",Object(wt.i)({opacity:1})),Object(wt.j)("void => showing",[Object(wt.i)({opacity:0}),Object(wt.e)("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])]);let St=0;const kt=256,At=16,Ct=2*At,Mt=3,Rt=1.5*At+20,Lt=8,Pt=new x.w("mat-select-scroll-strategy"),Ot={provide:Pt,deps:[S.b],useFactory:d};class Dt{constructor(e,t){this.source=e,this.value=t}}class Ft{constructor(e,t,n,i,r){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const It=Object(w.D)(Object(w.G)(Object(w.E)(Object(w.F)(Ft))));class Nt{}Nt.decorators=[{type:x.n,args:[{selector:"mat-select-trigger"}]}],Nt.ctorParameters=(()=>[]);class Bt extends It{constructor(e,t,n,i,r,s,o,a,l,c,u,h){super(r,i,o,a,c),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._scrollStrategyFactory=h,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=((e,t)=>e===t),this._uid=`mat-select-${St++}`,this._destroy=new z.a,this._triggerFontSize=0,this._onChange=(()=>{}),this._onTouched=(()=>{}),this._optionIds="",this._transformOrigin="top",this._panelDoneAnimating=!1,this._scrollStrategy=this._scrollStrategyFactory(),this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this.focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Object(xt.a)(()=>this.options?Object(V.a)(...this.options.map(e=>e.onSelectionChange)):this._ngZone.onStable.asObservable().pipe(Object(R.a)(1),Object(L.a)(()=>this.optionSelectionChanges))),this.openedChange=new x.q,this.onOpen=this._openedStream,this.onClose=this._closedStream,this.selectionChange=new x.q,this.change=this.selectionChange,this.valueChange=new x.q,this.ngControl&&(this.ngControl.valueAccessor=this),this.tabIndex=parseInt(u)||0,this.id=this.id}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Object(ye.b)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(ye.b)(e)}get compareWith(){return this._compareWith}set compareWith(e){if("function"!=typeof e)throw Error("`compareWith` must be a function.");this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.writeValue(e),this._value=e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get _openedStream(){return this.openedChange.pipe(Object(M.a)(e=>e),Object(yt.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(M.a)(e=>!e),Object(yt.a)(()=>{}))}ngOnInit(){this._selectionModel=new be.a(this.multiple,void 0,!1),this.stateChanges.next()}ngAfterContentInit(){this._initKeyManager(),this.options.changes.pipe(Object(_e.a)(null),Object(bt.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next()}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._changeDetectorRef.markForCheck(),this.focus())}writeValue(e){this.options&&this._setSelectionByValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=t===A.d||t===A.p;t===A.f||t===A.n||(this.multiple||e.altKey)&&n?(e.preventDefault(),this.open()):this.multiple||this._keyManager.onKeydown(e)}_handleOpenKeydown(e){const t=e.keyCode;t===A.h||t===A.e?(e.preventDefault(),t===A.h?this._keyManager.setFirstItemActive():this._keyManager.setLastItemActive()):t!==A.f&&t!==A.n||!this._keyManager.activeItem?this._keyManager.onKeydown(e):(e.preventDefault(),this._keyManager.activeItem._selectViaInteraction())}_onPanelDone(){this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this._panelDoneAnimating=!1,this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}_onFadeInDone(){this._panelDoneAnimating=this.panelOpen,this._changeDetectorRef.markForCheck()}_onFocus(){this.disabled||(this.focused=!0,this.stateChanges.next())}_onBlur(){this.disabled||this.panelOpen||(this.focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(R.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value)})}_setSelectionByValue(e,t=!1){if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),e.forEach(e=>this._selectValue(e,t)),this._sortValues()}else{this._clearSelection();const n=this._selectValue(e,t);n&&this._keyManager.setActiveItem(this.options.toArray().indexOf(n))}this._changeDetectorRef.markForCheck()}_selectValue(e,t=!1){const n=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(e){return Object(x._5)()&&console.warn(e),!1}});return n&&(t?n._selectViaInteraction():n.select(),this._selectionModel.select(n),this.stateChanges.next()),n}_clearSelection(e){this._selectionModel.clear(),this.options.forEach(t=>{t!==e&&t.deselect()}),this.stateChanges.next()}_initKeyManager(){this._keyManager=new E.d(this.options).withTypeAhead(),this._keyManager.tabOut.pipe(Object(bt.a)(this._destroy)).subscribe(()=>this.close()),this._keyManager.change.pipe(Object(bt.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){this.optionSelectionChanges.pipe(Object(bt.a)(Object(V.a)(this._destroy,this.options.changes)),Object(M.a)(e=>e.isUserInput)).subscribe(e=>{this._onSelect(e.source),this.multiple||this.close()}),this._setOptionIds()}_onSelect(e){const t=this._selectionModel.isSelected(e);this.multiple?(this._selectionModel.toggle(e),this.stateChanges.next(),t?e.deselect():e.select(),this._sortValues()):(this._clearSelection(null==e.value?void 0:e),null==e.value?this._propagateChanges(e.value):(this._selectionModel.select(e),this.stateChanges.next())),t!==this._selectionModel.isSelected(e)&&this._propagateChanges()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.options.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new Dt(this,t)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(e=>e.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._getOptionIndex(this._selectionModel.selected[0])))}_scrollActiveOptionIntoView(){const e=this._getItemHeight(),t=this._keyManager.activeItemIndex||0,n=(t+w.t.countGroupLabelsBeforeOption(t,this.options,this.optionGroups))*e,i=this.panel.nativeElement.scrollTop;n<i?this.panel.nativeElement.scrollTop=n:n+e>i+kt&&(this.panel.nativeElement.scrollTop=Math.max(0,n-kt+e))}focus(){this._elementRef.nativeElement.focus()}_getOptionIndex(e){return this.options.reduce((t,n,i)=>void 0===t?e===n?i:void 0:t,void 0)}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,kt),i=t*e-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=w.t.countGroupLabelsBeforeOption(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(e,t,n){const i=this._getItemHeight(),r=i*e-t+i/2;return Math.min(Math.max(0,r),n)}get _ariaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?Rt+At:2*At;let r;if(this.multiple)r=Rt;else{let e=this._selectionModel.selected[0]||this.options.first;r=e&&e.group?Ct:At}n||(r*=-1);const s=0-(e.left+r-(n?i:0)),o=e.right+r-t.width+(n?0:i);s>0?r+=s+Lt:o>0&&(r-=o+Lt),this.overlayDir.offsetX=r,this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(kt/i);let o;if(0===this._scrollTop)o=e*i;else if(this._scrollTop===n){o=(e-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-kt)%i)}else o=t-i/2;return-1*o-r}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-Lt,r=n.height-this._triggerRect.bottom-Lt,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,kt)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return this._triggerFontSize*Mt}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}Bt.decorators=[{type:x.j,args:[{selector:"mat-select",exportAs:"matSelect",template:'<div cdk-overlay-origin class="mat-select-trigger" aria-hidden="true" (click)="toggle()" #origin="cdkOverlayOrigin" #trigger><div class="mat-select-value" [ngSwitch]="empty"><span class="mat-select-placeholder" *ngSwitchCase="true">{{placeholder || \'\xa0\'}}</span> <span class="mat-select-value-text" *ngSwitchCase="false" [ngSwitch]="!!customTrigger"><span *ngSwitchDefault>{{triggerValue}}</span><ng-content select="mat-select-trigger" *ngSwitchCase="true"></ng-content></span></div><div class="mat-select-arrow-wrapper"><div class="mat-select-arrow"></div></div></div><ng-template cdk-connected-overlay hasBackdrop backdropClass="cdk-overlay-transparent-backdrop" [scrollStrategy]="_scrollStrategy" [origin]="origin" [open]="panelOpen" [positions]="_positions" [minWidth]="_triggerRect?.width" [offsetY]="_offsetY" (backdropClick)="close()" (attach)="_onAttached()" (detach)="close()"><div #panel class="mat-select-panel {{ _getPanelTheme() }}" [ngClass]="panelClass" [@transformPanel]="multiple ? \'showing-multiple\' : \'showing\'" (@transformPanel.done)="_onPanelDone()" [style.transformOrigin]="_transformOrigin" [class.mat-select-panel-done-animating]="_panelDoneAnimating" [style.font-size.px]="_triggerFontSize"><div class="mat-select-content" [@fadeInContent]="\'showing\'" (@fadeInContent.done)="_onFadeInDone()"><ng-content></ng-content></div></div></ng-template>',styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;transition:none}"],inputs:["disabled","disableRipple","tabIndex"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,host:{role:"listbox","[attr.id]":"id","[attr.tabindex]":"tabIndex","[attr.aria-label]":"_ariaLabel","[attr.aria-labelledby]":"ariaLabelledby","[attr.aria-required]":"required.toString()","[attr.aria-disabled]":"disabled.toString()","[attr.aria-invalid]":"errorState","[attr.aria-owns]":"_optionIds","[attr.aria-multiselectable]":"multiple","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-activedescendant]":"_getAriaActiveDescendant()","[class.mat-select-disabled]":"disabled","[class.mat-select-invalid]":"errorState","[class.mat-select-required]":"required",class:"mat-select","(keydown)":"_handleKeydown($event)","(focus)":"_onFocus()","(blur)":"_onBlur()"},animations:[Et,Tt],providers:[{provide:j.b,useExisting:Bt},{provide:w.l,useExisting:Bt}]}]}],Bt.ctorParameters=(()=>[{type:S.i},{type:x.h},{type:x.F},{type:w.d},{type:x.o},{type:k.c,decorators:[{type:x.G}]},{type:B.l,decorators:[{type:x.G}]},{type:B.e,decorators:[{type:x.G}]},{type:j.a,decorators:[{type:x.G}]},{type:B.i,decorators:[{type:x.R},{type:x.G}]},{type:void 0,decorators:[{type:x.f,args:["tabindex"]}]},{type:void 0,decorators:[{type:x.u,args:[Pt]}]}]),Bt.propDecorators={trigger:[{type:x.W,args:["trigger"]}],panel:[{type:x.W,args:["panel"]}],overlayDir:[{type:x.W,args:[S.a]}],options:[{type:x.m,args:[w.t,{descendants:!0}]}],optionGroups:[{type:x.m,args:[w.s]}],panelClass:[{type:x.y}],customTrigger:[{type:x.l,args:[Nt]}],placeholder:[{type:x.y}],required:[{type:x.y}],multiple:[{type:x.y}],compareWith:[{type:x.y}],value:[{type:x.y}],ariaLabel:[{type:x.y,args:["aria-label"]}],ariaLabelledby:[{type:x.y,args:["aria-labelledby"]}],errorStateMatcher:[{type:x.y}],id:[{type:x.y}],openedChange:[{type:x.H}],_openedStream:[{type:x.H,args:["opened"]}],_closedStream:[{type:x.H,args:["closed"]}],onOpen:[{type:x.H}],onClose:[{type:x.H}],selectionChange:[{type:x.H}],change:[{type:x.H}],valueChange:[{type:x.H}]};class jt{}jt.decorators=[{type:x.C,args:[{imports:[T.a,S.f,w.u,w.n],exports:[j.c,Bt,Nt,w.u,w.n],declarations:[Bt,Nt],providers:[Ot,w.d]}]}],jt.ctorParameters=(()=>[]);var zt=n("gXVS");class Ut{constructor(){this.changes=new z.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.getRangeLabel=((e,t,n)=>{if(0==n||0==t)return`0 of ${n}`;const i=e*t;return`${i+1} - ${i<(n=Math.max(n,0))?Math.min(i+t,n):i+t} of ${n}`})}}Ut.decorators=[{type:x.v}],Ut.ctorParameters=(()=>[]);const Vt={provide:Ut,deps:[[new x.G,new x.S,Ut]],useFactory:p},Gt=50;class Ht{}class Wt{constructor(e,t){this._intl=e,this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.page=new x.q,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck())}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=e,this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=e,this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=e,this._updateDisplayedPageSizeOptions()}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&(this.pageIndex++,this._emitPageEvent())}previousPage(){this.hasPreviousPage()&&(this.pageIndex--,this._emitPageEvent())}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=Math.ceil(this.length/this.pageSize)-1;return this.pageIndex<e&&0!=this.pageSize}_changePageSize(e){const t=this.pageIndex*this.pageSize;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:Gt),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1==this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(){this.page.next({pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}Wt.decorators=[{type:x.j,args:[{selector:"mat-paginator",exportAs:"matPaginator",template:'<div class="mat-paginator-container"><div class="mat-paginator-page-size"><div class="mat-paginator-page-size-label">{{_intl.itemsPerPageLabel}}</div><mat-form-field *ngIf="_displayedPageSizeOptions.length > 1" class="mat-paginator-page-size-select"><mat-select [value]="pageSize" [aria-label]="_intl.itemsPerPageLabel" (change)="_changePageSize($event.value)"><mat-option *ngFor="let pageSizeOption of _displayedPageSizeOptions" [value]="pageSizeOption">{{pageSizeOption}}</mat-option></mat-select></mat-form-field><div *ngIf="_displayedPageSizeOptions.length <= 1">{{pageSize}}</div></div><div class="mat-paginator-range-actions"><div class="mat-paginator-range-label">{{_intl.getRangeLabel(pageIndex, pageSize, length)}}</div><button mat-icon-button type="button" class="mat-paginator-navigation-previous" (click)="previousPage()" [attr.aria-label]="_intl.previousPageLabel" [matTooltip]="_intl.previousPageLabel" [matTooltipPosition]="\'above\'" [disabled]="!hasPreviousPage()"><div class="mat-paginator-increment"></div></button> <button mat-icon-button type="button" class="mat-paginator-navigation-next" (click)="nextPage()" [attr.aria-label]="_intl.nextPageLabel" [matTooltip]="_intl.nextPageLabel" [matTooltipPosition]="\'above\'" [disabled]="!hasNextPage()"><div class="mat-paginator-decrement"></div></button></div></div>',styles:[".mat-paginator{display:block}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-increment-button+.mat-paginator-increment-button{margin:0 0 0 8px}[dir=rtl] .mat-paginator-increment-button+.mat-paginator-increment-button{margin:0 8px 0 0}.mat-paginator-decrement,.mat-paginator-increment{width:8px;height:8px}.mat-paginator-decrement,[dir=rtl] .mat-paginator-increment{transform:rotate(45deg)}.mat-paginator-increment,[dir=rtl] .mat-paginator-decrement{transform:rotate(225deg)}.mat-paginator-decrement{margin-left:12px}[dir=rtl] .mat-paginator-decrement{margin-right:12px}.mat-paginator-increment{margin-left:16px}[dir=rtl] .mat-paginator-increment{margin-right:16px}.mat-paginator-range-actions{display:flex;align-items:center;min-height:48px}"],host:{class:"mat-paginator"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],Wt.ctorParameters=(()=>[{type:Ut},{type:x.h}]),Wt.propDecorators={pageIndex:[{type:x.y}],length:[{type:x.y}],pageSize:[{type:x.y}],pageSizeOptions:[{type:x.y}],page:[{type:x.H}]};class $t{}$t.decorators=[{type:x.C,args:[{imports:[T.a,ee.d,jt,zt.d],exports:[Wt],declarations:[Wt],providers:[Vt]}]}],$t.ctorParameters=(()=>[]);class qt{constructor(){this.color="primary",this._value=0,this._bufferValue=0,this.mode="determinate"}get value(){return this._value}set value(e){this._value=m(e||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=m(e||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){if("buffer"==this.mode){return{transform:`scaleX(${this.bufferValue/100})`}}}}qt.decorators=[{type:x.j,args:[{selector:"mat-progress-bar",exportAs:"matProgressBar",host:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","[attr.aria-valuenow]":"value","[attr.mode]":"mode","[class.mat-primary]":'color == "primary"',"[class.mat-accent]":'color == "accent"',"[class.mat-warn]":'color == "warn"',class:"mat-progress-bar"},template:'<div class="mat-progress-bar-background mat-progress-bar-element"></div><div class="mat-progress-bar-buffer mat-progress-bar-element" [ngStyle]="_bufferTransform()"></div><div class="mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element" [ngStyle]="_primaryTransform()"></div><div class="mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"></div>',styles:[".mat-progress-bar{display:block;height:5px;overflow:hidden;position:relative;transform:translateZ(0);transition:opacity 250ms linear;width:100%}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{background-repeat:repeat-x;background-size:10px 4px;display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-10px)}}"],changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],qt.ctorParameters=(()=>[]),qt.propDecorators={color:[{type:x.y}],value:[{type:x.y}],bufferValue:[{type:x.y}],mode:[{type:x.y}]};class Xt{}Xt.decorators=[{type:x.C,args:[{imports:[T.a,w.n],exports:[qt,w.n],declarations:[qt]}]}],Xt.ctorParameters=(()=>[]);var Yt=n("tksO");const Kt=100,Zt=10;class Jt{constructor(e){this._elementRef=e}}const Qt=Object(w.C)(Jt,"primary"),en="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.1%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.01%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.01%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n";class tn extends Qt{constructor(e,t,n){super(e),this._elementRef=e,this._document=n,this._value=0,this._fallbackAnimation=!1,this._elementSize=Kt,this._diameter=Kt,this.mode="determinate",this._fallbackAnimation=t.EDGE||t.TRIDENT;const i=`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`;e.nativeElement.classList.add(i)}get diameter(){return this._diameter}set diameter(e){this._diameter=Object(ye.c)(e),this._fallbackAnimation||tn.diameters.has(this._diameter)||this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Object(ye.c)(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Object(ye.c)(e)))}ngOnChanges(e){(e.strokeWidth||e.diameter)&&(this._elementSize=this._diameter+Math.max(this.strokeWidth-Zt,0))}get _circleRadius(){return(this.diameter-Zt)/2}get _viewBox(){const e=2*this._circleRadius+this.strokeWidth;return`0 0 ${e} ${e}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this._elementSize*100}_attachStyleNode(){let e=tn.styleTag;e||(e=this._document.createElement("style"),this._document.head.appendChild(e),tn.styleTag=e),e&&e.sheet&&e.sheet.insertRule(this._getAnimationText(),0),tn.diameters.add(this.diameter)}_getAnimationText(){return en.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}tn.diameters=new Set([Kt]),tn.styleTag=null,tn.decorators=[{type:x.j,args:[{selector:"mat-progress-spinner",exportAs:"matProgressSpinner",host:{role:"progressbar",class:"mat-progress-spinner","[style.width.px]":"_elementSize","[style.height.px]":"_elementSize","[attr.aria-valuemin]":'mode === "determinate" ? 0 : null',"[attr.aria-valuemax]":'mode === "determinate" ? 100 : null',"[attr.aria-valuenow]":"value","[attr.mode]":"mode"},inputs:["color"],template:'<svg [style.width.px]="_elementSize" [style.height.px]="_elementSize" [attr.viewBox]="_viewBox" preserveAspectRatio="xMidYMid meet" focusable="false"><circle cx="50%" cy="50%" [attr.r]="_circleRadius" [style.animation-name]="\'mat-progress-spinner-stroke-rotate-\' + diameter" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle></svg>',styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.1%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.01%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.01%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],tn.ctorParameters=(()=>[{type:x.o},{type:Yt.a},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[T.b]}]}]),tn.propDecorators={diameter:[{type:x.y}],strokeWidth:[{type:x.y}],mode:[{type:x.y}],value:[{type:x.y}]};class nn extends tn{constructor(e,t,n){super(e,t,n),this.mode="indeterminate"}}nn.decorators=[{type:x.j,args:[{selector:"mat-spinner",host:{role:"progressbar",mode:"indeterminate",class:"mat-spinner mat-progress-spinner","[style.width.px]":"_elementSize","[style.height.px]":"_elementSize"},inputs:["color"],template:'<svg [style.width.px]="_elementSize" [style.height.px]="_elementSize" [attr.viewBox]="_viewBox" preserveAspectRatio="xMidYMid meet" focusable="false"><circle cx="50%" cy="50%" [attr.r]="_circleRadius" [style.animation-name]="\'mat-progress-spinner-stroke-rotate-\' + diameter" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle></svg>',styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.1%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.01%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.01%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.51%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],nn.ctorParameters=(()=>[{type:x.o},{type:Yt.a},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[T.b]}]}]);class rn{}rn.decorators=[{type:x.C,args:[{imports:[w.n,Yt.b],exports:[tn,nn,w.n],declarations:[tn,nn]}]}],rn.ctorParameters=(()=>[]);let sn=0;const on={provide:B.h,useExisting:Object(x._3)(()=>un),multi:!0};class an{}class ln{}const cn=Object(w.E)(ln);class un extends cn{constructor(e){super(),this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${sn++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=(()=>{}),this.onTouched=(()=>{}),this.change=new x.q}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get align(){return"after"==this.labelPosition?"start":"end"}set align(e){this.labelPosition="start"==e?"after":"before"}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"==e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!=e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(ye.b)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Object(ye.b)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name})}_updateSelectedRadioFromValue(){const e=null!=this._selected&&this._selected.value==this._value;null==this._radios||e||(this._selected=null,this._radios.forEach(e=>{e.checked=this.value==e.value,e.checked&&(this._selected=e)}))}_emitChangeEvent(){if(this._isInitialized){const e=new an;e.source=this._selected,e.value=this._value,this.change.emit(e)}}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}un.decorators=[{type:x.n,args:[{selector:"mat-radio-group",exportAs:"matRadioGroup",providers:[on],host:{role:"radiogroup",class:"mat-radio-group"},inputs:["disabled"]}]}],un.ctorParameters=(()=>[{type:x.h}]),un.propDecorators={change:[{type:x.H}],_radios:[{type:x.m,args:[Object(x._3)(()=>pn),{descendants:!0}]}],name:[{type:x.y}],align:[{type:x.y}],labelPosition:[{type:x.y}],value:[{type:x.y}],selected:[{type:x.y}],disabled:[{type:x.y}],required:[{type:x.y}]};class hn{constructor(e){this._elementRef=e}}const dn=Object(w.C)(Object(w.D)(hn),"accent");class pn extends dn{constructor(e,t,n,i,r){super(t),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=r,this._uniqueId=`mat-radio-${++sn}`,this.id=this._uniqueId,this.change=new x.q,this._checked=!1,this._value=null,this._rippleConfig={centered:!0,radius:23,speedFactor:1.5},this._removeUniqueSelectionListener=(()=>{}),this.radioGroup=e,this._removeUniqueSelectionListener=r.listen((e,t)=>{e!=this.id&&t==this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const t=Object(ye.b)(e);this._checked!=t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!=this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value==this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!=e&&(this._value=e,null!=this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value==e),this.checked&&(this.radioGroup.selected=this)))}get align(){return"after"==this.labelPosition?"start":"end"}set align(e){this.labelPosition="start"==e?"after":"before"}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!=this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._disabled=Object(ye.b)(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Object(ye.b)(e)}get inputId(){return`${this.id||this._uniqueId}-input`}focus(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._inputElement.nativeElement,!1).subscribe(e=>this._onInputFocusChange(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement),this._removeUniqueSelectionListener()}_emitChangeEvent(){const e=new an;e.source=this,e.value=this._value,this.change.emit(e)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputChange(e){e.stopPropagation();const t=this.radioGroup&&this.value!=this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),this.radioGroup._touch(),t&&this.radioGroup._emitChangeEvent())}_onInputFocusChange(e){this._focusRipple||"keyboard"!==e?e||(this.radioGroup&&this.radioGroup._touch(),this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null)):this._focusRipple=this._ripple.launch(0,0,Object.assign({persistent:!0},this._rippleConfig))}}pn.decorators=[{type:x.j,args:[{selector:"mat-radio-button",template:'<label [attr.for]="inputId" class="mat-radio-label" #label><div class="mat-radio-container"><div class="mat-radio-outer-circle"></div><div class="mat-radio-inner-circle"></div><div mat-ripple class="mat-radio-ripple" [matRippleTrigger]="label" [matRippleDisabled]="_isRippleDisabled()" [matRippleCentered]="_rippleConfig.centered" [matRippleRadius]="_rippleConfig.radius" [matRippleSpeedFactor]="_rippleConfig.speedFactor"></div></div><input #input class="mat-radio-input cdk-visually-hidden" type="radio" [id]="inputId" [checked]="checked" [disabled]="disabled" [attr.name]="name" [required]="required" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledby" (change)="_onInputChange($event)" (click)="_onInputClick($event)"><div class="mat-radio-label-content" [class.mat-radio-label-before]="labelPosition == \'before\'"><span style="display:none">&nbsp;</span><ng-content></ng-content></div></label>',styles:[".mat-radio-button{display:inline-block}.mat-radio-label{cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(.001)}.mat-radio-checked .mat-radio-inner-circle{transform:scale(.5)}.mat-radio-label-content{display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-ripple{position:absolute;left:-15px;top:-15px;height:50px;width:50px;z-index:1;pointer-events:none}"],inputs:["color","disableRipple"],encapsulation:x.Z.None,preserveWhitespaces:!1,exportAs:"matRadioButton",host:{class:"mat-radio-button","[class.mat-radio-checked]":"checked","[class.mat-radio-disabled]":"disabled","[attr.id]":"id","(focus)":"_inputElement.nativeElement.focus()"},changeDetection:x.g.OnPush}]}],pn.ctorParameters=(()=>[{type:un,decorators:[{type:x.G}]},{type:x.o},{type:x.h},{type:E.h},{type:be.c}]),pn.propDecorators={id:[{type:x.y}],name:[{type:x.y}],ariaLabel:[{type:x.y,args:["aria-label"]}],ariaLabelledby:[{type:x.y,args:["aria-labelledby"]}],checked:[{type:x.y}],value:[{type:x.y}],align:[{type:x.y}],labelPosition:[{type:x.y}],disabled:[{type:x.y}],required:[{type:x.y}],change:[{type:x.H}],_ripple:[{type:x.W,args:[w.x]}],_inputElement:[{type:x.W,args:["input"]}]};class mn{}mn.decorators=[{type:x.C,args:[{imports:[T.a,w.y,w.n,E.a],exports:[un,pn,w.n],providers:[be.b,S.h],declarations:[un,pn]}]}],mn.ctorParameters=(()=>[]);var fn=n("UJJe"),gn=n("U2gC");class vn{constructor(e,t){this.type=e,this.animationFinished=t}}const yn=new x.w("MAT_DRAWER_DEFAULT_AUTOSIZE");class bn{constructor(e,t){this._changeDetectorRef=e,this._container=t,this._margins={left:null,right:null}}ngAfterContentInit(){this._container._contentMargins.subscribe(e=>{this._margins=e,this._changeDetectorRef.markForCheck()})}}bn.decorators=[{type:x.j,args:[{selector:"mat-drawer-content",template:"<ng-content></ng-content>",host:{class:"mat-drawer-content","[style.margin-left.px]":"_margins.left","[style.margin-right.px]":"_margins.right"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],bn.ctorParameters=(()=>[{type:x.h},{type:xn,decorators:[{type:x.u,args:[Object(x._3)(()=>xn)]}]}]);class _n{constructor(e,t,n,i,r){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=i,this._doc=r,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x.q,this._animationState="void",this.openedChange=new x.q(!0),this.onOpen=this._openedStream,this.onClose=this._closedStream,this.onPositionChanged=new x.q,this.onAlignChanged=new x.q,this._modeChanged=new z.a,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onAlignChanged.emit(),this.onPositionChanged.emit())}get align(){return this.position}set align(e){this.position=e}get mode(){return this._mode}set mode(e){this._mode=e,this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Object(ye.b)(e)}get _openedStream(){return this.openedChange.pipe(Object(M.a)(e=>e),Object(yt.a)(()=>{}))}get openedStart(){return this._animationStarted.pipe(Object(M.a)(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),Object(yt.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(M.a)(e=>!e),Object(yt.a)(()=>{}))}get closedStart(){return this._animationStarted.pipe(Object(M.a)(e=>e.fromState!==e.toState&&"void"===e.toState),Object(yt.a)(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){const e=this._doc&&this._doc.activeElement;e&&this._elementRef.nativeElement.contains(e)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._focusTrap.enabled=this._isFocusTrapEnabled}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy()}get opened(){return this._opened}set opened(e){this.toggle(Object(ye.b)(e))}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}toggle(e=!this.opened,t="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=t):(this._animationState="void",this._restoreFocus()),this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled),new Promise(e=>{this.openedChange.pipe(Object(R.a)(1)).subscribe(t=>{e(new vn(t?"open":"close",!0))})})}handleKeydown(e){e.keyCode!==A.g||this.disableClose||(this.close(),e.stopPropagation())}_onAnimationStart(e){this._animationStarted.emit(e)}_onAnimationEnd(e){const{fromState:t,toState:n}=e;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)}get _width(){return this._elementRef.nativeElement?this._elementRef.nativeElement.offsetWidth||0:0}}_n.decorators=[{type:x.j,args:[{selector:"mat-drawer",exportAs:"matDrawer",template:"<ng-content></ng-content>",animations:[Object(wt.k)("transform",[Object(wt.h)("open, open-instant",Object(wt.i)({transform:"translate3d(0, 0, 0)",visibility:"visible"})),Object(wt.h)("void",Object(wt.i)({visibility:"hidden"})),Object(wt.j)("void => open-instant",Object(wt.e)("0ms")),Object(wt.j)("void <=> open, open-instant => void",Object(wt.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])],host:{class:"mat-drawer","[@transform]":"_animationState","(@transform.start)":"_onAnimationStart($event)","(@transform.done)":"_onAnimationEnd($event)","(keydown)":"handleKeydown($event)","[attr.align]":"null","[class.mat-drawer-end]":'position === "end"',"[class.mat-drawer-over]":'mode === "over"',"[class.mat-drawer-push]":'mode === "push"',"[class.mat-drawer-side]":'mode === "side"',tabIndex:"-1"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],_n.ctorParameters=(()=>[{type:x.o},{type:E.i},{type:E.h},{type:Yt.a},{type:void 0,decorators:[{type:x.G},{type:x.u,args:[T.b]}]}]),_n.propDecorators={position:[{type:x.y}],align:[{type:x.y}],mode:[{type:x.y}],disableClose:[{type:x.y}],openedChange:[{type:x.H}],_openedStream:[{type:x.H,args:["opened"]}],openedStart:[{type:x.H}],_closedStream:[{type:x.H,args:["closed"]}],closedStart:[{type:x.H}],onOpen:[{type:x.H,args:["open"]}],onClose:[{type:x.H,args:["close"]}],onPositionChanged:[{type:x.H,args:["positionChanged"]}],onAlignChanged:[{type:x.H,args:["align-changed"]}],opened:[{type:x.y}]};class xn{constructor(e,t,n,i,r=!1){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=i,this.backdropClick=new x.q,this._destroyed=new z.a,this._doCheckSubject=new z.a,this._contentMargins=new z.a,null!=e&&e.change.pipe(Object(bt.a)(this._destroyed)).subscribe(()=>this._validateDrawers()),this._autosize=r}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Object(ye.b)(e)}ngAfterContentInit(){this._drawers.changes.pipe(Object(_e.a)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this._updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Object(gn.a)(10),Object(bt.a)(this._destroyed)).subscribe(()=>this._updateContentMargins())}ngOnDestroy(){this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Object(bt.a)(this._drawers.changes),Object(M.a)(e=>e.fromState!==e.toState)).subscribe(e=>{"open-instant"!==e.toState&&this._element.nativeElement.classList.add("mat-drawer-transition"),this._updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Object(bt.a)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Object(bt.a)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Object(bt.a)(Object(V.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this._updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){e?this._element.nativeElement.classList.add("mat-drawer-opened"):this._element.nativeElement.classList.remove("mat-drawer-opened")}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?(null!=this._end&&f("end"),this._end=e):(null!=this._start&&f("start"),this._start=e)}),this._right=this._left=null,null==this._dir||"ltr"==this._dir.value?(this._left=this._start,this._right=this._end):(this._left=this._end,this._right=this._start)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(e=>e&&!e.disableClose&&"side"!==e.mode).forEach(e=>e.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&"side"!=this._start.mode||this._isDrawerOpen(this._end)&&"side"!=this._end.mode}_isDrawerOpen(e){return null!=e&&e.opened}_updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){let n=this._left._width;e+=n,t-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._width;else if("push"==this._right.mode){let n=this._right._width;t+=n,e-=n}this._ngZone.run(()=>this._contentMargins.next({left:e,right:t}))}}xn.decorators=[{type:x.j,args:[{selector:"mat-drawer-container",exportAs:"matDrawerContainer",template:'<div class="mat-drawer-backdrop" (click)="_onBackdropClicked()" [class.mat-drawer-shown]="_isShowingBackdrop()"></div><ng-content select="mat-drawer"></ng-content><ng-content select="mat-drawer-content"></ng-content><mat-drawer-content *ngIf="!_content" cdkScrollable><ng-content></ng-content></mat-drawer-content>',styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],host:{class:"mat-drawer-container"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],xn.ctorParameters=(()=>[{type:k.c,decorators:[{type:x.G}]},{type:x.o},{type:x.F},{type:x.h},{type:void 0,decorators:[{type:x.u,args:[yn]}]}]),xn.propDecorators={_drawers:[{type:x.m,args:[_n]}],_content:[{type:x.l,args:[bn]}],autosize:[{type:x.y}],backdropClick:[{type:x.H}]};class wn extends bn{constructor(e,t){super(e,t)}}wn.decorators=[{type:x.j,args:[{selector:"mat-sidenav-content",template:"<ng-content></ng-content>",host:{class:"mat-drawer-content mat-sidenav-content","[style.margin-left.px]":"_margins.left","[style.margin-right.px]":"_margins.right"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],wn.ctorParameters=(()=>[{type:x.h},{type:Tn,decorators:[{type:x.u,args:[Object(x._3)(()=>Tn)]}]}]);class En extends _n{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Object(ye.b)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Object(ye.c)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Object(ye.c)(e)}}En.decorators=[{type:x.j,args:[{selector:"mat-sidenav",exportAs:"matSidenav",template:"<ng-content></ng-content>",animations:[Object(wt.k)("transform",[Object(wt.h)("open, open-instant",Object(wt.i)({transform:"translate3d(0, 0, 0)",visibility:"visible"})),Object(wt.h)("void",Object(wt.i)({visibility:"hidden"})),Object(wt.j)("void => open-instant",Object(wt.e)("0ms")),Object(wt.j)("void <=> open, open-instant => void",Object(wt.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])],host:{class:"mat-drawer mat-sidenav",tabIndex:"-1","[@transform]":"_animationState","(@transform.start)":"_onAnimationStart($event)","(@transform.done)":"_onAnimationEnd($event)","(keydown)":"handleKeydown($event)","[attr.align]":"null","[class.mat-drawer-end]":'position === "end"',"[class.mat-drawer-over]":'mode === "over"',"[class.mat-drawer-push]":'mode === "push"',"[class.mat-drawer-side]":'mode === "side"',"[class.mat-sidenav-fixed]":"fixedInViewport","[style.top.px]":"fixedInViewport ? fixedTopGap : null","[style.bottom.px]":"fixedInViewport ? fixedBottomGap : null"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],En.ctorParameters=(()=>[]),En.propDecorators={fixedInViewport:[{type:x.y}],fixedTopGap:[{type:x.y}],fixedBottomGap:[{type:x.y}]};class Tn extends xn{}Tn.decorators=[{type:x.j,args:[{selector:"mat-sidenav-container",exportAs:"matSidenavContainer",template:'<div class="mat-drawer-backdrop" (click)="_onBackdropClicked()" [class.mat-drawer-shown]="_isShowingBackdrop()"></div><ng-content select="mat-sidenav"></ng-content><ng-content select="mat-sidenav-content"></ng-content><mat-sidenav-content *ngIf="!_content" cdkScrollable><ng-content></ng-content></mat-sidenav-content>',styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],host:{class:"mat-drawer-container mat-sidenav-container"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],Tn.ctorParameters=(()=>[]),Tn.propDecorators={_drawers:[{type:x.m,args:[En]}],_content:[{type:x.l,args:[wn]}]};class Sn{}Sn.decorators=[{type:x.C,args:[{imports:[T.a,w.n,E.a,S.f,fn.b,Yt.b],exports:[w.n,_n,xn,bn,En,Tn,wn],declarations:[_n,xn,bn,En,Tn,wn],providers:[{provide:yn,useValue:!1}]}]}],Sn.ctorParameters=(()=>[]);var kn=n("7K/9"),An=n("PXDV");let Cn=0;const Mn={provide:B.h,useExisting:Object(x._3)(()=>On),multi:!0};class Rn{}class Ln{constructor(e){this._elementRef=e}}const Pn=Object(w.G)(Object(w.C)(Object(w.D)(Object(w.E)(Ln)),"accent"));class On extends Pn{constructor(e,t,n,i,r){super(e),this._platform=t,this._focusMonitor=n,this._changeDetectorRef=i,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._uniqueId=`mat-slide-toggle-${++Cn}`,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new x.q,this._rippleConfig={centered:!0,radius:23,speedFactor:1.5},this.tabIndex=parseInt(r)||0}get required(){return this._required}set required(e){this._required=Object(ye.b)(e)}get checked(){return this._checked}set checked(e){this._checked=Object(ye.b)(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._slideRenderer=new class{constructor(e,t){this.dragging=!1,t.isBrowser&&(this._thumbEl=e.nativeElement.querySelector(".mat-slide-toggle-thumb-container"),this._thumbBarEl=e.nativeElement.querySelector(".mat-slide-toggle-bar"))}startThumbDrag(e){this.dragging||(this._thumbBarWidth=this._thumbBarEl.clientWidth-this._thumbEl.clientWidth,this._thumbEl.classList.add("mat-dragging"),this._previousChecked=e,this.dragging=!0)}stopThumbDrag(){return!!this.dragging&&(this.dragging=!1,this._thumbEl.classList.remove("mat-dragging"),Object(w.B)(this._thumbEl,""),this.dragPercentage>50)}updateThumbPosition(e){this.dragPercentage=this._getDragPercentage(e);let t=this.dragPercentage/100*this._thumbBarWidth;Object(w.B)(this._thumbEl,`translate3d(${t}px, 0, 0)`)}_getDragPercentage(e){let t=e/this._thumbBarWidth*100;return this._previousChecked&&(t+=100),Math.max(0,Math.min(t,100))}}(this._elementRef,this._platform),this._focusMonitor.monitor(this._inputElement.nativeElement,!1).subscribe(e=>this._onInputFocusChange(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)}_onChangeEvent(e){e.stopPropagation(),this._slideRenderer.dragging?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")}toggle(){this.checked=!this.checked}_onInputFocusChange(e){this._focusRipple||"keyboard"!==e?e||(this.onTouched(),this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null)):this._focusRipple=this._ripple.launch(0,0,Object.assign({persistent:!0},this._rippleConfig))}_emitChangeEvent(){let e=new Rn;e.source=this,e.checked=this.checked,this.onChange(this.checked),this.change.emit(e)}_onDragStart(){this.disabled||this._slideRenderer.startThumbDrag(this.checked)}_onDrag(e){this._slideRenderer.dragging&&this._slideRenderer.updateThumbPosition(e.deltaX)}_onDragEnd(){if(this._slideRenderer.dragging){const e=this._slideRenderer.dragPercentage>50;e!==this.checked&&(this.checked=e,this._emitChangeEvent()),setTimeout(()=>this._slideRenderer.stopThumbDrag())}}_onLabelTextChange(){this._changeDetectorRef.markForCheck()}}On.decorators=[{type:x.j,args:[{selector:"mat-slide-toggle",exportAs:"matSlideToggle",host:{class:"mat-slide-toggle","[id]":"id","[class.mat-checked]":"checked","[class.mat-disabled]":"disabled","[class.mat-slide-toggle-label-before]":'labelPosition == "before"'},template:'<label class="mat-slide-toggle-label" #label><div class="mat-slide-toggle-bar" [class.mat-slide-toggle-bar-no-side-margin]="!labelContent.textContent || !labelContent.textContent.trim()"><input #input class="mat-slide-toggle-input cdk-visually-hidden" type="checkbox" [id]="inputId" [required]="required" [tabIndex]="tabIndex" [checked]="checked" [disabled]="disabled" [attr.name]="name" [attr.aria-label]="ariaLabel" [attr.aria-labelledby]="ariaLabelledby" (change)="_onChangeEvent($event)" (click)="_onInputClick($event)"><div class="mat-slide-toggle-thumb-container" (slidestart)="_onDragStart()" (slide)="_onDrag($event)" (slideend)="_onDragEnd()"><div class="mat-slide-toggle-thumb"></div><div class="mat-slide-toggle-ripple" mat-ripple [matRippleTrigger]="label" [matRippleDisabled]="disableRipple || disabled" [matRippleCentered]="_rippleConfig.centered" [matRippleRadius]="_rippleConfig.radius" [matRippleSpeedFactor]="_rippleConfig.speedFactor"></div></div></div><span class="mat-slide-toggle-content" #labelContent (cdkObserveContent)="_onLabelTextChange()"><ng-content></ng-content></span></label>',styles:[".mat-slide-toggle{display:inline-block;height:24px;line-height:24px;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging,.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing;transition-duration:0s}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:solid 1px #000}}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;border-radius:8px}@media screen and (-ms-high-contrast:active){.mat-slide-toggle-bar{background:#fff}}.mat-slide-toggle-input{bottom:0;left:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}.mat-slide-toggle-ripple{position:absolute;top:-13px;left:-13px;height:46px;width:46px;z-index:1;pointer-events:none}"],providers:[Mn],inputs:["disabled","disableRipple","color","tabIndex"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],On.ctorParameters=(()=>[{type:x.o},{type:Yt.a},{type:E.h},{type:x.h},{type:void 0,decorators:[{type:x.f,args:["tabindex"]}]}]),On.propDecorators={name:[{type:x.y}],id:[{type:x.y}],labelPosition:[{type:x.y}],ariaLabel:[{type:x.y,args:["aria-label"]}],ariaLabelledby:[{type:x.y,args:["aria-labelledby"]}],required:[{type:x.y}],checked:[{type:x.y}],change:[{type:x.H}],_inputElement:[{type:x.W,args:["input"]}],_ripple:[{type:x.W,args:[w.x]}]};class Dn{}Dn.decorators=[{type:x.C,args:[{imports:[w.y,w.n,Yt.b,kn.b,E.a],exports:[On,w.n],declarations:[On],providers:[{provide:An.f,useClass:w.e}]}]}],Dn.ctorParameters=(()=>[]);var Fn=n("wdH2"),In=n("oZkc"),Nn=n("ElHI"),Bn=n("sngF"),jn=n("7wpj"),zn=n("t0Wy");const Un={};class Vn{constructor(e){this.project=e}call(e,t){return t.subscribe(new class extends jn.a{constructor(e,t){super(e),this.project=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Un),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(zn.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,r){const s=this.values,o=s[n],a=this.toRespond?o===Un?--this.toRespond:this.toRespond:0;s[n]=t,0===a&&(this.project?this._tryProject(s):this.destination.next(s.slice()))}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}(e,this.project))}}var Gn=n("GcAb");class Hn extends _t.a{constructor(e,t,n){super(),this.addHandler=e,this.removeHandler=t,this.selector=n}static create(e,t,n){return new Hn(e,t,n)}_subscribe(e){const t=this.removeHandler,n=this.selector?(...t)=>{this._callSelector(e,t)}:function(t){e.next(t)},i=this._callAddHandler(n,e);Object(Gn.a)(t)&&e.add(new xe.a(()=>{t(n,i)}))}_callSelector(e,t){try{const n=this.selector(...t);e.next(n)}catch(t){e.error(t)}}_callAddHandler(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}}}const Wn=Hn.create,$n=new Map;class qn{constructor(e){this.platform=e,this._matchMedia=this.platform.isBrowser?window.matchMedia.bind(window):v}matchMedia(e){return this.platform.WEBKIT&&function(e){if(!$n.has(e))try{const t=document.createElement("style");if(t.setAttribute("type","text/css"),!t.sheet){const n=`@media ${e} {.fx-query-test{ }}`;t.appendChild(document.createTextNode(n))}document.getElementsByTagName("head")[0].appendChild(t),$n.set(e,t)}catch(e){console.error(e)}}(e),this._matchMedia(e)}}qn.decorators=[{type:x.v}],qn.ctorParameters=(()=>[{type:Yt.a}]);class Xn{constructor(e,t){this.mediaMatcher=e,this.zone=t,this._queries=new Map,this._destroySubject=new z.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Object(ye.a)(e).some(e=>this._registerQuery(e).mql.matches)}observe(e){return function(...e){let t=null,n=null;return Object(In.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(Nn.a)(e[0])&&(e=e[0]),new Bn.a(e,n).lift(new Vn(t))}(Object(ye.a)(e).map(e=>this._registerQuery(e).observable),(e,t)=>({matches:!!(e&&e.matches||t&&t.matches)}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let t=this.mediaMatcher.matchMedia(e),n={observable:Wn(e=>{t.addListener(t=>this.zone.run(()=>e(t)))},e=>{t.removeListener(t=>this.zone.run(()=>e(t)))}).pipe(Object(bt.a)(this._destroySubject),Object(_e.a)(t),Object(yt.a)(e=>({matches:e.matches}))),mql:t};return this._queries.set(e,n),n}}Xn.decorators=[{type:x.v}],Xn.ctorParameters=(()=>[{type:qn},{type:x.F}]);const Yn={Handset:"(max-width: 599px) and (orientation: portrait), (max-width: 959px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};class Kn{}Kn.decorators=[{type:x.C,args:[{providers:[Xn,qn],imports:[Yt.b]}]}],Kn.ctorParameters=(()=>[]);class Zn{constructor(e,t){this._overlayRef=t,this._afterClosed=new z.a,this._afterOpened=new z.a,this._onAction=new z.a,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterClosed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}closeWithAction(){this._onAction.closed||(this._onAction.next(),this._onAction.complete())}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),e)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterClosed.next(),this._afterClosed.complete()}afterDismissed(){return this._afterClosed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const Jn=new x.w("MatSnackBarData");class Qn{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.direction="ltr",this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class ei{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.closeWithAction()}get hasAction(){return!!this.data.action}}ei.decorators=[{type:x.j,args:[{selector:"simple-snack-bar",template:'{{data.message}} <button class="mat-simple-snackbar-action" *ngIf="hasAction" (click)="action()">{{data.action}}</button>',styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;line-height:20px;opacity:1}.mat-simple-snackbar-action{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;background:0 0;flex-shrink:0;margin-left:48px}[dir=rtl] .mat-simple-snackbar-action{margin-right:48px;margin-left:0}"],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,animations:[Object(wt.k)("contentFade",[Object(wt.j)(":enter",[Object(wt.i)({opacity:"0"}),Object(wt.e)(`${w.b.COMPLEX} ${w.a.STANDARD_CURVE}`)])])],host:{"[@contentFade]":"",class:"mat-simple-snackbar"}}]}],ei.ctorParameters=(()=>[{type:Zn},{type:void 0,decorators:[{type:x.u,args:[Jn]}]}]);const ti=`${w.b.ENTERING} ${w.a.DECELERATION_CURVE}`,ni=`${w.b.EXITING} ${w.a.ACCELERATION_CURVE}`;class ii extends C.a{constructor(e,t,n){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=n,this._destroyed=!1,this._onExit=new z.a,this._onEnter=new z.a,this._animationState="void"}attachComponentPortal(e){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached");const t=this._elementRef.nativeElement;return(this.snackBarConfig.panelClass||this.snackBarConfig.extraClasses)&&(this._setCssClasses(this.snackBarConfig.panelClass),this._setCssClasses(this.snackBarConfig.extraClasses)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top"),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(){throw Error("Not yet implemented")}onAnimationEnd(e){const{fromState:t,toState:n}=e;if(("void"===n&&"void"!==t||n.startsWith("hidden"))&&this._completeExit(),n.startsWith("visible")){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState=`visible-${this.snackBarConfig.verticalPosition}`,this._changeDetectorRef.detectChanges())}exit(){return this._animationState=`hidden-${this.snackBarConfig.verticalPosition}`,this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(R.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_setCssClasses(e){if(!e)return;const t=this._elementRef.nativeElement;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)}}ii.decorators=[{type:x.j,args:[{selector:"snack-bar-container",template:"<ng-template cdkPortalOutlet></ng-template>",styles:[".mat-snack-bar-container{border-radius:2px;box-sizing:border-box;display:block;margin:24px;max-width:568px;min-width:288px;padding:14px 24px;transform:translateY(100%) translateY(24px)}.mat-snack-bar-container.mat-snack-bar-center{margin:0;transform:translateY(100%)}.mat-snack-bar-container.mat-snack-bar-top{transform:translateY(-100%) translateY(-24px)}.mat-snack-bar-container.mat-snack-bar-top.mat-snack-bar-center{transform:translateY(-100%)}@media screen and (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:0;max-width:inherit;width:100%}"],changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1,host:{role:"alert",class:"mat-snack-bar-container","[@state]":"_animationState","(@state.done)":"onAnimationEnd($event)"},animations:[Object(wt.k)("state",[Object(wt.h)("visible-top, visible-bottom",Object(wt.i)({transform:"translateY(0%)"})),Object(wt.j)("visible-top => hidden-top, visible-bottom => hidden-bottom",Object(wt.e)(ni)),Object(wt.j)("void => visible-top, void => visible-bottom",Object(wt.e)(ti))])]}]}],ii.ctorParameters=(()=>[{type:x.F},{type:x.o},{type:x.h}]),ii.propDecorators={_portalOutlet:[{type:x.W,args:[C.c]}]};class ri{constructor(e,t,n,i,r){this._overlay=e,this._live=t,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,t){const n=y(t),i=this._attach(e,n);return i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null)}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),n.duration&&n.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(n.duration)),n.announcementMessage&&this._live.announce(n.announcementMessage,n.politeness),this._openedSnackBarRef=i,this._openedSnackBarRef}open(e,t="",n){const i=y(n);return i.data={message:e,action:t},i.announcementMessage=e,this.openFromComponent(ei,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}_attachSnackBarContainer(e,t){const n=new C.d(ii,t.viewContainerRef),i=e.attach(n);return i.instance.snackBarConfig=t,i.instance}_attach(e,t){const n=this._createOverlay(t),i=this._attachSnackBarContainer(n,t),r=new Zn(i,n),s=this._createInjector(t,r),o=new C.d(e,void 0,s),a=i.attachComponentPortal(o);return r.instance=a.instance,this._breakpointObserver.observe(Yn.Handset).pipe(Object(bt.a)(n.detachments().pipe(Object(R.a)(1)))).subscribe(e=>{e.matches?n.overlayElement.classList.add("mat-snack-bar-handset"):n.overlayElement.classList.remove("mat-snack-bar-handset")}),r}_createOverlay(e){const t=new S.c;t.direction=e.direction;let n=this._overlay.position().global();const i="rtl"===e.direction,r="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!i||"end"===e.horizontalPosition&&i,s=!r&&"center"!==e.horizontalPosition;return r?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===e.verticalPosition?n.top("0"):n.bottom("0"),t.positionStrategy=n,this._overlay.create(t)}_createInjector(e,t){const n=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=new WeakMap;return i.set(Zn,t),i.set(Jn,e.data),new C.f(n||this._injector,i)}}ri.decorators=[{type:x.v}],ri.ctorParameters=(()=>[{type:S.b},{type:E.n},{type:x.x},{type:Xn},{type:ri,decorators:[{type:x.G},{type:x.S}]}]);class si{}si.decorators=[{type:x.C,args:[{imports:[S.f,C.g,T.a,w.n,Kn],exports:[ii,w.n],declarations:[ii,ei],entryComponents:[ii,ei],providers:[ri,E.l]}]}],si.ctorParameters=(()=>[]);var oi=n("4yfK");class ai extends z.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new oi.a;return this._value}next(e){super.next(this._value=e)}}const li="<ng-container cdkCellOutlet></ng-container>";class ci{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){const t=e.columns.currentValue||[];this._columnsDiffer||(this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t))}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}}class ui extends ci{constructor(e,t){super(e,t)}}ui.decorators=[{type:x.n,args:[{selector:"[cdkHeaderRowDef]",inputs:["columns: cdkHeaderRowDef"]}]}],ui.ctorParameters=(()=>[{type:x.T},{type:x.z}]);class hi extends ci{constructor(e,t){super(e,t)}}hi.decorators=[{type:x.n,args:[{selector:"[cdkRowDef]",inputs:["columns: cdkRowDefColumns","when: cdkRowDefWhen"]}]}],hi.ctorParameters=(()=>[{type:x.T},{type:x.z}]);class di{constructor(e){this._viewContainer=e,di.mostRecentCellOutlet=this}}di.mostRecentCellOutlet=null,di.decorators=[{type:x.n,args:[{selector:"[cdkCellOutlet]"}]}],di.ctorParameters=(()=>[{type:x.Y}]);class pi{}pi.decorators=[{type:x.j,args:[{selector:"cdk-header-row",template:li,host:{class:"cdk-header-row",role:"row"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],pi.ctorParameters=(()=>[]);class mi{}mi.decorators=[{type:x.j,args:[{selector:"cdk-row",template:li,host:{class:"cdk-row",role:"row"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,preserveWhitespaces:!1}]}],mi.ctorParameters=(()=>[]);class fi{constructor(e){this.template=e}}fi.decorators=[{type:x.n,args:[{selector:"[cdkCellDef]"}]}],fi.ctorParameters=(()=>[{type:x.T}]);class gi{constructor(e){this.template=e}}gi.decorators=[{type:x.n,args:[{selector:"[cdkHeaderCellDef]"}]}],gi.ctorParameters=(()=>[{type:x.T}]);class vi{get name(){return this._name}set name(e){this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-")}}vi.decorators=[{type:x.n,args:[{selector:"[cdkColumnDef]"}]}],vi.ctorParameters=(()=>[]),vi.propDecorators={name:[{type:x.y,args:["cdkColumnDef"]}],cell:[{type:x.l,args:[fi]}],headerCell:[{type:x.l,args:[gi]}]};class yi{constructor(e,t){t.nativeElement.classList.add(`cdk-column-${e.cssClassFriendlyName}`)}}yi.decorators=[{type:x.n,args:[{selector:"cdk-header-cell",host:{class:"cdk-header-cell",role:"columnheader"}}]}],yi.ctorParameters=(()=>[{type:vi},{type:x.o}]);class bi{constructor(e,t){t.nativeElement.classList.add(`cdk-column-${e.cssClassFriendlyName}`)}}bi.decorators=[{type:x.n,args:[{selector:"cdk-cell",host:{class:"cdk-cell",role:"gridcell"}}]}],bi.ctorParameters=(()=>[{type:vi},{type:x.o}]);class _i{constructor(e){this.viewContainer=e}}_i.decorators=[{type:x.n,args:[{selector:"[rowPlaceholder]"}]}],_i.ctorParameters=(()=>[{type:x.Y}]);class xi{constructor(e){this.viewContainer=e}}xi.decorators=[{type:x.n,args:[{selector:"[headerRowPlaceholder]"}]}],xi.ctorParameters=(()=>[{type:x.Y}]);const wi="\n  <ng-container headerRowPlaceholder></ng-container>\n  <ng-container rowPlaceholder></ng-container>";class Ei{constructor(e,t,n,i){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new z.a,this._data=[],this._columnDefsByName=new Map,this.viewChange=new ai({start:0,end:Number.MAX_VALUE}),i||n.nativeElement.setAttribute("role","grid")}get trackBy(){return this._trackByFn}set trackBy(e){Object(x._5)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}.`),this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this._trackByFn)}ngAfterContentInit(){if(!this._headerDef&&!this._rowDefs.length)throw Error("Missing definitions for header and row, cannot determine which columns should be rendered.");this._cacheColumnDefsByName(),this._columnDefs.changes.subscribe(()=>this._cacheColumnDefsByName()),this._renderHeaderRow()}ngAfterContentChecked(){this._renderUpdatedColumns();const e=this._rowDefs.filter(e=>!e.when);if(e.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=e[0],this.dataSource&&!this._renderChangeSubscription&&this._observeRenderChanges()}ngOnDestroy(){this._rowPlaceholder.viewContainer.clear(),this._headerRowPlaceholder.viewContainer.clear(),this._onDestroy.next(),this._onDestroy.complete(),this.dataSource&&this.dataSource.disconnect(this)}_cacheColumnDefsByName(){this._columnDefsByName.clear(),this._columnDefs.forEach(e=>{if(this._columnDefsByName.has(e.name))throw function(e){return Error(`Duplicate column definition name provided: "${e}".`)}(e.name);this._columnDefsByName.set(e.name,e)})}_renderUpdatedColumns(){this._rowDefs.forEach(e=>{e.getColumnsDiff()&&(this._dataDiffer.diff([]),this._rowPlaceholder.viewContainer.clear(),this._renderRowChanges())}),this._headerDef.getColumnsDiff()&&(this._headerRowPlaceholder.viewContainer.clear(),this._renderHeaderRow())}_switchDataSource(e){this._data=[],this.dataSource&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||this._rowPlaceholder.viewContainer.clear(),this._dataSource=e}_observeRenderChanges(){this._renderChangeSubscription=this.dataSource.connect(this).pipe(Object(bt.a)(this._onDestroy)).subscribe(e=>{this._data=e,this._renderRowChanges()})}_renderHeaderRow(){const e=this._getHeaderCellTemplatesForRow(this._headerDef);e.length&&(this._headerRowPlaceholder.viewContainer.createEmbeddedView(this._headerDef.template,{cells:e}),e.forEach(e=>{di.mostRecentCellOutlet&&di.mostRecentCellOutlet._viewContainer.createEmbeddedView(e.template,{})}),this._changeDetectorRef.markForCheck())}_renderRowChanges(){const e=this._dataDiffer.diff(this._data);if(!e)return;const t=this._rowPlaceholder.viewContainer;e.forEachOperation((e,n,i)=>{if(null==e.previousIndex)this._insertRow(e.item,i);else if(null==i)t.remove(n);else{const e=t.get(n);t.move(e,i)}}),this._updateRowIndexContext(),e.forEachIdentityChange(e=>{t.get(e.currentIndex).context.$implicit=e.item})}_getRowDef(e,t){if(1==this._rowDefs.length)return this._rowDefs.first;let n=this._rowDefs.find(n=>n.when&&n.when(t,e))||this._defaultRowDef;if(!n)throw Error("Could not find a matching row definition for the provided row data.");return n}_insertRow(e,t){const n=this._getRowDef(e,t),i={$implicit:e};this._rowPlaceholder.viewContainer.createEmbeddedView(n.template,i,t),this._getCellTemplatesForRow(n).forEach(e=>{di.mostRecentCellOutlet&&di.mostRecentCellOutlet._viewContainer.createEmbeddedView(e.template,i)}),this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowPlaceholder.viewContainer;for(let t=0,n=e.length;t<n;t++){const i=e.get(t);i.context.index=t,i.context.count=n,i.context.first=0===t,i.context.last=t===n-1,i.context.even=t%2==0,i.context.odd=!i.context.even}}_getHeaderCellTemplatesForRow(e){return e.columns?e.columns.map(e=>{const t=this._columnDefsByName.get(e);if(!t)throw b(e);return t.headerCell}):[]}_getCellTemplatesForRow(e){return e.columns?e.columns.map(e=>{const t=this._columnDefsByName.get(e);if(!t)throw b(e);return t.cell}):[]}}Ei.decorators=[{type:x.j,args:[{selector:"cdk-table",exportAs:"cdkTable",template:wi,host:{class:"cdk-table"},encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Ei.ctorParameters=(()=>[{type:x.z},{type:x.h},{type:x.o},{type:void 0,decorators:[{type:x.f,args:["role"]}]}]),Ei.propDecorators={trackBy:[{type:x.y}],dataSource:[{type:x.y}],_rowPlaceholder:[{type:x.W,args:[_i]}],_headerRowPlaceholder:[{type:x.W,args:[xi]}],_columnDefs:[{type:x.m,args:[vi]}],_headerDef:[{type:x.l,args:[ui]}],_rowDefs:[{type:x.m,args:[hi]}]};const Ti=[Ei,hi,fi,di,gi,vi,bi,mi,yi,pi,ui,_i,xi];class Si{}Si.decorators=[{type:x.C,args:[{imports:[T.a],exports:[Ti],declarations:[Ti]}]}],Si.ctorParameters=(()=>[]);class ki{}const Ai=Object(w.E)(ki);class Ci extends Ai{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new z.a,this.start="asc",this._direction="",this.sortChange=new x.q}set direction(e){if(Object(x._5)()&&e&&"asc"!==e&&"desc"!==e)throw function(e){return Error(`${e} is not a valid sort direction ('asc' or 'desc').`)}(e);this._direction=e}get direction(){return this._direction}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Object(ye.b)(e)}register(e){if(!e.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(e.id))throw function(e){return Error(`Cannot have two MatSortables with the same id (${e}).`)}(e.id);this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.next({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";const t=null!=e.disableClear?e.disableClear:this.disableClear;let n=function(e,t){let n=["asc","desc"];return"desc"==e&&n.reverse(),t||n.push(""),n}(e.start||this.start,t),i=n.indexOf(this.direction)+1;return i>=n.length&&(i=0),n[i]}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}Ci.decorators=[{type:x.n,args:[{selector:"[matSort]",exportAs:"matSort",inputs:["disabled: matSortDisabled"]}]}],Ci.ctorParameters=(()=>[]),Ci.propDecorators={active:[{type:x.y,args:["matSortActive"]}],start:[{type:x.y,args:["matSortStart"]}],direction:[{type:x.y,args:["matSortDirection"]}],disableClear:[{type:x.y,args:["matSortDisableClear"]}],sortChange:[{type:x.H,args:["matSortChange"]}]};class Mi{constructor(){this.changes=new z.a,this.sortButtonLabel=(e=>`Change sorting for ${e}`),this.sortDescriptionLabel=((e,t)=>`Sorted by ${e} ${"asc"==t?"ascending":"descending"}`)}}Mi.decorators=[{type:x.v}],Mi.ctorParameters=(()=>[]);const Ri={provide:Mi,deps:[[new x.G,new x.S,Mi]],useFactory:_},Li=w.b.ENTERING+" "+w.a.STANDARD_CURVE;class Pi{}const Oi=Object(w.E)(Pi);class Di extends Oi{constructor(e,t,n,i){if(super(),this._intl=e,this._sort=n,this._cdkColumnDef=i,this.arrowPosition="after",!n)throw Error("MatSortHeader must be placed within a parent element with the MatSort directive.");this._rerenderSubscription=Object(V.a)(n.sortChange,n._stateChanges,e.changes).subscribe(()=>t.markForCheck())}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Object(ye.b)(e)}ngOnInit(){!this.id&&this._cdkColumnDef&&(this.id=this._cdkColumnDef.name),this._sort.register(this)}ngOnDestroy(){this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_handleClick(){this._isDisabled()||this._sort.sort(this)}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_isDisabled(){return this._sort.disabled||this.disabled}}Di.decorators=[{type:x.j,args:[{selector:"[mat-sort-header]",exportAs:"matSortHeader",template:'<div class="mat-sort-header-container" [class.mat-sort-header-position-before]="arrowPosition == \'before\'"><button class="mat-sort-header-button" type="button" [attr.aria-label]="_intl.sortButtonLabel(id)" [attr.disabled]="_isDisabled() || null"><ng-content></ng-content></button><div *ngIf="_isSorted()" class="mat-sort-header-arrow" [@indicatorToggle]="_sort.direction"><div class="mat-sort-header-stem"></div><div class="mat-sort-header-indicator" [@indicator]="_sort.direction"><div class="mat-sort-header-pointer-left" [@leftPointer]="_sort.direction"></div><div class="mat-sort-header-pointer-right" [@rightPointer]="_sort.direction"></div><div class="mat-sort-header-pointer-middle"></div></div></div></div><span class="cdk-visually-hidden" *ngIf="_isSorted()">&nbsp;{{_intl.sortDescriptionLabel(id, _sort.direction)}}</span>',styles:[".mat-sort-header-container{display:flex;cursor:pointer}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;margin:0 0 0 6px;position:relative;display:flex}.mat-sort-header-position-before .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0;transition:225ms cubic-bezier(.4,0,.2,1)}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;transition:225ms cubic-bezier(.4,0,.2,1);position:absolute;top:0}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],host:{"(click)":"_handleClick()","[class.mat-sort-header-sorted]":"_isSorted()","[class.mat-sort-header-disabled]":"_isDisabled()"},encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush,inputs:["disabled"],animations:[Object(wt.k)("indicator",[Object(wt.h)("asc",Object(wt.i)({transform:"translateY(0px)"})),Object(wt.h)("desc",Object(wt.i)({transform:"translateY(10px)"})),Object(wt.j)("asc <=> desc",Object(wt.e)(Li))]),Object(wt.k)("leftPointer",[Object(wt.h)("asc",Object(wt.i)({transform:"rotate(-45deg)"})),Object(wt.h)("desc",Object(wt.i)({transform:"rotate(45deg)"})),Object(wt.j)("asc <=> desc",Object(wt.e)(Li))]),Object(wt.k)("rightPointer",[Object(wt.h)("asc",Object(wt.i)({transform:"rotate(45deg)"})),Object(wt.h)("desc",Object(wt.i)({transform:"rotate(-45deg)"})),Object(wt.j)("asc <=> desc",Object(wt.e)(Li))]),Object(wt.k)("indicatorToggle",[Object(wt.j)("void => asc",Object(wt.e)(Li,Object(wt.f)([Object(wt.i)({transform:"translateY(25%)",opacity:0}),Object(wt.i)({transform:"none",opacity:1})]))),Object(wt.j)("asc => void",Object(wt.e)(Li,Object(wt.f)([Object(wt.i)({transform:"none",opacity:1}),Object(wt.i)({transform:"translateY(-25%)",opacity:0})]))),Object(wt.j)("void => desc",Object(wt.e)(Li,Object(wt.f)([Object(wt.i)({transform:"translateY(-25%)",opacity:0}),Object(wt.i)({transform:"none",opacity:1})]))),Object(wt.j)("desc => void",Object(wt.e)(Li,Object(wt.f)([Object(wt.i)({transform:"none",opacity:1}),Object(wt.i)({transform:"translateY(25%)",opacity:0})])))])]}]}],Di.ctorParameters=(()=>[{type:Mi},{type:x.h},{type:Ci,decorators:[{type:x.G}]},{type:vi,decorators:[{type:x.G}]}]),Di.propDecorators={id:[{type:x.y,args:["mat-sort-header"]}],arrowPosition:[{type:x.y}],start:[{type:x.y,args:["start"]}],disableClear:[{type:x.y}]};class Fi{}Fi.decorators=[{type:x.C,args:[{imports:[T.a],exports:[Ci,Di],declarations:[Ci,Di],providers:[Ri]}]}],Fi.ctorParameters=(()=>[]);class Ii{constructor(e){this.template=e}}Ii.decorators=[{type:x.n,args:[{selector:"[cdkStepLabel]"}]}],Ii.ctorParameters=(()=>[{type:x.T}]);let Ni=0;class Bi{constructor(e){this._stepper=e,this.interacted=!1,this._editable=!0,this._optional=!1,this._customCompleted=null}get editable(){return this._editable}set editable(e){this._editable=Object(ye.b)(e)}get optional(){return this._optional}set optional(e){this._optional=Object(ye.b)(e)}get completed(){return null==this._customCompleted?this._defaultCompleted:this._customCompleted}set completed(e){this._customCompleted=Object(ye.b)(e)}get _defaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}select(){this._stepper.selected=this}ngOnChanges(){this._stepper._stateChanged()}}Bi.decorators=[{type:x.j,args:[{selector:"cdk-step",exportAs:"cdkStep",template:"<ng-template><ng-content></ng-content></ng-template>",encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Bi.ctorParameters=(()=>[{type:ji,decorators:[{type:x.u,args:[Object(x._3)(()=>ji)]}]}]),Bi.propDecorators={stepLabel:[{type:x.l,args:[Ii]}],content:[{type:x.W,args:[x.T]}],stepControl:[{type:x.y}],label:[{type:x.y}],editable:[{type:x.y}],optional:[{type:x.y}],completed:[{type:x.y}]};class ji{constructor(e,t){this._dir=e,this._changeDetectorRef=t,this._destroyed=new z.a,this._linear=!1,this._selectedIndex=0,this.selectionChange=new x.q,this._focusIndex=0,this._groupId=Ni++}get linear(){return this._linear}set linear(e){this._linear=Object(ye.b)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?this._anyControlsInvalidOrPending(e)||e<this._selectedIndex&&!this._steps.toArray()[e].editable?this._stepHeader.toArray()[e].nativeElement.blur():this._selectedIndex!=e&&(this._emitStepperSelectionEvent(e),this._focusIndex=this._selectedIndex):this._selectedIndex=this._focusIndex=e}get selected(){return this._steps.toArray()[this.selectedIndex]}set selected(e){this.selectedIndex=this._steps.toArray().indexOf(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this._steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const t=e-this._selectedIndex;return t<0?"rtl"===this._layoutDirection()?"next":"previous":t>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e){const t=this._steps.toArray()[e];return t.completed&&this._selectedIndex!=e?t.editable?"edit":"done":"number"}_emitStepperSelectionEvent(e){const t=this._steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:t[e],previouslySelectedStep:t[this._selectedIndex]}),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){switch(e.keyCode){case A.m:"rtl"===this._layoutDirection()?this._focusPreviousStep():this._focusNextStep();break;case A.i:"rtl"===this._layoutDirection()?this._focusNextStep():this._focusPreviousStep();break;case A.n:case A.f:this.selectedIndex=this._focusIndex;break;default:return}e.preventDefault()}_focusNextStep(){this._focusStep((this._focusIndex+1)%this._steps.length)}_focusPreviousStep(){this._focusStep((this._focusIndex+this._steps.length-1)%this._steps.length)}_focusStep(e){this._focusIndex=e,this._stepHeader.toArray()[this._focusIndex].nativeElement.focus()}_anyControlsInvalidOrPending(e){const t=this._steps.toArray();return t[this._selectedIndex].interacted=!0,!!(this._linear&&e>=0)&&t.slice(0,e).some(e=>e.stepControl&&(e.stepControl.invalid||e.stepControl.pending))}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}ji.decorators=[{type:x.n,args:[{selector:"[cdkStepper]",exportAs:"cdkStepper"}]}],ji.ctorParameters=(()=>[{type:k.c,decorators:[{type:x.G}]},{type:x.h}]),ji.propDecorators={_steps:[{type:x.m,args:[Bi]}],linear:[{type:x.y}],selectedIndex:[{type:x.y}],selected:[{type:x.y}],selectionChange:[{type:x.H}]};class zi{constructor(e){this._stepper=e}}zi.decorators=[{type:x.n,args:[{selector:"button[cdkStepperNext]",host:{"(click)":"_stepper.next()"}}]}],zi.ctorParameters=(()=>[{type:ji}]);class Ui{constructor(e){this._stepper=e}}Ui.decorators=[{type:x.n,args:[{selector:"button[cdkStepperPrevious]",host:{"(click)":"_stepper.previous()"}}]}],Ui.ctorParameters=(()=>[{type:ji}]);class Vi{}Vi.decorators=[{type:x.C,args:[{imports:[k.a,T.a],exports:[Bi,ji,Ii,zi,Ui],declarations:[Bi,ji,Ii,zi,Ui]}]}],Vi.ctorParameters=(()=>[]);class Gi extends Ii{constructor(e){super(e)}}Gi.decorators=[{type:x.n,args:[{selector:"[matStepLabel]"}]}],Gi.ctorParameters=(()=>[{type:x.T}]);class Hi{constructor(){this.changes=new z.a,this.optionalLabel="Optional"}}Hi.decorators=[{type:x.v}],Hi.ctorParameters=(()=>[]);class Wi{constructor(e,t,n,i){this._intl=e,this._focusMonitor=t,this._element=n,t.monitor(n.nativeElement,!0),this._intlSubscription=e.changes.subscribe(()=>i.markForCheck())}get index(){return this._index}set index(e){this._index=Object(ye.c)(e)}get selected(){return this._selected}set selected(e){this._selected=Object(ye.b)(e)}get active(){return this._active}set active(e){this._active=Object(ye.b)(e)}get optional(){return this._optional}set optional(e){this._optional=Object(ye.b)(e)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element.nativeElement)}_stringLabel(){return this.label instanceof Gi?null:this.label}_templateLabel(){return this.label instanceof Gi?this.label:null}_getHostElement(){return this._element.nativeElement}}Wi.decorators=[{type:x.j,args:[{selector:"mat-step-header",template:'<div class="mat-step-header-ripple" mat-ripple [matRippleTrigger]="_getHostElement()"></div><div [class.mat-step-icon]="icon !== \'number\' || selected" [class.mat-step-icon-not-touched]="icon == \'number\' && !selected" [ngSwitch]="icon"><span *ngSwitchCase="\'number\'">{{index + 1}}</span><mat-icon *ngSwitchCase="\'edit\'">create</mat-icon><mat-icon *ngSwitchCase="\'done\'">done</mat-icon></div><div class="mat-step-label" [class.mat-step-label-active]="active" [class.mat-step-label-selected]="selected"><ng-container *ngIf="_templateLabel()" [ngTemplateOutlet]="_templateLabel()!.template"></ng-container><div class="mat-step-text-label" *ngIf="_stringLabel()">{{label}}</div><div class="mat-step-optional" *ngIf="optional">{{_intl.optionalLabel}}</div></div>',styles:[".mat-step-header{overflow:hidden;outline:0;cursor:pointer;position:relative}.mat-step-optional{font-size:12px}.mat-step-icon,.mat-step-icon-not-touched{border-radius:50%;height:24px;width:24px;align-items:center;justify-content:center;display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],host:{class:"mat-step-header",role:"tab"},encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Wi.ctorParameters=(()=>[{type:Hi},{type:E.h},{type:x.o},{type:x.h}]),Wi.propDecorators={icon:[{type:x.y}],label:[{type:x.y}],index:[{type:x.y}],selected:[{type:x.y}],active:[{type:x.y}],optional:[{type:x.y}]};class $i extends Bi{constructor(e,t){super(e),this._errorStateMatcher=t}isErrorState(e,t){const n=this._errorStateMatcher.isErrorState(e,t),i=!!(e&&e.invalid&&this.interacted);return n||i}}$i.decorators=[{type:x.j,args:[{selector:"mat-step",template:"<ng-template><ng-content></ng-content></ng-template>",providers:[{provide:w.d,useExisting:$i}],encapsulation:x.Z.None,exportAs:"matStep",preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],$i.ctorParameters=(()=>[{type:qi,decorators:[{type:x.u,args:[Object(x._3)(()=>qi)]}]},{type:w.d,decorators:[{type:x.S}]}]),$i.propDecorators={stepLabel:[{type:x.l,args:[Gi]}]};class qi extends ji{ngAfterContentInit(){this._steps.changes.pipe(Object(bt.a)(this._destroyed)).subscribe(()=>this._stateChanged())}}qi.decorators=[{type:x.n,args:[{selector:"[matStepper]"}]}],qi.ctorParameters=(()=>[]),qi.propDecorators={_stepHeader:[{type:x.X,args:[Wi,{read:x.o}]}],_steps:[{type:x.m,args:[$i]}]};class Xi extends qi{}Xi.decorators=[{type:x.j,args:[{selector:"mat-horizontal-stepper",exportAs:"matHorizontalStepper",template:'<div class="mat-horizontal-stepper-header-container"><ng-container *ngFor="let step of _steps; let i = index; let isLast = last"><mat-step-header class="mat-horizontal-stepper-header" (click)="step.select()" (keydown)="_onKeydown($event)" [tabIndex]="_focusIndex === i ? 0 : -1" [id]="_getStepLabelId(i)" [attr.aria-controls]="_getStepContentId(i)" [attr.aria-selected]="selectedIndex == i" [index]="i" [icon]="_getIndicatorType(i)" [label]="step.stepLabel || step.label" [selected]="selectedIndex === i" [active]="step.completed || selectedIndex === i || !linear" [optional]="step.optional"></mat-step-header><div *ngIf="!isLast" class="mat-stepper-horizontal-line"></div></ng-container></div><div class="mat-horizontal-content-container"><div *ngFor="let step of _steps; let i = index" class="mat-horizontal-stepper-content" role="tabpanel" [@stepTransition]="_getAnimationDirection(i)" [id]="_getStepContentId(i)" [attr.aria-labelledby]="_getStepLabelId(i)" [attr.aria-expanded]="selectedIndex === i"><ng-container [ngTemplateOutlet]="step.content"></ng-container></div></div>',styles:[".mat-stepper-horizontal,.mat-stepper-vertical{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon,.mat-horizontal-stepper-header .mat-step-icon-not-touched{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon,[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon-not-touched{margin-right:0;margin-left:8px}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;max-height:24px}.mat-vertical-stepper-header .mat-step-icon,.mat-vertical-stepper-header .mat-step-icon-not-touched{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon,[dir=rtl] .mat-vertical-stepper-header .mat-step-icon-not-touched{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{overflow:hidden}.mat-horizontal-stepper-content[aria-expanded=false]{height:0}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:'';position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}"],inputs:["selectedIndex"],host:{class:"mat-stepper-horizontal","aria-orientation":"horizontal",role:"tablist"},animations:[Object(wt.k)("stepTransition",[Object(wt.h)("previous",Object(wt.i)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Object(wt.h)("current",Object(wt.i)({transform:"none",visibility:"visible"})),Object(wt.h)("next",Object(wt.i)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Object(wt.j)("* => *",Object(wt.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))])],providers:[{provide:qi,useExisting:Xi}],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Xi.ctorParameters=(()=>[]);class Yi extends qi{}Yi.decorators=[{type:x.j,args:[{selector:"mat-vertical-stepper",exportAs:"matVerticalStepper",template:'<div class="mat-step" *ngFor="let step of _steps; let i = index; let isLast = last"><mat-step-header class="mat-vertical-stepper-header" (click)="step.select()" (keydown)="_onKeydown($event)" [tabIndex]="_focusIndex == i ? 0 : -1" [id]="_getStepLabelId(i)" [attr.aria-controls]="_getStepContentId(i)" [attr.aria-selected]="selectedIndex === i" [index]="i" [icon]="_getIndicatorType(i)" [label]="step.stepLabel || step.label" [selected]="selectedIndex === i" [active]="step.completed || selectedIndex === i || !linear" [optional]="step.optional"></mat-step-header><div class="mat-vertical-content-container" [class.mat-stepper-vertical-line]="!isLast"><div class="mat-vertical-stepper-content" role="tabpanel" [@stepTransition]="_getAnimationDirection(i)" [id]="_getStepContentId(i)" [attr.aria-labelledby]="_getStepLabelId(i)" [attr.aria-expanded]="selectedIndex === i"><div class="mat-vertical-content"><ng-container [ngTemplateOutlet]="step.content"></ng-container></div></div></div></div>',styles:[".mat-stepper-horizontal,.mat-stepper-vertical{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon,.mat-horizontal-stepper-header .mat-step-icon-not-touched{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon,[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon-not-touched{margin-right:0;margin-left:8px}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;max-height:24px}.mat-vertical-stepper-header .mat-step-icon,.mat-vertical-stepper-header .mat-step-icon-not-touched{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon,[dir=rtl] .mat-vertical-stepper-header .mat-step-icon-not-touched{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{overflow:hidden}.mat-horizontal-stepper-content[aria-expanded=false]{height:0}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:'';position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}"],inputs:["selectedIndex"],host:{class:"mat-stepper-vertical","aria-orientation":"vertical",role:"tablist"},animations:[Object(wt.k)("stepTransition",[Object(wt.h)("previous",Object(wt.i)({height:"0px",visibility:"hidden"})),Object(wt.h)("next",Object(wt.i)({height:"0px",visibility:"hidden"})),Object(wt.h)("current",Object(wt.i)({height:"*",visibility:"visible"})),Object(wt.j)("* <=> current",Object(wt.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],providers:[{provide:qi,useExisting:Yi}],encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],Yi.ctorParameters=(()=>[]);class Ki extends zi{}Ki.decorators=[{type:x.n,args:[{selector:"button[matStepperNext]",host:{"(click)":"_stepper.next()"},providers:[{provide:ji,useExisting:qi}]}]}],Ki.ctorParameters=(()=>[]);class Zi extends Ui{}Zi.decorators=[{type:x.n,args:[{selector:"button[matStepperPrevious]",host:{"(click)":"_stepper.previous()"},providers:[{provide:ji,useExisting:qi}]}]}],Zi.ctorParameters=(()=>[]);class Ji{}Ji.decorators=[{type:x.C,args:[{imports:[w.n,T.a,C.g,ee.d,Vi,Ie.c,E.a,w.y],exports:[w.n,Xi,Yi,$i,Gi,qi,Ki,Zi,Wi],declarations:[Xi,Yi,$i,Gi,qi,Ki,Zi,Wi],providers:[Hi,w.d]}]}],Ji.ctorParameters=(()=>[]);const Qi=n("P6aB").a.create;class er extends Ei{}er.decorators=[{type:x.j,args:[{selector:"mat-table",exportAs:"matTable",template:wi,styles:[".mat-table{display:block}.mat-header-row,.mat-row{display:flex;border-bottom-width:1px;border-bottom-style:solid;align-items:center;min-height:48px;padding:0 24px}.mat-cell,.mat-header-cell{flex:1;overflow:hidden;word-wrap:break-word}"],host:{class:"mat-table"},encapsulation:x.Z.None,preserveWhitespaces:!1,changeDetection:x.g.OnPush}]}],er.ctorParameters=(()=>[]);class tr extends fi{}tr.decorators=[{type:x.n,args:[{selector:"[matCellDef]",providers:[{provide:fi,useExisting:tr}]}]}],tr.ctorParameters=(()=>[]);class nr extends gi{}nr.decorators=[{type:x.n,args:[{selector:"[matHeaderCellDef]",providers:[{provide:gi,useExisting:nr}]}]}],nr.ctorParameters=(()=>[]);class ir extends vi{}ir.decorators=[{type:x.n,args:[{selector:"[matColumnDef]",providers:[{provide:vi,useExisting:ir}]}]}],ir.ctorParameters=(()=>[]),ir.propDecorators={name:[{type:x.y,args:["matColumnDef"]}]};class rr extends yi{constructor(e,t){super(e,t),t.nativeElement.classList.add(`mat-column-${e.cssClassFriendlyName}`)}}rr.decorators=[{type:x.n,args:[{selector:"mat-header-cell",host:{class:"mat-header-cell",role:"columnheader"}}]}],rr.ctorParameters=(()=>[{type:vi},{type:x.o}]);class sr extends bi{constructor(e,t){super(e,t),t.nativeElement.classList.add(`mat-column-${e.cssClassFriendlyName}`)}}sr.decorators=[{type:x.n,args:[{selector:"mat-cell",host:{class:"mat-cell",role:"gridcell"}}]}],sr.ctorParameters=(()=>[{type:vi},{type:x.o}]);class or extends ui{}or.decorators=[{type:x.n,args:[{selector:"[matHeaderRowDef]",providers:[{provide:ui,useExisting:or}],inputs:["columns: matHeaderRowDef"]}]}],or.ctorParameters=(()=>[]);class ar extends hi{}ar.decorators=[{type:x.n,args:[{selector:"[matRowDef]",providers:[{provide:hi,useExisting:ar}],inputs:["columns: matRowDefColumns","when: matRowDefWhen"]}]}],ar.ctorParameters=(()=>[]);class lr extends pi{}lr.decorators=[{type:x.j,args:[{selector:"mat-header-row",template:li,host:{class:"mat-header-row",role:"row"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,exportAs:"matHeaderRow",preserveWhitespaces:!1}]}],lr.ctorParameters=(()=>[]);class cr extends mi{}cr.decorators=[{type:x.j,args:[{selector:"mat-row",template:li,host:{class:"mat-row",role:"row"},changeDetection:x.g.OnPush,encapsulation:x.Z.None,exportAs:"matRow",preserveWhitespaces:!1}]}],cr.ctorParameters=(()=>[]);class ur{}ur.decorators=[{type:x.C,args:[{imports:[Si,T.a,w.n],exports:[er,tr,nr,ir,rr,sr,lr,cr,or,ar],declarations:[er,tr,nr,ir,rr,sr,lr,cr,or,ar]}]}],ur.ctorParameters=(()=>[]);class hr{constructor(e=[]){this._renderData=new ai([]),this._filter=new ai(""),this.sortingDataAccessor=((e,t)=>{const n=e[t];return"string"!=typeof n||n.trim()?isNaN(+n)?n:+n:n}),this.filterPredicate=((e,t)=>{const n=Object.keys(e).reduce((t,n)=>t+e[n],"").toLowerCase(),i=t.trim().toLowerCase();return-1!=n.indexOf(i)}),this._data=new ai(e),this._updateChangeSubscription()}set data(e){this._data.next(e)}get data(){return this._data.value}set filter(e){this._filter.next(e)}get filter(){return this._filter.value}set sort(e){this._sort=e,this._updateChangeSubscription()}get sort(){return this._sort}set paginator(e){this._paginator=e,this._updateChangeSubscription()}get paginator(){return this._paginator}_updateChangeSubscription(){const e=this._sort?this._sort.sortChange:Qi(),t=this._paginator?this._paginator.page:Qi();this._renderChangesSubscription&&this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=this._data.pipe(g(this._filter),Object(yt.a)(([e])=>this._filterData(e)),g(e.pipe(Object(_e.a)(null))),Object(yt.a)(([e])=>this._orderData(e)),g(t.pipe(Object(_e.a)(null))),Object(yt.a)(([e])=>this._pageData(e))).subscribe(e=>this._renderData.next(e))}_filterData(e){return this.filteredData=this.filter?e.filter(e=>this.filterPredicate(e,this.filter)):e,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){if(!this.sort||!this.sort.active||""==this.sort.direction)return e;const t=this.sort.active,n=this.sort.direction;return e.slice().sort((e,i)=>{return(this.sortingDataAccessor(e,t)<this.sortingDataAccessor(i,t)?-1:1)*("asc"==n?1:-1)})}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice().splice(t,this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{if(this.paginator&&(this.paginator.length=e,this.paginator.pageIndex>0)){const e=Math.ceil(this.paginator.length/this.paginator.pageSize)-1||0;this.paginator.pageIndex=Math.min(this.paginator.pageIndex,e)}})}connect(){return this._renderData}disconnect(){}}var dr=n("GI1j"),pr=n("FGt+");n.d(t,!1,function(){return W}),n.d(t,!1,function(){return $}),n.d(t,!1,function(){return Q}),n.d(t,!1,function(){return q}),n.d(t,!1,function(){return X}),n.d(t,!1,function(){return Y}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return K}),n.d(t,!1,function(){return Z}),n.d(t,!1,function(){return s}),n.d(t,!1,function(){return J}),n.d(t,!1,function(){return ee.d}),n.d(t,!1,function(){return ee.c}),n.d(t,!1,function(){return ee.e}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return ee.b}),n.d(t,!1,function(){return ee.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return te.b}),n.d(t,!1,function(){return te.c}),n.d(t,!1,function(){return te.a}),n.d(t,!1,function(){return te.d}),n.d(t,!1,function(){return ne}),n.d(t,!1,function(){return ie}),n.d(t,!1,function(){return re}),n.d(t,!1,function(){return se}),n.d(t,!1,function(){return oe}),n.d(t,!1,function(){return ae}),n.d(t,!1,function(){return le}),n.d(t,!1,function(){return ce}),n.d(t,!1,function(){return ue}),n.d(t,!1,function(){return he}),n.d(t,!1,function(){return de}),n.d(t,!1,function(){return pe}),n.d(t,!1,function(){return me}),n.d(t,!1,function(){return fe}),n.d(t,!1,function(){return ge}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return ve.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return De}),n.d(t,!1,function(){return Ce}),n.d(t,!1,function(){return Me}),n.d(t,!1,function(){return Le}),n.d(t,!1,function(){return Pe}),n.d(t,!1,function(){return we}),n.d(t,!1,function(){return Ee}),n.d(t,!1,function(){return Te}),n.d(t,!1,function(){return Se}),n.d(t,!1,function(){return ke}),n.d(t,!1,function(){return Ae}),n.d(t,!1,function(){return Oe}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return w.a}),n.d(t,!1,function(){return w.b}),n.d(t,!1,function(){return w.n}),n.d(t,!1,function(){return w.f}),n.d(t,!1,function(){return w.E}),n.d(t,!1,function(){return w.C}),n.d(t,!1,function(){return w.D}),n.d(t,!1,function(){return w.G}),n.d(t,!1,function(){return w.F}),n.d(t,!1,function(){return w.A}),n.d(t,!1,function(){return w.r}),n.d(t,!1,function(){return w.h}),n.d(t,!1,function(){}),n.d(t,!1,function(){return w.c}),n.d(t,!1,function(){return w.g}),n.d(t,!1,function(){return w.z}),n.d(t,!1,function(){return w.k}),n.d(t,!1,function(){}),n.d(t,!1,function(){return w.d}),n.d(t,!1,function(){return w.i}),n.d(t,!1,function(){return w.e}),n.d(t,!1,function(){return w.o}),n.d(t,!1,function(){return w.q}),n.d(t,!1,function(){return w.p}),n.d(t,!1,function(){return w.u}),n.d(t,!1,function(){}),n.d(t,!1,function(){return w.l}),n.d(t,!1,function(){return w.t}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return w.s}),n.d(t,!1,function(){return w.j}),n.d(t,!1,function(){return w.x}),n.d(t,!1,function(){return w.m}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return w.y}),n.d(t,!1,function(){return w.w}),n.d(t,!1,function(){return w.v}),n.d(t,!1,function(){return w.B}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return tt}),n.d(t,!1,function(){return He}),n.d(t,!1,function(){return je}),n.d(t,!1,function(){return ze}),n.d(t,!1,function(){return $e}),n.d(t,!1,function(){return a}),n.d(t,!1,function(){return qe}),n.d(t,!1,function(){return Xe}),n.d(t,!1,function(){return Ye}),n.d(t,!1,function(){return Ke}),n.d(t,!1,function(){return Ze}),n.d(t,!1,function(){return Je}),n.d(t,!1,function(){return Qe}),n.d(t,!1,function(){return Be}),n.d(t,!1,function(){return et}),n.d(t,!1,function(){return Ve}),n.d(t,!1,function(){return Ge}),n.d(t,!1,function(){return Fe.e}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Fe.a}),n.d(t,!1,function(){return Fe.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Fe.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Fe.d}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return nt.b}),n.d(t,!1,function(){return nt.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){return nt.d}),n.d(t,!1,function(){}),n.d(t,!1,function(){return nt.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return nt.f}),n.d(t,!1,function(){return nt.e}),n.d(t,!1,function(){return nt.g}),n.d(t,!1,function(){return j.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return j.a}),n.d(t,!1,function(){return j.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return ft}),n.d(t,!1,function(){return mt}),n.d(t,!1,function(){return it}),n.d(t,!1,function(){return rt}),n.d(t,!1,function(){return st}),n.d(t,!1,function(){return ot}),n.d(t,!1,function(){return at}),n.d(t,!1,function(){return Ie.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Ie.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Ie.d}),n.d(t,!1,function(){return Ie.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Ne.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Ne.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Ne.a}),n.d(t,!1,function(){return gt.e}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return gt.c}),n.d(t,!1,function(){return gt.h}),n.d(t,!1,function(){return gt.b}),n.d(t,!1,function(){return gt.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return gt.g}),n.d(t,!1,function(){return gt.d}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return gt.f}),n.d(t,!1,function(){return gt.i}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return vt.d}),n.d(t,!1,function(){return vt.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return vt.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return vt.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return $t}),n.d(t,!1,function(){return Ht}),n.d(t,!1,function(){return Wt}),n.d(t,!1,function(){return Ut}),n.d(t,!1,function(){return p}),n.d(t,!1,function(){return Vt}),n.d(t,!1,function(){return Xt}),n.d(t,!1,function(){return qt}),n.d(t,!1,function(){return rn}),n.d(t,!1,function(){return Jt}),n.d(t,!1,function(){return Qt}),n.d(t,!1,function(){return tn}),n.d(t,!1,function(){return nn}),n.d(t,!1,function(){return mn}),n.d(t,!1,function(){return on}),n.d(t,!1,function(){return an}),n.d(t,!1,function(){return ln}),n.d(t,!1,function(){return cn}),n.d(t,!1,function(){return un}),n.d(t,!1,function(){return hn}),n.d(t,!1,function(){return dn}),n.d(t,!1,function(){return pn}),n.d(t,!1,function(){return jt}),n.d(t,!1,function(){return kt}),n.d(t,!1,function(){return At}),n.d(t,!1,function(){return Ct}),n.d(t,!1,function(){return Mt}),n.d(t,!1,function(){return Rt}),n.d(t,!1,function(){return Lt}),n.d(t,!1,function(){return Pt}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return Ot}),n.d(t,!1,function(){return Dt}),n.d(t,!1,function(){return Ft}),n.d(t,!1,function(){return It}),n.d(t,!1,function(){return Nt}),n.d(t,!1,function(){return Bt}),n.d(t,!1,function(){return Et}),n.d(t,!1,function(){return Tt}),n.d(t,!1,function(){return Sn}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return vn}),n.d(t,!1,function(){return yn}),n.d(t,!1,function(){return bn}),n.d(t,!1,function(){return _n}),n.d(t,!1,function(){return xn}),n.d(t,!1,function(){return wn}),n.d(t,!1,function(){return En}),n.d(t,!1,function(){return Tn}),n.d(t,!1,function(){return Dn}),n.d(t,!1,function(){return Mn}),n.d(t,!1,function(){return Rn}),n.d(t,!1,function(){return Ln}),n.d(t,!1,function(){return Pn}),n.d(t,!1,function(){return On}),n.d(t,!1,function(){return Fn.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Fn.a}),n.d(t,!1,function(){return si}),n.d(t,!1,function(){return ri}),n.d(t,!1,function(){return ti}),n.d(t,!1,function(){return ni}),n.d(t,!1,function(){return ii}),n.d(t,!1,function(){return Jn}),n.d(t,!1,function(){return Qn}),n.d(t,!1,function(){return Zn}),n.d(t,!1,function(){return ei}),n.d(t,!1,function(){return Fi}),n.d(t,!1,function(){return Pi}),n.d(t,!1,function(){return Oi}),n.d(t,!1,function(){return Di}),n.d(t,!1,function(){return Mi}),n.d(t,!1,function(){return _}),n.d(t,!1,function(){return Ri}),n.d(t,!1,function(){return ki}),n.d(t,!1,function(){return Ai}),n.d(t,!1,function(){return Ci}),n.d(t,!1,function(){return Ji}),n.d(t,!1,function(){return Gi}),n.d(t,!1,function(){return $i}),n.d(t,!1,function(){return qi}),n.d(t,!1,function(){return Xi}),n.d(t,!1,function(){return Yi}),n.d(t,!1,function(){return Ki}),n.d(t,!1,function(){return Zi}),n.d(t,!1,function(){return Wi}),n.d(t,!1,function(){return Hi}),n.d(t,!1,function(){return ur}),n.d(t,!1,function(){return tr}),n.d(t,!1,function(){return nr}),n.d(t,!1,function(){return ir}),n.d(t,!1,function(){return rr}),n.d(t,!1,function(){return sr}),n.d(t,!1,function(){return er}),n.d(t,!1,function(){return or}),n.d(t,!1,function(){return ar}),n.d(t,!1,function(){return lr}),n.d(t,!1,function(){return cr}),n.d(t,!1,function(){return hr}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return dr.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return pr.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return zt.d}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return zt.a}),n.d(t,!1,function(){return zt.b}),n.d(t,!1,function(){}),n.d(t,!1,function(){return zt.c}),n.d(t,!1,function(){return zt.e});new x.V("5.0.2")},U2gC:function(e,t,n){"use strict";function i(e){e.debouncedNext()}t.a=function(e,t=s.a){return n=>n.lift(new class{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new class extends r.a{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}(e,this.dueTime,this.scheduler))}}(e,t))};var r=n("WJ2g"),s=n("vVQ5")},UJJe:function(e,t,n){"use strict";function i(e,t,n){return e||new f(t,n)}function r(e,t,n){return e||new b(t,n)}n.d(t,"c",function(){return f}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return x});var s=n("1GK5"),o=n("tksO"),a=n("9i4M"),l=n("05/P"),c=n("eQ+q"),u=n("m1U/"),h=n("ZAeO"),d=n("KF/P"),p=n("cv3d");const m=20;class f{constructor(e,t){this._ngZone=e,this._platform=t,this._scrolled=new a.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(e){const t=e.elementScrolled().subscribe(()=>this._scrolled.next(e));this.scrollContainers.set(e,t)}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=m){return this._platform.isBrowser?l.a.create(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(Object(h.a)(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._globalSubscription&&!this._scrolledCount&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}):Object(c.a)()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(d.a)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_scrollableContainsElement(e,t){let n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Object(u.a)(window.document,"scroll").subscribe(()=>this._scrolled.next()))}}f.decorators=[{type:s.v}],f.ctorParameters=(()=>[{type:s.F},{type:o.a}]);const g={provide:f,deps:[[new s.G,new s.S,f],s.F,o.a],useFactory:i};class v{constructor(e,t,n){this._elementRef=e,this._scroll=t,this._ngZone=n,this._elementScrolled=new a.a,this._scrollListener=(e=>this._elementScrolled.next(e))}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this.getElementRef().nativeElement.addEventListener("scroll",this._scrollListener)}),this._scroll.register(this)}ngOnDestroy(){this._scroll.deregister(this),this._scrollListener&&this.getElementRef().nativeElement.removeEventListener("scroll",this._scrollListener)}elementScrolled(){return this._elementScrolled.asObservable()}getElementRef(){return this._elementRef}}v.decorators=[{type:s.n,args:[{selector:"[cdk-scrollable], [cdkScrollable]"}]}],v.ctorParameters=(()=>[{type:s.o},{type:f},{type:s.F}]);const y=20;class b{constructor(e,t){this._change=e.isBrowser?t.runOutsideAngular(()=>Object(p.a)(Object(u.a)(window,"resize"),Object(u.a)(window,"orientationchange"))):Object(c.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){return this._viewportSize||this._updateViewportSize(),{width:this._viewportSize.width,height:this._viewportSize.height}}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){const e=document.documentElement.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||document.documentElement.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||document.documentElement.scrollLeft||0}}change(e=y){return e>0?this._change.pipe(Object(h.a)(e)):this._change}_updateViewportSize(){this._viewportSize={width:window.innerWidth,height:window.innerHeight}}}b.decorators=[{type:s.v}],b.ctorParameters=(()=>[{type:o.a},{type:s.F}]);const _={provide:b,deps:[[new s.G,new s.S,b],o.a,s.F],useFactory:r};class x{}x.decorators=[{type:s.C,args:[{imports:[o.b],exports:[v],declarations:[v],providers:[g]}]}],x.ctorParameters=(()=>[])},Ug0o:function(e,t,n){"use strict";var i=n("05/P"),r=n("t0Wy"),s=n("7wpj");class o extends i.a{constructor(e){super(),this.observableFactory=e}static create(e){return new o(e)}_subscribe(e){return new class extends s.a{constructor(e,t){super(e),this.factory=t,this.tryDefer()}tryDefer(){try{this._callFactory()}catch(e){this._error(e)}}_callFactory(){const e=this.factory();e&&this.add(Object(r.a)(this,e))}}(e,this.observableFactory)}}const a=o.create;t.a=a},Vu9s:function(e,t,n){var i,r;!function(){var s=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){function i(e){return e.replace(/\s+$/g,"")}var r=n(2).mergeOpts,s=n(1),o=s.lineBreak,a=s.allLineBreaks;e.exports.Beautifier=function(e,t,n,s){e=e||"";var l,c,u,h,d,p,m,f,g,v,y,b,_,x,w,E,T,S,k,A,C;void 0!==(t=r(t=t||{},"html")).wrap_line_length&&0!==parseInt(t.wrap_line_length,10)||void 0===t.max_char||0===parseInt(t.max_char,10)||(t.wrap_line_length=t.max_char),c=void 0!==t.indent_inner_html&&t.indent_inner_html,u=void 0===t.indent_body_inner_html||t.indent_body_inner_html,h=void 0===t.indent_head_inner_html||t.indent_head_inner_html,d=void 0===t.indent_size?4:parseInt(t.indent_size,10),p=void 0===t.indent_char?" ":t.indent_char,f=void 0===t.brace_style?"collapse":t.brace_style,m=0===parseInt(t.wrap_line_length,10)?32786:parseInt(t.wrap_line_length||250,10),g=t.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],v=t.content_unformatted||["pre"],y=void 0===t.preserve_newlines||t.preserve_newlines,b=y?isNaN(parseInt(t.max_preserve_newlines,10))?32786:parseInt(t.max_preserve_newlines,10):0,_=void 0!==t.indent_handlebars&&t.indent_handlebars,x=void 0===t.wrap_attributes?"auto":t.wrap_attributes,w=isNaN(parseInt(t.wrap_attributes_indent_size,10))?d:parseInt(t.wrap_attributes_indent_size,10),E="force"===x.substr(0,"force".length),T="force-expand-multiline"===x,S="force-aligned"===x,k=void 0!==t.end_with_newline&&t.end_with_newline,A="object"==typeof t.extra_liners&&t.extra_liners?t.extra_liners.concat():"string"==typeof t.extra_liners?t.extra_liners.split(","):"head,body,/html".split(","),C=t.eol?t.eol:"auto",t.indent_with_tabs&&(p="\t",d=1),"auto"===C&&(C="\n",e&&o.test(e||"")&&(C=e.match(o)[0])),C=C.replace(/\\r/,"\r").replace(/\\n/,"\n"),e=e.replace(a,"\n"),this.beautify=function(){for((l=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=c,this.indent_body_inner_html=u,this.indent_head_inner_html=h,this.Utils={whitespace:"\n\r\t ".split(""),single_token:t.void_elements||["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:A,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)y&&"\n"===e&&this.newlines<=b&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[],n=0;"<"!==this.input.charAt(this.pos)||2===n;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(n<2&&this.traverse_whitespace())this.space_or_wrap(t);else{if(e=this.input.charAt(this.pos),_){if("{"===e?n+=1:n<2&&(n=0),"}"===e&&n>0&&0==n--)break;var i=this.input.substr(this.pos,3);if("{{#"===i||"{{/"===i)break;if("{{!"===i)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var i=n.exec(this.input),r=i?i.index:this.input.length;return this.pos<r&&(t=this.input.substring(this.pos,r),this.pos=r),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,i,r="",s=[],o="",a=!1,l=!0,c=!1,u=this.pos,h=this.line_char_count,d=!1;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=u,this.line_char_count=h),s.length?s.join(""):["","TK_EOF"];if(r=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(r,this.Utils.whitespace))a=!0;else{if("'"!==r&&'"'!==r||(r+=this.get_unformatted(r),a=!0),"="===r&&(a=!1),i=this.input.substr(this.pos-1),!T||!c||d||">"!==r&&"/"!==r||i.match(/^\/?\s*>/)&&(a=!1,d=!0,this.print_newline(!1,s),this.print_indentation(s)),s.length&&"="!==s[s.length-1]&&">"!==r&&a){var p=this.space_or_wrap(s)&&"/"!==r&&!E;if(a=!1,E&&"/"!==r){var m=!1;T&&l&&(m=!(null!==i.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),l&&!m||(this.print_newline(!1,s),this.print_indentation(s),p=!0)}if(p){c=!0;var f=w;S&&(f=s.indexOf(" ")+1);for(var y=0;y<f;y++)s.push(" ")}if(l)for(var b=0;b<s.length;b++)if(" "===s[b]){l=!1;break}}if(_&&"<"===n&&r+this.input.charAt(this.pos)==="{{"&&(r+=this.get_unformatted("}}"),s.length&&" "!==s[s.length-1]&&"<"!==s[s.length-1]&&(r=" "+r),a=!0),"<"!==r||n||(t=this.pos-1,n="<"),_&&!n&&s.length>=2&&"{"===s[s.length-1]&&"{"===s[s.length-2]&&(t="#"===r||"/"===r||"!"===r?this.pos-3:this.pos-2,n="{"),this.line_char_count++,s.push(r),s[1]&&("!"===s[1]||"?"===s[1]||"%"===s[1])){s=[this.get_comment(t)];break}if(_&&s[1]&&"{"===s[1]&&s[2]&&"!"===s[2]){s=[this.get_comment(t)];break}if(_&&"{"===n&&s.length>2&&"}"===s[s.length-2]&&"}"===s[s.length-1])break}}while(">"!==r);var x,k,A=s.join("");x=-1!==A.indexOf(" ")?A.indexOf(" "):-1!==A.indexOf("\n")?A.indexOf("\n"):"{"===A.charAt(0)?A.indexOf("}"):A.indexOf(">"),k="<"!==A.charAt(0)&&_?"#"===A.charAt(2)?3:2:1;var C=A.substring(k,x).toLowerCase();return"/"===A.charAt(A.length-2)||this.Utils.in_array(C,this.Utils.single_token)?e||(this.tag_type="SINGLE"):_&&"{"===A.charAt(0)&&"else"===C?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(C,g)||this.is_unformatted(C,v)?(o=this.get_unformatted("</"+C+">",A),s.push(o),this.pos,this.tag_type="SINGLE"):"script"===C&&(-1===A.search("type")||A.search("type")>-1&&A.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?e||(this.record_tag(C),this.tag_type="SCRIPT"):"style"===C&&(-1===A.search("type")||A.search("type")>-1&&A.search("text/css")>-1)?e||(this.record_tag(C),this.tag_type="STYLE"):"!"===C.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===C.charAt(0)?(this.retrieve_tag(C.substring(1)),this.tag_type="END"):(this.record_tag(C),"html"!==C.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(s),this.Utils.in_array(C,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=u,this.line_char_count=h),s.join("")},this.get_comment=function(e){var t="",n=">",i=!1;this.pos=e;var r=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=r).charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!i&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",i=!0):0===t.indexOf("<![cdata[")?(n="]]>",i=!0):0===t.indexOf("<![")?(n="]>",i=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",i=!0):0===t.indexOf("{{!--")?(n="--}}",i=!0):0===t.indexOf("{{!")?5===t.length&&-1===t.indexOf("{{!--")&&(n="}}",i=!0):0===t.indexOf("<?")?(n="?>",i=!0):0===t.indexOf("<%")&&(n="%>",i=!0)),r=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var n="",i="",r=!0,s=function(e){var t="";return{add:function(n){var i=t+n.toLowerCase();t=i.length<=e.length?i:i.substr(i.length-e.length,e.length)},doesNotMatch:function(){return-1===t.indexOf(e)}}}(e);do{if(this.pos>=this.input.length)return i;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===n||"\r"===n){i+="\n",this.line_char_count=0;continue}}i+=n,s.add(n),this.line_char_count++,r=!0,_&&"{"===n&&i.length&&"{"===i.charAt(i.length-2)&&(i+=this.get_unformatted("}}"))}while(s.doesNotMatch());return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n[1],t))},this.printer=function(e,t,n,r,s){this.input=e||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=s,this.indent_level=0,this.wrap_line_length=r,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!==t[t.length-1])&&("\n"!==t[t.length-1]&&(t[t.length-1]=i(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=function(e){return e.replace(/^\s+/g,"")}(e)),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=i(e)),e&&""!==e&&(e.length>1&&"\n"===e.charAt(e.length-1)?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(e,p,d,m,f);;){var r=l.get_token();if(l.token_text=r[0],l.token_type=r[1],"TK_EOF"===l.token_type)break;switch(l.token_type){case"TK_TAG_START":l.print_newline(!1,l.output),l.print_token(l.token_text),l.indent_content&&(!l.indent_body_inner_html&&l.token_text.match(/<body(?:.*)>/)||!l.indent_head_inner_html&&l.token_text.match(/<head(?:.*)>/)||l.indent(),l.indent_content=!1),l.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":l.print_newline(!1,l.output),l.print_token(l.token_text),l.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===l.last_token&&""===l.last_text){var o=(l.token_text.match(/\w+/)||[])[0],a=null;l.output.length&&(a=l.output[l.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===a||a[1]!==o&&!l.Utils.in_array(a[1],g))&&l.print_newline(!1,l.output)}l.print_token(l.token_text),l.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var x=l.token_text.match(/^\s*<([a-z-]+)/i);x&&l.Utils.in_array(x[1],g)||l.print_newline(!1,l.output),l.print_token(l.token_text),l.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var M=!1,R=l.output.length-1;R>=0&&"\n"!==l.output[R];R--)if(l.output[R].match(/{{#if/)){M=!0;break}M||l.print_newline(!1,l.output),l.print_token(l.token_text),l.indent_content&&(l.indent(),l.indent_content=!1),l.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":l.print_token(l.token_text),l.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==l.token_text){l.print_newline(!1,l.output);var L,P=l.token_text,O=1;"TK_SCRIPT"===l.token_type?L="function"==typeof n&&n:"TK_STYLE"===l.token_type&&(L="function"==typeof s&&s),"keep"===t.indent_scripts?O=0:"separate"===t.indent_scripts&&(O=-l.indent_level);var D=l.get_full_indent(O);if(L){var F=function(){this.eol="\n"};F.prototype=t;var I=new F;P=L(P.replace(/^\s*/,D),I)}else{var N=P.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(l.indent_string).length-1,B=l.get_full_indent(O-N);P=P.replace(/^\s*/,D).replace(/\r\n|\r|\n/g,"\n"+B).replace(/\s+$/,"")}P&&(l.print_token_raw(P),l.print_newline(!0,l.output))}l.current_mode="TAG";break;default:""!==l.token_text&&l.print_token(l.token_text)}l.last_token=l.token_type,l.last_text=l.token_text}var j=l.output.join("").replace(/[\r\n\t ]+$/,"");return k&&(j+="\n"),"\n"!==C&&(j=j.replace(/[\n]/g,C)),j}}},function(e,t){var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",i=new RegExp("["+n+"]"),r=new RegExp("["+n+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&r.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function(e,t){var n,i={};for(n in e)n!==t&&(i[n]=e[n]);if(t in e)for(n in e[t])i[n]=e[t][n];return i}},function(e,t,n){var i=n(0).Beautifier;e.exports=function(e,t,n,r){return new i(e,t,n,r).beautify()}}]);i=[n,n("FN//"),n("cJbR")],void 0===(r=(function(e){var t=n("FN//"),i=n("cJbR");return{html_beautify:function(e,n){return s(e,n,t.js_beautify,i.css_beautify)}}}).apply(t,i))||(e.exports=r)}()},"W/Qq":function(e,t,n){"use strict";function i(e){return r._38(2,[r._34(402653184,1,{_inputElement:0}),(e()(),r._15(1,0,null,null,3,"label",[["class","mat-button-toggle-label"]],[[1,"for",0]],null,null,null,null)),(e()(),r._15(2,0,[[1,0],["input",1]],null,0,"input",[["class","mat-button-toggle-input cdk-visually-hidden"]],[[8,"type",0],[8,"id",0],[8,"checked",0],[8,"disabled",0],[8,"name",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("change"===t){i=!1!==r._onInputChange(n)&&i}if("click"===t){i=!1!==r._onInputClick(n)&&i}return i},null,null)),(e()(),r._15(3,0,null,null,1,"div",[["class","mat-button-toggle-label-content"]],null,null,null,null,null)),r._28(null,0),(e()(),r._15(5,0,null,null,0,"div",[["class","mat-button-toggle-focus-overlay"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,1,0,n.inputId);e(t,2,0,n._type,n.inputId,n.checked,n.disabled||null,n.name,n.ariaLabel,n.ariaLabelledby)})}n.d(t,"a",function(){return d}),t.b=i;var r=n("1GK5"),s=n("PT+7"),o=n("ZDMg"),a=n("AdGS"),l=n("tksO"),c=n("3P+V"),u=n("nTP9"),h=n("IMoF"),d=(r._12(s.d,[],function(e){return r._26([r._27(512,r.k,r._8,[[8,[]],[3,r.k],r.D]),r._27(6144,o.b,null,[a.b]),r._27(4608,o.c,o.c,[[2,o.b]]),r._27(4608,a.i,a.h,[r.B,[2,a.n]]),r._27(4608,l.a,l.a,[]),r._27(4608,c.j,c.j,[l.a]),r._27(4608,c.i,c.i,[c.j,r.F,a.b]),r._27(136192,c.e,c.c,[[3,c.e],a.b]),r._27(5120,c.n,c.m,[[3,c.n],[2,c.k],a.b]),r._27(5120,c.h,c.f,[[3,c.h],r.F,l.a]),r._27(5120,u.c,u.d,[[3,u.c]]),r._27(512,o.a,o.a,[]),r._27(256,h.f,!0,[]),r._27(512,h.n,h.n,[[2,h.f]]),r._27(512,a.a,a.a,[]),r._27(512,l.b,l.b,[]),r._27(512,c.a,c.a,[]),r._27(512,s.d,s.d,[])])}),r._13({encapsulation:2,styles:[".mat-button-toggle-group,.mat-button-toggle-standalone{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;display:inline-flex;flex-direction:row;border-radius:2px;cursor:pointer;white-space:nowrap;overflow:hidden}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle-disabled .mat-button-toggle-label-content{cursor:default}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay,.mat-button-toggle.cdk-program-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;cursor:pointer}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}"],data:{}}));r._11("mat-button-toggle",s.a,function(e){return r._38(0,[(e()(),r._15(0,0,null,null,1,"mat-button-toggle",[["class","mat-button-toggle"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],null,null,i,d)),r._14(1,245760,null,0,s.a,[[2,s.b],[2,s.c],r.h,u.c,r.o,c.h],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,!r._29(t,1).buttonToggleGroup&&!r._29(t,1).buttonToggleGroupMultiple,r._29(t,1).checked,r._29(t,1).disabled,r._29(t,1).id)})},{ariaLabel:"aria-label",ariaLabelledby:"aria-labelledby",id:"id",name:"name",checked:"checked",value:"value",disabled:"disabled"},{change:"change"},["*"])},WJ2g:function(e,t,n){"use strict";var i=n("GcAb"),r=n("0mJR"),s=n("gwp7"),o=n("xEcM");class a extends r.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.a;break;case 1:if(!e){this.destination=s.a;break}if("object"==typeof e){e instanceof a?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.a](){return this}static create(e,t,n){const i=new a(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}t.a=a;class l extends a{constructor(e,t,n,r){super(),this._parentSubscriber=e;let o,a=this;Object(i.a)(t)?o=t:t&&(o=t.next,n=t.error,r=t.complete,t!==s.a&&(a=Object.create(t),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}}__tryOrSetError(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},WPNl:function(e,t){e.exports.id="ace/mode/javascript_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/javascript/jshint",["require","exports","module"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error("Cannot find module \'"+name+"\'");throw err.code="MODULE_NOT_FOUND",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire="function"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({"/node_modules/browserify/node_modules/events/events.js":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError(\'Uncaught, unspecified "error" event.\')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i--\x3e0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],"/node_modules/jshint/data/ascii-identifier-data.js":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],"/node_modules/jshint/lodash.js":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return"function"!=valType&&"object"!=valType&&"function"!=othType&&"object"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq="string"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return"number"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return"function"==type||!!value&&"object"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\\\$&"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION="3.7.0",FUNC_ERROR_TEXT="Expected a function",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|(["\'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),"xo")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames="string"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/node_modules/jshint/src/jshint.js":[function(_dereq_,module,exports){var _=_dereq_("../lodash"),events=_dereq_("events"),vars=_dereq_("./vars.js"),messages=_dereq_("./messages.js"),Lexer=_dereq_("./lex.js").Lexer,reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,style=_dereq_("./style.js"),options=_dereq_("./options.js"),scopeManager=_dereq_("./scope-manager.js"),JSHINT=function(){"use strict";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||"jslint"===t.type||_.has(options.removed,name)?!0:(error("E001",t,name),!1)}function isString(obj){return"[object String]"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return"string"==typeof r||"number"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict="global"),state.inES6()||warning("W134",state.tokens.next,"module",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict="global")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict="global")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict="global")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict="global"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:"JSHintError",line:line,character:chr,message:message+" ("+percentage+"% scanned).",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},"(end)"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:"(error)",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||"",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit("E043",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:"(internal)",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if("globals"===nt.type){body.forEach(function(g,idx){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if("-"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}"-"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]="true"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}"exported"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}state.funct["(scope)"].addExported(e)}),"members"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||\'"\'!==ch1&&"\'"!==ch1||(m=m.substr(1,m.length-2).replace(\'\\\\"\',\'"\')),membersOnly[m]=!1}));var numvals=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];("jshint"===nt.type||"jslint"===nt.type)&&(body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if("false"!==val){if(val=+val,"number"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error("E032",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]="indent"===key?4:!1;else{if("validthis"===key)return state.funct["(global)"]?void error("E009"):"true"!==val&&"false"!==val?void error("E002",nt):(state.option.validthis="true"===val,void 0);if("quotmark"!==key)if("shadow"!==key)if("unused"!==key)if("latedef"!==key)if("ignore"!==key)if("strict"!==key){"module"===key&&(hasParsedCode(state.funct)||error("E055",state.tokens.next,"module"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if("esversion"===key){switch(val){case"5":state.inES5(!0)&&warning("I003");case"3":case"6":state.option.moz=!1,state.option.esversion=+val;break;case"2015":state.option.moz=!1,state.option.esversion=6;break;default:error("E002",nt)}return hasParsedCode(state.funct)||error("E055",state.tokens.next,"esversion"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]="-"===match[1],void 0;var tn;return"true"===val||"false"===val?("jslint"===nt.type?(tn=options.renamed[key]||key,state.option[tn]="true"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]="true"===val,"newcap"===key&&(state.option["(explicitNewcap)"]=!0),void 0):(error("E002",nt),void 0)}switch(val){case"true":state.option.moz=!1,state.option.esversion=esversions[key];break;case"false":state.option.moz||(state.option.esversion=5);break;default:error("E002",nt)}}else switch(val){case"true":state.option.strict=!0;break;case"false":state.option.strict=!1;break;case"func":case"global":case"implied":state.option.strict=val;break;default:error("E002",nt)}else switch(val){case"line":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error("E002",nt)}else switch(val){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:error("E002",nt)}else switch(val){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=val;break;default:error("E002",nt)}else switch(val){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:error("E002",nt)}else switch(val){case"true":case"false":state.option.quotmark="true"===val;break;case"double":case"single":state.option.quotmark=val;break;default:error("E002",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||"(end)"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while("(endline)"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&warning("W005",state.tokens.curr);break;case"-":("-"===state.tokens.next.id||"--"===state.tokens.next.id)&&warning("W006");break;case"+":("+"===state.tokens.next.id||"++"===state.tokens.next.id)&&warning("W007")}for(id&&state.tokens.next.id!==id&&(t?"(end)"===state.tokens.next.id?error("E019",t,t.id):error("E020",state.tokens.next,id,t.id,t.line,state.tokens.next.value):("(identifier)"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning("W116",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit("E041",state.tokens.curr.line),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)"falls through"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if("(endline)"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return";"===next.id||"}"===next.id||":"===next.id?!0:isInfix(next)===isInfix(curr)||"yield"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&"unary"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||"let"!==state.tokens.next.value||"("!==peek(0).value||(state.inMoz()||warning("W118",state.tokens.next,"let expressions"),isLetExpr=!0,state.funct["(scope)"].stack(),advance("let"),advance("("),state.tokens.prev.fud(),advance(")")),"(end)"===state.tokens.next.id&&error("E006",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(isDangerous&&warning("W014",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct["(verb)"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error("E030",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||"(template)"===state.tokens.next.type)&&!isEndOfExpr();)isArray="Array"===state.tokens.curr.value,isObject="Object"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&("new"!==left.value||left.first&&left.first.value&&"."===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W009",state.tokens.curr),isObject&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W010",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error("E033",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct["(scope)"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning("W014",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning("E022",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning("I001"),comma.first=!1),warning("W014",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(",")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return error("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(opts.allowTrailing)return!0;case")":return error("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&"object"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>="a"&&"z">=c||c>="A"&&"Z">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud="function"==typeof f?f:function(){return this.arity="unary",this.right=expression(150),("++"===this.id||"--"===this.id)&&(state.option.plusplus?warning("W016",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||"."===this.right.id||"["===this.right.id||warning("W017",this),this.right&&this.right.isMetaProperty?error("E031",this):this.right&&this.right.identifier&&state.funct["(scope)"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return"function"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),"in"!==s&&"instanceof"!==s||"!"!==left.id||warning("W018",left,"!"),"function"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:"arrow",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,"NaN")||isIdentifier(right,"NaN")?warning("W019",this):f&&f.apply(this,[left,right]),left&&right||quit("E041",state.tokens.curr.line),"!"===left.id&&warning("W018",left,"!"),"!"===right.id&&warning("W018",right,"!"),this},x}function isPoorRelation(node){return node&&("(number)"===node.type&&0===+node.value||"(string)"===node.type&&""===node.value||"null"===node.type&&!state.option.eqnull||"true"===node.type||"false"===node.type||"undefined"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,"(identifier)"===right.type&&"typeof"===right.value&&"(string)"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return"this"===left.type&&null===state.funct["(context)"]?isGlobal=!0:"(identifier)"===left.type&&(state.option.node&&"global"===left.value?isGlobal=!0:!state.option.browser||"window"!==left.value&&"document"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return"object"==typeof obj?"prototype"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&"object"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning("W121",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct["(scope)"].block.reassign(left.value,left),"."===left.id?((!left.left||"arguments"===left.left.value&&!state.isStrict())&&warning("E031",assignToken),state.nameStack.set(state.tokens.prev),!0):"{"===left.id||"["===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct["(scope)"].block.modify(t.id,t.token)}):"{"!==left.id&&left.left?"arguments"!==left.left.value||state.isStrict()||warning("E031",assignToken):warning("E031",assignToken),"["===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error("E031",assignToken),!0):left.identifier&&!isReserved(left)?("exception"===state.funct["(scope)"].labeltype(left.value)&&warning("W022",left),state.nameStack.set(left),!0):(left===state.syntax["function"]&&warning("W023",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,"function"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error("E031",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led="function"==typeof f?f:function(left){return state.option.bitwise&&warning("W016",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning("W016",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error("E031",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning("W016",this,this.id):left.identifier&&!isReserved(left)||"."===left.id||"["===left.id||warning("W017",this),left.isMetaProperty?error("E031",this):left&&left.identifier&&state.funct["(scope)"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&"undefined"===val?val:(warning("W024",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if("..."===state.tokens.next.value){if(state.inES6(!0)||warning("W119",state.tokens.next,"spread/rest operator","6"),advance(),checkPunctuator(state.tokens.next,"..."))for(warning("E024",state.tokens.next,"...");checkPunctuator(state.tokens.next,"...");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning("E024",state.tokens.curr,"..."),void 0)}error("E030",state.tokens.next,state.tokens.next.value),";"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(";"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while("(end)"!==t.id&&"(comment)"===t.id);if(t.reach)return;if("(endline)"!==t.id){if("function"===t.id){state.option.latedef===!0&&warning("W026",t);break}warning("W027",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(";"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&"(end)"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,"}");sameLine&&!blockEnd?errorAt("E058",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt("W033",state.tokens.curr.line,state.tokens.curr.character)}else advance(";")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(";"===t.id)return advance(";"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&":"===peek().id&&(warning("W024",t,t.id),res=!1),t.identifier&&!res&&":"===peek().id&&(advance(),advance(":"),hasOwnScope=!0,state.funct["(scope)"].stack(),state.funct["(scope)"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||"{"===state.tokens.next.value||warning("W028",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),"{"===t.id){var iscase="case"===state.funct["(verb)"]&&":"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&"function"===r.value||"(punctuator)"===r.type&&r.left&&r.left.identifier&&"function"===r.left.value||state.isStrict()||"global"!==state.option.strict||warning("E007"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&"("===r.id&&"new"===r.left.id&&warning("W031",t):warning("W030",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct["(scope)"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(p=peek(),(!p||"("!==p.id&&"["!==p.id)&&warning("W032"),advance(";")):a.push(statement());return a}function directives(){for(var i,p,pn;"(string)"===state.tokens.next.id;){if(p=peek(0),"(endline)"===p.id){i=1;do pn=peek(i++);while("(endline)"===pn.id);if(";"===pn.id)p=pn;else{if("["===pn.value||"."===pn.value)break;state.option.asi&&"("!==pn.value||warning("W033",state.tokens.next)}}else{if("."===p.id||"["===p.id)break;";"!==p.id&&warning("W033",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||"use strict"===directive&&"implied"===state.option.strict)&&warning("W034",state.tokens.curr,directive),state.directive[directive]=!0,";"===p.id&&advance(";")}state.isStrict()&&(state.option["(explicitNewcap)"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct["(metrics)"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(advance("{"),state.funct["(scope)"].stack(),line=state.tokens.curr.line,"}"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance("}",t),isfunc&&(state.funct["(scope)"].validateParams(),m&&(state.directive=m)),state.funct["(scope)"].unstack(),indent=old_indent}else if(ordinary)state.funct["(noblockscopedvar)"]="for"!==state.tokens.next.id,state.funct["(scope)"].stack(),(!stmt||state.option.curly)&&warning("W116",state.tokens.next,"{",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct["(scope)"].unstack(),delete state.funct["(noblockscopedvar)"];else if(isfunc){if(state.funct["(scope)"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error("W118",state.tokens.curr,"function closure expressions"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007")),state.funct["(scope)"].unstack()}else error("E021",state.tokens.next,"{",state.tokens.next.value);switch(state.funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(iscase)break;default:state.funct["(verb)"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning("W035",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&"boolean"!=typeof membersOnly[m]&&warning("W036",state.tokens.curr,m),"number"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct["(comparray)"].stack();var reversed=!1;return"for"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning("W116",state.tokens.next,"for",state.tokens.next.value),state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("for"),"each"===state.tokens.next.value&&(advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),advance("("),state.funct["(comparray)"].setState("define"),res.left=expression(130),_.contains(["in","of"],state.tokens.next.value)?advance():error("E045",state.tokens.curr),state.funct["(comparray)"].setState("generate"),expression(10),advance(")"),"if"===state.tokens.next.value&&(advance("if"),advance("("),state.funct["(comparray)"].setState("filter"),res.filter=expression(10),advance(")")),reversed||(state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("]"),state.funct["(comparray)"].unstack(),res}function isMethod(){return state.funct["(statement)"]&&"class"===state.funct["(statement)"].type||state.funct["(context)"]&&"class"===state.funct["(context)"]["(verb)"]}function isPropertyName(token){return token.identifier||"(string)"===token.id||"(number)"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return"object"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?"object"==typeof id&&("(string)"===id.id||"(identifier)"===id.id?id=id.value:"(number)"===id.id&&(id=""+id.value)):"(string)"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):"(number)"===state.tokens.next.id&&(id=""+state.tokens.next.value,preserve||advance()),"hasOwnProperty"===id&&warning("W001"),id}function functionparams(options){function addParam(addParamArgs){state.funct["(scope)"].addParam.apply(state.funct["(scope)"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct["(scope)"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance("("),")"===state.tokens.next.id)return advance(")"),void 0;for(;;){arity++;var currentParams=[];if(_.contains(["{","["],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,"...")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[",",")"]);)advance();if(pastDefault&&"="!==state.tokens.next.id&&error("W138",state.tokens.current),"="===state.tokens.next.id&&(state.inES6()||warning("W119",state.tokens.next,"default parameters","6"),advance("="),pastDefault=!0,expression(10)),currentParams.forEach(addParam),","!==state.tokens.next.id)return advance(")",next),{arity:arity,params:paramsIds};pastRest&&warning("W131",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={"(name)":name,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(scope)":null,"(comparray)":null,"(generator)":null,"(arrow)":null,"(params)":null};return token&&_.extend(funct,{"(line)":token.line,"(character)":token.character,"(metrics)":createMetrics(token)}),_.extend(funct,overwrites),funct["(context)"]&&(funct["(scope)"]=funct["(context)"]["(scope)"],funct["(comparray)"]=funct["(context)"]["(comparray)"]),funct}function isFunctor(token){return"(scope)"in token}function hasParsedCode(funct){return funct["(global)"]&&!funct["(verb)"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:"(template)",type:"(template)",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator="generator"===options.type,isArrow="arrow"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{"(statement)":statement,"(context)":state.funct,"(arrow)":isArrow,"(generator)":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct["(scope)"].stack("functionouter");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct["(scope)"].block.add(internallyAccessibleName,classExprBinding?"class":"function",state.tokens.curr,!1),state.funct["(scope)"].stack("functionparams");var paramsInfo=functionparams(options);return paramsInfo?(state.funct["(params)"]=paramsInfo.params,state.funct["(metrics)"].arity=paramsInfo.arity,state.funct["(metrics)"].verifyMaxParametersPerFunction()):state.funct["(metrics)"].arity=0,isArrow&&(state.inES6(!0)||warning("W119",state.tokens.curr,"arrow function syntax (=>)","6"),options.loneArg||advance("=>")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&"yielded"!==state.funct["(generator)"]&&warning("W124",state.tokens.curr),state.funct["(metrics)"].verifyMaxStatementsPerFunction(),state.funct["(metrics)"].verifyMaxComplexityPerFunction(),state.funct["(unusedOption)"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct["(last)"]=state.tokens.curr.line,state.funct["(lastcharacter)"]=state.tokens.curr.character,state.funct["(scope)"].unstack(),state.funct["(scope)"].unstack(),state.funct=state.funct["(context)"],ignoreLoopFunc||state.option.loopfunc||!state.funct["(loopage)"]||f["(isCapturing)"]&&warning("W083",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning("W071",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning("W072",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning("W074",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct["(metrics)"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,","===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":paren||state.option.boss||warning("W084")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning("W078",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,".")){var left=state.tokens.curr.id;advance(".");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error("E057",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning("W104",state.tokens.curr,isAssignment?"destructuring assignment":"destructuring binding","6"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,["[","{"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,","))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,"(")){var is_rest=checkPunctuator(state.tokens.next,"...");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning("E030",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance("("),nextInnerDE(),advance(")")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,"[")?(advance("["),expression(10),advance("]"),advance(":"),nextInnerDE()):"(string)"===state.tokens.next.id||"(number)"===state.tokens.next.id?(advance(),advance(":"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,":")?(advance(":"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,"[")){openingParsed||advance("["),checkPunctuator(state.tokens.next,"]")&&warning("W137",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,"]");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,",")&&(warning("W130",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,"=")&&(checkPunctuator(state.tokens.prev,"...")?advance("]"):advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"]")||advance(",");advance("]")}else if(checkPunctuator(firstToken,"{")){for(openingParsed||advance("{"),checkPunctuator(state.tokens.next,"}")&&warning("W137",state.tokens.curr);!checkPunctuator(state.tokens.next,"}")&&(assignmentProperty(),checkPunctuator(state.tokens.next,"=")&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"}")||(advance(","),!checkPunctuator(state.tokens.next,"}"))););advance("}")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning("W080",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet="let"===type,isConst="const"===type;for(state.inES6()||warning("W104",state.tokens.curr,type,"6"),isLet&&"("===state.tokens.next.value?(state.inMoz()||warning("W118",state.tokens.next,"let block"),advance("("),state.funct["(scope)"].stack(),letblock=!0):state.funct["(noblockscopedvar)"]&&error("E048",state.tokens.curr,isConst?"Const":"Let"),statement.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&"="!==state.tokens.next.id&&warning("E012",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct["(scope)"].block.isGlobal()&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&!state.funct["(noblockscopedvar)"]&&(state.funct["(scope)"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct["(scope)"].setExported(t.token.value,t.token)));if("="===state.tokens.next.id&&(advance("="),prefix||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),!prefix&&"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),","!==state.tokens.next.id)break;comma()}return letblock&&(advance(")"),block(!0,!0),statement.block=!0,state.funct["(scope)"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning("W104",state.tokens.curr,"class","6"),isStatement?(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"class",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;"extends"===state.tokens.next.value&&(advance("extends"),c.heritage=expression(10)),state.inClassBody=!0,advance("{"),c.body=classbody(c),advance("}"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;"}"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,";"!==name.id){if("*"===name.id&&(isGenerator=!0,advance("*"),name=state.tokens.next),"["===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning("W052",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&"static"===name.value&&(checkPunctuator(state.tokens.next,"*")&&(isGenerator=!0,advance("*")),(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,isStatic=!0,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||"get"!==name.value&&"set"!==name.value||(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,getset=name,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,"(")){for(error("E054",state.tokens.next,state.tokens.next.value);"}"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,"(");)advance();"("!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):("constructor"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&"constructor"===name.value){var propDesc="get"===getset.value?"class getter method":"class setter method";error("E049",name,propDesc,"constructor")}else"prototype"===name.value&&error("E049",name,"class method","prototype");propertyName(name),doFunction({statement:c,type:isGenerator?"generator":null,classExprBinding:c.namedExpr?c.name:null})}else warning("W032"),advance(";");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=["key","class method","static class method"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&"__proto__"!==name?warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName="get"===accessorType?"getterToken":"setterToken",msg="";isClass?(isStatic&&(msg+="static "),msg+=accessorType+"ter method"):msg="key",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&"__proto__"!==name&&warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance("["),state.inES6()||warning("W119",state.tokens.curr,"computed property names","6");var value=expression(10);return advance("]"),value}function checkPunctuators(token,values){return"(punctuator)"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return"(punctuator)"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning("W104",state.tokens.curr,"destructuring assignment","6"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E026",state.tokens.next,t.line);else{if("}"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id?error("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&warning("W095",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning("W075",state.tokens.next,"key",state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?warning("W096",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(":"),jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("}")}function jsonArray(){var t=state.tokens.next;if(advance("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id&&error("E028",state.tokens.next)}if(jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("]")}switch(state.tokens.next.id){case"{":jsonObject();break;case"[":jsonArray();break;case"true":case"false":case"null":case"(number)":case"(string)":advance();break;case"-":advance("-"),advance("(number)");break;default:error("E003",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},functionicity=["closure","exception","global","label","outer","unused","var"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=["xml","unknown"],typeofValues.es3=["undefined","boolean","number","string","function","object"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat("symbol"),type("(number)",function(){return this}),type("(string)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var v=this.value;return"=>"===state.tokens.next.id?this:(state.funct["(comparray)"].check(v)||state.funct["(scope)"].block.use(v,state.tokens.curr),this)},led:function(){error("E033",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax["(template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax["(template middle)"]=_.extend({type:"(template middle)",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(template tail)"]=_.extend({type:"(template tail)",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(no subst template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type("(regexp)",function(){return this}),delim("(endline)"),delim("(begin)"),delim("(end)").reach=!0,delim("(error)").reach=!0,delim("}").reach=!0,delim(")"),delim("]"),delim(\'"\').reach=!0,delim("\'").reach=!0,delim(";"),delim(":").reach=!0,delim("#"),reserve("else"),reserve("case").reach=!0,reserve("catch"),reserve("default").reach=!0,reserve("finally"),reservevar("arguments",function(x){state.isStrict()&&state.funct["(global)"]&&warning("E008",x)}),reservevar("eval"),reservevar("false"),reservevar("Infinity"),reservevar("null"),reservevar("this",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct["(statement)"]&&state.funct["(name)"].charAt(0)>"Z"||state.funct["(global)"])&&warning("W040",x)}),reservevar("true"),reservevar("undefined"),assignop("=","assign",20),assignop("+=","assignadd",20),assignop("-=","assignsub",20),assignop("*=","assignmult",20),assignop("/=","assigndiv",20).nud=function(){error("E014")},assignop("%=","assignmod",20),bitwiseassignop("&="),bitwiseassignop("|="),bitwiseassignop("^="),bitwiseassignop("<<="),bitwiseassignop(">>="),bitwiseassignop(">>>="),infix(",",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning("W127"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),","!==state.tokens.next.value||!comma())break}return that},10,!0),infix("?",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(":"),that["else"]=expression(10),that},30);var orPrecendence=40;infix("||",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix("&&","and",50),bitwise("|","bitor",70),bitwise("^","bitxor",80),bitwise("&","bitand",90),relation("==",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning("W116",this,"===","==");break;case isPoorRelation(left):warning("W041",this,"===",left.value);break;case isPoorRelation(right):warning("W041",this,"===",right.value);break;case isTypoTypeof(right,left,state):warning("W122",this,right.value);break;case isTypoTypeof(left,right,state):warning("W122",this,left.value)}return this}),relation("===",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!=",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning("W116",this,"!==","!=")):isPoorRelation(left)?warning("W041",this,"!==",left.value):isPoorRelation(right)?warning("W041",this,"!==",right.value):isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!==",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("<"),relation(">"),relation("<="),relation(">="),bitwise("<<","shiftleft",120),bitwise(">>","shiftright",120),bitwise(">>>","shiftrightunsigned",120),infix("in","in",120),infix("instanceof","instanceof",120),infix("+",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&"(string)"===left.id&&"(string)"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning("W050",left),left):that},130),prefix("+","num"),prefix("+++",function(){return warning("W007"),this.arity="unary",this.right=expression(150),this}),infix("+++",function(left){return warning("W007"),this.left=left,this.right=expression(130),this},130),infix("-","sub",130),prefix("-","neg"),prefix("---",function(){return warning("W006"),this.arity="unary",this.right=expression(150),this}),infix("---",function(left){return warning("W006"),this.left=left,this.right=expression(130),this},130),infix("*","mult",140),infix("/","div",140),infix("%","mod",140),suffix("++"),prefix("++","preinc"),state.syntax["++"].exps=!0,suffix("--"),prefix("--","predec"),state.syntax["--"].exps=!0,prefix("delete",function(){var p=expression(10);return p?("."!==p.id&&"["!==p.id&&warning("W051"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix("~",function(){return state.option.bitwise&&warning("W016",this,"~"),this.arity="unary",this.right=expression(150),this}),prefix("...",function(){return state.inES6(!0)||warning("W119",this,"spread/rest operator","6"),state.tokens.next.identifier||"(string)"===state.tokens.next.type||checkPunctuators(state.tokens.next,["[","("])||error("E030",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix("!",function(){return this.arity="unary",this.right=expression(150),this.right||quit("E041",this.line||0),bang[this.right.id]===!0&&warning("W018",this,"!"),this}),prefix("typeof",function(){var p=expression(150);return this.first=this.right=p,p||quit("E041",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix("new",function(){var mp=metaProperty("target",function(){state.inES6(!0)||warning("W119",state.tokens.prev,"new.target","6");for(var inFunction,c=state.funct;c&&(inFunction=!c["(global)"],c["(arrow)"]);)c=c["(context)"];inFunction||warning("W136",state.tokens.prev,"new.target")});if(mp)return mp;var i,c=expression(155);if(c&&"function"!==c.id)if(c.identifier)switch(c["new"]=!0,c.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":warning("W053",state.tokens.prev,c.value);break;case"Symbol":state.inES6()&&warning("W053",state.tokens.prev,c.value);break;case"Function":state.option.evil||warning("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&("A">i||i>"Z")&&!state.funct["(scope)"].isPredefined(c.value)&&warning("W055",state.tokens.curr))}else"."!==c.id&&"["!==c.id&&"("!==c.id&&warning("W056",state.tokens.curr);else state.option.supernew||warning("W057",this);return"("===state.tokens.next.id||state.option.supernew||warning("W058",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax["new"].exps=!0,prefix("void").exps=!0,infix(".",function(left,that){var m=identifier(!1,!0);return"string"==typeof m&&countMember(m),that.left=left,that.right=m,m&&"hasOwnProperty"===m&&"="===state.tokens.next.value&&warning("W001"),!left||"arguments"!==left.value||"callee"!==m&&"caller"!==m?state.option.evil||!left||"document"!==left.value||"write"!==m&&"writeln"!==m||warning("W060",left):state.option.noarg?warning("W059",left,m):state.isStrict()&&error("E008"),state.option.evil||"eval"!==m&&"execScript"!==m||isGlobalEval(left,state)&&warning("W061"),that},160,!0),infix("(",function(left,that){state.option.immed&&left&&!left.immed&&"function"===left.id&&warning("W062");var n=0,p=[];if(left&&"(identifier)"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Array Number String Boolean Date Object Error Symbol".indexOf(left.value)&&("Math"===left.value?warning("W063",left):state.option.newcap&&warning("W064",left)),")"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,","===state.tokens.next.id;)comma();return advance(")"),"object"==typeof left&&(state.inES5()||"parseInt"!==left.value||1!==n||warning("W065",state.tokens.curr),state.option.evil||("eval"===left.value||"Function"===left.value||"execScript"===left.value?(warning("W061",left),p[0]&&"(string)"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||"(string)"!==p[0].id||"setTimeout"!==left.value&&"setInterval"!==left.value?!p[0]||"(string)"!==p[0].id||"."!==left.value||"window"!==left.left.value||"setTimeout"!==left.right&&"setInterval"!==left.right||(warning("W066",left),addInternalSrc(left,p[0].value)):(warning("W066",left),addInternalSrc(left,p[0].value))),left.identifier||"."===left.id||"["===left.id||"=>"===left.id||"("===left.id||"&&"===left.id||"||"===left.id||"?"===left.id||state.inES6()&&left["(name)"]||warning("W067",that)),that.left=left,that},155,!0).exps=!0,prefix("(",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do"("===pn.value?parens+=1:")"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||")"!==pn1.value)&&";"!==pn.value&&"(end)"!==pn.type);if("function"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),"=>"===pn.value)return doFunction({type:"arrow",parsedOpening:!0});var exprs=[];if(")"!==state.tokens.next.id)for(;exprs.push(expression(10)),","===state.tokens.next.id;)state.option.nocomma&&warning("W127"),comma();return advance(")",this),state.option.immed&&exprs[0]&&"function"===exprs[0].id&&"("!==state.tokens.next.id&&"."!==state.tokens.next.id&&"["!==state.tokens.next.id&&warning("W068",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[","]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&("{"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||"}"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||"{"===ret.id&&"=>"===preceeding.id||"(number)"===ret.type&&checkPunctuator(pn,".")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning("W126",opening),ret.paren=!0),ret):void 0}),application("=>"),infix("[",function(left,that){var s,e=expression(10);return e&&"(string)"===e.type&&(state.option.evil||"eval"!==e.value&&"execScript"!==e.value||isGlobalEval(left,state)&&warning("W061"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning("W069",state.tokens.prev,e.value))),advance("]",that),e&&"hasOwnProperty"===e.value&&"="===state.tokens.next.value&&warning("W001"),that.left=left,that.right=e,that},160,!0),prefix("[",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning("W118",state.tokens.curr,"array comprehension"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning("W128");do advance(",");while(","===state.tokens.next.id);continue}warning("W070")}advance(",")}if("]"===state.tokens.next.id)break;if(this.first.push(expression(10)),","!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.inES5()){warning("W070",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance("]",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;"}"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||","!==peekIgnoreEOL().id&&"}"!==peekIgnoreEOL().id)if(":"===peek().id||"get"!==nextVal&&"set"!==nextVal){if("*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type?(state.inES6()||warning("W104",state.tokens.next,"generator functions","6"),advance("*"),isGeneratorMethod=!0):isGeneratorMethod=!1,"["===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),"string"!=typeof i)break;"("===state.tokens.next.value?(state.inES6()||warning("W104",state.tokens.curr,"concise methods","6"),doFunction({type:isGeneratorMethod?"generator":null})):(advance(":"),expression(10))}else advance(nextVal),state.inES5()||error("E034"),i=propertyName(),i||state.inES6()||error("E035"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f["(params)"],"get"===nextVal&&i&&p?warning("W076",t,p[0],i):"set"!==nextVal||!i||p&&1===p.length||warning("W077",t,i);else state.inES6()||warning("W104",state.tokens.next,"object short notation","6"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),","!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),","===state.tokens.next.id?warning("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.inES5()||warning("W070",state.tokens.curr)}return b&&(indent-=state.option.indent),advance("}",this),checkProperties(props),this},x.fud=function(){error("E036",state.tokens.curr)}}(delim("{"));var conststatement=stmt("const",function(context){return blockVariableStatement("const",this,context)});conststatement.exps=!0;var letstatement=stmt("let",function(context){return blockVariableStatement("let",this,context)});letstatement.exps=!0;var varstatement=stmt("var",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning("W132",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct["(global)"]&&(predefined[t.id]===!1?warning("W079",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning("W129",t.token,t.id)),t.id&&("for"===implied?(state.funct["(scope)"].has(t.id)||report&&warning("W088",t.token,t.id),state.funct["(scope)"].block.use(t.id,t.token)):(state.funct["(scope)"].addlabel(t.id,{type:"var",token:t.token}),lone&&inexport&&state.funct["(scope)"].setExported(t.id,t.token)),names.push(t.token)));if("="===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance("="),prefix||!report||state.funct["(loopage)"]||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct["(params)"]||-1===state.funct["(params)"].indexOf(state.tokens.next.value))&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt("class",function(){return classdef.call(this,!0)}),blockstmt("function",function(context){var inexport=context&&context.inexport,generator=!1;"*"===state.tokens.next.value&&(advance("*"),state.inES6({strict:!0})?generator=!0:warning("W119",state.tokens.curr,"function*","6")),inblock&&warning("W082",state.tokens.curr);var i=optionalidentifier();return state.funct["(scope)"].addlabel(i,{type:"function",token:state.tokens.curr}),void 0===i?warning("W025"):inexport&&state.funct["(scope)"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?"generator":null,ignoreLoopFunc:inblock}),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error("E039"),this}),prefix("function",function(){var generator=!1;"*"===state.tokens.next.value&&(state.inES6()||warning("W119",state.tokens.curr,"function*","6"),advance("*"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?"generator":null}),this}),blockstmt("if",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance("(");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type="(punctuator)"===expr.type&&"!"===expr.value?"(negative)":"(positive)"),advance(")",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&"(negative)"===forinifcheck.type&&s&&s[0]&&"(identifier)"===s[0].type&&"continue"===s[0].value&&(forinifcheck.type="(negative-with-continue)"),"else"===state.tokens.next.id&&(advance("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt("try",function(){function doCatch(){if(advance("catch"),advance("("),state.funct["(scope)"].stack("catchparams"),checkPunctuators(state.tokens.next,["[","{"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct["(scope)"].addParam(token.id,token,"exception")})}else"(identifier)"!==state.tokens.next.type?warning("E030",state.tokens.next,state.tokens.next.value):state.funct["(scope)"].addParam(identifier(),state.tokens.curr,"exception");"if"===state.tokens.next.value&&(state.inMoz()||warning("W118",state.tokens.curr,"catch filter"),advance("if"),expression(0)),advance(")"),block(!1),state.funct["(scope)"].unstack()}var b;for(block(!0);"catch"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning("W118",state.tokens.next,"multiple catch blocks"),doCatch(),b=!0;return"finally"===state.tokens.next.id?(advance("finally"),block(!0),void 0):(b||error("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),blockstmt("while",function(){var t=state.tokens.next;return state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),advance("("),checkCondAssignment(expression(0)),advance(")",t),block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this}).labelled=!0,blockstmt("with",function(){var t=state.tokens.next;return state.isStrict()?error("E010",state.tokens.curr):state.option.withstmt||warning("W085",state.tokens.curr),advance("("),expression(0),advance(")",t),block(!0,!0),this}),blockstmt("switch",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct["(breakage)"]+=1,advance("("),checkCondAssignment(expression(0)),advance(")",t),t=state.tokens.next,advance("{"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(state.funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"case")}advance("case"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(":"),state.funct["(verb)"]="case";break;case"default":switch(state.funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"default"))}advance("default"),g=!0,advance(":");break;case"}":return noindent||(indent-=state.option.indent),advance("}",t),state.funct["(breakage)"]-=1,state.funct["(verb)"]=void 0,void 0;case"(end)":return error("E023",state.tokens.next,"}"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case",":return error("E040"),void 0;case":":g=!1,statements();break;default:return error("E025",state.tokens.curr),void 0}else{if(":"!==state.tokens.curr.id)return error("E021",state.tokens.next,"case",state.tokens.next.value),void 0;advance(":"),error("E024",state.tokens.curr,":"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt("debugger",function(){return state.option.debug||warning("W087",this),this}).exps=!0,function(){var x=stmt("do",function(){state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance("while");var t=state.tokens.next;return advance("("),checkCondAssignment(expression(0)),advance(")",t),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt("for",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;"each"===t.value&&(foreachtok=t,advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),increaseComplexityCount(),advance("(");var nextop,comma,initializer,i=0,inof=["in","of"],level=0;checkPunctuators(state.tokens.next,["{","["])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,["{","["])?++level:checkPunctuators(nextop,["}","]"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,",")?comma=nextop:!initializer&&checkPunctuator(nextop,"=")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&";"!==nextop.value&&"(end)"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||"of"!==nextop.value||warning("W104",nextop,"for of","6");var ok=!(initializer||comma);if(initializer&&error("W133",comma,nextop.value,"initializer is forbidden"),comma&&error("W133",comma,nextop.value,"more than one ForBinding"),"var"===state.tokens.next.id?(advance("var"),state.tokens.curr.fud({prefix:!0})):"let"===state.tokens.next.id||"const"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:"for",ignore:!ok}),advance(nextop.value),expression(20),advance(")",t),"in"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:"(none)"})),state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,s=block(!0,!0),"in"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&("object"!=typeof s[0]||"if"!==s[0].value)||"(positive)"===check.type&&s.length>1||"(negative)"===check.type)&&warning("W089",this)}state.forinifcheckneeded=!1}state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}else{if(foreachtok&&error("E045",foreachtok),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud();else if("let"===state.tokens.next.id)advance("let"),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud();else for(;expression(0,"for"),","===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(";"),state.funct["(loopage)"]+=1,";"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(";"),";"===state.tokens.next.id&&error("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;expression(0,"for"),","===state.tokens.next.id;)comma();advance(")",t),state.funct["(breakage)"]+=1,block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}return letscope&&state.funct["(scope)"].unstack(),this}).labelled=!0,stmt("break",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value):(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("continue",function(){var v=state.tokens.next.value;return 0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.funct["(loopage)"]||warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("return",function(){return this.line===startLine(state.tokens.next)?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix("yield",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct["(generator)"]?"(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||error("E046",state.tokens.curr,"yield"):state.inES6()||warning("W104",state.tokens.curr,"yield","6"),state.funct["(generator)"]="yielded";var delegatingYield=!1;return"*"===state.tokens.next.value&&(delegatingYield=!0,advance("*")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||";"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)),state.inMoz()&&")"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||"yield"===prev.id)&&error("E050",this)),this})),stmt("throw",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt("import",function(){if(state.inES6()||warning("W119",state.tokens.curr,"import","6"),"(string)"===state.tokens.next.type)return advance("(string)"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value)return advance("from"),advance("(string)"),this;advance(",")}if("*"===state.tokens.next.id)advance("*"),advance("as"),state.tokens.next.identifier&&(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}));else for(advance("{");;){if("}"===state.tokens.next.value){advance("}");break}var importName;if("default"===state.tokens.next.type?(importName="default",advance("default")):importName=identifier(),"as"===state.tokens.next.value&&(advance("as"),importName=identifier()),state.funct["(scope)"].addlabel(importName,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return advance("from"),advance("(string)"),this}).exps=!0,stmt("export",function(){var token,identifier,ok=!0;if(state.inES6()||(warning("W119",state.tokens.curr,"export","6"),ok=!1),state.funct["(scope)"].block.isGlobal()||(error("E053",state.tokens.curr),ok=!1),"*"===state.tokens.next.value)return advance("*"),advance("from"),advance("(string)"),this;if("default"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance("default");var exportType=state.tokens.next.id;return("function"===exportType||"class"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct["(scope)"].addlabel(identifier,{type:exportType,token:token}),state.funct["(scope)"].setExported(identifier,token)),this}if("{"===state.tokens.next.value){advance("{");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),"as"===state.tokens.next.value&&(advance("as"),state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance()),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return"from"===state.tokens.next.value?(advance("from"),advance("(string)")):ok&&exportedTokens.forEach(function(token){state.funct["(scope)"].setExported(token.value,token)}),this}if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud({inexport:!0});else if("let"===state.tokens.next.id)advance("let"),state.tokens.curr.fud({inexport:!0});else if("const"===state.tokens.next.id)advance("const"),state.tokens.curr.fud({inexport:!0});else if("function"===state.tokens.next.id)this.block=!0,advance("function"),state.syntax["function"].fud({inexport:!0});else if("class"===state.tokens.next.id){this.block=!0,advance("class");var classNameToken=state.tokens.next;state.syntax["class"].fud(),state.funct["(scope)"].setExported(classNameToken.value,classNameToken)}else error("E024",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord("abstract"),FutureReservedWord("boolean"),FutureReservedWord("byte"),FutureReservedWord("char"),FutureReservedWord("class",{es5:!0,nud:classdef}),FutureReservedWord("double"),FutureReservedWord("enum",{es5:!0}),FutureReservedWord("export",{es5:!0}),FutureReservedWord("extends",{es5:!0}),FutureReservedWord("final"),FutureReservedWord("float"),FutureReservedWord("goto"),FutureReservedWord("implements",{es5:!0,strictOnly:!0}),FutureReservedWord("import",{es5:!0}),FutureReservedWord("int"),FutureReservedWord("interface",{es5:!0,strictOnly:!0}),FutureReservedWord("long"),FutureReservedWord("native"),FutureReservedWord("package",{es5:!0,strictOnly:!0}),FutureReservedWord("private",{es5:!0,strictOnly:!0}),FutureReservedWord("protected",{es5:!0,strictOnly:!0}),FutureReservedWord("public",{es5:!0,strictOnly:!0}),FutureReservedWord("short"),FutureReservedWord("static",{es5:!0,strictOnly:!0}),FutureReservedWord("super",{es5:!0}),FutureReservedWord("synchronized"),FutureReservedWord("transient"),FutureReservedWord("volatile");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,["[","{"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,["[","{"])?bracketStack+=1:checkPunctuators(pn,["]","}"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&"for"===pn.value&&!checkPunctuator(prev,".")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,["}","]"])){if("="===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if("."===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,";")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&"(end)"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode="use",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning("W098",v.token,v.raw_text||v.value),v.undef&&state.funct["(scope)"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains(["use","define","generate","filter"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&"use"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&"define"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&"generate"===_current.mode?(state.funct["(scope)"].block.use(v,state.tokens.curr),!0):_current&&"filter"===_current.mode?(use(v)&&state.funct["(scope)"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||"object"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;"-"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],("esversion"===optionKey&&5===o[optionKey]||"es5"===optionKey&&o[optionKey])&&warning("I003"),"newcap"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj["(explicitNewcap)"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on("warning",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on("error",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor("(global)",null,{"(global)":!0,"(scope)":scopeManagerInst,"(comparray)":arrayComprehension(),"(metrics)":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt("E004",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+"[\\\\s\\\\S]*?"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,"ig"),s=s.replace(reIgnore,function(match){return match.replace(/./g," ")}))})),lex=new Lexer(s),lex.on("warning",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("error",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("fatal",function(ev){quit("E041",ev.line,ev.from)}),lex.on("Identifier",function(ev){emitter.emit("Identifier",ev)}),lex.on("String",function(ev){emitter.emit("String",ev)}),lex.on("Number",function(ev){emitter.emit("Number",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case"{":case"[":destructuringAssignOrJsonValue();break;default:directives(),state.directive["use strict"]&&"global"!==state.option.strict&&warning("W097",state.tokens.prev),statements()}"(end)"!==state.tokens.next.id&&quit("E041",state.tokens.curr.line),state.funct["(scope)"].unstack()}catch(err){if(!err||"JSHintError"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if("(main)"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct["(scope)"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct["(scope)"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f["(name)"],fu.param=f["(params)"],fu.line=f["(line)"],fu.character=f["(character)"],fu.last=f["(last)"],fu.lastcharacter=f["(lastcharacter)"],fu.metrics={complexity:f["(metrics)"].ComplexityCount,parameters:f["(metrics)"].arity,statements:f["(metrics)"].statementCount},data.functions.push(fu)}var unuseds=state.funct["(scope)"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if("number"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{"../lodash":"/node_modules/jshint/lodash.js","./lex.js":"/node_modules/jshint/src/lex.js","./messages.js":"/node_modules/jshint/src/messages.js","./options.js":"/node_modules/jshint/src/options.js","./reg.js":"/node_modules/jshint/src/reg.js","./scope-manager.js":"/node_modules/jshint/src/scope-manager.js","./state.js":"/node_modules/jshint/src/state.js","./style.js":"/node_modules/jshint/src/style.js","./vars.js":"/node_modules/jshint/src/vars.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/lex.js":[function(_dereq_,module,exports){"use strict";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;"string"==typeof lines&&(lines=lines.replace(/\\r\\n/g,"\\n").replace(/\\r/g,"\\n").split("\\n")),lines[0]&&"#!"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf("node")&&(state.option.node=!0),lines[0]=""),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input="",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=" ";this.ignoreLinterErrors=!1}var _=_dereq_("../lodash"),events=_dereq_("events"),reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,unicodeData=_dereq_("../data/ascii-identifier-data.js"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(" ").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case".":if(/^[0-9]$/.test(this.peek(1)))return null;if("."===this.peek(1)&&"."===this.peek(2))return{type:Token.Punctuator,value:"..."};case"(":case")":case";":case",":case"[":case"]":case":":case"~":case"?":return{type:Token.Punctuator,value:ch1};case"{":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case"}":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case"#":return{type:Token.Punctuator,value:ch1};case"":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),">"===ch1&&">"===ch2&&">"===ch3&&"="===ch4?{type:Token.Punctuator,value:">>>="}:"="===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"==="}:"!"===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"!=="}:">"===ch1&&">"===ch2&&">"===ch3?{type:Token.Punctuator,value:">>>"}:"<"===ch1&&"<"===ch2&&"="===ch3?{type:Token.Punctuator,value:"<<="}:">"===ch1&&">"===ch2&&"="===ch3?{type:Token.Punctuator,value:">>="}:"="===ch1&&">"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&"+-<>&|".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:"<>=!+-*%&|^".indexOf(ch1)>=0?"="===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:"/"===ch1?"="===ch2?{type:Token.Punctuator,value:"/="}:{type:Token.Punctuator,value:"/"}:null},scanComments:function(){function commentToken(label,body,opt){var special=["jshint","jslint","members","member","globals","global","exported"],isSpecial=!1,value=label+body,commentType="plain";return opt=opt||{},opt.isMultiline&&(value+="*/"),body=body.replace(/\\n/g," "),"/*"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType="falls through"),special.forEach(function(str){if(!isSpecial&&("//"!==label||"jshint"===str)&&(" "===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||" "!==body.charAt(0)||" "!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+" "+str,body=body.substr(str.length+1)),isSpecial))switch(str){case"member":commentType="members";break;case"global":commentType="globals";break;default:var options=body.split(":").map(function(v){return v.replace(/^\\s+/,"").replace(/\\s+$/,"")});if(2===options.length)switch(options[0]){case"ignore":switch(options[1]){case"start":self.ignoringLinterErrors=!0,isSpecial=!1;break;case"end":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if("*"===ch1&&"/"===ch2)return this.trigger("error",{code:"E018",line:startLine,character:startChar}),this.skip(2),null;if("/"!==ch1||"*"!==ch2&&"/"!==ch2)return null;if("/"===ch2)return this.skip(this.input.length),commentToken("//",rest);var body="";if("*"===ch2){for(this.inComment=!0,this.skip(2);"*"!==this.peek()||"/"!==this.peek(1);)if(""===this.peek()){if(body+="\\n",!this.nextLine())return this.trigger("error",{code:"E017",line:startLine,character:startChar}),this.inComment=!1,commentToken("/*",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken("/*",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=["if","in","do","var","for","new","try","let","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id="",index=0,readUnicodeEscapeSequence=function(){if(index+=1,"u"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,"\\\\u"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case"true":case"false":type=Token.BooleanLiteral;break;case"null":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return"$"===ch||"_"===ch||"\\\\"===ch||ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch}var bad,index=0,value="",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if("."!==char&&!isDecimalDigit(char))return null;if("."!==char){for(value=this.peek(index),index+=1,char=this.peek(index),"0"===value&&(("x"===char||"X"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),("o"===char||"O"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Octal integer literal","6"]}),index+=1,value+=char),("b"===char||"B"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Binary integer literal","6"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if("."===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if("e"===char||"E"===char){if(value+=char,index+=1,char=this.peek(index),("+"===char||"-"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case"\'":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\\'"]},checks,function(){return state.jsonMode});break;case"b":char="\\\\b";break;case"f":char="\\\\f";break;case"n":char="\\\\n";break;case"r":char="\\\\r";break;case"t":char="\\\\t";break;case"0":char="\\\\0";var n=parseInt(this.peek(1),10);this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case"u":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger("warning",{code:"W052",line:this.line,character:this.char,data:["u"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case"v":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\v"]},checks,function(){return state.jsonMode}),char="\v";break;case"x":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\x-"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case"\\\\":char="\\\\\\\\";break;case\'"\':char=\'\\\\"\';break;case"/":break;case"":allowNewLine=!0,char=""}return{"char":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value="",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if("`"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,"char":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||"}"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;"`"!==this.peek();){for(;""===(ch=this.peek());)if(value+="\\n",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger("error",{code:"E052",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if("$"===ch&&"{"===this.peek(1))return value+="${",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif("\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else"`"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if(\'"\'!==quote&&"\'"!==quote)return null;this.triggerAsync("warning",{code:"W108",line:this.line,character:this.char},checks,function(){return state.jsonMode&&\'"\'!==quote});var value="",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(""===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync("warning",{code:"W043",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync("warning",{code:"W042",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger("warning",{code:"W112",line:this.line,character:this.char}),!this.nextLine())return this.trigger("error",{code:"E029",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(" ">char&&this.trigger("warning",{code:"W113",line:this.line,character:this.char,data:["<non-printable>"]}),"\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body="",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){" ">char&&(malformed=!0,this.trigger("warning",{code:"W048",line:this.line,character:this.char})),"<"===char&&(malformed=!0,this.trigger("warning",{code:"W049",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||"/"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)"]"===char&&("\\\\"!==this.peek(index-1)||"\\\\"===this.peek(index-2))&&(isCharSet=!1),"\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if("\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),"/"===char){index+=1;continue}if("["===char){index+=1;continue}}if("["!==char){if("/"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger("error",{code:"E015",line:this.line,character:this.from}),void this.trigger("fatal",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(""))}catch(err){malformed=!0,this.trigger("error",{code:"E016",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith("/*","//")||this.inComment&&endsWith("*/")||(this.input="")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger("warning",{code:"W125",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger("warning",{code:"W100",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,"//")||startsWith.call(inputTrimmed,"/*"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger("warning",{code:"W101",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if("(endline)"!==type&&"(end)"!==type&&(this.prereg=!1),"(punctuator)"===type){switch(value){case".":case")":case"~":case"#":case"]":case"++":case"--":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax["(error)"])}return"(identifier)"===type&&(("return"===value||"case"===value||"typeof"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax["(error)"]),isReserved(obj,isProperty&&"(identifier)"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier="(identifier)"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create("(endline)",""):this.exhausted?null:(this.exhausted=!0,create("(end)",""));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync("String",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create("(string)",token.value,null,token);case Token.TemplateHead:return this.trigger("TemplateHead",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template)",token.value,null,token);case Token.TemplateMiddle:return this.trigger("TemplateMiddle",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template middle)",token.value,null,token);case Token.TemplateTail:return this.trigger("TemplateTail",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template tail)",token.value,null,token);case Token.NoSubstTemplate:return this.trigger("NoSubstTemplate",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(no subst template)",token.value,null,token);case Token.Identifier:this.triggerAsync("Identifier",{line:this.line,"char":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:"."===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create("(identifier)",token.value,"."===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger("warning",{code:"W045",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["0x-"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger("Number",{line:this.line,"char":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create("(number)",token.value);case Token.RegExp:return create("(regexp)",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:"(comment)",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case"":break;default:return create("(punctuator)",token.value)}else this.input.length&&(this.trigger("error",{code:"E024",line:this.line,character:this.char,data:[this.peek()]}),this.input="")}}},exports.Lexer=Lexer,exports.Context=Context},{"../data/ascii-identifier-data.js":"/node_modules/jshint/data/ascii-identifier-data.js","../lodash":"/node_modules/jshint/lodash.js","./reg.js":"/node_modules/jshint/src/reg.js","./state.js":"/node_modules/jshint/src/state.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/messages.js":[function(_dereq_,module,exports){"use strict";var _=_dereq_("../lodash"),errors={E001:"Bad option: \'{a}\'.",E002:"Bad option value.",E003:"Expected a JSON value.",E004:"Input is neither a string nor an array of strings.",E005:"Input is empty.",E006:"Unexpected early end of program.",E007:\'Missing "use strict" statement.\',E008:"Strict violation.",E009:"Option \'validthis\' can\'t be used in a global scope.",E010:"\'with\' is not allowed in strict mode.",E011:"\'{a}\' has already been declared.",E012:"const \'{a}\' is initialized to \'undefined\'.",E013:"Attempting to override \'{a}\' which is a constant.",E014:"A regular expression literal can be confused with \'/=\'.",E015:"Unclosed regular expression.",E016:"Invalid regular expression.",E017:"Unclosed comment.",E018:"Unbegun comment.",E019:"Unmatched \'{a}\'.",E020:"Expected \'{a}\' to match \'{b}\' from line {c} and instead saw \'{d}\'.",E021:"Expected \'{a}\' and instead saw \'{b}\'.",E022:"Line breaking error \'{a}\'.",E023:"Missing \'{a}\'.",E024:"Unexpected \'{a}\'.",E025:"Missing \':\' on a case clause.",E026:"Missing \'}\' to match \'{\' from line {a}.",E027:"Missing \']\' to match \'[\' from line {a}.",E028:"Illegal comma.",E029:"Unclosed string.",E030:"Expected an identifier and instead saw \'{a}\'.",E031:"Bad assignment.",E032:"Expected a small integer or \'false\' and instead saw \'{a}\'.",E033:"Expected an operator and instead saw \'{a}\'.",E034:"get/set are ES5 features.",E035:"Missing property name.",E036:"Expected to see a statement and instead saw a block.",E037:null,E038:null,E039:"Function declarations are not invocable. Wrap the whole function invocation in parens.",E040:"Each value should have its own case label.",E041:"Unrecoverable syntax error.",E042:"Stopping.",E043:"Too many errors.",E044:null,E045:"Invalid for each loop.",E046:"A yield statement shall be within a generator function (with syntax: `function*`)",E047:null,E048:"{a} declaration not directly within block.",E049:"A {a} cannot be named \'{b}\'.",E050:"Mozilla acequires the yield expression to be parenthesized here.",E051:null,E052:"Unclosed template literal.",E053:"Export declaration must be in global scope.",E054:"Class properties must be methods. Expected \'(\' but instead saw \'{a}\'.",E055:"The \'{a}\' option cannot be set after any executable code.",E056:"\'{a}\' was used before it was declared, which is illegal for \'{b}\' variables.",E057:"Invalid meta property: \'{a}.{b}\'.",E058:"Missing semicolon."},warnings={W001:"\'hasOwnProperty\' is a really bad name.",W002:"Value of \'{a}\' may be overwritten in IE 8 and earlier.",W003:"\'{a}\' was used before it was defined.",W004:"\'{a}\' is already defined.",W005:"A dot following a number can be confused with a decimal point.",W006:"Confusing minuses.",W007:"Confusing plusses.",W008:"A leading decimal point can be confused with a dot: \'{a}\'.",W009:"The array literal notation [] is preferable.",W010:"The object literal notation {} is preferable.",W011:null,W012:null,W013:null,W014:"Bad line breaking before \'{a}\'.",W015:null,W016:"Unexpected use of \'{a}\'.",W017:"Bad operand.",W018:"Confusing use of \'{a}\'.",W019:"Use the isNaN function to compare with NaN.",W020:"Read only.",W021:"Reassignment of \'{a}\', which is is a {b}. Use \'var\' or \'let\' to declare bindings that may change.",W022:"Do not assign to the exception parameter.",W023:"Expected an identifier in an assignment and instead saw a function invocation.",W024:"Expected an identifier and instead saw \'{a}\' (a reserved word).",W025:"Missing name in function declaration.",W026:"Inner functions should be listed at the top of the outer function.",W027:"Unreachable \'{a}\' after \'{b}\'.",W028:"Label \'{a}\' on {b} statement.",W030:"Expected an assignment or function call and instead saw an expression.",W031:"Do not use \'new\' for side effects.",W032:"Unnecessary semicolon.",W033:"Missing semicolon.",W034:\'Unnecessary directive "{a}".\',W035:"Empty block.",W036:"Unexpected /*member \'{a}\'.",W037:"\'{a}\' is a statement label.",W038:"\'{a}\' used out of scope.",W039:"\'{a}\' is not allowed.",W040:"Possible strict violation.",W041:"Use \'{a}\' to compare with \'{b}\'.",W042:"Avoid EOL escaping.",W043:"Bad escaping of EOL. Use option multistr if needed.",W044:"Bad or unnecessary escaping.",W045:"Bad number \'{a}\'.",W046:"Don\'t use extra leading zeros \'{a}\'.",W047:"A trailing decimal point can be confused with a dot: \'{a}\'.",W048:"Unexpected control character in regular expression.",W049:"Unexpected escaped character \'{a}\' in regular expression.",W050:"JavaScript URL.",W051:"Variables should not be deleted.",W052:"Unexpected \'{a}\'.",W053:"Do not use {a} as a constructor.",W054:"The Function constructor is a form of eval.",W055:"A constructor name should start with an uppercase letter.",W056:"Bad constructor.",W057:"Weird construction. Is \'new\' necessary?",W058:"Missing \'()\' invoking a constructor.",W059:"Avoid arguments.{a}.",W060:"document.write can be a form of eval.",W061:"eval can be harmful.",W062:"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.",W063:"Math is not a function.",W064:"Missing \'new\' prefix when invoking a constructor.",W065:"Missing radix parameter.",W066:"Implied eval. Consider passing a function instead of a string.",W067:"Bad invocation.",W068:"Wrapping non-IIFE function literals in parens is unnecessary.",W069:"[\'{a}\'] is better written in dot notation.",W070:"Extra comma. (it breaks older versions of IE)",W071:"This function has too many statements. ({a})",W072:"This function has too many parameters. ({a})",W073:"Blocks are nested too deeply. ({a})",W074:"This function\'s cyclomatic complexity is too high. ({a})",W075:"Duplicate {a} \'{b}\'.",W076:"Unexpected parameter \'{a}\' in get {b} function.",W077:"Expected a single parameter in set {a} function.",W078:"Setter is defined without getter.",W079:"Redefinition of \'{a}\'.",W080:"It\'s not necessary to initialize \'{a}\' to \'undefined\'.",W081:null,W082:"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",W083:"Don\'t make functions within a loop.",W084:"Assignment in conditional expression",W085:"Don\'t use \'with\'.",W086:"Expected a \'break\' statement before \'{a}\'.",W087:"Forgotten \'debugger\' statement?",W088:"Creating global \'for\' variable. Should be \'for (var {a} ...\'.",W089:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",W090:"\'{a}\' is not a statement label.",W091:null,W093:"Did you mean to return a conditional instead of an assignment?",W094:"Unexpected comma.",W095:"Expected a string and instead saw {a}.",W096:"The \'{a}\' key may produce unexpected results.",W097:\'Use the function form of "use strict".\',W098:"\'{a}\' is defined but never used.",W099:null,W100:"This character may get silently deleted by one or more browsers.",W101:"Line is too long.",W102:null,W103:"The \'{a}\' property is deprecated.",W104:"\'{a}\' is available in ES{b} (use \'esversion: {b}\') or Mozilla JS extensions (use moz).",W105:"Unexpected {a} in \'{b}\'.",W106:"Identifier \'{a}\' is not in camel case.",W107:"Script URL.",W108:"Strings must use doublequote.",W109:"Strings must use singlequote.",W110:"Mixed double and single quotes.",W112:"Unclosed string.",W113:"Control character in string: {a}.",W114:"Avoid {a}.",W115:"Octal literals are not allowed in strict mode.",W116:"Expected \'{a}\' and instead saw \'{b}\'.",W117:"\'{a}\' is not defined.",W118:"\'{a}\' is only available in Mozilla JavaScript extensions (use moz option).",W119:"\'{a}\' is only available in ES{b} (use \'esversion: {b}\').",W120:"You might be leaking a variable ({a}) here.",W121:"Extending prototype of native object: \'{a}\'.",W122:"Invalid typeof value \'{a}\'",W123:"\'{a}\' is already defined in outer scope.",W124:"A generator function shall contain a yield statement.",W125:"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp",W126:"Unnecessary grouping operator.",W127:"Unexpected use of a comma operator.",W128:"Empty array elements acequire elision=true.",W129:"\'{a}\' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.",W130:"Invalid element after rest element.",W131:"Invalid parameter after rest parameter.",W132:"`var` declarations are forbidden. Use `let` or `const` instead.",W133:"Invalid for-{a} loop left-hand-side: {b}.",W134:"The \'{a}\' option is only available when linting ECMAScript {b} code.",W135:"{a} may not be supported by non-browser environments.",W136:"\'{a}\' must be in function scope.",W137:"Empty destructuring.",W138:"Regular parameters should not come after default parameters."},info={I001:"Comma warnings can be turned off with \'laxcomma\'.",I002:null,I003:"ES5 option is now set per default"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{"../lodash":"/node_modules/jshint/lodash.js"}],"/node_modules/jshint/src/name-stack.js":[function(_dereq_,module){"use strict";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,"length",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix="";return nameToken&&"class"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,"(string)"!==type&&"(number)"!==type&&"(identifier)"!==type&&"default"!==type?"(expression)":(nameToken.accessorType&&(prefix=nameToken.accessorType+" "),prefix+nameToken.value)):"(empty)"},module.exports=NameStack},{}],"/node_modules/jshint/src/options.js":[function(_dereq_,module,exports){"use strict";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:"eqeqeq",windows:"wsh",sloppy:"strict"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],"/node_modules/jshint/src/reg.js":[function(_dereq_,module,exports){"use strict";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],"/node_modules/jshint/src/scope-manager.js":[function(_dereq_,module){"use strict";var _=_dereq_("../lodash"),events=_dereq_("events"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={"(labels)":Object.create(null),"(usages)":Object.create(null),"(breakLabels)":Object.create(null),"(parent)":_current,"(type)":type,"(params)":"functionparams"===type||"catchparams"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current["(usages)"][labelName]||(_current["(usages)"][labelName]={"(modified)":[],"(reassigned)":[],"(tokens)":[]})}function _checkForUnused(){if("functionparams"===_current["(type)"])return _checkParams(),void 0;var curentLabels=_current["(labels)"];for(var labelName in curentLabels)curentLabels[labelName]&&"exception"!==curentLabels[labelName]["(type)"]&&curentLabels[labelName]["(unused)"]&&_warnUnused(labelName,curentLabels[labelName]["(token)"],"var")}function _checkParams(){var params=_current["(params)"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current["(labels)"][param];if(unused_opt=_getUnusedOption(state.funct["(unusedOption)"]),"undefined"===param)return;if(label["(unused)"])_warnUnused(param,label["(token)"],"param",state.funct["(unusedOption)"]);else if("last-param"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i]["(labels)"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(usages)"][labelName])return current["(usages)"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if("outer"===state.option.shadow)for(var isGlobal="global"===_currentFunctBody["(type)"],isNewFunction="functionparams"===_current["(type)"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem["(labels)"][labelName]&&warning("W123",token,labelName),stackItem["(breakLabels)"][labelName]&&warning("W123",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&"function"===type||"function"!==type)&&warning("W003",token,labelName)}var _current,_scopeStack=[];_newScope("global"),_current["(predefined)"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt="last-param"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:["var"],"last-param":["var","param"],strict:["var","param","last-param"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning("W098",{line:line,from:chr},raw_name),(unused_opt||"var"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0]["(predefined)"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||"functionparams"!==previousScope["(type)"]||(_current["(isFuncBody)"]=!0,_current["(context)"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams="functionparams"===_current["(type)"],isUnstackingFunctionOuter="functionouter"===_current["(type)"],currentUsages=_current["(usages)"],currentLabels=_current["(labels)"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf("__proto__")&&usedLabelNameList.push("__proto__"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel["(type)"];if(usedLabel["(useOutsideOfScope)"]&&!state.option.funcscope){var usedTokens=usage["(tokens)"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel["(function)"]===usedTokens[j]["(function)"]&&error("W038",usedTokens[j],usedLabelName)}if(_current["(labels)"][usedLabelName]["(unused)"]=!1,"const"===usedLabelType&&usage["(modified)"])for(j=0;usage["(modified)"].length>j;j++)error("E013",usage["(modified)"][j],usedLabelName);if(("function"===usedLabelType||"class"===usedLabelType)&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)error("W021",usage["(reassigned)"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct["(isCapturing)"]=!0),subScope)if(subScope["(usages)"][usedLabelName]){var subScopeUsage=subScope["(usages)"][usedLabelName];subScopeUsage["(modified)"]=subScopeUsage["(modified)"].concat(usage["(modified)"]),subScopeUsage["(tokens)"]=subScopeUsage["(tokens)"].concat(usage["(tokens)"]),subScopeUsage["(reassigned)"]=subScopeUsage["(reassigned)"].concat(usage["(reassigned)"]),subScopeUsage["(onlyUsedSubFunction)"]=!1}else subScope["(usages)"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope["(usages)"][usedLabelName]["(onlyUsedSubFunction)"]=!0);else if("boolean"==typeof _current["(predefined)"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current["(predefined)"][usedLabelName]===!1&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)warning("W020",usage["(reassigned)"][j])}else if(usage["(tokens)"])for(j=0;usage["(tokens)"].length>j;j++){var undefinedToken=usage["(tokens)"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning("W117",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],"var")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName]["(blockscoped)"]||"exception"===currentLabels[defLabelName]["(type)"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope["(labels)"][defLabelName]=currentLabels[defLabelName],"global"!==_currentFunctBody["(type)"]&&(subScope["(labels)"][defLabelName]["(useOutsideOfScope)"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope["(isFuncBody)"]||"global"===scope["(type)"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||"param","exception"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&"exception"!==previouslyDefinedLabelType&&(state.option.node||warning("W002",state.tokens.next,labelName))}if(_.has(_current["(labels)"],labelName)?_current["(labels)"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current["(labels)"][labelName]={"(type)":type,"(token)":token,"(unused)":!0},_current["(params)"].push(labelName)),_.has(_current["(usages)"],labelName)){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}},validateParams:function(){if("global"!==_currentFunctBody["(type)"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody["(parent)"];currentFunctParamScope["(params)"]&&currentFunctParamScope["(params)"].forEach(function(labelName){var label=currentFunctParamScope["(labels)"][labelName];label&&label.duplicated&&(isStrict?warning("E011",label["(token)"],labelName):state.option.shadow!==!0&&warning("W004",label["(token)"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf("__proto__")&&list.push("__proto__"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return"__proto__"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName]["(type)"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0]["(labels)"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName]["(unused)"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope["(type)"])break;if(_.has(scope["(labels)"],labelName)&&!scope["(labels)"][labelName]["(blockscoped)"])return scope["(labels)"][labelName]["(unused)"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped="let"===type||"const"===type||"class"===type,isexported="global"===(isblockscoped?_current:_currentFunctBody)["(type)"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current["(labels)"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||"global"===_current["(type)"]||(declaredInCurrentScope=!!_currentFunctBody["(parent)"]["(labels)"][labelName]),!declaredInCurrentScope&&_current["(usages)"][labelName]){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}declaredInCurrentScope?warning("E011",token,labelName):"outer"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning("W004",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning("E011",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&"__proto__"!==labelName&&"global"!==_currentFunctBody["(type)"]&&warning("W004",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),"global"===_currentFunctBody["(type)"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current["(labels)"][labelName]&&(!onlyBlockscoped||current["(labels)"][labelName]["(blockscoped)"]))return current["(labels)"][labelName]["(type)"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&"functionparams"===scopeCheck["(type)"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(breakLabels)"][labelName])return!0;if("functionparams"===current["(type)"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!1,"(function)":_currentFunctBody,"(unused)":unused}}},block:{isGlobal:function(){return"global"===_current["(type)"]},use:function(labelName,token){var paramScope=_currentFunctBody["(parent)"];paramScope&&paramScope["(labels)"][labelName]&&"param"===paramScope["(labels)"][labelName]["(type)"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope["(labels)"][labelName]["(unused)"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token["(function)"]=_currentFunctBody,_current["(usages)"][labelName]["(tokens)"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current["(usages)"][labelName]["(reassigned)"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current["(usages)"][labelName]["(modified)"].push(token)},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!0,"(unused)":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning("E011",token,labelName):"outer"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning("W004",token,labelName):_checkOuterShadow(labelName,token)),_current["(breakLabels)"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{"../lodash":"/node_modules/jshint/lodash.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/state.js":[function(_dereq_,module,exports){"use strict";var NameStack=_dereq_("./name-stack.js"),state={syntax:{},isStrict:function(){return this.directive["use strict"]||this.inClassBody||this.option.module||"implied"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab="",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{"./name-stack.js":"/node_modules/jshint/src/name-stack.js"}],"/node_modules/jshint/src/style.js":[function(_dereq_,module,exports){"use strict";exports.register=function(linter){linter.on("Identifier",function(data){linter.getOption("proto")||"__proto__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name,"6"]})}),linter.on("Identifier",function(data){linter.getOption("iterator")||"__iterator__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("camelcase")&&data.name.replace(/^_+|_+$/g,"").indexOf("_")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn("W106",{line:data.line,"char":data.from,data:[data.name]})}),linter.on("String",function(data){var code,quotmark=linter.getOption("quotmark");quotmark&&("single"===quotmark&&"\'"!==data.quote&&(code="W109"),"double"===quotmark&&\'"\'!==data.quote&&(code="W108"),quotmark===!0&&(linter.getCache("quotmark")||linter.setCache("quotmark",data.quote),linter.getCache("quotmark")!==data.quote&&(code="W110")),code&&linter.warn(code,{line:data.line,"char":data.char}))}),linter.on("Number",function(data){"."===data.value.charAt(0)&&linter.warn("W008",{line:data.line,"char":data.char,data:[data.value]}),"."===data.value.substr(data.value.length-1)&&linter.warn("W047",{line:data.line,"char":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn("W046",{line:data.line,"char":data.char,data:[data.value]})}),linter.on("String",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption("scripturl")||re.test(data.value)&&linter.warn("W107",{line:data.line,"char":data.char})})}},{}],"/node_modules/jshint/src/vars.js":[function(_dereq_,module,exports){"use strict";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},["/node_modules/jshint/src/jshint.js"])}),ace.define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/javascript/jshint"],function(acequire,exports,module){"use strict";function startRegex(arr){return RegExp("^("+arr.join("|")+")")}var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,lint=acequire("./javascript/jshint").JSHINT,disabledWarningsRe=startRegex(["Bad for in variable \'(.+)\'.",\'Missing "use strict"\']),errorsRe=startRegex(["Unexpected","Expected ","Confusing (plus|minus)","\\\\{a\\\\} unterminated regular expression","Unclosed ","Unmatched ","Unbegun comment","Bad invocation","Missing space after","Missing operator at"]),infoRe=startRegex(["Expected an assignment","Bad escapement of EOL","Unexpected comma","Unexpected space","Missing radix parameter.","A leading decimal point can","\\\\[\'{a}\'\\\\] is better written in dot notation.","\'{a}\' used out of scope"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval("throw 0;"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,"\\n"),!value)return this.sender.emit("annotate",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?"warning":"error";lint(value,this.options,this.options.globals);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type="warning";if("Missing semicolon."==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),"error"==maxErrorLevel&&str&&/[\\w\\d{([\'"]/.test(str)?(error.reason=\'Missing ";" before statement\',type="error"):type="info"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type="info":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):"\'{a}\' is not defined."==raw?type="warning":"\'{a}\' is defined but never used."==raw&&(type="info")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit("annotate",errors)}}.call(JavaScriptWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},WSmR:function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new class{constructor(e,t){this.project=e,this.resultSelector=t}call(e,t){return t.subscribe(new class extends i.a{constructor(e,t,n){super(e),this.project=t,this.resultSelector=n,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=Object(r.a)(this,e,t,n))}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,r){this.resultSelector?this._tryNotifyNext(e,t,n,i):this.destination.next(t)}_tryNotifyNext(e,t,n,i){let r;try{r=this.resultSelector(e,t,n,i)}catch(e){return void this.destination.error(e)}this.destination.next(r)}}(e,this.project,this.resultSelector))}}(e,t))}};var i=n("7wpj"),r=n("t0Wy")},Xq7M:function(e,t,n){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var r=s(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,l=t.length;a<l;++a){var c=s(e,t[a]);if(void 0==c&&i.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},i=function(e,t){var r=n("",e,t);return void 0==r&&i.original?i.original.apply(this,arguments):r},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0)){for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,i){i=r(e,i);var s=t.modules[i];if(!s){if("function"==typeof(s=t.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0};o=s(function(e,t){return n(i,e,t)},o,a)||a.exports,t.modules[i]=o,delete t.payloads[i]}s=t.modules[i]=o||s}return s};!function(n){var r=e;n&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.acequire&&r.acequire.packaged||(i.original=r.acequire,r.acequire=i,r.acequire.packaged=!0)}("ace")}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";var i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},r=void 0===i.exec.call(/()??/,"")[1],s=function(){var e=/^/g;return i.test.call(e,""),!e.lastIndex}();s&&r||(RegExp.prototype.exec=function(e){var t,n,o=i.exec.apply(this,arguments);if("string"==typeof e&&o){if(!r&&o.length>1&&function(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}(o,"")>-1&&(n=RegExp(this.source,i.replace.call(function(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}(this),"g","")),i.replace.call(e.slice(o.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var a=1;a<o.length;a++)(t=this._xregexp.captureNames[a-1])&&(o[t]=o[a]);!s&&this.global&&!o[0].length&&this.lastIndex>o.index&&this.lastIndex--}return o},s||(RegExp.prototype.test=function(e){var t=i.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function i(){}function r(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function s(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=m.call(arguments,1),r=function(){if(this instanceof r){var i=t.apply(this,n.concat(m.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(m.call(arguments)))};return t.prototype&&(i.prototype=t.prototype,r.prototype=new i,i.prototype=null),r});var o,a,l,c,u,h=Function.prototype.call,d=Array.prototype,p=Object.prototype,m=d.slice,f=h.bind(p.toString),g=h.bind(p.hasOwnProperty);if((u=g(p,"__defineGetter__"))&&(o=h.bind(p.__defineGetter__),a=h.bind(p.__defineSetter__),l=h.bind(p.__lookupGetter__),c=h.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(m.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var i=this.slice(e,e+t),r=m.call(arguments,2),s=r.length;if(e===n)s&&this.push.apply(this,r);else{var o=Math.min(t,n-e),a=e+o,l=a+s-o,c=n-a,u=n-o;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(s&&e===u)this.length=u,this.push.apply(this,r);else for(this.length=u+s,h=0;h<s;++h)this[e+h]=r[h]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==f(e)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=L(this),n=b&&"[object String]"==f(this)?this.split(""):t,i=arguments[1],r=-1,s=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError;for(;++r<s;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=L(this),n=b&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0,r=Array(i),s=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)o in n&&(r[o]=e.call(s,n[o],o,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=L(this),i=b&&"[object String]"==f(this)?this.split(""):n,r=i.length>>>0,s=[],o=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in i&&(t=i[a],e.call(o,t,a,n)&&s.push(t));return s}),Array.prototype.every||(Array.prototype.every=function(e){var t=L(this),n=b&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)if(s in n&&!e.call(r,n[s],s,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=L(this),n=b&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)if(s in n&&e.call(r,n[s],s,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=L(this),n=b&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}for(;s<i;s++)s in n&&(r=e.call(void 0,r,n[s],s,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=L(this),n=b&&"[object String]"==f(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}do{s in this&&(r=e.call(void 0,r,n[s],s,t))}while(s--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==f(this)?this.split(""):L(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=s(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==f(this)?this.split(""):L(this),n=t.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,s(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(g(e,t)){var n;if(n={enumerable:!0,configurable:!0},u){var i=e.__proto__;e.__proto__=p;var r=l(e,t),s=c(e,t);if(e.__proto__=i,r||s)return r&&(n.get=r),s&&(n.set=s),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var _;_=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=_();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,(n=new i).__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var x=r({}),w="undefined"==typeof document||r(document.createElement("div"));if(!x||!w)var E=Object.defineProperty}if(!Object.defineProperty||E){Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(E)try{return E.call(Object,e,t,n)}catch(e){}if(g(n,"value"))if(u&&(l(e,t)||c(e,t))){var i=e.__proto__;e.__proto__=p,delete e[t],e[t]=n.value,e.__proto__=i}else e[t]=n.value;else{if(!u)throw new TypeError("getters & setters can not be defined on this javascript engine");g(n,"get")&&o(e,t,n.get),g(n,"set")&&a(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)g(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";g(e,t);)t+="?";e[t]=!0;var n=g(e,t);return delete e[t],n}),!Object.keys){var T=!0,S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=S.length;for(var A in{toString:null})T=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)g(e,n)&&t.push(n);if(T)for(var i=0,r=k;i<r;i++){var s=S[i];g(e,s)&&t.push(s)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var C="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||C.trim()){C="["+C+"]";var M=new RegExp("^"+C+C+"*"),R=new RegExp(C+C+"*$");String.prototype.trim=function(){return String(this).replace(M,"").replace(R,"")}}var L=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if((t=t||document).createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,n,i){if(i=i||document,n&&t.hasCssString(n,i))return null;var r;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?((r=i.createStyleSheet()).cssText=e,n&&(r.owningElement.id=n)):((r=t.createElement("style")).appendChild(i.createTextNode(e)),n&&(r.id=n),t.getDocumentHead(i).appendChild(r))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var s=e.documentElement;s.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return o==a&&(a=i.clientWidth),s.removeChild(i),o-a},"undefined"!=typeof document?(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}):t.importCssString=function(){}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isIPad=r.indexOf("iPad")>=0,t.isTouchPad=r.indexOf("TouchPad")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function i(e,t,n){var i=c(t);if(!o.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),a.altGr){if(3==(3&i))return;a.altGr=0}if(18===n||17===n){var r="location"in t?t.location:t.keyLocation;if(17===n&&1===r)1==a[n]&&(l=t.timeStamp);else if(18===n&&3===i&&2===r){t.timeStamp-l<50&&(a.altGr=!0)}}}if(n in s.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&n<=93&&(n=-1),!i&&13===n){if(3===(r="location"in t?t.location:t.keyLocation)&&(e(t,i,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in s.FUNCTION_KEYS||n in s.PRINTABLE_KEYS)&&e(t,i,n)}function r(){a=Object.create(null)}var s=e("./keys"),o=e("./useragent"),a=null,l=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,i){function r(e){n&&n(e),i&&i(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var i,r;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];i=t.clientX,r=t.clientY}),t.addListener(e,"touchmove",function(e){var t=e.changedTouches[0];e.wheelX=-(t.clientX-i)/1,e.wheelY=-(t.clientY-r)/1,i=t.clientX,r=t.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,i,r){function s(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;u&&!s||(h=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),1==h&&(l=e.clientX,c=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](d[h],e)}function a(e){h=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),i[r]("mousedown",e),i[r](d[h],e)}var l,c,u,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",s),o.isOldIE&&t.addListener(e,"dblclick",a)})};var c=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return s.KEY_MODS[c(e)]},t.addCommandKeyListener=function(e,n){var s=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var l=null;s(e,"keydown",function(e){l=e.keyCode}),s(e,"keypress",function(e){return i(n,e,l)})}else{var c=null;s(e,"keydown",function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=i(n,e,e.keyCode);return c=e.defaultPrevented,t}),s(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),s(e,"keyup",function(e){a[e.keyCode]=null}),a||(r(),s(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-1";t.addListener(n,"message",function r(s){s.data==i&&(t.stopPropagation(s),t.removeListener(n,"message",r),e())}),n.postMessage(i,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;n={};for(var i in t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),a=r.isChrome<18,l=r.isIE;t.TextInput=function(e,t){function n(e){if(!f){if(f=!0,k)t=0,n=e?0:h.value.length-1;else var t=e?2:1,n=2;try{h.setSelectionRange(t,n)}catch(e){}f=!1}}function c(){f||(h.value=d,r.isWebKit&&_.schedule())}function u(){clearTimeout(j),j=setTimeout(function(){g&&(h.style.cssText=g,g=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},r.isOldIE?200:0)}var h=s.createElement("textarea");h.className="ace_text-input",r.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",r.isOldIE&&(h.style.top="-1000px"),e.insertBefore(h,e.firstChild);var d="\x01\x01",p=!1,m=!1,f=!1,g="",v=!0;try{var y=document.activeElement===h}catch(e){}i.addListener(h,"blur",function(e){t.onBlur(e),y=!1}),i.addListener(h,"focus",function(e){y=!0,t.onFocus(e),n()}),this.focus=function(){if(g)return h.focus();var e=h.style.top;h.style.position="fixed",h.style.top="0px",h.focus(),setTimeout(function(){h.style.position="","0px"==h.style.top&&(h.style.top=e)},0)},this.blur=function(){h.blur()},this.isFocused=function(){return y};var b=o.delayedCall(function(){y&&n(v)}),_=o.delayedCall(function(){f||(h.value=d,y&&n())});r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,b.schedule())}),c(),y&&t.onFocus();var x=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},x=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),r.isOldIE){var w=!1,E=function(e){if(!w){var t=h.value;if(!f&&t&&t!=d){if(e&&t==d[0])return T.schedule();C(t),w=!0,c(),w=!1}}},T=o.delayedCall(E);i.addListener(h,"propertychange",E);var S={13:1,27:1};i.addListener(h,"keyup",function(e){if(!f||h.value&&!S[e.keyCode]||setTimeout(N,0),(h.value.charCodeAt(0)||0)<129)return T.call();f?I():F()}),i.addListener(h,"keydown",function(e){T.schedule(50)})}var k=null;this.setInputHandler=function(e){k=e},this.getInputHandler=function(){return k};var A=!1,C=function(e){k&&(e=k(e),k=null),m?(n(),e&&t.onPaste(e),m=!1):e==d.charAt(0)?A?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),A&&(A=!1)},M=function(e){if(!f){var t=h.value;C(t),c()}},R=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!a){var r=l||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return R(e,t,!0)}}},L=function(e,r){var s=t.getCopyText();if(!s)return i.preventDefault(e);R(e,s)?(r?t.onCut():t.onCopy(),i.preventDefault(e)):(p=!0,h.value=s,h.select(),setTimeout(function(){p=!1,c(),n(),r?t.onCut():t.onCopy()}))},P=function(e){L(e,!0)},O=function(e){L(e,!1)},D=function(e){var s=R(e);"string"==typeof s?(s&&t.onPaste(s,e),r.isIE&&setTimeout(n),i.preventDefault(e)):(h.value="",m=!0)};i.addCommandKeyListener(h,t.onCommandKey.bind(t)),i.addListener(h,"select",function(e){p?p=!1:x(h)?(t.selectAll(),n()):k&&n(t.selection.isEmpty())}),i.addListener(h,"input",M),i.addListener(h,"cut",P),i.addListener(h,"copy",O),i.addListener(h,"paste",D),"oncut"in h&&"oncopy"in h&&"onpaste"in h||i.addListener(e,"keydown",function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:O(e);break;case 86:D(e);break;case 88:P(e)}});var F=function(e){f||!t.onCompositionStart||t.$readOnly||((f={}).canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(I,0),t.on("mousedown",N),f.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},I=function(){if(f&&t.onCompositionUpdate&&!t.$readOnly){var e=h.value.replace(/\x01/g,"");if(f.lastValue!==e&&(t.onCompositionUpdate(e),f.lastValue&&t.undo(),f.canUndo&&(f.lastValue=e),f.lastValue)){var n=t.selection.getRange();t.insert(f.lastValue),t.session.markUndoGroup(),f.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},N=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=f;f=!1;var i=setTimeout(function(){i=null;var e=h.value.replace(/\x01/g,"");f||(e==n.lastValue?c():!n.lastValue&&e&&(c(),C(e)))});k=function(e){return i&&clearTimeout(i),(e=e.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&i&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",N),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range),r.isChrome&&r.isChrome>=53&&M()}},B=o.delayedCall(I,50);i.addListener(h,"compositionstart",F),r.isGecko?i.addListener(h,"text",function(){B.schedule()}):(i.addListener(h,"keyup",function(){B.schedule()}),i.addListener(h,"keydown",function(){B.schedule()})),i.addListener(h,"compositionend",N),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){A=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!r.isOldIE){g||(g=h.style.cssText),h.style.cssText=(n?"z-index:100000;":"")+"height:"+h.style.height+";"+(r.isIE?"opacity:0.1;":"");var o=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),l=o.top+(parseInt(a.borderTopWidth)||0),c=o.left+(parseInt(o.borderLeftWidth)||0),d=o.bottom-l-h.clientHeight-2,p=function(e){h.style.left=e.clientX-c-2+"px",h.style.top=Math.min(e.clientY-l-2,d)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(j),r.isWin&&!r.isOldIE&&i.capture(t.container,p,u))}},this.onContextMenuClose=u;var j,z=function(e){t.textInput.onContextMenu(e),u()};i.addListener(h,"mouseup",z),i.addListener(h,"mousedown",function(e){e.preventDefault(),u()}),i.addListener(t.renderer.scroller,"contextmenu",z),i.addListener(h,"contextmenu",z)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}e("../lib/dom"),e("../lib/event"),e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var s=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(s||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&i.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var s=r(this.$clickSelection,n);n=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),s=n.selection[e](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==o&&a<=0)t=this.$clickSelection.end,s.end.row==i.row&&s.end.column==i.column||(i=s.start);else if(1==a&&o>=0)t=this.$clickSelection.start,s.start.row==i.row&&s.start.column==i.column||(i=s.end);else if(-1==o&&1==a)i=s.end,t=s.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=function(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor;return i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor;if(i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200)return this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(i.prototype),t.DefaultHandlers=i}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var r=e("./lib/dom");(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){r.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(i.prototype),t.Tooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function i(e){a.call(this,e)}var r=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event"),a=e("../tooltip").Tooltip;s.inherits(i,a),(function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();t+=15,(e+=15)+r>n&&(e-=e+r-n),t+s>i&&(t-=20+s),a.prototype.setPosition.call(this,e,t)}}).call(i.prototype),t.GutterHandler=function(e){function t(){c&&(c=clearTimeout(c)),h&&(l.hide(),h=null,s._signal("hideGutterTooltip",l),s.removeEventListener("mousewheel",t))}function n(e){l.setPosition(e.x,e.y)}var s=e.editor,a=s.renderer.$gutterLayer,l=new i(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=a.getRegion(t)){var n=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}});var c,u,h;e.editor.setDefaultHandler("guttermousemove",function(i){var o=i.domEvent.target||i.domEvent.srcElement;if(r.hasCssClass(o,"ace_fold-widget"))return t();h&&e.$tooltipFollowsMouse&&n(i),u=i,c||(c=setTimeout(function(){c=null,u&&!e.isMousePressed?function(){var i=u.getDocumentPosition().row,r=a.$annotations[i];if(!r)return t();if(i==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,u.y).row,c=u.$pos;if(o>s.session.documentToScreenRow(c.row,c.column))return t()}if(h!=r)if(h=r.text.join("<br/>"),l.setHtml(h),l.show(),s._signal("showGutterTooltip",l),s.on("mousewheel",t),e.$tooltipFollowsMouse)n(u);else{var d=u.domEvent.target.getBoundingClientRect(),p=l.getElement().style;p.left=d.right+"px",p.top=d.bottom+"px"}}():t()},50))}),o.addListener(s.renderer.$gutter,"mouseout",function(e){u=null,h&&!c&&(c=setTimeout(function(){c=null,t()},50))}),s.on("changeSession",t)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function i(e){function t(){var e=x;(function(e,t){var n=Date.now(),i=!t||e.row!=t.row,s=!t||e.column!=t.column;!S||i||s?(m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,S=n,k={x:v,y}):r(k.x,k.y,v,y)>u?S=null:n-S>=c&&(m.renderer.scrollCursorIntoView(),S=null)})(x=m.renderer.screenToTextCoordinates(v,y),e),function(e,t){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,s=m.renderer.scroller.getBoundingClientRect(),o={x:{left:v-s.left,right:s.right-v},y:{top:y-s.top,bottom:s.bottom-y}},a=Math.min(o.x.left,o.x.right),c=Math.min(o.y.top,o.y.bottom),u={row:e.row,column:e.column};a/r<=2&&(u.column+=o.x.left<o.x.right?-3:2),c/i<=1&&(u.row+=o.y.top<o.y.bottom?-1:1);var h=e.row!=u.row,d=e.column!=u.column,p=!t||e.row!=t.row;h||d&&!p?T?n-T>=l&&m.renderer.scrollCursorIntoView(u):T=n:T=null}(x,e)}function n(){_=m.selection.toOrientedRange(),g=m.session.addMarker(_,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(b),t(),b=setInterval(t,20),C=0,o.addListener(document,"mousemove",h)}function i(){clearInterval(b),m.session.removeMarker(g),g=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(_),m.$blockScrolling-=1,m.isFocused()&&!E&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),_=null,x=null,C=0,T=null,S=null,o.removeListener(document,"mousemove",h)}function h(){null==M&&(M=setTimeout(function(){null!=M&&g&&i()},20))}function d(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function p(e){var t=["copy","copymove","all","uninitialized"],n=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}var m=e.editor,f=s.createElement("img");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(f.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var g,v,y,b,_,x,w,E,T,S,k,A=m.container,C=0;this.onDragStart=function(e){if(this.cancelDrag||!A.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}_=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(f),f.scrollTop=0),n.setDragImage&&n.setDragImage(f,0,0),a.isOpera&&m.container.removeChild(f),n.clearData(),n.setData("Text",m.session.getTextRange()),E=!0,this.setState("drag")},this.onDragEnd=function(e){if(A.draggable=!1,E=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;w||"move"!=t||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!m.getReadOnly()&&d(e.dataTransfer))return v=e.clientX,y=e.clientY,g||n(),C++,e.dataTransfer.dropEffect=w=p(e),o.preventDefault(e)},this.onDragOver=function(e){if(!m.getReadOnly()&&d(e.dataTransfer))return v=e.clientX,y=e.clientY,g||(n(),C++),null!==M&&(M=null),e.dataTransfer.dropEffect=w=p(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--C<=0&&g)return i(),w=null,o.preventDefault(e)},this.onDrop=function(e){if(x){var t=e.dataTransfer;if(E)switch(w){case"move":_=_.contains(x.row,x.column)?{start:x,end:x}:m.moveText(_,x);break;case"copy":_=m.moveText(_,x,!0)}else{var n=t.getData("Text");_={start:x,end:m.session.insert(x,n)},m.focus(),w=null}return i(),o.preventDefault(e)}},o.addListener(A,"dragstart",this.onDragStart.bind(e)),o.addListener(A,"dragend",this.onDragEnd.bind(e)),o.addListener(A,"dragenter",this.onDragEnter.bind(e)),o.addListener(A,"dragover",this.onDragOver.bind(e)),o.addListener(A,"dragleave",this.onDragLeave.bind(e)),o.addListener(A,"drop",this.onDrop.bind(e));var M=null}function r(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var s=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=a.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop()}if("dragWait"===this.state){r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;t.container.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(i.prototype),t.DragdropHandler=i}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;t&&this.addEventListener(e,function i(){n.removeEventListener(e,i),t.apply(null,arguments)})},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var s=r.indexOf(t);-1!=s&&r.splice(s,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t){n[e];i&&this.setDefaultHandler(e,i.pop())}else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=i}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function i(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var s=e("./oop"),o=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return i('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:i('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){s.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)}),s.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=i,this.reportError=r}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,i){"no use strict";function r(r){if(l&&l.document){c.packaged=r||e.packaged||i.packaged||l.define&&n("MwgA").packaged;for(var s={},o="",a=document.currentScript||document._currentScript,u=(a&&a.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],p=d.src||d.getAttribute("src");if(p){for(var m=d.attributes,f=0,g=m.length;f<g;f++){var v=m[f];0===v.name.indexOf("data-ace-")&&(s[function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}(v.name.replace(/^data-ace-/,""))]=v.value)}var y=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(o=y[1])}}o&&(s.base=s.base||o,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var b in s)"undefined"!=typeof s[b]&&t.set(b,s[b])}}var s=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;i.exports=t=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return s.copyObject(c)},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(s,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var o=c[t+"Path"];return null==o?o=c.basePath:"/"==i&&(t=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=e(n)}catch(e){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();o.loadScript(t.moduleUrl(n,s),a)}},r(!0),t.init=r}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new s(this),new o(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click")),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),i.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;i.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),i.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),i.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),i.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),i.addListener(a,"mousedown",n),i.addListener(c,"mousedown",n),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n),i.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),s=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?s.setCursorStyle("default"):s.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new a(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){if(e){if(r.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e)},c=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});s.$onCaptureMouseMove=o,s.releaseMouse=i.capture(this.editor.container,o,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=(function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}).bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";t.FoldHandler=function(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())}),e.on("gutterclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),s=r.range||r.firstRange;if(s){n=s.start.row;var o=i.getFoldAt(n,i.getLine(n).length,1);o?i.removeFold(o):(i.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((s=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&s.command&&((o="null"==s.command||a.exec(s.command,this.$editor,s.args,i))&&i&&-1!=e&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(i),o)););return o||-1!=e||(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){i.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})}},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var s=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var s=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<s&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var s=r.stringReverse(i),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||e>0)&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{(e=this.getRange()).isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var i=e("./config"),r=2e3,s=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],r=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),s[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(s[0]=0,i.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,s=n.length;r<s;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;r<s;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,s,o,a,l){return i?i="]"!=a:a?i=!0:o?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):s&&(n++,1!=s.length&&(r.stack=n,r.start=l)),e}),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){"#tmp"===(t=(n=t.slice(0))[0])&&(n.shift(),t=n.shift())}else var n=[];var i=t||"start",s=this.states[i];s||(i="start",s=this.states[i]);var o=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=o.defaultToken,m=null,f=l[0],g=a.lastIndex;if(g-f.length>u){var v=e.substring(u,g-f.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(m=s[o[y]]).onMatch?m.onMatch(f,i,n):m.token,m.next&&(i="string"==typeof m.next?m.next:m.next(i,n),(s=this.states[i])||(this.reportError("state doesn't exist",i),i="start",s=this.states[i]),o=this.matchMappings[i],u=g,(a=this.regExps[i]).lastIndex=g);break}if(f)if("string"==typeof p)m&&!1===m.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:f}):d.value+=f;else if(p){d.type&&c.push(d),d={type:null,value:""};for(y=0;y<p.length;y++)c.push(p[y])}if(u==e.length)break;if(u=g,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=2e3),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(s.prototype),t.Tokenizer=s}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var s=i[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(t)&&(s.next=t+s.next),s.nextState&&0!==s.nextState.indexOf(t)&&(s.nextState=t+s.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,s){var o="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else{r=[];for(var l in o)r.push(t+l)}if(this.addRules(o,t),n){var c=Array.prototype[s?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(s){var o=r[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),r[h]&&(h+=i++)),r[h]=u,l.next=h,n(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];var p="string"==typeof l?l:"string"==typeof l.include?l.include:"";if(p&&(c=r[p]),c){var m=[a,1].concat(c);l.noEscape&&(m=m.filter(function(e){return!e.next})),o.splice.apply(o,m),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return Object.keys(e).forEach(function(t){var s=e[t];n&&(s=s.toLowerCase());for(var o=s.split(i||"|"),a=o.length;a--;)r[o[a]]=t}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype),t.TokenIterator=i}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var i,r=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},p=function(){this.add("braces","insertion",function(e,t,n,r,s){var o=n.getCursorPosition(),l=r.doc.getLine(o.row);if("{"==s){h(n);var c=n.getSelectionRange(),u=r.doc.getTextRange(c);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return d(c,u,"{","}");if(p.isSaneInsertion(n,r))return/[\]\}\)]/.test(l[o.column])||n.inMultiSelectMode?(p.recordAutoInsert(n,r,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(n,r,"{"),{text:"{",selection:[1,1]})}else if("}"==s){h(n);if("}"==l.substring(o.column,o.column+1)){if(null!==r.$findOpeningBracket("}",{column:o.column+1,row:o.row})&&p.isAutoInsertedClosing(o,l,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==s||"\r\n"==s){h(n);var m="";p.isMaybeInsertedClosing(o,l)&&(m=a.stringRepeat("}",i.maybeInsertedBrackets),p.clearMaybeInsertedClosing());if("}"===l.substring(o.column,o.column+1)){var f=r.findMatchingBracket({row:o.row,column:o.column+1},"}");if(!f)return null;var g=this.$getIndent(r.getLine(f.row))}else{if(!m)return void p.clearMaybeInsertedClosing();g=this.$getIndent(l)}var v=g+r.getTabString();return{text:"\n"+v+"\n"+g+m,selection:[1,v.length,1,v.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,r,s){var o=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){h(n);if("}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,i,r){if("("==r){h(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return d(s,o,"(",")");if(p.isSaneInsertion(n,i))return p.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)){if(null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s){h(n);if(")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,n,i,r){if("["==r){h(n);var s=n.getSelectionRange(),o=i.doc.getTextRange(s);if(""!==o&&n.getWrapBehavioursEnabled())return d(s,o,"[","]");if(p.isSaneInsertion(n,i))return p.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)){if(null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s){h(n);if("]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,n,i,r){if('"'==r||"'"==r){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;h(n);var s=r,o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return d(o,a,s,s);if(!a){var l=n.getCursorPosition(),c=i.doc.getLine(l.row),u=c.substring(l.column-1,l.column),p=c.substring(l.column,l.column+1),m=i.getTokenAt(l.row,l.column),f=i.getTokenAt(l.row,l.column+1);if("\\"==u&&m&&/escape/.test(m.type))return null;var g,v=m&&/string|escape/.test(m.type),y=!f||/string|escape/.test(f.type);if(p==s)(g=v!==y)&&/string\.end/.test(f.type)&&(g=!1);else{if(v&&!y)return null;if(v&&y)return null;var b=i.$mode.tokenRe;b.lastIndex=0;var _=b.test(u);b.lastIndex=0;var x=b.test(u);if(_||x)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;g=!0}return{text:g?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)){h(n);if(i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s)return r.end.column++,r}})};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),s=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,s,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+s.substr(r.column),i.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),s=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,s)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=s.substr(0,r.column)+n,i.maybeInsertedLineEnd=s.substr(r.column),i.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(p,s),t.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";t.packages={},function(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var i=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,o=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function r(e){for(var t=n;t<=i;t++)e(s.getLine(t),t)}var s=t.doc,o=!0,l=!0,c=1/0,u=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(a.escapeRegExp).join("|"),m=this.lineCommentStart[0];else g=a.escapeRegExp(this.lineCommentStart),m=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),h=t.getUseSoftTabs();b=function(e,t){var n=e.match(g);if(n){var i=n[1].length,r=n[0].length;p(e,i,r)||" "!=n[0][r-1]||r--,s.removeInLine(t,i,r)}};var d=m+" ",p=(y=function(e,t){o&&!/\S/.test(e)||(p(e,c,c)?s.insertInLine({row:t,column:c},d):s.insertInLine({row:t,column:c},m))},_=function(e,t){return g.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%u!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0})}else{if(!this.blockComment)return!1;var m=this.blockComment.start,f=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+a.escapeRegExp(m)+")"),v=new RegExp("(?:"+a.escapeRegExp(f)+")\\s*$"),y=function(e,t){_(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},f),s.insertInLine({row:t,column:c},m))},b=function(e,t){var n;(n=e.match(v))&&s.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&s.removeInLine(t,n[1].length,n[0].length)},_=function(e,n){if(g.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var x=1/0;r(function(e,t){var n=e.search(/\S/);-1!==n?(n<c&&(c=n),l&&!_(e,t)&&(l=!1)):x>e.length&&(x=e.length)}),c==1/0&&(c=x,o=!1,l=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),r(l?b:y)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(f=new l(t,i.row,i.column)).getCurrentToken(),u=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(g=a.value.indexOf(r.start))){var p=f.getCurrentTokenRow(),m=f.getCurrentTokenColumn()+g;h=new c(p,m,p,m+r.start.length);break}a=f.stepBackward()}var f;for(a=(f=new l(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var g;if(-1!=(g=a.value.indexOf(r.end))){p=f.getCurrentTokenRow(),m=f.getCurrentTokenColumn()+g;d=new c(p,m,p,m+r.end.length);break}a=f.stepForward()}d&&t.remove(d),h&&(t.remove(h),s=h.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);u.start.row==s&&(u.start.column+=o),u.end.row==s&&(u.end.column+=o),t.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<n.length;t++)!function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var s=i.split(this.$embeds[r]);if(!s[0]&&s[1]){t[0]=s[1];var o=this.$modes[this.$embeds[r]];return o[e].apply(o,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)if(/keyword|support|storage/.test(r[s].token[a])){i=r[s].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,s=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=s.substring(0,r)+t.lines[0]+s.substring(r);else{var o=[i,1].concat(t.lines);e.splice.apply(e,o),e[i]=s.substring(0,r)+e[i],e[i+t.lines.length-1]+=s.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=s.substring(0,r)+s.substring(a):e.splice(i,l-i+1,s.substring(0,r)+e[l].substring(a))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,s=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+s,column:n.column+(n.row==l.row?o:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return void 0==t&&(t=i.length),t=Math.min(Math.max(t,0),i.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,s=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new o(r,s,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);return t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),r(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length,r=e.start.row,s=e.start.column,o=0,a=0;;){o=a,a+=t-1;var l=n.slice(o,a);if(a>i){e.lines=l,e.start.row=r+o,e.start.column=s;break}l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,s=n.length;r<s;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(e.row,n.length),o=t||0;o<s;++o)r+=n[o].length+i;return r+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,s=t;n.lines[t];)t++;var o=r.getLength(),a=0;for(n.running=!1;t<o;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,s<=i&&n.fireUpdateEvent(s,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),s=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,s){if(this.regExp)for(var o=s.firstRow,a=s.lastRow,l=o;l<=a;l++){var c=this.cache[l];null==c&&((c=i.getMatchOffsets(n.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new r(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,s)}}}).call(s.prototype),t.SearchHighlight=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,s,o=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(i=a[c],-1==(r=i.range.compareStart(t,n)))return void e(null,t,n,o,l);if(s=e(null,i.start.row,i.start.column,o,l),(s=!s&&e(i.placeholder,i.start.row,i.start.column,o))||0===r)return;l=!i.sameRow,o=i.end.column}e(null,t,n,o,l)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],-1==(i=n.range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,s=this.getNextFoldTo(e,t);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=n);o<r.length;o++){if(i=r[o],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,s=this.folds,o=this.foldData,a=s.indexOf(r),l=s[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(o,s=s.splice(a,s.length-a));return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,s=n||0;s<r.length;s++){var o=r[s],a=i(e,o.end);if(!(a>0)){var l=i(e,o.start);return 0===a?t&&0!==l?-s-2:s:l>0||0===l&&!t?s:-s-1}}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort(function(e,t){return i(e.start,t.start)}))[0],s=1;s<n.length;s++){e=r,r=n[s];var o=i(e.end,r.start);o<0||(0!=o||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(s,1),t.push(r),r=e,s--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var s=[],o=i;o<r;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else n=e.start,t=e.end;for(var i=t.row,r=n.row-i,s=-t.column+n.column,o=this.ranges,a=0,l=o.length;a<l;a++){if(!((c=o[a]).end.row<i)){if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=t.column&&(c.start.column==t.column&&this.$insertRight||(c.start.column+=s,c.start.row+=r)),c.end.row==i&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&s>0&&a<l-1&&c.end.column>c.start.column&&c.end.column==o[a+1].start.column&&(c.end.column-=s),c.end.column+=s,c.end.row+=r}}}if(0!=r&&a<l)for(;a<l;a++){var c;(c=o[a]).start.row+=r,c.end.row+=r}}}).call(r.prototype),t.RangeList=r}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function i(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}e("../range").Range;var s=e("../range_list").RangeList,o=e("../lib/oop"),a=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};o.inherits(a,s),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new a(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);!function(e,t){i(e.start,t),i(e.end,t)}(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,s=-1;r<this.subFolds.length&&1==(s=this.subFolds[r].range.compare(t,n));r++);var o=this.subFolds[r];if(0==s)return o.addSubFold(e);t=e.range.end.row,n=e.range.end.column;var a=r;for(s=-1;a<this.subFolds.length&&1==(s=this.subFolds[a].range.compare(t,n));a++);this.subFolds[a];if(0==s)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,a-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){r(e.start,t),r(e.end,t)}(e,this.start)}}).call(a.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,s=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s];if(o.range.contains(e,t)){if(1==n&&o.range.isEnd(e,t))continue;if(-1==n&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(e);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(o=c.range.compareRange(e)))break;if(2!=o){if(42==o)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){var l=(s=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,t-o.end.column):1==n?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(o>=t){a<t&&(a>=e?i-=t-a:i=0);break}o>=e&&(i-=a>=e?o-a:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,o=!1;e instanceof s?n=e:(n=new s(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(a<c||a==c&&l<=u-2))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var m=0;m<i.length;m++){var f=i[m];if(c==f.start.row){f.addFold(n),o=!0;break}if(a==f.end.row){if(f.addFold(n),o=!0,!n.sameRow){var g=i[m+1];if(g&&g.start.row==c){f.merge(g);break}}break}if(c<=f.start.row)break}return o||(f=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,s=t.folds;if(1==s.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var s=r;s.length;)this.expandFolds(s),s=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var s=this.doc,o="";return e.walk(function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}o+=null!=e?e:s.getLine(t).substring(a,n)}},t,n),o},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(r)return this.getFoldDisplayLine(r,e,t,n,i);var s;return(s=this.doc.getLine(e)).substring(i||0,t||s.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new r(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var s=this.getFoldsInRange(i);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(e,t,n){var r=new o(this,e,t),s=r.getCurrentToken();if(s&&/^comment|string/.test(s.type)){var a=new i,l=new RegExp(s.type.replace(/\..*/,"\\."));if(1!=n){do{s=r.stepBackward()}while(s&&l.test(s.type));r.stepForward()}if(a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+2,r=new o(this,e,t),-1!=n){do{s=r.stepForward()}while(s&&l.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn()+s.value.length-2,a}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var r=e=e||0;r<t;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var s=this.getFoldWidgetRange(r);if(s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e){r=s.end.row;try{var o=this.addFold("...",s);o&&(o.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=e)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,s=this.getFoldAt(e,-1===r?0:i.length,r);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,s=n.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(s+=1);l-=1}do{a=o.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else h==e&&(s+=1);l+=1}do{a=o.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./config"),o=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}i.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r];if(t>s)n=r+1;else{if(!(t<s))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)s=i.length-1,r=this.getLine(e).length;else for(var s=0;s<i.length&&!((r+=i[s].value.length)>=t);s++);return(n=i[s])?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,s={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new c(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))r=/\s/;else r=this.nonTokenRe;var s=t;if(s>0){do{s--}while(s>=0&&n.charAt(s).match(r));s++}for(var o=t;o<n.length&&n.charAt(o).match(r);)o++;return new c(e,s,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],(function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;i<e.length;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){return t?"insert"!==e.action:"insert"===e.action}var r,s,o=e[0];i(o)?r=c.fromPoints(o.start,o.end):r=c.fromPoints(o.start,o.start);for(var a=1;a<e.length;a++)i(o=e[a])?(s=o.start,-1==r.compare(s.row,s.column)&&r.setStart(s),s=o.end,1==r.compare(s.row,s.column)&&r.setEnd(s),!0):(s=o.start,-1==r.compare(s.row,s.column)&&(r=c.fromPoints(o.start,o.start)),!1);if(null!=n){0===c.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var l=n.compareRange(r);1==l?r.setStart(n.start):-1==l&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),s=c.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row;(u=o?-e.end.column:e.start.column-e.end.column)&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var a=e.start,l=s.start,u=(o=l.row-a.row,l.column-a.column);this.addFolds(r.map(function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=u),e.end.row==a.row&&(e.end.column+=u),e.start.row+=o,e.end.row+=o,e}))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==s.charAt(o);++o);o<i&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else{e=this.$clipRowToDocument(e);i=(t=this.$clipRowToDocument(t))-e+1}var s=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,s=i.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(s,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(f=this.getFoldLine(r.row)){f.addRemoveChars(r.row,r.column,i.column-r.column),f.shiftRow(-a);var h=this.getFoldLine(s);h&&h!==f&&(h.merge(f),f=h),u=c.indexOf(f)+1}for(;u<c.length;u++){(f=c[u]).start.row>=r.row&&f.shiftRow(-a)}o=s}else{var d=Array(a);d.unshift(s,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,d);c=this.$foldData,u=0;if(f=this.getFoldLine(s)){var m=f.range.compareInside(i.row,i.column);0==m?(f=f.split(i.row,i.column))&&(f.shiftRow(a),f.addRemoveChars(o,0,r.column-i.column)):-1==m&&(f.addRemoveChars(s,0,r.column-i.column),f.shiftRow(a)),u=c.indexOf(f)+1}for(;u<c.length;u++){(f=c[u]).start.row>=s&&f.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a);var f;(f=this.getFoldLine(s))&&f.addRemoveChars(s,i.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,i){var r,s,o=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=e;for(i=Math.min(i,o.length-1);u<=i;)(s=this.getFoldLine(u,s))?(r=[],s.walk((function(e,i,s,a){var l;if(null!=e){(l=this.$getDisplayTokens(e,r.length))[0]=t;for(var c=1;c<l.length;c++)l[c]=n}else l=this.$getDisplayTokens(o[i].substring(a,s),r.length);r=r.concat(l)}).bind(this),s.end.row,o[s.end.row].length+1),l[s.start.row]=this.$computeWrapSplits(r,c,a),u=s.end.row+1):(r=this.$getDisplayTokens(o[u]),l[u]=this.$computeWrapSplits(r,c,a),u++)};var t=3,n=4,a=10,u=11,p=12;this.$computeWrapSplits=function(e,i,r){function s(t){var n=e.slice(c,t),i=n.length;n.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),o.length||(g=function(){var t=0;if(0===f)return t;if(m)for(var n=0;n<e.length;n++){var i=e[n];if(i==a)t+=1;else{if(i!=u){if(i==p)continue;break}t+=r}}return d&&!1!==m&&(t+=r),Math.min(t,f)}(),o.indent=g),h+=i,o.push(h),c=t}if(0==e.length)return[];for(var o=[],l=e.length,c=0,h=0,d=this.$wrapAsCode,m=this.$indentedSoftWrap,f=i<=Math.max(2*r,8)||!1===m?0:Math.floor(i/2),g=0;l-c>i-g;){var v=c+i-g;if(e[v-1]>=a&&e[v]>=a)s(v);else if(e[v]!=t&&e[v]!=n){for(var y=Math.max(v-(i-(i>>2)),c-1);v>y&&e[v]<t;)v--;if(d){for(;v>y&&e[v]<t;)v--;for(;v>y&&9==e[v];)v--}else for(;v>y&&e[v]<a;)v--;v>y?s(++v):(2==e[v=c+i]&&v--,s(v-g))}else{for(;v!=c-1&&e[v]!=t;v--);if(v>c){s(v);continue}for(v=c+i;v<e.length&&e[v]==n;v++);if(v==e.length)break;s(v)}}return o},this.$getDisplayTokens=function(t,n){var i,r=[];n=n||0;for(var s=0;s<t.length;s++){var o=t.charCodeAt(s);if(9==o){i=this.getScreenTabSize(r.length+n),r.push(u);for(var l=1;l<i;l++)r.push(p)}else 32==o?r.push(a):o>39&&o<48||o>57&&o<64?r.push(9):o>=4352&&e(o)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,s;for(s=0;s<t.length&&(9==(r=t.charCodeAt(s))?i+=this.getScreenTabSize(i):r>=4352&&e(r)?i+=2:i+=1,!(i>n));s++);return[i,s]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,i,r=0,s=0,o=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){o=l[c],r=this.$docRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getLength()-1,p=this.getNextFoldLine(r),m=p?p.start.row:1/0;o<=e&&(a=this.getRowLength(r),!(o+a>e||r>=d));)o+=a,++r>m&&(r=p.end.row+1,m=(p=this.getNextFoldLine(r,p))?p.start.row:1/0),h&&(this.$docRowCache.push(r),this.$screenRowCache.push(o));if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(o+a<=e||r>d)return{row:d,column:this.getLine(d).length};n=this.getLine(r),p=null}var f=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var v=Math.floor(e-o);i=g[v],v>0&&g.length&&(f=g.indent,s=g[v-1]||g[g.length-1],n=n.substring(s))}}return s+=this.$getStringScreenWidth(n,t-f)[1],this.$useWrapMode&&s>=i&&(s=i-1),p?p.idxToPosition(s):{row:r,column:s}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,r=null,s=null;(s=this.getFoldAt(e,t,1))&&(e=s.start.row,t=s.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],i=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((o=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;i+=this.getRowLength(a),a=o,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var m="";d&&a>=p?(m=this.getFoldDisplayLine(d,e,t),r=d.start.row):(m=this.getLine(e).substring(0,t),r=e);var f=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){for(var v=0;m.length>=g[v];)i++,v++;m=m.substring(g[v-1]||0,m.length),f=v>0?g.indent:0}}return{row:i,column:f+this.$getStringScreenWidth(m)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var s=this.$wrapData[i];e+=s?s.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)e-=(t=o[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];n||(n=1/0),i=i||0;var r,s;for(s=0;s<t.length&&(r=t.charAt(s),!((i+="\t"===r?this.getScreenTabSize(i):e.getCharacterWidth(r))>n));s++);return[i,s]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach(function(e,n,r){if(e.start)i=e;else{var o=e.offset+(r||0);if(i=new s(n,o,n,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))return i=null,!1}return!0}),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue e;var p=r[h],m=r[h+c-1],f=p.length-p.match(a[0])[0].length,g=m.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>f||(o.push(l=new s(h,f,h+c-1,g)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}}if(n){var _=n.start.column,x=n.start.column;for(v=0,d=o.length-1;v<d&&o[v].start.column<_&&o[v].start.row==n.start.row;)v++;for(;v<d&&o[d].end.column>x&&o[d].end.row==n.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r;if(t.$isMultiLine)var o=n.length,a=function(t,i,a){var l=t.search(n[0]);if(-1!=l){for(var c=1;c<o;c++)if(-1==(t=e.getLine(i+c)).search(n[c]))return;var u=t.match(n[o-1])[0].length,h=new s(i,l,i+o-1,u);return 1==n.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):a&&(h.start.column+=a),!!r(h)||void 0}};else if(t.backwards)a=function(e,t,s){for(var o=i.getMatchOffsets(e,n),a=o.length-1;a>=0;a--)if(r(o[a],t,s))return!0};else a=function(e,t,s){for(var o=i.getMatchOffsets(e,n),a=0;a<o.length;a++)if(r(o[a],t,s))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){r=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var s=new RegExp(n,r)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,s=t.start;s||(s=r?r[n?"end":"start"]:e.selection.getRange()),s.start&&(s=s[i!=n?"end":"start"]);var o=r?r.start.row:0,a=r?r.end.row:e.getLength()-1;return{forEach:n?function(n){var i=s.row;if(!n(e.getLine(i).substring(0,s.column),i)){for(i--;i>=o;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,o=s.row;i>=o;i--)if(n(e.getLine(i),i))return}}:function(n){var i=s.row;if(!n(e.getLine(i).substr(s.column),i,s.column)){for(i+=1;i<=a;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=o,a=s.row;i<=a;i++)if(n(e.getLine(i),i))return}}}}}).call(o.prototype),t.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function i(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function r(e,t){i.call(this,e,t),this.$singleCommand=!1}var s=e("../lib/keys"),o=e("../lib/useragent"),a=s.KEY_MODS;r.prototype=i.prototype,(function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var s=i[r];if(s==e)delete i[r];else if(Array.isArray(s)){var o=s.indexOf(e);-1!=o&&(s.splice(o,1),1==s.length&&(i[r]=s[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach(function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var s=this.parseKeys(e),o=a[s.hashId]+s.key;this._addCommandToBinding(i+o,t,n)},this)},this._addCommandToBinding=function(t,n,i){var r,s=this.commandKeyBinding;if(n)if(!s[t]||this.$singleCommand)s[t]=n;else{Array.isArray(s[t])?-1!=(r=s[t].indexOf(n))&&s[t].splice(r,1):s[t]=[s[t]],"number"!=typeof i&&(i=i||n.isDefault?-100:e(n));var o=s[t];for(r=0;r<o.length;r++){if(e(o[r])>i)break}o.splice(r,0,n)}else delete s[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=s[n];if(s.FUNCTION_KEYS[i])n=s.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,o=t.length;o--;){var a=s.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;r|=a}return{key:n,hashId:r}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=a[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}).call(i.prototype),t.HashHandler=i,t.MultiHashHandler=r}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};i.inherits(o,r),(function(){i.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(e){this.macro.push([e.command,e.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}).call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function i(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),s=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","F4"),exec:function(e){s.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(e){s.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/lang"),o=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,m=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new f(o.isMac?"mac":"win",g),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){i.implement(this,m),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this)),this.on("change",(function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var i=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)i=t.$mode.getMatching(e.session);i&&(t.$bracketHighlight=t.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new y(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var s=r.value,o=0,a=i.stepBackward();if("<"==a.value)do{a=r,(r=i.stepForward())&&r.value===s&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?o++:"</"===a.value&&o--)}while(r&&o>=0);else{do{r=a,a=i.stepBackward(),r&&r.value===s&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?o++:"</"===a.value&&o--)}while(a&&o<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=i.getCurrentTokenRow(),c=i.getCurrentTokenColumn(),u=new p(l,c,l,c+r.value.length),h=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=h&&0!==u.compareRange(h.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),s=r.length,o=r.substring(Math.max(n,0),Math.min(i,s));if(!(n>=0&&/^[\w\d]/.test(o)||i<=s&&/[\w\d]$/.test(o))&&(o=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(o))){return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o})}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var r=i.length;r--;){var s=i[r];s.isEmpty()||this.session.remove(s),this.session.insert(s.start,n[r])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=i.transformAction(n.getState(r.row),"insertion",this,n,e);s&&(e!==s.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=s.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){(o=new p.fromPoints(r,r)).end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));n.insert(r,e);if(s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new p(r.row,c+s.selection[0],r.row,c+s.selection[1])):this.selection.setSelectionRange(new p(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var s=n.getTextRange(t);if("\n"==s[s.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var i=e.getLine(t.start.row),r=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=o-a%o,c=s.stringRepeat(" ",l);else{for(l=a%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var i=new p(0,0,0,0),r=e.first;r<=e.last;r++){var s=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t){return{value:r[0],start:r.index,end:r.index+r[0].length}}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new p(t,s.start,t,s.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(s.start+1,n+c.length-s.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),s.moveBy(i,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,u=0;u<c;u++){var h=u;o[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(o[u])).first,p=n.last;++u<c;){l&&o[u].moveBy(l,0);var m=this.$getSelectedRows(o[u]);if(t&&m.first!=p)break;if(!t&&m.first>p+1)break;p=m.last}for(u--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(h=u+1);h<=u;)o[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),s=r||i.stepForward();if(s){var o,a,l=!1,c={},u=n.column-s.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;u<s.value.length&&!l;u++)if(h[s.value[u]])switch(a=h[s.value[u]]+"."+s.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),s.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(o="bracket",l=!0)}}else s&&-1!==s.type.indexOf("tag-name")&&(isNaN(c[s.value])&&(c[s.value]=0),"<"===r.value?c[s.value]++:"</"===r.value&&c[s.value]--,-1===c[s.value]&&(o="tag",l=!0));l||(r=s,s=i.stepForward(),u=0)}while(s&&!l);if(o){var d,m;if("bracket"===o)(d=this.session.getBracketRange(n))||(m=(d=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||m.row===n.row&&Math.abs(m.column-n.column)<2)&&(d=this.session.getBracketRange(m)));else if("tag"===o){if(!s||-1===s.type.indexOf("tag-name"))return;var f=s.value;if(0===(d=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{s=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),s.value===f&&-1!==s.type.indexOf("tag-name")&&("<"===r.value?c[f]++:"</"===r.value&&c[f]--,0===c[f]&&(l=!0)))}while(r&&!l)}s&&s.type.indexOf("tag-name")&&(m=d.start).row==n.row&&Math.abs(m.column-n.column)<2&&(m=d.end)}(m=d&&d.cursor||m)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(m.row,m.column):this.selection.moveTo(m.row,m.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,n),s):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",function(){i=!0}),o=this.renderer.on("beforeRender",function(){i&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=s.top-o.offset;null!=(i=s.top>=0&&a+t.top<0||!(s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var i=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++){for(var r=e[i],s={group:r.group,deltas:new Array(r.length)},o=0;o<r.deltas.length;o++){var a=r.deltas[o];s.deltas[o]=t(a)}n[i]=s}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(i.prototype),t.UndoManager=i}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||"",-1===r.text.indexOf(o)&&r.text.push(o);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),s=t.getNextFoldLine(n),o=s?s.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,p=null,m=-1,f=n;;){if(f>o&&(f=s.end.row+1,o=(s=t.getNextFoldLine(f,s))?s.start.row:1/0),f>r){for(;this.$cells.length>m+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}(p=this.$cells[++m])||((p={element:null,textNode:null,foldWidget:null}).element=i.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[m]=p);var g="ace_gutter-cell ";l[f]&&(g+=l[f]),c[f]&&(g+=c[f]),this.$annotations[f]&&(g+=this.$annotations[f].className),p.element.className!=g&&(p.element.className=g);if((y=t.getRowLength(f)*e.lineHeight+"px")!=p.element.style.height&&(p.element.style.height=y),a){var v=a[f];null==v&&(v=a[f]=t.getFoldWidget(f))}if(v){p.foldWidget||(p.foldWidget=i.createElement("span"),p.element.appendChild(p.foldWidget));g="ace_fold-widget ace_"+v;"start"==v&&f==o&&f<s.end.row?g+=" ace_closed":g+=" ace_open",p.foldWidget.className!=g&&(p.foldWidget.className=g);var y=e.lineHeight+"px";p.foldWidget.style.height!=y&&(p.foldWidget.style.height=y)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=h=d?d.getText(t,f):f+u;b!=p.textNode.data&&(p.textNode.data=b),f++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+u);var _=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,x=this.$padding||this.$computePadding();(_+=x.left+x.right)===this.gutterWidth||isNaN(_)||(this.gutterWidth=_,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",_))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,i){return(e?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){if(e=e||this.config){this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var s=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,o,s,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,r,s,o){for(var a=this.session,l=n.start.row,c=n.end.row,u=l,h=0,d=0,p=a.getScreenLastRowColumn(u),m=new i(u,n.start.column,u,d);u<=c;u++)m.start.row=m.end.row=u,m.start.column=u==l?n.start.column:a.getRowWrapIndent(u),m.end.column=p,h=d,d=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,m,r+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,h<d,d>p,u==c),s,u==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var s=this.$padding,o=i.lineHeight,a=this.$getTop(t.start.row,i),l=s+t.start.column*i.characterWidth;r=r||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",a,"px;","left:",s,"px;",r,"'></div>"),!((o=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",s,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,i,r,s){var o=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",s||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,i)-s),e.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;e.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",r||"","'></div>")}}).call(s.prototype),t.Marker=s}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,o),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(e){this._signal("changeCharacterSize",e)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+s.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(s.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",o="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",o=" ace_invisible_tab";var a=s.stringRepeat(this.SPACE_CHAR,this.tabSize),l=s.stringRepeat(this.TAB_CHAR,this.tabSize)}else l=a=s.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+i+r+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+i+o+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),s=this.element.childNodes,o=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}a=i;for(var l,c=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;a>c&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var u=s[o++];if(u){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==c&&l),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=h.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var i=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,a=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);){var l=r.createElement("div"),c=[];if(this.$renderLine(c,s,!1,s==a&&o),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",i.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(s)+"px";else for(;l.firstChild;)i.appendChild(l.firstChild);s++}return i},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,i=e.lastRow,r=n,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;r>o&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(r>i);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(t,r,!1,r==o&&s),this.$useLineGroups()&&t.push("</div>"),r++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var r=this,o=i.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,function(e,n,i,o,a){if(n)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+s.stringRepeat(r.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=r.session.getScreenTabSize(t+o);return t+=l-1,r.$tabStrings[l]}if("\u3000"==e){var c=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=r.showInvisibles?r.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*r.config.characterWidth+"px'>"+u+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+e+"</span>")});if(this.$textToken[n.type])e.push(o);else{var a="ace_"+n.type.replace(/\./g," ace_"),l="";"fold"==n.type&&(l=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",a,"'",l,">",o,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return i<=0||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(s.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"\t"==t[0]?(e.push(s.stringRepeat(this.$tabStrings["\t"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var r=0,o=0,a=n[0],l=0,c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(e,h,a)))continue;r-=h.length}if(r+h.length<a)l=this.$renderToken(e,l,u,h),r+=h.length;else{for(;r+h.length>=a;)l=this.$renderToken(e,l,u,h.substring(0,a-r)),h=h.substring(a-r),r=a,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(s.stringRepeat("\xa0",n.indent)),l=0,a=n[++o]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,l=this.$renderToken(e,l,u,h))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var s=1;s<t.length;s++)r=(i=t[s]).value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var s=this.session.getRowSplitData(t);s&&s.length?this.$renderWrappedLine(e,r,s,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk(function(e,t,s,o,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,s=0;s+e[r].value.length<t;)if(s+=e[r].value.length,++r==e.length)return;s!=t&&((o=e[r].value.substring(t-s)).length>n-t&&(o=o.substring(0,n-t)),i.push({type:e[r].type,value:o}),s=t+o.length,r+=1);for(;s<n&&r<e.length;){var o;(o=e[r].value).length+s>n?i.push({type:e[r].type,value:o.substring(0,n-s)}):i.push(e[r]),s+=o.length,r+=1}}(r,o,s))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var i,r=e("../lib/dom"),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||i||(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout((function(){r.addCssClass(this.element,"ace_smooth-blinking")}).bind(this));var t=(function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+n.column*this.config.characterWidth,top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var r=t.length;n<r;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var o=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,s,e,t[n],this.session):(o.left=s.left+"px",o.top=s.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};i.inherits(l,a),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>32768?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}).call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,a),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}).call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;i.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(r.prototype),t.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=s.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=r.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=s.stringRepeat(e,l);return this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./config"),o=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,m=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter;r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}',"ace_editor.css");var g=function(e,t){var n=this;this.container=e||r.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};return i&&(e||s.height!=i)&&(s.height=i,r|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(e||s.width!=n)&&(r|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),s.$dirty=!n||!i,r&&this._signal("resize",o),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style,r=this.lineHeight;if(t<0||t>e.height-r)i.top=i.left="0";else{var s=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");s*=this.session.$getStringScreenWidth(o)[0]+2,r+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-s&&(n=this.$size.scrollerWidth-s),n+=this.gutterWidth,i.height=r+"px",i.width=s+"px",i.left=Math.min(n,this.$size.scrollerWidth-s)+"px",i.top=Math.min(t,this.$size.height-r)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}if(e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(e&this.CHANGE_SCROLL)return e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender")}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=t.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=u;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+h.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+u<0||this.scrollTop>h.top),p=a!==d;p&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var m,f,g=Math.ceil(c/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),y=v+g,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var _=e.getFoldLine(v);_&&(v=_.start.row),m=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(y)*b+f,l=this.scrollTop-m*b;var x=0;return this.layerConfig.width!=r&&(x=this.CHANGE_H_SCROLL),(o||p)&&(x=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),p&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:m,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:l,gutterOffset:b?Math.max(0,Math.ceil((l+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},x},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,s=i.top,o=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(t&&l+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)r.push(s(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var s=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=Math.round(i);return{row:r,column:s,side:i-s>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.importCssString(n.cssText,n.cssClass,i.container.ownerDocument),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var s="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&s!=i.$padding&&i.setPadding(s),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var o=e||this.$options.theme.initialValue;s.loadModule(["theme",o],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),s.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,i){"use strict";var r=e("../lib/oop"),s=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,a=e("../config"),l=function(t,i,r,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)s=s||a.moduleUrl(i.id,"worker");else{var o=this.$normalizePath;s=s||o(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=o(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var c=i.src,u=new(n("570Y"))([c],{type:"application/javascript"}),h=(window.URL||window.webkitURL).createObjectURL(u);this.$worker=new Worker(h)}catch(e){if(!(e instanceof window.DOMException))throw e;u=this.$workerBlob(s);var d=window.URL||window.webkitURL,p=d.createObjectURL(u);this.$worker=new Worker(p),d.revokeObjectURL(p)}this.$worker.postMessage({init:!0,tlns:l,module:i.id,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,s=Object.create(o),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),i&&(r?setTimeout(c):c())},this.setEmitSync=function(e){r=e};var c=function(){var e=l.messageBuffer.shift();e.command?i[e.command].apply(i,e.args):e.event&&s._signal(e.event,e.data)};s.postMessage=function(e){l.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],function(e){for(i=new e[n](s);l.messageBuffer.length;)c()})};c.prototype=l.prototype,t.UIWorkerClient=c,t.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,i,r,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var a={row:(l=this.others[o]).row,column:l.column+s};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;o>=0;o--){var l;a={row:(l=this.others[o]).row,column:l.column+s};this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}var r=e("../lib/event"),s=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,m=e.getDocumentPosition(),f=d.getCursor(),g=e.inSelection()||d.isEmpty()&&i(m,f),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},_=h.session,x=h.renderer.pixelToScreenCoordinates(v,y),w=x;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=o?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&o)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&s.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&g)return;if(!p){var E=d.toOrientedRange();h.addSelectionMarker(E)}var T=d.rangeList.rangeAtPoint(m);h.$blockScrolling++,h.inVirtualSelectionMode=!0,o&&(T=null,E=d.ranges[0]||E,h.removeSelectionMarker(E)),h.once("mouseup",function(){var e=d.toOrientedRange();T&&e.isEmpty()&&i(T.cursor,e.cursor)?d.substractPoint(e.cursor):(o?d.substractPoint(E.cursor):E&&(h.removeSelectionMarker(E),d.addRange(E)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),h.inVirtualSelectionMode=!0;var S,k=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=_.screenToDocumentPosition(e.row,e.column);i(w,e)&&i(t,d.lead)||(w=e,h.$blockScrolling++,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(k),k=d.rectangularRangeBlock(w,x),h.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=h.$mouseHandler.$clickSelection.clone()),k.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,p&&!l?d.toSingleRange():!p&&l&&(S=d.toOrientedRange(),h.addSelectionMarker(S)),o?x=_.documentToScreenPosition(d.lead):d.moveToPosition(m),h.$blockScrolling--,w={row:-1,column:-1};var C=function(e){clearInterval(R),h.removeSelectionMarkers(k),k.length||(k=[d.toOrientedRange()]),h.$blockScrolling++,S&&(h.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<k.length;t++)d.addRange(k[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},M=A;r.capture(h.container,b,C);var R=setInterval(function(){M()},20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function i(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",a),e.commands.addCommands(u.defaultCommands),function(e){function t(t){i&&(e.renderer.setMouseCursor(""),i=!1)}var n=e.textInput.getElement(),i=!1;l.addListener(n,"keydown",function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&r?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&t()}),l.addListener(n,"keyup",t),l.addListener(n,"blur",t)}(e))}var r=e("./range_list").RangeList,s=e("./range").Range,o=e("./selection").Selection,a=e("./mouse/multi_select_handler").onMouseDown,l=e("./lib/event"),c=e("./lib/lang"),u=e("./commands/multi_select_commands");t.commands=u.defaultCommands.concat(u.multiSelectCommands);var h=new(0,e("./search").Search),d=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{n=this.getRange();var i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var a=n.end,l=n.start;else a=n.start,l=n.end;return this.addRange(s.fromPoints(l,l)),void this.addRange(s.fromPoints(a,a))}var c=[],u=this.getLineRange(r,!0);u.start.column=n.start.column,c.push(u);for(var h=r+1;h<o;h++)c.push(this.getLineRange(h,!0));(u=this.getLineRange(o,!0)).end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],r=e.column<t.column;if(r)var o=e.column,a=t.column;else o=t.column,a=e.column;var l=e.row<t.row;if(l)var c=e.row,u=t.row;else c=t.row,u=e.row;o<0&&(o=0),c<0&&(c=0),c==u&&(n=!0);for(var h=c;h<=u;h++){var d=s.fromPoints(this.session.screenToDocumentPosition(h,o),this.session.screenToDocumentPosition(h,a));if(d.isEmpty()){if(p&&function(e,t){return e.row==t.row&&e.column==t.column}(d.end,p))break;var p=d.end}d.cursor=r?d.start:d.end,i.push(d)}if(l&&i.reverse(),!n){for(var m=i.length-1;i[m].isEmpty()&&m>0;)m--;if(m>0)for(var f=0;i[f].isEmpty();)f++;for(var g=m;g>=f;g--)i[g].isEmpty()&&i.splice(g,1)}return i}}).call(o.prototype);var p=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(s)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=a.selection=d;var m=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===m||(i=m),d.toOrientedRange(u[p])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges();var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row==t.row&&this.session.$clipPositionToDocument(i.row,i.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return i&&s.rangeList.rangeAtPoint(i.start)&&s.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())l=o;else var a=this.session.documentToScreenPosition(i?n.end:n.start),l=this.session.screenToDocumentPosition(a.row+e,a.column);if(i){(c=s.fromPoints(o,l)).cursor=c.start}else{var c;(c=s.fromPoints(l,o)).cursor=c.end}if(c.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var s=t.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var a=i[r];o.unshift(t.getTextRange(a))}e<0?o.unshift(o.pop()):o.push(o.shift());for(r=i.length;r--;){s=(a=i[r]).clone();t.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||(r=i.getWordRange(r.start.row,r.start.column),r.cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var s=function(e,t,n){return h.$options.wrap=!0,h.$options.needle=t,h.$options.backwards=-1==n,h.find(e)}(i,i.getTextRange(r),e);s&&(s.cursor=-1==e?s.start:s.end,this.$blockScrolling+=1,this.session.unfold(s),this.multiSelect.addRange(s),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,r=n.filter(function(e){if(e.cursor.row==i)return!0;i=e.cursor.row});if(n.length&&r.length!=n.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var o=0,a=1/0,l=n.map(function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),i<a&&(a=i),i});n.forEach(function(t,n){var i=t.cursor,r=o-i.column,u=l[n]-a;r>u?e.insert(i,c.stringRepeat(" ",r-u)):e.remove(new s(i.row,i.column,i.row,i.column-r+u)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,p=h==d;if(p){var m,f=this.session.getLength();do{m=this.session.getLine(d)}while(/[=:]/.test(m)&&++d<f);do{m=this.session.getLine(h)}while(/[=:]/.test(m)&&--h>0);h<0&&(h=0),d>=f&&(d=f-1)}var g=this.session.removeFullLines(h,d);g=this.$reAlignText(g,p),this.session.insert({row:h,column:0},g.join("\n")+"\n"),p||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){function n(e){return c.stringRepeat(" ",e)}function i(e){return e[2]?n(r)+e[2]+n(s-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var r,s,o,a=!0,l=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==r?(r=t[1].length,s=t[2].length,o=t[3].length,t):(r+s+o!=t[1].length+t[2].length+t[3].length&&(l=!1),r!=t[1].length&&(a=!1),r>t[1].length&&(r=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?i:a?l?function(e){return e[2]?n(r+s-e[2].length)+e[2]+n(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:i:function(e){return e[2]?n(r)+e[2]+n(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(p.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=i,e("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(e){i(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,s=e.getLine(t),o=s.search(r);if(-1!=o){for(var a=n||s.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=o)break;u=t}}if(u>c){var d=e.getLine(u).length;return new i(c,a,u,d)}}},this.openingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r+1},a=e.$findClosingBracket(t,o,s);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r},a=e.$findOpeningBracket(t,o);if(a)return a.column++,o.column--,i.fromPoints(a,o)}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}e("./lib/oop");var r=e("./lib/dom");e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,s=i.end.row,o="add"==e.action,a=r+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){t.splice(n+1,i).forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var r=new Array(i);r.unshift(n,0),t.splice.apply(t,r),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var s=this.session.lineWidgets;e.row!=i.end.row||s[i.start.row]?e.hidden=!0:s[i.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=r;o<=s;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),a=o.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var i=e.getAnnotations().sort(s.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var s=i+r>>1,o=n(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;r=s-1}}return-(i+1)}(i,{row:t,column:-1},s.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var o=i[r];if(o&&n){if(o.row===t){do{o=i[r+=n]}while(o&&o.row===t);if(!o)return i.slice()}var a=[];t=o.row;do{a[n<0?"unshift":"push"](o),o=i[r+=n]}while(o&&o.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];o.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,o.row=h.row,c=e.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var d={row:o.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=d.el.appendChild(r.createElement("div")),m=d.el.appendChild(r.createElement("div"));m.className="error_widget_arrow "+c.className;var f=e.renderer.$cursorLayer.getPixelPosition(o).left;m.style.left=f+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(r.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),s=e("./lib/event"),o=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.define=n("MwgA"),t.edit=function(e){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var i="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;i=a.value,e=r.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(i=r.getInnerText(e),e.innerHTML="");var l=t.createEditSession(i),u=new o(new c(e));u.setSession(l);var h={document:l,editor:u,onResize:u.resize.bind(u,null)};return a&&(h.textarea=a),s.addListener(window,"resize",h.onResize),u.on("destroy",function(){s.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),u.container.env=u.env=h,u},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.EditSession=a,t.UndoManager=l,t.version="1.2.6"}),ace.acequire(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])}),e.exports=window.ace.acequire("ace/ace")},Y9GW:function(e,t,n){"use strict";function i(e){return Error(`A hint was already declared for 'align="${e}"'.`)}n.d(t,"c",function(){return T}),n.d(t,"a",function(){return E}),n.d(t,"b",function(){return f});var r=n("AdGS"),s=n("1GK5"),o=n("tksO"),a=n("FjVW"),l=n("bVHt"),c=n("tOHq"),u=n("8C/W"),h=n("IMoF"),d=n("m1U/");let p=0;class m{constructor(){this.id=`mat-error-${p++}`}}m.decorators=[{type:s.n,args:[{selector:"mat-error",host:{class:"mat-error",role:"alert","[attr.id]":"id"}}]}],m.ctorParameters=(()=>[]),m.propDecorators={id:[{type:s.y}]};class f{}let g=0;class v{constructor(){this.align="start",this.id=`mat-hint-${g++}`}}v.decorators=[{type:s.n,args:[{selector:"mat-hint",host:{class:"mat-hint","[class.mat-right]":'align == "end"',"[attr.id]":"id","[attr.align]":"null"}}]}],v.ctorParameters=(()=>[]),v.propDecorators={align:[{type:s.y}],id:[{type:s.y}]};class y{}y.decorators=[{type:s.n,args:[{selector:"mat-placeholder"}]}],y.ctorParameters=(()=>[]);class b{}b.decorators=[{type:s.n,args:[{selector:"mat-label"}]}],b.ctorParameters=(()=>[]);class _{}_.decorators=[{type:s.n,args:[{selector:"[matPrefix]"}]}],_.ctorParameters=(()=>[]);class x{}x.decorators=[{type:s.n,args:[{selector:"[matSuffix]"}]}],x.ctorParameters=(()=>[]);let w=0;class E{constructor(e,t,n){this._elementRef=e,this._changeDetectorRef=t,this.color="primary",this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${w++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto"}get dividerColor(){return this.color}set dividerColor(e){this.color=e}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Object(l.b)(e)}get _shouldAlwaysFloat(){return"always"===this._floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this._floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatPlaceholder(){return this._floatLabel}set floatPlaceholder(e){this.floatLabel=e}get floatLabel(){return this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._validateControlChild(),this._control.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${this._control.controlType}`),this._control.stateChanges.pipe(Object(u.a)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()});let e=this._control.ngControl;e&&e.valueChanges&&e.valueChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Object(u.a)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Object(u.a)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()})}ngAfterContentChecked(){this._validateControlChild()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}_shouldForward(e){let t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!(!this._control.placeholder&&!this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._control.shouldPlaceholderFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return!this._hasLabel()||!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._showAlwaysAnimate=!0,this._floatLabel="always",Object(d.a)(this._label.nativeElement,"transitionend").pipe(Object(c.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1}),this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let e,t;this._hintChildren.forEach(n=>{if("start"==n.align){if(e||this.hintLabel)throw i("start");e=n}else if("end"==n.align){if(t)throw i("end");t=n}})}}_syncDescribedByIds(){if(this._control){let e=[];if("hint"===this._getDisplayedMessages()){let t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}}E.decorators=[{type:s.j,args:[{selector:"mat-input-container, mat-form-field",exportAs:"matFormField",template:'<div class="mat-input-wrapper mat-form-field-wrapper"><div class="mat-input-flex mat-form-field-flex" #connectionContainer (click)="_control.onContainerClick && _control.onContainerClick($event)"><div class="mat-input-prefix mat-form-field-prefix" *ngIf="_prefixChildren.length"><ng-content select="[matPrefix]"></ng-content></div><div class="mat-input-infix mat-form-field-infix" #inputContainer><ng-content></ng-content><span class="mat-form-field-label-wrapper mat-input-placeholder-wrapper mat-form-field-placeholder-wrapper"><label class="mat-form-field-label mat-input-placeholder mat-form-field-placeholder" [attr.for]="_control.id" [attr.aria-owns]="_control.id" [class.mat-empty]="_control.empty && !_shouldAlwaysFloat" [class.mat-form-field-empty]="_control.empty && !_shouldAlwaysFloat" [class.mat-accent]="color == \'accent\'" [class.mat-warn]="color == \'warn\'" #label *ngIf="_hasFloatingLabel()" [ngSwitch]="_hasLabel()"><ng-container *ngSwitchCase="false"><ng-content select="mat-placeholder"></ng-content>{{_control.placeholder}}</ng-container><ng-content select="mat-label" *ngSwitchCase="true"></ng-content><span class="mat-placeholder-required mat-form-field-required-marker" aria-hidden="true" *ngIf="!hideRequiredMarker && _control.required">&nbsp;*</span></label></span></div><div class="mat-input-suffix mat-form-field-suffix" *ngIf="_suffixChildren.length"><ng-content select="[matSuffix]"></ng-content></div></div><div class="mat-input-underline mat-form-field-underline" #underline><span class="mat-input-ripple mat-form-field-ripple" [class.mat-accent]="color == \'accent\'" [class.mat-warn]="color == \'warn\'"></span></div><div class="mat-input-subscript-wrapper mat-form-field-subscript-wrapper" [ngSwitch]="_getDisplayedMessages()"><div *ngSwitchCase="\'error\'" [@transitionMessages]="_subscriptAnimationState"><ng-content select="mat-error"></ng-content></div><div class="mat-input-hint-wrapper mat-form-field-hint-wrapper" *ngSwitchCase="\'hint\'" [@transitionMessages]="_subscriptAnimationState"><div *ngIf="hintLabel" [id]="_hintLabelId" class="mat-hint">{{hintLabel}}</div><ng-content select="mat-hint:not([align=\'end\'])"></ng-content><div class="mat-input-hint-spacer mat-form-field-hint-spacer"></div><ng-content select="mat-hint[align=\'end\']"></ng-content></div></div></div>',styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform:perspective(100px);-ms-transform:none;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;height:1px;width:100%}.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.mat-form-field-underline .mat-form-field-ripple{position:absolute;top:0;left:0;width:100%;height:2px;transform-origin:50%;transform:scaleX(.5);visibility:hidden;opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field-invalid:not(.mat-focused) .mat-form-field-underline .mat-form-field-ripple{height:1px}.mat-focused .mat-form-field-underline .mat-form-field-ripple,.mat-form-field-invalid .mat-form-field-underline .mat-form-field-ripple{visibility:visible;opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block} .mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-autosize{resize:none}"],animations:[Object(a.k)("transitionMessages",[Object(a.h)("enter",Object(a.i)({opacity:1,transform:"translateY(0%)"})),Object(a.j)("void => enter",[Object(a.i)({opacity:0,transform:"translateY(-100%)"}),Object(a.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])],host:{class:"mat-input-container mat-form-field","[class.mat-input-invalid]":"_control.errorState","[class.mat-form-field-invalid]":"_control.errorState","[class.mat-form-field-can-float]":"_canLabelFloat","[class.mat-form-field-should-float]":"_shouldLabelFloat()","[class.mat-form-field-hide-placeholder]":"_hideControlPlaceholder()","[class.mat-form-field-disabled]":"_control.disabled","[class.mat-focused]":"_control.focused","[class.mat-primary]":'color == "primary"',"[class.mat-accent]":'color == "accent"',"[class.mat-warn]":'color == "warn"',"[class.ng-untouched]":'_shouldForward("untouched")',"[class.ng-touched]":'_shouldForward("touched")',"[class.ng-pristine]":'_shouldForward("pristine")',"[class.ng-dirty]":'_shouldForward("dirty")',"[class.ng-valid]":'_shouldForward("valid")',"[class.ng-invalid]":'_shouldForward("invalid")',"[class.ng-pending]":'_shouldForward("pending")'},encapsulation:s.Z.None,preserveWhitespaces:!1,changeDetection:s.g.OnPush}]}],E.ctorParameters=(()=>[{type:s.o},{type:s.h},{type:void 0,decorators:[{type:s.G},{type:s.u,args:[h.j]}]}]),E.propDecorators={color:[{type:s.y}],dividerColor:[{type:s.y}],hideRequiredMarker:[{type:s.y}],hintLabel:[{type:s.y}],floatPlaceholder:[{type:s.y}],floatLabel:[{type:s.y}],underlineRef:[{type:s.W,args:["underline"]}],_connectionContainerRef:[{type:s.W,args:["connectionContainer"]}],_inputContainerRef:[{type:s.W,args:["inputContainer"]}],_label:[{type:s.W,args:["label"]}],_control:[{type:s.l,args:[f]}],_placeholderChild:[{type:s.l,args:[y]}],_labelChild:[{type:s.l,args:[b]}],_errorChildren:[{type:s.m,args:[m]}],_hintChildren:[{type:s.m,args:[v]}],_prefixChildren:[{type:s.m,args:[_]}],_suffixChildren:[{type:s.m,args:[x]}]};class T{}T.decorators=[{type:s.C,args:[{declarations:[m,v,E,y,_,x,b],imports:[r.a,o.b],exports:[m,v,E,y,_,x,b]}]}],T.ctorParameters=(()=>[])},Yali:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){this._draggedElement=null}return e.prototype.set=function(e){this._draggedElement=e},e.prototype.get=function(){return this._draggedElement},e.prototype.isDragging=function(){return!!this.get()},e.decorators=[{type:i.v}],e.ctorParameters=function(){return[]},e}()},Z6sF:function(e,t,n){"use strict";function i(){}function r(e,t){this.x=e||0,this.y=t||0}function s(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function o(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function a(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function c(e,t,n,i,s,o,a,u,h,d){Object.defineProperty(this,"id",{value:Aa++}),this.uuid=ka.generateUUID(),this.name="",this.image=void 0!==e?e:c.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:c.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ro,this.wrapT=void 0!==i?i:Ro,this.magFilter=void 0!==s?s:Fo,this.minFilter=void 0!==o?o:No,this.anisotropy=void 0!==h?h:1,this.format=void 0!==a?a:Jo,this.type=void 0!==u?u:Bo,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:va,this.version=0,this.onUpdate=null}function u(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function h(e,t,n){this.uuid=ka.generateUUID(),this.width=e,this.height=t,this.scissor=new u(0,0,e,t),this.scissorTest=!1,this.viewport=new u(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=Fo),this.texture=new c(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function d(e,t,n){h.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function p(e,t,n,i,r,s,o,a,l,u,h,d){c.call(this,null,s,o,a,l,u,i,r,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:Po,this.minFilter=void 0!==u?u:Po,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function m(e,t,n,i,r,s,o,a,l,u){c.call(this,e=void 0!==e?e:[],t=void 0!==t?t:wo,n,i,r,s,o,a,l,u),this.flipY=!1}function f(){this.seq=[],this.map={}}function g(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,s=Ra[r];if(void 0===s&&(s=new Float32Array(r),Ra[r]=s),0!==t){i.toArray(s,0);for(var o=1,a=0;o!==t;++o)a+=n,e[o].toArray(s,a)}return s}function v(e,t){var n=La[t];void 0===n&&(n=new Int32Array(t),La[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function y(e,t){e.uniform1f(this.addr,t)}function b(e,t){e.uniform1i(this.addr,t)}function _(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function x(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function w(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function E(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function T(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Oa.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Oa))}function S(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Pa.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Pa))}function k(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||Ca,i)}function A(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||Ma,i)}function C(e,t){e.uniform2iv(this.addr,t)}function M(e,t){e.uniform3iv(this.addr,t)}function R(e,t){e.uniform4iv(this.addr,t)}function L(e,t){e.uniform1fv(this.addr,t)}function P(e,t){e.uniform1iv(this.addr,t)}function O(e,t){e.uniform2fv(this.addr,g(t,this.size,2))}function D(e,t){e.uniform3fv(this.addr,g(t,this.size,3))}function F(e,t){e.uniform4fv(this.addr,g(t,this.size,4))}function I(e,t){e.uniformMatrix2fv(this.addr,!1,g(t,this.size,4))}function N(e,t){e.uniformMatrix3fv(this.addr,!1,g(t,this.size,9))}function B(e,t){e.uniformMatrix4fv(this.addr,!1,g(t,this.size,16))}function j(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var s=0;s!==i;++s)n.setTexture2D(t[s]||Ca,r[s])}function z(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var s=0;s!==i;++s)n.setTextureCube(t[s]||Ma,r[s])}function U(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){switch(e){case 5126:return y;case 35664:return _;case 35665:return x;case 35666:return w;case 35674:return E;case 35675:return T;case 35676:return S;case 35678:case 36198:return k;case 35680:return A;case 5124:case 35670:return b;case 35667:case 35671:return C;case 35668:case 35672:return M;case 35669:case 35673:return R}}(t.type)}function V(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return L;case 35664:return O;case 35665:return D;case 35666:return F;case 35674:return I;case 35675:return N;case 35676:return B;case 35678:return j;case 35680:return z;case 5124:case 35670:return P;case 35667:case 35671:return C;case 35668:case 35672:return M;case 35669:case 35673:return R}}(t.type)}function G(e){this.id=e,f.call(this)}function H(e,t){e.seq.push(t),e.map[t.id]=t}function W(e,t,n){var i=e.name,r=i.length;for(Da.lastIndex=0;;){var s=Da.exec(i),o=Da.lastIndex,a=s[1],l="]"===s[2],c=s[3];if(l&&(a|=0),void 0===c||"["===c&&o+2===r){H(n,void 0===c?new U(a,e,t):new V(a,e,t));break}var u=n.map[a];void 0===u&&H(n,u=new G(a)),n=u}}function $(e,t,n){f.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var s=e.getActiveUniform(t,r),o=s.name;W(s,e.getUniformLocation(t,o),this)}}function q(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function X(e,t){this.min=void 0!==e?e:new r(1/0,1/0),this.max=void 0!==t?t:new r(-1/0,-1/0)}function Y(e,t,n,i,s){function o(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),i=new Uint16Array([0,1,2,0,2,3]);l=t.createBuffer(),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),m=t.createTexture(),f=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),u={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")},h=function(e){var n=t.createProgram(),i=t.createShader(t.FRAGMENT_SHADER),r=t.createShader(t.VERTEX_SHADER),o="precision "+s.precision+" float;\n";return t.shaderSource(i,o+e.fragmentShader),t.shaderSource(r,o+e.vertexShader),t.compileShader(i),t.compileShader(r),t.attachShader(n,i),t.attachShader(n,r),t.linkProgram(n),n}(u),d={vertex:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},p={renderType:t.getUniformLocation(h,"renderType"),map:t.getUniformLocation(h,"map"),occlusionMap:t.getUniformLocation(h,"occlusionMap"),opacity:t.getUniformLocation(h,"opacity"),color:t.getUniformLocation(h,"color"),scale:t.getUniformLocation(h,"scale"),rotation:t.getUniformLocation(h,"rotation"),screenPosition:t.getUniformLocation(h,"screenPosition")}}var l,c,u,h,d,p,m,f;this.render=function(e,s,u,g){if(0!==e.length){var v=new a,y=g.w/g.z,b=.5*g.z,_=.5*g.w,x=16/g.w,w=new r(x*y,x),E=new a(1,1,0),T=new r(1,1),S=new X;S.min.set(g.x,g.y),S.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===h&&o(),n.useProgram(h),n.initAttributes(),n.enableAttribute(d.vertex),n.enableAttribute(d.uv),n.disableUnusedAttributes(),t.uniform1i(p.occlusionMap,0),t.uniform1i(p.map,1),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(d.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var k=0,A=e.length;k<A;k++){x=16/g.w,w.set(x*y,x);var C=e[k];if(v.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),v.applyMatrix4(u.matrixWorldInverse),v.applyMatrix4(u.projectionMatrix),E.copy(v),T.x=g.x+E.x*b+b-8,T.y=g.y+E.y*_+_-8,!0===S.containsPoint(T)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,T.x,T.y,16,16,0),t.uniform1i(p.renderType,0),t.uniform2f(p.scale,w.x,w.y),t.uniform3f(p.screenPosition,E.x,E.y,E.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,f),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,T.x,T.y,16,16,0),t.uniform1i(p.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),C.positionScreen.copy(E),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),t.uniform1i(p.renderType,2),n.enable(t.BLEND);for(var M=0,R=C.lensFlares.length;M<R;M++){var L=C.lensFlares[M];L.opacity>.001&&L.scale>.001&&(E.x=L.x,E.y=L.y,E.z=L.z,x=L.size*L.scale/g.w,w.x=x*y,w.y=x,t.uniform3f(p.screenPosition,E.x,E.y,E.z),t.uniform2f(p.scale,w.x,w.y),t.uniform1f(p.rotation,L.rotation),t.uniform1f(p.opacity,L.opacity),t.uniform3f(p.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),i.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function K(e,t,n,i,r,s,o,a,l){c.call(this,e,t,n,i,r,s,o,a,l),this.needsUpdate=!0}function Z(e,t,n,i,r){function s(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);c=t.createBuffer(),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),h=function(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),t.shaderSource(i,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),t.compileShader(n),t.compileShader(i),t.attachShader(e,n),t.attachShader(e,i),t.linkProgram(e),e}(),d={position:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},p={uvOffset:t.getUniformLocation(h,"uvOffset"),uvScale:t.getUniformLocation(h,"uvScale"),rotation:t.getUniformLocation(h,"rotation"),scale:t.getUniformLocation(h,"scale"),color:t.getUniformLocation(h,"color"),map:t.getUniformLocation(h,"map"),opacity:t.getUniformLocation(h,"opacity"),modelViewMatrix:t.getUniformLocation(h,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(h,"projectionMatrix"),fogType:t.getUniformLocation(h,"fogType"),fogDensity:t.getUniformLocation(h,"fogDensity"),fogNear:t.getUniformLocation(h,"fogNear"),fogFar:t.getUniformLocation(h,"fogFar"),fogColor:t.getUniformLocation(h,"fogColor"),fogDepth:t.getUniformLocation(h,"fogDepth"),alphaTest:t.getUniformLocation(h,"alphaTest")};var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=8,i.height=8;var s=i.getContext("2d");s.fillStyle="white",s.fillRect(0,0,8,8),m=new K(i)}function l(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var c,u,h,d,p,m,f=new a,g=new o,v=new a;this.render=function(r,o,a){if(0!==r.length){void 0===h&&s(),n.useProgram(h),n.initAttributes(),n.enableAttribute(d.position),n.enableAttribute(d.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(d.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.uniformMatrix4fv(p.projectionMatrix,!1,a.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(p.map,0);var y=0,b=0,_=o.fog;_?(t.uniform3f(p.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(t.uniform1f(p.fogNear,_.near),t.uniform1f(p.fogFar,_.far),t.uniform1i(p.fogType,1),y=1,b=1):_.isFogExp2&&(t.uniform1f(p.fogDensity,_.density),t.uniform1i(p.fogType,2),y=2,b=2)):(t.uniform1i(p.fogType,0),y=0,b=0);for(var x=0,w=r.length;x<w;x++){(T=r[x]).modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}r.sort(l);var E=[];for(x=0,w=r.length;x<w;x++){var T,S=(T=r[x]).material;if(!1!==S.visible){T.onBeforeRender(e,o,a,void 0,S,void 0),t.uniform1f(p.alphaTest,S.alphaTest),t.uniformMatrix4fv(p.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(f,g,v),E[0]=v.x,E[1]=v.y;var k=0;o.fog&&S.fog&&(k=b),y!==k&&(t.uniform1i(p.fogType,k),y=k),null!==S.map?(t.uniform2f(p.uvOffset,S.map.offset.x,S.map.offset.y),t.uniform2f(p.uvScale,S.map.repeat.x,S.map.repeat.y)):(t.uniform2f(p.uvOffset,0,0),t.uniform2f(p.uvScale,1,1)),t.uniform1f(p.opacity,S.opacity),t.uniform3f(p.color,S.color.r,S.color.g,S.color.b),t.uniform1f(p.rotation,S.rotation),t.uniform2fv(p.scale,E),n.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst,S.blendEquationAlpha,S.blendSrcAlpha,S.blendDstAlpha,S.premultipliedAlpha),n.buffers.depth.setTest(S.depthTest),n.buffers.depth.setMask(S.depthWrite),n.buffers.color.setMask(S.colorWrite),i.setTexture2D(S.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),T.onAfterRender(e,o,a,void 0,S,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function J(){Object.defineProperty(this,"id",{value:za++}),this.uuid=ka.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Bs,this.side=Ls,this.flatShading=!1,this.vertexColors=Ds,this.opacity=1,this.transparent=!1,this.blendSrc=Js,this.blendDst=Qs,this.blendEquation=Gs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=lo,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function Q(e){J.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ta,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ee(e){J.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new a,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function te(e,t){this.min=void 0!==e?e:new a(1/0,1/0,1/0),this.max=void 0!==t?t:new a(-1/0,-1/0,-1/0)}function ne(e,t){this.center=void 0!==e?e:new a,this.radius=void 0!==t?t:0}function ie(e,t){this.normal=void 0!==e?e:new a(1,0,0),this.constant=void 0!==t?t:0}function re(e,t,n,i,r,s){this.planes=[void 0!==e?e:new ie,void 0!==t?t:new ie,void 0!==n?n:new ie,void 0!==i?i:new ie,void 0!==r?r:new ie,void 0!==s?s:new ie]}function se(e,t,n){function i(t,n,i,r,s,o){var a=t.geometry,l=null,c=b,u=t.customDepthMaterial;if(i&&(c=_,u=t.customDistanceMaterial),u)l=u;else{var h=!1;n.morphTargets&&(a&&a.isBufferGeometry?h=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(h=a.morphTargets&&a.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var d=t.isSkinnedMesh&&n.skinning,p=0;h&&(p|=g),d&&(p|=v),l=c[p]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=l.uuid,f=n.uuid,y=x[m];void 0===y&&(y={},x[m]=y);var w=y[f];void 0===w&&(w=l.clone(),y[f]=w),l=w}l.visible=n.visible,l.wireframe=n.wireframe;var E=n.side;return R.renderSingleSided&&E==Os&&(E=Ls),R.renderReverseSided&&(E===Ls?E=Ps:E===Ps&&(E=Ls)),l.side=E,l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=s,l.farDistance=o),l}function o(n,r,s,a){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);var c=t.update(n),u=n.material;if(Array.isArray(u))for(var h=c.groups,d=0,p=h.length;d<p;d++){var m=h[d],g=u[m.materialIndex];if(g&&g.visible){var v=i(n,g,a,f,s.near,s.far);e.renderBufferDirect(s,null,c,v,n,m)}}else if(u.visible){v=i(n,u,a,f,s.near,s.far);e.renderBufferDirect(s,null,c,v,n,null)}}for(var y=n.children,b=0,_=y.length;b<_;b++)o(y[b],r,s,a)}}for(var l=new re,c=new s,d=new r,p=new r(n,n),m=new a,f=new a,g=1,v=2,y=1+(g|v),b=new Array(y),_=new Array(y),x={},w=[new a(1,0,0),new a(-1,0,0),new a(0,0,1),new a(0,0,-1),new a(0,1,0),new a(0,-1,0)],E=[new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,0,1),new a(0,0,-1)],T=[new u,new u,new u,new u,new u,new u],S=0;S!==y;++S){var k=0!=(S&g),A=0!=(S&v),C=new Q({depthPacking:Sa,morphTargets:k,skinning:A});b[S]=C;var M=new ee({morphTargets:k,skinning:A});_[S]=M}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ms,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,i){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var r=e.context,s=e.state;s.disable(r.BLEND),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var a,u=0,g=t.length;u<g;u++){var v=t[u],y=v.shadow,b=v&&v.isPointLight;if(void 0!==y){var _=y.camera;if(d.copy(y.mapSize),d.min(p),b){var x=d.x,S=d.y;T[0].set(2*x,S,x,S),T[1].set(0,S,x,S),T[2].set(3*x,S,x,S),T[3].set(x,S,x,S),T[4].set(3*x,0,x,S),T[5].set(x,0,x,S),d.x*=4,d.y*=2}if(null===y.map){var k={minFilter:Po,magFilter:Po,format:Jo};y.map=new h(d.x,d.y,k),y.map.texture.name=v.name+".shadowMap",_.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var A=y.map,C=y.matrix;f.setFromMatrixPosition(v.matrixWorld),_.position.copy(f),b?(a=6,C.makeTranslation(-f.x,-f.y,-f.z)):(a=1,m.setFromMatrixPosition(v.target.matrixWorld),_.lookAt(m),_.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(_.projectionMatrix),C.multiply(_.matrixWorldInverse)),e.setRenderTarget(A),e.clear();for(var M=0;M<a;M++){if(b){m.copy(_.position),m.add(w[M]),_.up.copy(E[M]),_.lookAt(m),_.updateMatrixWorld();var L=T[M];s.viewport(L)}c.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),l.setFromMatrix(c),o(n,i,_,b)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}R.needsUpdate=!1}}}function oe(e){var t={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t[e.uuid]},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t[n.uuid];i&&(e.deleteBuffer(i.buffer),delete t[n.uuid])},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t[n.uuid];void 0===r?t[n.uuid]=function(t,n){var i=t.array,r=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,s=e.createBuffer();e.bindBuffer(n,s),e.bufferData(n,i,r),t.onUploadCallback();var o=e.FLOAT;return i instanceof Float32Array?o=e.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=e.UNSIGNED_SHORT:i instanceof Int16Array?o=e.SHORT:i instanceof Uint32Array?o=e.UNSIGNED_INT:i instanceof Int32Array?o=e.INT:i instanceof Int8Array?o=e.BYTE:i instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),{buffer:s,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(n,i):r.version<n.version&&(function(t,n,i){var r=n.array,s=n.updateRange;e.bindBuffer(i,t),!1===n.dynamic?e.bufferData(i,r,e.STATIC_DRAW):-1===s.count?e.bufferSubData(i,0,r):0===s.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,s.offset*r.BYTES_PER_ELEMENT,r.subarray(s.offset,s.offset+s.count)),s.count=-1)}(r.buffer,n,i),r.version=n.version)}}}function ae(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||ae.DefaultOrder}function le(){this.mask=1}function ce(){Object.defineProperty(this,"id",{value:Ua++}),this.uuid=ka.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ce.DefaultUp.clone();var e=new a,t=new ae,n=new o,i=new a(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new s},normalMatrix:{value:new l}}),this.matrix=new s,this.matrixWorld=new s,this.matrixAutoUpdate=ce.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new le,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ue(){ce.call(this),this.type="Camera",this.matrixWorldInverse=new s,this.projectionMatrix=new s}function he(e,t,n,i,r,s){ue.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==s?s:2e3,this.updateProjectionMatrix()}function de(e,t,n,i,r,s){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new a,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new q,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==s?s:0}function pe(){Object.defineProperty(this,"id",{value:Va+=2}),this.uuid=ka.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function me(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=ka.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function fe(e,t,n){me.call(this,new Int8Array(e),t,n)}function ge(e,t,n){me.call(this,new Uint8Array(e),t,n)}function ve(e,t,n){me.call(this,new Uint8ClampedArray(e),t,n)}function ye(e,t,n){me.call(this,new Int16Array(e),t,n)}function be(e,t,n){me.call(this,new Uint16Array(e),t,n)}function _e(e,t,n){me.call(this,new Int32Array(e),t,n)}function xe(e,t,n){me.call(this,new Uint32Array(e),t,n)}function we(e,t,n){me.call(this,new Float32Array(e),t,n)}function Ee(e,t,n){me.call(this,new Float64Array(e),t,n)}function Te(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function ke(){Object.defineProperty(this,"id",{value:Ga+=2}),this.uuid=ka.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ae(e,t,n,i,r,s){pe.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s},this.fromBufferGeometry(new Ce(e,t,n,i,r,s)),this.mergeVertices()}function Ce(e,t,n,i,r,s){function o(e,t,n,i,r,s,o,f,g,v,y){var b,_,x=s/g,w=o/v,E=s/2,T=o/2,S=f/2,k=g+1,A=v+1,C=0,M=0,R=new a;for(_=0;_<A;_++){var L=_*w-T;for(b=0;b<k;b++){var P=b*x-E;R[e]=P*i,R[t]=L*r,R[n]=S,u.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[n]=f>0?1:-1,h.push(R.x,R.y,R.z),d.push(b/g),d.push(1-_/v),C+=1}}for(_=0;_<v;_++)for(b=0;b<g;b++){var O=p+b+k*_,D=p+b+k*(_+1),F=p+(b+1)+k*(_+1),I=p+(b+1)+k*_;c.push(O,D,I),c.push(D,F,I),M+=6}l.addGroup(m,M,y),m+=M,p+=C}ke.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};var l=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1;var c=[],u=[],h=[],d=[],p=0,m=0;o("z","y","x",-1,-1,n,t,e,s=Math.floor(s)||1,r,0),o("z","y","x",1,-1,n,t,-e,s,r,1),o("x","z","y",1,1,e,n,t,i,s,2),o("x","z","y",1,-1,e,n,-t,i,s,3),o("x","y","z",1,-1,e,t,n,i,r,4),o("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(c),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(h,3)),this.addAttribute("uv",new we(d,2))}function Me(e,t,n,i){pe.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Re(e,t,n,i)),this.mergeVertices()}function Re(e,t,n,i){ke.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,s,o=(e=e||1)/2,a=(t=t||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,d=e/l,p=t/c,m=[],f=[],g=[],v=[];for(s=0;s<h;s++){var y=s*p-a;for(r=0;r<u;r++){var b=r*d-o;f.push(b,-y,0),g.push(0,0,1),v.push(r/l),v.push(1-s/c)}}for(s=0;s<c;s++)for(r=0;r<l;r++){var _=r+u*s,x=r+u*(s+1),w=r+1+u*(s+1),E=r+1+u*s;m.push(_,x,E),m.push(x,w,E)}this.setIndex(m),this.addAttribute("position",new we(f,3)),this.addAttribute("normal",new we(g,3)),this.addAttribute("uv",new we(v,2))}function Le(e){J.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Pe(e){J.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Oe(e,t){this.origin=void 0!==e?e:new a,this.direction=void 0!==t?t:new a}function De(e,t){this.start=void 0!==e?e:new a,this.end=void 0!==t?t:new a}function Fe(e,t,n){this.a=void 0!==e?e:new a,this.b=void 0!==t?t:new a,this.c=void 0!==n?n:new a}function Ie(e,t){ce.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new Le({color:16777215*Math.random()}),this.drawMode=ma,this.updateMorphTargets()}function Ne(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Be(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function je(){var e={};return{get:function(t,n){var i=t.id+","+n.id,r=e[i];return void 0===r&&(r=new function(){var e=[],t=0,n=[],i=[];return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(r,s,o,a,l){var c=e[t];void 0===c?(c={id:r.id,object:r,geometry:s,material:o,program:o.program,renderOrder:r.renderOrder,z:a,group:l},e[t]=c):(c.id=r.id,c.object=r,c.geometry=s,c.material=o,c.program=o.program,c.renderOrder=r.renderOrder,c.z=a,c.group=l),(!0===o.transparent?i:n).push(c),t++},sort:function(){n.length>1&&n.sort(Ne),i.length>1&&i.sort(Be)}}},e[i]=r),r},dispose:function(){e={}}}}function ze(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ue(){var e=new function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new a,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new a,direction:new a,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new a,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new a,skyColor:new q,groundColor:new q};break;case"RectAreaLight":n={color:new q,position:new a,halfWidth:new a,halfHeight:new a}}return e[t.id]=n,n}}},t={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new a,i=new s,o=new s;return{setup:function(r,s,a){for(var l=0,c=0,u=0,h=0,d=0,p=0,m=0,f=0,g=a.matrixWorldInverse,v=0,y=r.length;v<y;v++){var b=r[v],_=b.color,x=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=_.r*x,c+=_.g*x,u+=_.b*x;else if(b.isDirectionalLight){if((S=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),S.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(g),S.shadow=b.castShadow,b.castShadow){var T=b.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize}t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=b.shadow.matrix,t.directional[h]=S,h++}else if(b.isSpotLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),S.color.copy(_).multiplyScalar(x),S.distance=w,S.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(g),S.coneCos=Math.cos(b.angle),S.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(T=b.shadow,S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize),t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=S,p++;else if(b.isRectAreaLight)(S=e.get(b)).color.copy(_).multiplyScalar(x/(b.width*b.height)),S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),o.identity(),i.copy(b.matrixWorld),i.premultiply(g),o.extractRotation(i),S.halfWidth.set(.5*b.width,0,0),S.halfHeight.set(0,.5*b.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),t.rectArea[m]=S,m++;else if(b.isPointLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),S.color.copy(b.color).multiplyScalar(b.intensity),S.distance=b.distance,S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(T=b.shadow,S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,S.shadowCameraNear=T.camera.near,S.shadowCameraFar=T.camera.far),t.pointShadowMap[d]=E,t.pointShadowMatrix[d]=b.shadow.matrix,t.point[d]=S,d++;else if(b.isHemisphereLight){var S;(S=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),S.skyColor.copy(b.color).multiplyScalar(x),S.groundColor.copy(b.groundColor).multiplyScalar(x),t.hemi[f]=S,f++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=h,t.spot.length=p,t.rectArea.length=m,t.point.length=d,t.hemi.length=f,t.hash=h+","+d+","+p+","+m+","+f+","+s.length},state:t}}function Ve(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),i}function Ge(e){switch(e){case va:return["Linear","( value )"];case ya:return["sRGB","( value )"];case _a:return["RGBE","( value )"];case xa:return["RGBM","( value, 7.0 )"];case wa:return["RGBM","( value, 16.0 )"];case Ea:return["RGBD","( value, 256.0 )"];case ba:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function He(e,t){var n=Ge(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function We(e){return""!==e}function $e(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function qe(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){var n=Ba[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return qe(n)})}function Xe(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[ i \]/g,"[ "+s+" ]");return r})}function Ye(e,t,n,i,r,s){var o=e.context,a=i.defines,l=r.vertexShader,c=r.fragmentShader,u="SHADOWMAP_TYPE_BASIC";s.shadowMapType===Ms?u="SHADOWMAP_TYPE_PCF":s.shadowMapType===Rs&&(u="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(s.envMap){switch(i.envMap.mapping){case wo:case Eo:h="ENVMAP_TYPE_CUBE";break;case Ao:case Co:h="ENVMAP_TYPE_CUBE_UV";break;case To:case So:h="ENVMAP_TYPE_EQUIREC";break;case ko:h="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case Eo:case So:d="ENVMAP_MODE_REFRACTION"}switch(i.combine){case mo:p="ENVMAP_BLENDING_MULTIPLY";break;case fo:p="ENVMAP_BLENDING_MIX";break;case go:p="ENVMAP_BLENDING_ADD"}}var m,f,g=e.gammaFactor>0?e.gammaFactor:1,v=function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(We).join("\n")}(i.extensions,s,t),y=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(a),b=o.createProgram();i.isRawShaderMaterial?((m=[y].filter(We).join("\n")).length>0&&(m+="\n"),(f=[v,y].filter(We).join("\n")).length>0&&(f+="\n")):(m=["precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,y,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+s.maxBones,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+d:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.displacementMap&&s.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&!1===s.flatShading?"#define USE_MORPHNORMALS":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+s.numClippingPlanes,s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+u:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(We).join("\n"),f=[v,"precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,y,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"","#define GAMMA_FACTOR "+g,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+h:"",s.envMap?"#define "+d:"",s.envMap?"#define "+p:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+s.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(s.numClippingPlanes-s.numClipIntersection),s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+u:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",s.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",s.toneMapping!==vo?"#define TONE_MAPPING":"",s.toneMapping!==vo?Ba.tonemapping_pars_fragment:"",s.toneMapping!==vo?function(e,t){var n;switch(t){case yo:n="Linear";break;case bo:n="Reinhard";break;case _o:n="Uncharted2";break;case xo:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.outputEncoding||s.mapEncoding||s.envMapEncoding||s.emissiveMapEncoding?Ba.encodings_pars_fragment:"",s.mapEncoding?He("mapTexelToLinear",s.mapEncoding):"",s.envMapEncoding?He("envMapTexelToLinear",s.envMapEncoding):"",s.emissiveMapEncoding?He("emissiveMapTexelToLinear",s.emissiveMapEncoding):"",s.outputEncoding?function(e,t){var n=Ge(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}("linearToOutputTexel",s.outputEncoding):"",s.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(We).join("\n")),l=$e(l=qe(l),s),c=$e(c=qe(c),s),i.isShaderMaterial||(l=Xe(l),c=Xe(c));var _=m+l,x=f+c,w=Ve(o,o.VERTEX_SHADER,_),E=Ve(o,o.FRAGMENT_SHADER,x);o.attachShader(b,w),o.attachShader(b,E),void 0!==i.index0AttributeName?o.bindAttribLocation(b,0,i.index0AttributeName):!0===s.morphTargets&&o.bindAttribLocation(b,0,"position"),o.linkProgram(b);var T=o.getProgramInfoLog(b),S=o.getShaderInfoLog(w),k=o.getShaderInfoLog(E),A=!0,C=!0;!1===o.getProgramParameter(b,o.LINK_STATUS)?(A=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(b,o.VALIDATE_STATUS),"gl.getProgramInfoLog",T,S,k)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==S&&""!==k||(C=!1),C&&(this.diagnostics={runnable:A,material:i,programLog:T,vertexShader:{log:S,prefix:m},fragmentShader:{log:k,prefix:f}}),o.deleteShader(w),o.deleteShader(E);var M;this.getUniforms=function(){return void 0===M&&(M=new $(o,b,e)),M};var R;return this.getAttributes=function(){return void 0===R&&(R=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}(o,b)),R},this.destroy=function(){o.deleteProgram(b),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Ha++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=w,this.fragmentShader=E,this}function Ke(e,t,n){function i(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=va,n===va&&t&&(n=ba),n}var r=[],s={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,r,o,a,l,c,u){var h=s[t.type],d=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,r=Math.floor((i-20)/4),s=Math.min(r,t.length);return s<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+s+"."),0):s}(u):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var m=e.getRenderTarget();return{shaderID:h,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:i(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Ao||t.envMap.mapping===Co),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!a,useFog:t.fog,fogExp:a&&a.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Os,flipSided:t.side===Ps,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var s=0;s<o.length;s++)i.push(n[o[s]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.join()},this.acquireProgram=function(n,i,s,o){for(var a,l=0,c=r.length;l<c;l++){var u=r[l];if(u.code===o){++(a=u).usedTimes;break}}return void 0===a&&(a=new Ye(e,t,o,n,i,s),r.push(a)),a},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Ze(e,t,n,i,r,s,o){function a(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(e.width*n),i.height=Math.floor(e.height*n);return i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e),i}return e}function l(e){return ka.isPowerOfTwo(e.width)&&ka.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&e.minFilter!==Po&&e.minFilter!==Fo}function u(t){return t===Po||t===Oo||t===Do?e.NEAREST:e.LINEAR}function h(t){var n=t.target;n.removeEventListener("dispose",h),function(t){var n=i.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}i.remove(t)}(n),n.isVideoTexture&&delete b[n.id],o.textures--}function d(t){var n=t.target;n.removeEventListener("dispose",d),function(t){var n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var s=0;s<6;s++)e.deleteFramebuffer(n.__webglFramebuffer[s]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[s]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}(n),o.textures--}function p(t,u){var d=i.get(t);if(t.version>0&&d.__version!==t.version){var p=t.image;if(void 0===p)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==p.complete)return void function(t,i,u){void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",h),t.__webglTexture=e.createTexture(),i.isVideoTexture&&(b[i.id]=i),o.textures++);n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment);var d=a(i.image,r.maxTextureSize);(function(e){return e.wrapS!==Ro||e.wrapT!==Ro||e.minFilter!==Po&&e.minFilter!==Fo})(i)&&!1===l(d)&&(d=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=ka.floorPowerOfTwo(e.width),t.height=ka.floorPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}(d));var p=l(d),f=s.convert(i.format),g=s.convert(i.type);m(e.TEXTURE_2D,i,p);var v,_=i.mipmaps;if(i.isDepthTexture){var x=e.DEPTH_COMPONENT;if(i.type===Ho){if(!y)throw new Error("Float Depth Texture only supported in WebGL2.0");x=e.DEPTH_COMPONENT32F}else y&&(x=e.DEPTH_COMPONENT16);i.format===ta&&x===e.DEPTH_COMPONENT&&i.type!==Uo&&i.type!==Go&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Uo,g=s.convert(i.type)),i.format===na&&(x=e.DEPTH_STENCIL,i.type!==Yo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Yo,g=s.convert(i.type))),n.texImage2D(e.TEXTURE_2D,0,x,d.width,d.height,0,f,g,null)}else if(i.isDataTexture)if(_.length>0&&p){for(var w=0,E=_.length;w<E;w++)v=_[w],n.texImage2D(e.TEXTURE_2D,w,f,v.width,v.height,0,f,g,v.data);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,d.width,d.height,0,f,g,d.data);else if(i.isCompressedTexture)for(var w=0,E=_.length;w<E;w++)v=_[w],i.format!==Jo&&i.format!==Zo?n.getCompressedTextureFormats().indexOf(f)>-1?n.compressedTexImage2D(e.TEXTURE_2D,w,f,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,w,f,v.width,v.height,0,f,g,v.data);else if(_.length>0&&p){for(var w=0,E=_.length;w<E;w++)v=_[w],n.texImage2D(e.TEXTURE_2D,w,f,f,g,v);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,f,g,d);c(i,p)&&e.generateMipmap(e.TEXTURE_2D);t.__version=i.version,i.onUpdate&&i.onUpdate(i)}(d,t,u);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,d.__webglTexture)}function m(n,o,a){var l;if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,s.convert(o.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,s.convert(o.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,s.convert(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,s.convert(o.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o.wrapS===Ro&&o.wrapT===Ro||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),e.texParameteri(n,e.TEXTURE_MAG_FILTER,u(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,u(o.minFilter)),o.minFilter!==Po&&o.minFilter!==Fo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===Ho&&null===t.get("OES_texture_float_linear"))return;if(o.type===Wo&&null===t.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function f(t,r,o,a){var l=s.convert(r.texture.format),c=s.convert(r.texture.type);n.texImage2D(a,0,l,r.width,r.height,0,l,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,a,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function g(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function v(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),p(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ta)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==na)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var s=0;s<6;s++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[s]),n.__webglDepthbuffer[s]=e.createRenderbuffer(),g(n.__webglDepthbuffer[s],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),g(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}var y="undefined"!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext,b={};this.setTexture2D=p,this.setTextureCube=function(t,u){var d=i.get(t);if(6===t.image.length)if(t.version>0&&d.__version!==t.version){d.__image__webglTextureCube||(t.addEventListener("dispose",h),d.__image__webglTextureCube=e.createTexture(),o.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,d.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var p=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,g=[],v=0;v<6;v++)g[v]=p||f?f?t.image[v].image:t.image[v]:a(t.image[v],r.maxCubemapSize);var y=l(g[0]),b=s.convert(t.format),_=s.convert(t.type);for(m(e.TEXTURE_CUBE_MAP,t,y),v=0;v<6;v++)if(p)for(var x,w=g[v].mipmaps,E=0,T=w.length;E<T;E++)x=w[E],t.format!==Jo&&t.format!==Zo?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,b,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,b,x.width,x.height,0,b,_,x.data);else f?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,b,g[v].width,g[v].height,0,b,_,g[v].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,b,b,_,g[v]);c(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),d.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,d.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,i.get(t).__webglTexture)},this.setupRenderTarget=function(t){var r=i.get(t),s=i.get(t.texture);t.addEventListener("dispose",d),s.__webglTexture=e.createTexture(),o.textures++;var a=!0===t.isWebGLRenderTargetCube,u=l(t);if(a){r.__webglFramebuffer=[];for(var h=0;h<6;h++)r.__webglFramebuffer[h]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(a){for(n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture),m(e.TEXTURE_CUBE_MAP,t.texture,u),h=0;h<6;h++)f(r.__webglFramebuffer[h],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+h);c(t.texture,u)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,s.__webglTexture),m(e.TEXTURE_2D,t.texture,u),f(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),c(t.texture,u)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&v(t)},this.updateRenderTargetMipmap=function(t){var r=t.texture;if(c(r,l(t))){var s=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=i.get(r).__webglTexture;n.bindTexture(s,o),e.generateMipmap(s),n.bindTexture(s,null)}},this.updateVideoTextures=function(){for(var e in b)b[e].update()}}function Je(e,t,n,i){ue.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Qe(e){Je.call(this),this.cameras=e||[]}function et(e){function t(){if(null!==i&&i.isPresenting){var t=i.getEyeParameters("left"),r=t.renderWidth,s=t.renderHeight;p=e.getPixelRatio(),d=e.getSize(),e.setDrawingBufferSize(2*r,s,1)}else n.enabled&&e.setDrawingBufferSize(d.width,d.height,p)}var n=this,i=null,r=null,o=null;"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData);var a=new s,l=new Je;l.bounds=new u(0,0,.5,1),l.layers.enable(1);var c=new Je;c.bounds=new u(.5,0,.5,1),c.layers.enable(2);var h=new Qe([l,c]);h.layers.enable(1),h.layers.enable(2);var d,p;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e)},this.setPoseTarget=function(e){void 0!==e&&(o=e)},this.getCamera=function(e){if(null===i)return e;i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(r);var t=r.pose,n=null!==o?o:e;if(null!==t.position?n.position.fromArray(t.position):n.position.set(0,0,0),null!==t.orientation&&n.quaternion.fromArray(t.orientation),n.updateMatrixWorld(),!1===i.isPresenting)return e;l.near=e.near,c.near=e.near,l.far=e.far,c.far=e.far,h.matrixWorld.copy(e.matrixWorld),h.matrixWorldInverse.copy(e.matrixWorldInverse),l.matrixWorldInverse.fromArray(r.leftViewMatrix),c.matrixWorldInverse.fromArray(r.rightViewMatrix);var s=n.parent;null!==s&&(a.getInverse(s.matrixWorld),l.matrixWorldInverse.multiply(a),c.matrixWorldInverse.multiply(a)),l.matrixWorld.getInverse(l.matrixWorldInverse),c.matrixWorld.getInverse(c.matrixWorldInverse),l.projectionMatrix.fromArray(r.leftProjectionMatrix),c.projectionMatrix.fromArray(r.rightProjectionMatrix),h.projectionMatrix.copy(l.projectionMatrix);var u=i.getLayers();if(u.length){var d=u[0];null!==d.leftBounds&&4===d.leftBounds.length&&l.bounds.fromArray(d.leftBounds),null!==d.rightBounds&&4===d.rightBounds.length&&c.bounds.fromArray(d.rightBounds)}return h},this.submitFrame=function(){i&&i.isPresenting&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function tt(e){function t(){return null===N?Q:1}function n(){(ye=new function(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=e.getExtension("WEBGL_compressed_texture_etc1");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}(ge)).get("WEBGL_depth_texture"),ye.get("OES_texture_float"),ye.get("OES_texture_float_linear"),ye.get("OES_texture_half_float"),ye.get("OES_texture_half_float_linear"),ye.get("OES_standard_derivatives"),ye.get("OES_element_index_uint"),ye.get("ANGLE_instanced_arrays"),qe=new function(e,t){return{convert:function(n){var i;if(n===Mo)return e.REPEAT;if(n===Ro)return e.CLAMP_TO_EDGE;if(n===Lo)return e.MIRRORED_REPEAT;if(n===Po)return e.NEAREST;if(n===Oo)return e.NEAREST_MIPMAP_NEAREST;if(n===Do)return e.NEAREST_MIPMAP_LINEAR;if(n===Fo)return e.LINEAR;if(n===Io)return e.LINEAR_MIPMAP_NEAREST;if(n===No)return e.LINEAR_MIPMAP_LINEAR;if(n===Bo)return e.UNSIGNED_BYTE;if(n===$o)return e.UNSIGNED_SHORT_4_4_4_4;if(n===qo)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Xo)return e.UNSIGNED_SHORT_5_6_5;if(n===jo)return e.BYTE;if(n===zo)return e.SHORT;if(n===Uo)return e.UNSIGNED_SHORT;if(n===Vo)return e.INT;if(n===Go)return e.UNSIGNED_INT;if(n===Ho)return e.FLOAT;if(n===Wo&&null!==(i=t.get("OES_texture_half_float")))return i.HALF_FLOAT_OES;if(n===Ko)return e.ALPHA;if(n===Zo)return e.RGB;if(n===Jo)return e.RGBA;if(n===Qo)return e.LUMINANCE;if(n===ea)return e.LUMINANCE_ALPHA;if(n===ta)return e.DEPTH_COMPONENT;if(n===na)return e.DEPTH_STENCIL;if(n===Gs)return e.FUNC_ADD;if(n===Hs)return e.FUNC_SUBTRACT;if(n===Ws)return e.FUNC_REVERSE_SUBTRACT;if(n===Xs)return e.ZERO;if(n===Ys)return e.ONE;if(n===Ks)return e.SRC_COLOR;if(n===Zs)return e.ONE_MINUS_SRC_COLOR;if(n===Js)return e.SRC_ALPHA;if(n===Qs)return e.ONE_MINUS_SRC_ALPHA;if(n===eo)return e.DST_ALPHA;if(n===to)return e.ONE_MINUS_DST_ALPHA;if(n===no)return e.DST_COLOR;if(n===io)return e.ONE_MINUS_DST_COLOR;if(n===ro)return e.SRC_ALPHA_SATURATE;if((n===ia||n===ra||n===sa||n===oa)&&null!==(i=t.get("WEBGL_compressed_texture_s3tc"))){if(n===ia)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ra)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===sa)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===oa)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===aa||n===la||n===ca||n===ua)&&null!==(i=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===aa)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===la)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ca)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ua)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===ha&&null!==(i=t.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((n===$s||n===qs)&&null!==(i=t.get("EXT_blend_minmax"))){if(n===$s)return i.MIN_EXT;if(n===qs)return i.MAX_EXT}return n===Yo&&null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:0}}}(ge,ye),_e=new function(e,t,n){function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var r,s=void 0!==n.precision?n.precision:"highp",o=i(s);o!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",o,"instead."),s=o);var a=!0===n.logarithmicDepthBuffer,l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),f=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,v=!!t.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:s,logarithmicDepthBuffer:a,maxTextures:l,maxVertexTextures:c,maxTextureSize:u,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:f,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}(ge,ye,e),(we=new function(e,t,n){function i(t,n,i){var r=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<i;o++)e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return s}function r(t){!0!==b[t]&&(e.enable(t),b[t]=!0)}function s(t){!1!==b[t]&&(e.disable(t),b[t]=!1)}function o(t,i,o,a,l,c,u,h){if(t!==Ns?r(e.BLEND):s(e.BLEND),t!==Vs){if(t!==w||h!==M)switch(t){case js:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case zs:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case Us:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}E=null,T=null,S=null,k=null,A=null,C=null}else l=l||i,c=c||o,u=u||a,i===E&&l===k||(e.blendEquationSeparate(n.convert(i),n.convert(l)),E=i,k=l),o===T&&a===S&&c===A&&u===C||(e.blendFuncSeparate(n.convert(o),n.convert(a),n.convert(c),n.convert(u)),T=o,S=a,A=c,C=u);w=t,M=h}function a(t){R!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),R=t)}function l(t){t!==Ss?(r(e.CULL_FACE),t!==L&&(t===ks?e.cullFace(e.BACK):t===As?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):s(e.CULL_FACE),L=t}function c(t,n,i){t?(r(e.POLYGON_OFFSET_FILL),O===n&&D===i||(e.polygonOffset(n,i),O=n,D=i)):s(e.POLYGON_OFFSET_FILL)}function h(t){void 0===t&&(t=e.TEXTURE0+F-1),B!==t&&(e.activeTexture(t),B=t)}var d=new function(){var t=!1,n=new u,i=null,r=new u(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,s,o,a){!0===a&&(t*=o,i*=o,s*=o),n.set(t,i,s,o),!1===r.equals(n)&&(e.clearColor(t,i,s,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},p=new function(){var t=!1,n=null,i=null,o=null;return{setTest:function(t){t?r(e.DEPTH_TEST):s(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case so:e.depthFunc(e.NEVER);break;case oo:e.depthFunc(e.ALWAYS);break;case ao:e.depthFunc(e.LESS);break;case lo:e.depthFunc(e.LEQUAL);break;case co:e.depthFunc(e.EQUAL);break;case uo:e.depthFunc(e.GEQUAL);break;case ho:e.depthFunc(e.GREATER);break;case po:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);i=t}},setLocked:function(e){t=e},setClear:function(t){o!==t&&(e.clearDepth(t),o=t)},reset:function(){t=!1,n=null,i=null,o=null}}},m=new function(){var t=!1,n=null,i=null,o=null,a=null,l=null,c=null,u=null,h=null;return{setTest:function(t){t?r(e.STENCIL_TEST):s(e.STENCIL_TEST)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,r){i===t&&o===n&&a===r||(e.stencilFunc(t,n,r),i=t,o=n,a=r)},setOp:function(t,n,i){l===t&&c===n&&u===i||(e.stencilOp(t,n,i),l=t,c=n,u=i)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,n=null,i=null,o=null,a=null,l=null,c=null,u=null,h=null}}},f=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),v=new Uint8Array(f),y=new Uint8Array(f),b={},_=null,x=null,w=null,E=null,T=null,S=null,k=null,A=null,C=null,M=!1,R=null,L=null,P=null,O=null,D=null,F=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),N=parseFloat(I)>=1,B=null,j={},z=new u,U=new u,V={};return V[e.TEXTURE_2D]=i(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=i(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),d.setClear(0,0,0,1),p.setClear(1),m.setClear(0),r(e.DEPTH_TEST),p.setFunc(lo),a(!1),l(ks),r(e.CULL_FACE),r(e.BLEND),o(Bs),{buffers:{color:d,depth:p,stencil:m},initAttributes:function(){for(var e=0,t=g.length;e<t;e++)g[e]=0},enableAttribute:function(n){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),0!==y[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),y[n]=0)},enableAttributeAndDivisor:function(n,i){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),y[n]!==i&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,i),y[n]=i)},disableUnusedAttributes:function(){for(var t=0,n=v.length;t!==n;++t)v[t]!==g[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:r,disable:s,getCompressedTextureFormats:function(){if(null===_&&(_=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)_.push(n[i]);return _},useProgram:function(t){return x!==t&&(e.useProgram(t),x=t,!0)},setBlending:o,setMaterial:function(t,n){t.side===Os?s(e.CULL_FACE):r(e.CULL_FACE);var i=t.side===Ps;n&&(i=!i),a(i),!0===t.transparent?o(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):o(Ns),p.setFunc(t.depthFunc),p.setTest(t.depthTest),p.setMask(t.depthWrite),d.setMask(t.colorWrite),c(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:a,setCullFace:l,setLineWidth:function(t){t!==P&&(N&&e.lineWidth(t),P=t)},setPolygonOffset:c,setScissorTest:function(t){t?r(e.SCISSOR_TEST):s(e.SCISSOR_TEST)},activeTexture:h,bindTexture:function(t,n){null===B&&h();var i=j[B];void 0===i&&(i={type:void 0,texture:void 0},j[B]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||V[t]),i.type=t,i.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);b={},_=null,B=null,j={},x=null,w=null,R=null,L=null,d.reset(),p.reset(),m.reset()}}}(ge,ye,qe)).scissor(H.copy(te).multiplyScalar(Q)),we.viewport(G.copy(ee).multiplyScalar(Q)),Ee=new function(){var e={};return{get:function(t){var n=t.uuid,i=e[n];return void 0===i&&(i={},e[n]=i),i},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}},Te=new Ze(ge,ye,we,Ee,_e,qe,me),Ae=new oe(ge),Me=new function(e,t,n){function i(e){var o=e.target,a=r[o.id];null!==a.index&&t.remove(a.index);for(var l in a.attributes)t.remove(a.attributes[l]);o.removeEventListener("dispose",i),delete r[o.id];var c=s[o.id];c&&(t.remove(c),delete s[o.id]),(c=s[a.id])&&(t.remove(c),delete s[a.id]),n.geometries--}var r={},s={};return{get:function(e,t){var s=r[t.id];return s||(t.addEventListener("dispose",i),t.isBufferGeometry?s=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ke).setFromObject(e)),s=t._bufferGeometry),r[t.id]=s,n.geometries++,s)},update:function(n){var i=n.index,r=n.attributes;null!==i&&t.update(i,e.ELEMENT_ARRAY_BUFFER);for(var s in r)t.update(r[s],e.ARRAY_BUFFER);var o=n.morphAttributes;for(var s in o)for(var a=o[s],l=0,c=a.length;l<c;l++)t.update(a[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var i=s[n.id];if(i)return i;var r=[],o=n.index,a=n.attributes;if(null!==o)for(var l=0,c=(p=o.array).length;l<c;l+=3){var u=p[l+0],h=p[l+1],d=p[l+2];r.push(u,h,h,d,d,u)}else{var p;for(l=0,c=(p=a.position.array).length/3-1;l<c;l+=3)u=l+0,h=l+1,d=l+2,r.push(u,h,h,d,d,u)}return i=new(Se(r)>65535?xe:be)(r,1),t.update(i,e.ELEMENT_ARRAY_BUFFER),s[n.id]=i,i}}}(ge,Ae,me),Oe=new function(e,t){var n={};return{update:function(i){var r=t.frame,s=i.geometry,o=e.get(i,s);return n[o.id]!==r&&(s.isGeometry&&o.updateFromObject(i),e.update(o),n[o.id]=r),o},clear:function(){n={}}}}(Me,fe),Ve=new function(e){var t={},n=new Float32Array(8);return{update:function(i,r,s,o){var a=i.morphTargetInfluences,l=a.length,c=t[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[r.id]=c}var h=s.morphTargets&&r.morphAttributes.position,d=s.morphNormals&&r.morphAttributes.normal;for(u=0;u<l;u++)0!==(p=c[u])[1]&&(h&&r.removeAttribute("morphTarget"+u),d&&r.removeAttribute("morphNormal"+u));for(u=0;u<l;u++)(p=c[u])[0]=u,p[1]=a[u];for(c.sort(ze),u=0;u<8;u++){var p;if(p=c[u]){var m=p[0],f=p[1];if(f){h&&r.addAttribute("morphTarget"+u,h[m]),d&&r.addAttribute("morphNormal"+u,d[m]),n[u]=f;continue}}n[u]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}(ge),Fe=new Ke(F,ye,_e),De=new Ue,Ne=new je,Be=new function(e,t,n,i){function r(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}var s,o,a,l=new q(0),c=0;return{getClearColor:function(){return l},setClearColor:function(e,t){l.set(e),r(l,c=void 0!==t?t:1)},getClearAlpha:function(){return c},setClearAlpha:function(e){r(l,c=e)},render:function(t,i,u,h){var d=i.background;null===d?r(l,c):d&&d.isColor&&(r(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&d.isCubeTexture?(void 0===a&&((a=new Ie(new Ce(1,1,1),new Pe({uniforms:ja.cube.uniforms,vertexShader:ja.cube.vertexShader,fragmentShader:ja.cube.fragmentShader,side:Ps,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(a.geometry)),a.material.uniforms.tCube.value=d,t.push(a,a.geometry,a.material,0,null)):d&&d.isTexture&&(void 0===s&&(s=new he(-1,1,1,-1,0,1),o=new Ie(new Re(2,2),new Le({depthTest:!1,depthWrite:!1,fog:!1})),n.update(o.geometry)),o.material.map=d,e.renderBufferDirect(s,null,o.geometry,o.material,o,null))}}}(F,we,Me,A),Ge=new function(e,t,n){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.calls++,n.vertices+=r,i===e.TRIANGLES?n.faces+=r/3:i===e.POINTS&&(n.points+=r)},this.renderInstances=function(r,s,o){var a=t.get("ANGLE_instanced_arrays");if(null!==a){var l=r.attributes.position;l.isInterleavedBufferAttribute?(o=l.data.count,a.drawArraysInstancedANGLE(i,0,o,r.maxInstancedCount)):a.drawArraysInstancedANGLE(i,s,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,i===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:i===e.POINTS&&(n.points+=r.maxInstancedCount*o)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}(ge,ye,fe),He=new function(e,t,n){var i,r,s;this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,s=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*s),n.calls++,n.vertices+=o,i===e.TRIANGLES?n.faces+=o/3:i===e.POINTS&&(n.points+=o)},this.renderInstances=function(o,a,l){var c=t.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(i,l,r,a*s,o.maxInstancedCount),n.calls++,n.vertices+=l*o.maxInstancedCount,i===e.TRIANGLES?n.faces+=o.maxInstancedCount*l/3:i===e.POINTS&&(n.points+=o.maxInstancedCount*l)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}(ge,ye,fe),We=new Y(F,ge,we,Te,_e),$e=new Z(F,ge,we,Te,_e),F.info.programs=Fe.programs,F.context=ge,F.capabilities=_e,F.extensions=ye,F.properties=Ee,F.renderLists=Ne,F.state=we}function i(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1,n()}function o(e){var t=e.target;t.removeEventListener("dispose",o),function(e){c(e),Ee.remove(e)}(t)}function c(e){var t=Ee.get(e).program;e.program=void 0,void 0!==t&&Fe.releaseProgram(t)}function h(e){null!==Qe&&Qe(e);var t=Xe.getDevice();t&&t.isPresenting?t.requestAnimationFrame(h):window.requestAnimationFrame(h)}function d(e,t,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isLight)R.push(e),e.castShadow&&L.push(e);else if(e.isSprite)e.frustumCulled&&!ae.intersectsSprite(e)||O.push(e);else if(e.isLensFlare)D.push(e);else if(e.isImmediateRenderObject)n&&pe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(de),P.push(e,null,e.material,pe.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||ae.intersectsObject(e))){n&&pe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(de);var i=Oe.update(e),r=e.material;if(Array.isArray(r))for(var s=i.groups,o=0,a=s.length;o<a;o++){var l=s[o],c=r[l.materialIndex];c&&c.visible&&P.push(e,i,c,pe.z,l)}else r.visible&&P.push(e,i,r,pe.z,null)}var u=e.children;for(o=0,a=u.length;o<a;o++)d(u[o],t,n)}}function m(e,t,n,i){for(var r=0,s=e.length;r<s;r++){var o=e[r],a=o.object,l=o.geometry,c=void 0===i?o.material:i,u=o.group;if(n.isArrayCamera){V=n;for(var h=n.cameras,d=0,p=h.length;d<p;d++){var m=h[d];if(a.layers.test(m.layers)){var g=m.bounds,v=g.x*K,y=g.y*J,b=g.z*K,_=g.w*J;we.viewport(G.set(v,y,b,_).multiplyScalar(Q)),f(a,t,m,l,c,u)}}}else V=null,f(a,t,n,l,c,u)}}function f(e,t,n,i,r,s){if(e.onBeforeRender(F,t,n,i,r,s),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=e.isMesh&&e.matrixWorld.determinant()<0;we.setMaterial(r,o);var a=v(n,t.fog,r,e);z="",function(e,t,n){e.render(function(e){F.renderBufferImmediate(e,t,n)})}(e,a,r)}else F.renderBufferDirect(n,t.fog,i,r,e,s);e.onAfterRender(F,t,n,i,r,s)}function g(e,t,n){var i=Ee.get(e),r=Fe.getParameters(e,De.state,L,t,le.numPlanes,le.numIntersection,n),s=Fe.getProgramCode(e,r),a=i.program,l=!0;if(void 0===a)e.addEventListener("dispose",o);else if(a.code!==s)c(e);else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var u=ja[r.shaderID];i.shader={name:e.type,uniforms:Na.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader),a=Fe.acquireProgram(e,i.shader,r,s),i.program=a,e.program=a}var h=a.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<F.maxMorphTargets;d++)h["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(d=0;d<F.maxMorphNormals;d++)h["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=le.numPlanes,i.numIntersection=le.numIntersection,p.clippingPlanes=le.uniform),i.fog=t,i.lightsHash=De.state.hash,e.lights&&(p.ambientLightColor.value=De.state.ambient,p.directionalLights.value=De.state.directional,p.spotLights.value=De.state.spot,p.rectAreaLights.value=De.state.rectArea,p.pointLights.value=De.state.point,p.hemisphereLights.value=De.state.hemi,p.directionalShadowMap.value=De.state.directionalShadowMap,p.directionalShadowMatrix.value=De.state.directionalShadowMatrix,p.spotShadowMap.value=De.state.spotShadowMap,p.spotShadowMatrix.value=De.state.spotShadowMatrix,p.pointShadowMap.value=De.state.pointShadowMap,p.pointShadowMatrix.value=De.state.pointShadowMatrix);var m=i.program.getUniforms(),f=$.seqWithValue(m.seq,p);i.uniformsList=f}function v(e,t,n,i){X=0;var r=Ee.get(n);if(ce&&(ue||e!==U)){var s=e===U&&n.id===j;le.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,s)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:n.lights&&r.lightsHash!==De.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===le.numPlanes&&r.numIntersection===le.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(g(n,t,i),n.needsUpdate=!1);var o=!1,a=!1,l=!1,c=r.program,u=c.getUniforms(),h=r.shader.uniforms;if(we.useProgram(c.program)&&(o=!0,a=!0,l=!0),n.id!==j&&(j=n.id,a=!0),o||e!==U){if(u.setValue(ge,"projectionMatrix",e.projectionMatrix),_e.logarithmicDepthBuffer&&u.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==(V||e)&&(U=V||e,a=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var d=u.map.cameraPosition;void 0!==d&&d.setValue(ge,pe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&u.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){u.setOptional(ge,i,"bindMatrix"),u.setOptional(ge,i,"bindMatrixInverse");var m=i.skeleton;if(m){var f=m.bones;if(_e.floatVertexTextures){if(void 0===m.boneTexture){var v=Math.sqrt(4*f.length);v=ka.ceilPowerOfTwo(v),v=Math.max(v,4);var x=new Float32Array(v*v*4);x.set(m.boneMatrices);var w=new p(x,v,v,Jo,Ho);m.boneMatrices=x,m.boneTexture=w,m.boneTextureSize=v}u.setValue(ge,"boneTexture",m.boneTexture),u.setValue(ge,"boneTextureSize",m.boneTextureSize)}else u.setOptional(ge,m,"boneMatrices")}}return a&&(u.setValue(ge,"toneMappingExposure",F.toneMappingExposure),u.setValue(ge,"toneMappingWhitePoint",F.toneMappingWhitePoint),n.lights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(h,l),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(h,t),n.isMeshBasicMaterial?y(h,n):n.isMeshLambertMaterial?(y(h,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(h,n)):n.isMeshPhongMaterial?(y(h,n),n.isMeshToonMaterial?function(e,t){b(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(h,n):b(h,n)):n.isMeshStandardMaterial?(y(h,n),n.isMeshPhysicalMaterial?function(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,_(e,t)}(h,n):_(h,n)):n.isMeshDepthMaterial?(y(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isMeshDistanceMaterial?(y(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(h,n)):n.isMeshNormalMaterial?(y(h,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(h,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(h,n)):n.isPointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*Q,e.scale.value=.5*J,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,i=t.map.repeat,r=t.map.rotation,s=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,s.x,s.y)}e.uvTransform.value.copy(t.map.matrix)}}(h,n):n.isShadowMaterial&&(h.color.value=n.color,h.opacity.value=n.opacity),void 0!==h.ltcMat&&(h.ltcMat.value=Ia.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=Ia.LTC_MAG_TEXTURE),$.upload(ge,r.uniformsList,h,F)),u.setValue(ge,"modelViewMatrix",i.modelViewMatrix),u.setValue(ge,"normalMatrix",i.normalMatrix),u.setValue(ge,"modelMatrix",i.matrixWorld),c}function y(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var i=n.offset,r=n.repeat,s=n.rotation,o=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,s,o.x,o.y)}e.uvTransform.value.copy(n.matrix)}}function b(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function _(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}console.log("THREE.WebGLRenderer",Ts);var x=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),w=void 0!==e.context?e.context:null,E=void 0!==e.alpha&&e.alpha,T=void 0===e.depth||e.depth,S=void 0===e.stencil||e.stencil,k=void 0!==e.antialias&&e.antialias,A=void 0===e.premultipliedAlpha||e.premultipliedAlpha,C=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,M=void 0!==e.powerPreference?e.powerPreference:"default",R=[],L=[],P=null,O=[],D=[];this.domElement=x,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=yo,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var F=this,I=!1,N=null,B=null,j=-1,z="",U=null,V=null,G=new u,H=new u,W=null,X=0,K=x.width,J=x.height,Q=1,ee=new u(0,0,K,J),te=new u(0,0,K,J),ne=!1,ae=new re,le=new function(){function e(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function t(e,t,i,r){var s=null!==e?e.length:0,o=null;if(0!==s){if(o=u.value,!0!==r||null===o){var l=i+4*s,h=t.matrixWorldInverse;c.getNormalMatrix(h),(null===o||o.length<l)&&(o=new Float32Array(l));for(var d=0,p=i;d!==s;++d,p+=4)a.copy(e[d]).applyMatrix4(h,c),a.normal.toArray(o,p),o[p+3]=a.constant}u.value=o,u.needsUpdate=!0}return n.numPlanes=s,o}var n=this,i=null,r=0,s=!1,o=!1,a=new ie,c=new l,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,o){var a=0!==e.length||n||0!==r||s;return s=n,i=t(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,t(null)},this.endShadows=function(){o=!1,e()},this.setState=function(n,a,l,c,h,d){if(!s||null===n||0===n.length||o&&!l)o?t(null):e();else{var p=o?0:r,m=4*p,f=h.clippingState||null;u.value=f,f=t(n,c,m,d);for(var g=0;g!==m;++g)f[g]=i[g];h.clippingState=f,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}},ce=!1,ue=!1,de=new s,pe=new a,me={geometries:0,textures:0},fe={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:fe,memory:me,programs:null};var ge;try{var ve={alpha:E,depth:T,stencil:S,antialias:k,premultipliedAlpha:A,preserveDrawingBuffer:C,powerPreference:M};if(x.addEventListener("webglcontextlost",i,!1),x.addEventListener("webglcontextrestored",r,!1),null===(ge=w||x.getContext("webgl",ve)||x.getContext("experimental-webgl",ve)))throw null!==x.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}var ye,_e,we,Ee,Te,Ae,Me,Oe,De,Fe,Ne,Be,Ve,Ge,He,We,$e,qe;n();var Xe=new et(F);this.vr=Xe;var Ye=new se(F,Oe,_e.maxTextureSize);this.shadowMap=Ye,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){var e=ye.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ye.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(e){void 0!==e&&(Q=e,this.setSize(K,J,!1))},this.getSize=function(){return{width:K,height:J}},this.setSize=function(e,t,n){var i=Xe.getDevice();i&&i.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(K=e,J=t,x.width=e*Q,x.height=t*Q,!1!==n&&(x.style.width=e+"px",x.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:K*Q,height:J*Q}},this.setDrawingBufferSize=function(e,t,n){K=e,J=t,Q=n,x.width=e*n,x.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,i){ee.set(e,J-t-i,n,i),we.viewport(G.copy(ee).multiplyScalar(Q))},this.setScissor=function(e,t,n,i){te.set(e,J-t-i,n,i),we.scissor(H.copy(te).multiplyScalar(Q))},this.setScissorTest=function(e){we.setScissorTest(ne=e)},this.getClearColor=function(){return Be.getClearColor()},this.setClearColor=function(){Be.setClearColor.apply(Be,arguments)},this.getClearAlpha=function(){return Be.getClearAlpha()},this.setClearAlpha=function(){Be.setClearAlpha.apply(Be,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=ge.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=ge.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=ge.STENCIL_BUFFER_BIT),ge.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){x.removeEventListener("webglcontextlost",i,!1),x.removeEventListener("webglcontextrestored",r,!1),Ne.dispose(),Xe.dispose()},this.renderBufferImmediate=function(e,t,n){we.initAttributes();var i=Ee.get(e);e.hasPositions&&!i.position&&(i.position=ge.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=ge.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=ge.createBuffer()),e.hasColors&&!i.color&&(i.color=ge.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(ge.bindBuffer(ge.ARRAY_BUFFER,i.position),ge.bufferData(ge.ARRAY_BUFFER,e.positionArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.position),ge.vertexAttribPointer(r.position,3,ge.FLOAT,!1,0,0)),e.hasNormals){if(ge.bindBuffer(ge.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var s=0,o=3*e.count;s<o;s+=9){var a=e.normalArray,l=(a[s+0]+a[s+3]+a[s+6])/3,c=(a[s+1]+a[s+4]+a[s+7])/3,u=(a[s+2]+a[s+5]+a[s+8])/3;a[s+0]=l,a[s+1]=c,a[s+2]=u,a[s+3]=l,a[s+4]=c,a[s+5]=u,a[s+6]=l,a[s+7]=c,a[s+8]=u}ge.bufferData(ge.ARRAY_BUFFER,e.normalArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.normal),ge.vertexAttribPointer(r.normal,3,ge.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(ge.bindBuffer(ge.ARRAY_BUFFER,i.uv),ge.bufferData(ge.ARRAY_BUFFER,e.uvArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.uv),ge.vertexAttribPointer(r.uv,2,ge.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Ds&&(ge.bindBuffer(ge.ARRAY_BUFFER,i.color),ge.bufferData(ge.ARRAY_BUFFER,e.colorArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.color),ge.vertexAttribPointer(r.color,3,ge.FLOAT,!1,0,0)),we.disableUnusedAttributes(),ge.drawArrays(ge.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,i,r,s,o){var a=s.isMesh&&s.matrixWorld.determinant()<0;we.setMaterial(r,a);var l=v(e,n,r,s),c=i.id+"_"+l.id+"_"+(!0===r.wireframe),u=!1;c!==z&&(z=c,u=!0),s.morphTargetInfluences&&(Ve.update(s,i,r,l),u=!0);var h=i.index,d=i.attributes.position,p=1;!0===r.wireframe&&(h=Me.getWireframeAttribute(i),p=2);var m,f=Ge;null!==h&&(m=Ae.get(h),(f=He).setIndex(m)),u&&(!function(e,t,n,i){if(n&&n.isInstancedBufferGeometry&&null===ye.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===i&&(i=0),we.initAttributes();var r=n.attributes,s=t.getAttributes(),o=e.defaultAttributeValues;for(var a in s){var l=s[a];if(l>=0){var c=r[a];if(void 0!==c){var u=c.normalized,h=c.itemSize,d=Ae.get(c);if(void 0===d)continue;var p=d.buffer,m=d.type,f=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,v=g.stride,y=c.offset;g&&g.isInstancedInterleavedBuffer?(we.enableAttributeAndDivisor(l,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):we.enableAttribute(l),ge.bindBuffer(ge.ARRAY_BUFFER,p),ge.vertexAttribPointer(l,h,m,u,v*f,(i*v+y)*f)}else c.isInstancedBufferAttribute?(we.enableAttributeAndDivisor(l,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):we.enableAttribute(l),ge.bindBuffer(ge.ARRAY_BUFFER,p),ge.vertexAttribPointer(l,h,m,u,0,i*h*f)}else if(void 0!==o){var b=o[a];if(void 0!==b)switch(b.length){case 2:ge.vertexAttrib2fv(l,b);break;case 3:ge.vertexAttrib3fv(l,b);break;case 4:ge.vertexAttrib4fv(l,b);break;default:ge.vertexAttrib1fv(l,b)}}}}we.disableUnusedAttributes()}}(r,l,i),null!==h&&ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,m.buffer));var g=0;null!==h?g=h.count:void 0!==d&&(g=d.count);var y=i.drawRange.start*p,b=i.drawRange.count*p,_=null!==o?o.start*p:0,x=null!==o?o.count*p:1/0,w=Math.max(y,_),E=Math.min(g,y+b,_+x)-1,T=Math.max(0,E-w+1);if(0!==T){if(s.isMesh)if(!0===r.wireframe)we.setLineWidth(r.wireframeLinewidth*t()),f.setMode(ge.LINES);else switch(s.drawMode){case ma:f.setMode(ge.TRIANGLES);break;case fa:f.setMode(ge.TRIANGLE_STRIP);break;case ga:f.setMode(ge.TRIANGLE_FAN)}else if(s.isLine){var S=r.linewidth;void 0===S&&(S=1),we.setLineWidth(S*t()),s.isLineSegments?f.setMode(ge.LINES):s.isLineLoop?f.setMode(ge.LINE_LOOP):f.setMode(ge.LINE_STRIP)}else s.isPoints&&f.setMode(ge.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&f.renderInstances(i,w,T):f.render(w,T)}},this.compile=function(e,t){R.length=0,L.length=0,e.traverse(function(e){e.isLight&&(R.push(e),e.castShadow&&L.push(e))}),De.setup(R,L,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)g(t.material[n],e.fog,t);else g(t.material,e.fog,t)})};var Je=!1,Qe=null;this.animate=function(e){Qe=e,function(){if(!Je){var e=Xe.getDevice();e&&e.isPresenting?e.requestAnimationFrame(h):window.requestAnimationFrame(h),Je=!0}}()},this.render=function(e,t,n,i){if(t&&t.isCamera){if(!I){z="",j=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),Xe.enabled&&(t=Xe.getCamera(t)),de.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ae.setFromMatrix(de),R.length=0,L.length=0,O.length=0,D.length=0,ue=this.localClippingEnabled,ce=le.init(this.clippingPlanes,ue,t),(P=Ne.get(e,t)).init(),d(e,t,F.sortObjects),!0===F.sortObjects&&P.sort(),Te.updateVideoTextures(),ce&&le.beginShadows(),Ye.render(L,e,t),De.setup(R,L,t),ce&&le.endShadows(),fe.frame++,fe.calls=0,fe.vertices=0,fe.faces=0,fe.points=0,void 0===n&&(n=null),this.setRenderTarget(n),Be.render(P,e,t,i);var r=P.opaque,s=P.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;r.length&&m(r,e,t,o),s.length&&m(s,e,t,o)}else r.length&&m(r,e,t),s.length&&m(s,e,t);$e.render(O,e,t),We.render(D,e,t,G),n&&Te.updateRenderTargetMipmap(n),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1),Xe.enabled&&Xe.submitFrame()}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(e,t){we.setCullFace(e),we.setFlipSided(t===Cs)},this.allocTextureUnit=function(){var e=X;return e>=_e.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+_e.maxTextures),X+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Te.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),Te.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Te.setTextureCube(t,n):Te.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return N},this.setRenderTarget=function(e){N=e,e&&void 0===Ee.get(e).__webglFramebuffer&&Te.setupRenderTarget(e);var t=null,n=!1;if(e){var i=Ee.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=i[e.activeCubeFace],n=!0):t=i,G.copy(e.viewport),H.copy(e.scissor),W=e.scissorTest}else G.copy(ee).multiplyScalar(Q),H.copy(te).multiplyScalar(Q),W=ne;if(B!==t&&(ge.bindFramebuffer(ge.FRAMEBUFFER,t),B=t),we.viewport(G),we.scissor(H),we.setScissorTest(W),n){var r=Ee.get(e.texture);ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,r,s){if(e&&e.isWebGLRenderTarget){var o=Ee.get(e).__webglFramebuffer;if(o){var a=!1;o!==B&&(ge.bindFramebuffer(ge.FRAMEBUFFER,o),a=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==Jo&&qe.convert(c)!==ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===Bo||qe.convert(u)===ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_TYPE)||u===Ho&&(ye.get("OES_texture_float")||ye.get("WEBGL_color_buffer_float"))||u===Wo&&ye.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ge.checkFramebufferStatus(ge.FRAMEBUFFER)===ge.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&ge.readPixels(t,n,i,r,qe.convert(c),qe.convert(u),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&ge.bindFramebuffer(ge.FRAMEBUFFER,B)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function nt(e,t){this.name="",this.color=new q(e),this.density=void 0!==t?t:25e-5}function it(e,t,n){this.name="",this.color=new q(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function rt(){ce.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function st(e,t,n,i,r){ce.call(this),this.lensFlares=[],this.positionScreen=new a,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,i,r)}function ot(e){J.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function at(e){ce.call(this),this.type="Sprite",this.material=void 0!==e?e:new ot}function lt(){ce.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ct(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new s)}}function ut(){ce.call(this),this.type="Bone"}function ht(e,t){Ie.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new s,this.bindMatrixInverse=new s;var n=new ct(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function dt(e){J.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function pt(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new mt(e,t);ce.call(this),this.type="Line",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new dt({color:16777215*Math.random()})}function mt(e,t){pt.call(this,e,t),this.type="LineSegments"}function ft(e,t){pt.call(this,e,t),this.type="LineLoop"}function gt(e){J.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function vt(e,t){ce.call(this),this.type="Points",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new gt({color:16777215*Math.random()})}function yt(){ce.call(this),this.type="Group"}function bt(e,t,n,i,r,s,o,a,l){function u(){e.removeEventListener("loadeddata",u,!1),h.needsUpdate=!0}c.call(this,e,t,n,i,r,s,o,a,l),this.generateMipmaps=!1;var h=this;e.addEventListener("loadeddata",u,!1)}function _t(e,t,n,i,r,s,o,a,l,u,h,d){c.call(this,null,s,o,a,l,u,i,r,h,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function xt(e,t,n,i,r,s,o,a,l,u){if((u=void 0!==u?u:ta)!==ta&&u!==na)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===ta&&(n=Uo),void 0===n&&u===na&&(n=Yo),c.call(this,null,i,r,s,o,a,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Po,this.minFilter=void 0!==a?a:Po,this.flipY=!1,this.generateMipmaps=!1}function wt(e){ke.call(this),this.type="WireframeGeometry";var t,n,i,r,s,o,l,c,u,h,d=[],p=[0,0],m={},f=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,i=g.length;t<i;t++){var v=g[t];for(n=0;n<3;n++)l=v[f[n]],c=v[f[(n+1)%3]],p[0]=Math.min(l,c),p[1]=Math.max(l,c),void 0===m[u=p[0]+","+p[1]]&&(m[u]={index1:p[0],index2:p[1]})}for(u in m)o=m[u],h=e.vertices[o.index1],d.push(h.x,h.y,h.z),h=e.vertices[o.index2],d.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,b,_,x,w,E,T;if(h=new a,null!==e.index){for(y=e.attributes.position,b=e.index,0===(_=e.groups).length&&(_=[{start:0,count:b.count,materialIndex:0}]),r=0,s=_.length;r<s;++r)for(t=w=(x=_[r]).start,i=w+x.count;t<i;t+=3)for(n=0;n<3;n++)l=b.getX(t+n),c=b.getX(t+(n+1)%3),p[0]=Math.min(l,c),p[1]=Math.max(l,c),void 0===m[u=p[0]+","+p[1]]&&(m[u]={index1:p[0],index2:p[1]});for(u in m)o=m[u],h.fromBufferAttribute(y,o.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,o.index2),d.push(h.x,h.y,h.z)}else for(t=0,i=(y=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)E=3*t+n,h.fromBufferAttribute(y,E),d.push(h.x,h.y,h.z),T=3*t+(n+1)%3,h.fromBufferAttribute(y,T),d.push(h.x,h.y,h.z)}this.addAttribute("position",new we(d,3))}function Et(e,t,n){pe.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Tt(e,t,n)),this.mergeVertices()}function Tt(e,t,n){ke.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,s=[],o=[],l=[],c=[],u=new a,h=new a,d=new a,p=new a,m=new a,f=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var v=r/t;h=e(v,g,h),o.push(h.x,h.y,h.z),v-1e-5>=0?(d=e(v-1e-5,g,d),p.subVectors(h,d)):(d=e(v+1e-5,g,d),p.subVectors(d,h)),g-1e-5>=0?(d=e(v,g-1e-5,d),m.subVectors(h,d)):(d=e(v,g+1e-5,d),m.subVectors(d,h)),u.crossVectors(p,m).normalize(),l.push(u.x,u.y,u.z),c.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var y=i*f+r,b=i*f+r+1,_=(i+1)*f+r+1,x=(i+1)*f+r;s.push(y,b,x),s.push(b,_,x)}this.setIndex(s),this.addAttribute("position",new we(o,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(c,2))}function St(e,t,n,i){pe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new kt(e,t,n,i)),this.mergeVertices()}function kt(e,t,n,i){function s(e){u.push(e.x,e.y,e.z)}function o(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function l(e,t,n,i){i<0&&1===e.x&&(h[t]=e.x-1),0===n.x&&0===n.z&&(h[t]=i/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}ke.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var u=[],h=[];!function(e){for(var n=new a,i=new a,r=new a,l=0;l<t.length;l+=3)o(t[l+0],n),o(t[l+1],i),o(t[l+2],r),function(e,t,n,i){var r,o,a=Math.pow(2,i),l=[];for(r=0;r<=a;r++){l[r]=[];var c=e.clone().lerp(n,r/a),u=t.clone().lerp(n,r/a),h=a-r;for(o=0;o<=h;o++)l[r][o]=0===o&&r===a?c:c.clone().lerp(u,o/h)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var d=Math.floor(o/2);o%2==0?(s(l[r][d+1]),s(l[r+1][d]),s(l[r][d])):(s(l[r][d+1]),s(l[r+1][d+1]),s(l[r+1][d]))}}(n,i,r,e)}(i=i||0),function(e){for(var t=new a,n=0;n<u.length;n+=3)t.x=u[n+0],t.y=u[n+1],t.z=u[n+2],t.normalize().multiplyScalar(e),u[n+0]=t.x,u[n+1]=t.y,u[n+2]=t.z}(n),function(){for(var e=new a,t=0;t<u.length;t+=3){e.x=u[t+0],e.y=u[t+1],e.z=u[t+2];var n=c(e)/2/Math.PI+.5,i=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;h.push(n,1-i)}!function(){for(var e=new a,t=new a,n=new a,i=new a,s=new r,o=new r,d=new r,p=0,m=0;p<u.length;p+=9,m+=6){e.set(u[p+0],u[p+1],u[p+2]),t.set(u[p+3],u[p+4],u[p+5]),n.set(u[p+6],u[p+7],u[p+8]),s.set(h[m+0],h[m+1]),o.set(h[m+2],h[m+3]),d.set(h[m+4],h[m+5]),i.copy(e).add(t).add(n).divideScalar(3);var f=c(i);l(s,m+0,e,f),l(o,m+2,t,f),l(d,m+4,n,f)}}(),function(){for(var e=0;e<h.length;e+=6){var t=h[e+0],n=h[e+2],i=h[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(h[e+0]+=1),n<.2&&(h[e+2]+=1),i<.2&&(h[e+4]+=1))}}()}(),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(u.slice(),3)),this.addAttribute("uv",new we(h,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function At(e,t){pe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ct(e,t)),this.mergeVertices()}function Ct(e,t){kt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Mt(e,t){pe.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rt(e,t)),this.mergeVertices()}function Rt(e,t){kt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Lt(e,t){pe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Pt(e,t)),this.mergeVertices()}function Pt(e,t){var n=(1+Math.sqrt(5))/2;kt.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ot(e,t){pe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Dt(e,t)),this.mergeVertices()}function Dt(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;kt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ft(e,t,n,i,r,s){pe.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new It(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function It(e,t,n,i,s){function o(r){m=e.getPointAt(r/t,m);var s=l.normals[r],o=l.binormals[r];for(u=0;u<=i;u++){var a=u/i*Math.PI*2,c=Math.sin(a),p=-Math.cos(a);d.x=p*s.x+c*o.x,d.y=p*s.y+c*o.y,d.z=p*s.z+c*o.z,d.normalize(),g.push(d.x,d.y,d.z),h.x=m.x+n*d.x,h.y=m.y+n*d.y,h.z=m.z+n*d.z,f.push(h.x,h.y,h.z)}}ke.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s},t=t||64,n=n||1,i=i||8,s=s||!1;var l=e.computeFrenetFrames(t,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var c,u,h=new a,d=new a,p=new r,m=new a,f=[],g=[],v=[],y=[];!function(){for(c=0;c<t;c++)o(c);o(!1===s?t:0),function(){for(c=0;c<=t;c++)for(u=0;u<=i;u++)p.x=c/t,p.y=u/i,v.push(p.x,p.y)}(),function(){for(u=1;u<=t;u++)for(c=1;c<=i;c++){var e=(i+1)*(u-1)+(c-1),n=(i+1)*u+(c-1),r=(i+1)*u+c,s=(i+1)*(u-1)+c;y.push(e,n,s),y.push(n,r,s)}}()}(),this.setIndex(y),this.addAttribute("position",new we(f,3)),this.addAttribute("normal",new we(g,3)),this.addAttribute("uv",new we(v,2))}function Nt(e,t,n,i,r,s,o){pe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Bt(e,t,n,i,r,s)),this.mergeVertices()}function Bt(e,t,n,i,r,s){function o(e,t,n,i,r){var s=Math.cos(e),o=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(a)*.5}ke.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;var l,c,u=[],h=[],d=[],p=[],m=new a,f=new a,g=new a,v=new a,y=new a,b=new a,_=new a;for(l=0;l<=n;++l){var x=l/n*r*Math.PI*2;for(o(x,r,s,e,g),o(x+.01,r,s,e,v),b.subVectors(v,g),_.addVectors(v,g),y.crossVectors(b,_),_.crossVectors(y,b),y.normalize(),_.normalize(),c=0;c<=i;++c){var w=c/i*Math.PI*2,E=-t*Math.cos(w),T=t*Math.sin(w);m.x=g.x+(E*_.x+T*y.x),m.y=g.y+(E*_.y+T*y.y),m.z=g.z+(E*_.z+T*y.z),h.push(m.x,m.y,m.z),f.subVectors(m,g).normalize(),d.push(f.x,f.y,f.z),p.push(l/n),p.push(c/i)}}for(c=1;c<=n;c++)for(l=1;l<=i;l++){var S=(i+1)*(c-1)+(l-1),k=(i+1)*c+(l-1),A=(i+1)*c+l,C=(i+1)*(c-1)+l;u.push(S,k,C),u.push(k,A,C)}this.setIndex(u),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(d,3)),this.addAttribute("uv",new we(p,2))}function jt(e,t,n,i,r){pe.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new zt(e,t,n,i,r)),this.mergeVertices()}function zt(e,t,n,i,r){ke.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var s,o,l=[],c=[],u=[],h=[],d=new a,p=new a,m=new a;for(s=0;s<=n;s++)for(o=0;o<=i;o++){var f=o/i*r,g=s/n*Math.PI*2;p.x=(e+t*Math.cos(g))*Math.cos(f),p.y=(e+t*Math.cos(g))*Math.sin(f),p.z=t*Math.sin(g),c.push(p.x,p.y,p.z),d.x=e*Math.cos(f),d.y=e*Math.sin(f),m.subVectors(p,d).normalize(),u.push(m.x,m.y,m.z),h.push(o/i),h.push(s/n)}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var v=(i+1)*s+o-1,y=(i+1)*(s-1)+o-1,b=(i+1)*(s-1)+o,_=(i+1)*s+o;l.push(v,y,_),l.push(y,b,_)}this.setIndex(l),this.addAttribute("position",new we(c,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(h,2))}function Ut(e,t,n,i,r){var s,o;if(r===function(e,t,n,i){for(var r=0,s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)o=Qt(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=Qt(s,e[s],e[s+1],o);return o&&Yt(o,o.next)&&(en(o),o=o.next),o}function Vt(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Yt(i,i.next)&&0!==Xt(i.prev,i,i.next))i=i.next;else{if(en(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Gt(e,t,n,i,r,s,o){if(e){!o&&s&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=$t(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,s,o,a,l,c=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1)}(r)}(e,i,r,s);for(var a,l,c=e;e.prev!==e.next;)if(a=e.prev,l=e.next,s?function(e,t,n,i){var r=e.prev,s=e,o=e.next;if(Xt(r,s,o)>=0)return!1;var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=$t(a,l,t,n,i),d=$t(c,u,t,n,i),p=e.nextZ;for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&qt(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}p=e.prevZ;for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&qt(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,i,r,s):function(e){var t=e.prev,n=e,i=e.next;if(Xt(t,n,i)>=0)return!1;var r=e.next.next;for(;r!==e.prev;){if(qt(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Xt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),en(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?Gt(e=function(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!Yt(r,s)&&Kt(r,i,i.next,s)&&Zt(r,s)&&Zt(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),en(i),en(i.next),i=e=s),i=i.next}while(i!==e);return i}(e,t,n),t,n,i,r,s,2):2===o&&function(e,t,n,i,r,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Kt(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&Zt(e,t)&&Zt(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}(o,a)){var l=Jt(o,a);return o=Vt(o,o.next),l=Vt(l,l.next),Gt(o,t,n,i,r,s),void Gt(l,t,n,i,r,s)}a=a.next}o=o.next}while(o!==e)}(e,t,n,i,r,s):Gt(Vt(e),t,n,i,r,s,1);break}}}function Ht(e,t,n,i){var r,s,o,a=[];for(r=0,s=t.length;r<s;r++)(o=Ut(e,t[r]*i,r<s-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),a.push(function(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}(o));for(a.sort(Wt),r=0;r<a.length;r++)!function(e,t){if(t=function(e,t){var n,i=t,r=e.x,s=e.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>o){if(o=a,a===r){if(s===i.y)return i;if(s===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&qt(s<h?r:o,s,u,h,s<h?o:r,s,i.x,i.y)&&((l=Math.abs(s-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&Zt(i,e)&&(n=i,d=l),i=i.next;return n}(e,t)){var n=Jt(t,e);Vt(n,n.next)}}(a[r],n),n=Vt(n,n.next);return n}function Wt(e,t){return e.x-t.x}function $t(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function qt(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function Xt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Yt(e,t){return e.x===t.x&&e.y===t.y}function Kt(e,t,n,i){return!!(Yt(e,t)&&Yt(n,i)||Yt(e,i)&&Yt(n,t))||Xt(e,t,n)>0!=Xt(e,t,i)>0&&Xt(n,i,e)>0!=Xt(n,i,t)>0}function Zt(e,t){return Xt(e.prev,e,e.next)<0?Xt(e,t,e.next)>=0&&Xt(e,e.prev,t)>=0:Xt(e,t,e.prev)<0||Xt(e,e.next,t)<0}function Jt(e,t){var n=new tn(e.i,e.x,e.y),i=new tn(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Qt(e,t,n,i){var r=new tn(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function en(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function tn(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nn(e,t){pe.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new rn(e,t)),this.mergeVertices()}function rn(e,t){"undefined"!=typeof e&&(ke.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function sn(e,t){pe.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new on(e,t)),this.mergeVertices()}function on(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new pe;var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),rn.call(this,i,t),this.type="TextBufferGeometry"}function an(e,t,n,i,r,s,o){pe.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new ln(e,t,n,i,r,s,o)),this.mergeVertices()}function ln(e,t,n,i,r,s,o){ke.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var l,c,u=(s=void 0!==s?s:0)+(o=void 0!==o?o:Math.PI),h=0,d=[],p=new a,m=new a,f=[],g=[],v=[],y=[];for(c=0;c<=n;c++){var b=[],_=c/n;for(l=0;l<=t;l++){var x=l/t;p.x=-e*Math.cos(i+x*r)*Math.sin(s+_*o),p.y=e*Math.cos(s+_*o),p.z=e*Math.sin(i+x*r)*Math.sin(s+_*o),g.push(p.x,p.y,p.z),m.set(p.x,p.y,p.z).normalize(),v.push(m.x,m.y,m.z),y.push(x,1-_),b.push(h++)}d.push(b)}for(c=0;c<n;c++)for(l=0;l<t;l++){var w=d[c][l+1],E=d[c][l],T=d[c+1][l],S=d[c+1][l+1];(0!==c||s>0)&&f.push(w,E,S),(c!==n-1||u<Math.PI)&&f.push(E,T,S)}this.setIndex(f),this.addAttribute("position",new we(g,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(y,2))}function cn(e,t,n,i,r,s){pe.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new un(e,t,n,i,r,s)),this.mergeVertices()}function un(e,t,n,i,s,o){ke.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:o},e=e||.5,t=t||1,s=void 0!==s?s:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var l,c,u,h=[],d=[],p=[],m=[],f=e,g=(t-e)/(i=void 0!==i?Math.max(1,i):1),v=new a,y=new r;for(c=0;c<=i;c++){for(u=0;u<=n;u++)l=s+u/n*o,v.x=f*Math.cos(l),v.y=f*Math.sin(l),d.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,m.push(y.x,y.y);f+=g}for(c=0;c<i;c++){var b=c*(n+1);for(u=0;u<n;u++){var _=l=u+b,x=l+n+1,w=l+n+2,E=l+1;h.push(_,x,E),h.push(x,w,E)}}this.setIndex(h),this.addAttribute("position",new we(d,3)),this.addAttribute("normal",new we(p,3)),this.addAttribute("uv",new we(m,2))}function hn(e,t,n,i){pe.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new dn(e,t,n,i)),this.mergeVertices()}function dn(e,t,n,i){ke.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=ka.clamp(i,0,2*Math.PI);var s,o,l,c=[],u=[],h=[],d=1/t,p=new a,m=new r;for(o=0;o<=t;o++){var f=n+o*d*i,g=Math.sin(f),v=Math.cos(f);for(l=0;l<=e.length-1;l++)p.x=e[l].x*g,p.y=e[l].y,p.z=e[l].x*v,u.push(p.x,p.y,p.z),m.x=o/t,m.y=l/(e.length-1),h.push(m.x,m.y)}for(o=0;o<t;o++)for(l=0;l<e.length-1;l++){var y=s=l+o*e.length,b=s+e.length,_=s+e.length+1,x=s+1;c.push(y,b,x),c.push(b,_,x)}if(this.setIndex(c),this.addAttribute("position",new we(u,3)),this.addAttribute("uv",new we(h,2)),this.computeVertexNormals(),i===2*Math.PI){var w=this.attributes.normal.array,E=new a,T=new a,S=new a;for(s=t*e.length*3,o=0,l=0;o<e.length;o++,l+=3)E.x=w[l+0],E.y=w[l+1],E.z=w[l+2],T.x=w[s+l+0],T.y=w[s+l+1],T.z=w[s+l+2],S.addVectors(E,T).normalize(),w[l+0]=w[s+l+0]=S.x,w[l+1]=w[s+l+1]=S.y,w[l+2]=w[s+l+2]=S.z}}function pn(e,t){pe.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new mn(e,t)),this.mergeVertices()}function mn(e,t){function n(e){var n,a,c,u=r.length/3,h=e.extractPoints(t),d=h.shape,p=h.holes;if(!1===$a.isClockWise(d))for(d=d.reverse(),n=0,a=p.length;n<a;n++)c=p[n],!0===$a.isClockWise(c)&&(p[n]=c.reverse());var m=$a.triangulateShape(d,p);for(n=0,a=p.length;n<a;n++)c=p[n],d=d.concat(c);for(n=0,a=d.length;n<a;n++){var f=d[n];r.push(f.x,f.y,0),s.push(0,0,1),o.push(f.x,f.y)}for(n=0,a=m.length;n<a;n++){var g=m[n],v=g[0]+u,y=g[1]+u,b=g[2]+u;i.push(v,y,b),l+=3}}ke.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],s=[],o=[],a=0,l=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.addAttribute("position",new we(r,3)),this.addAttribute("normal",new we(s,3)),this.addAttribute("uv",new we(o,2))}function fn(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function gn(e,t){ke.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,s,o=[],a=Math.cos(ka.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(s=new pe).fromBufferGeometry(e):s=e.clone(),s.mergeVertices(),s.computeFaceNormals();for(var h=s.vertices,d=s.faces,p=0,m=d.length;p<m;p++)for(var f=d[p],g=0;g<3;g++)n=f[u[g]],i=f[u[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===c[r=l[0]+","+l[1]]?c[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[r].face2=p;for(r in c){var v=c[r];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=a){var y=h[v.index1];o.push(y.x,y.y,y.z),y=h[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new we(o,3))}function vn(e,t,n,i,r,s,o,a){pe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new yn(e,t,n,i,r,s,o,a)),this.mergeVertices()}function yn(e,t,n,i,s,o,l,c){function u(n){var s,o,u,v=new r,_=new a,x=0,w=!0===n?e:t,E=!0===n?1:-1;for(o=g,s=1;s<=i;s++)p.push(0,y*E,0),m.push(0,E,0),f.push(.5,.5),g++;for(u=g,s=0;s<=i;s++){var T=s/i*c+l,S=Math.cos(T),k=Math.sin(T);_.x=w*k,_.y=y*E,_.z=w*S,p.push(_.x,_.y,_.z),m.push(0,E,0),v.x=.5*S+.5,v.y=.5*k*E+.5,f.push(v.x,v.y),g++}for(s=0;s<i;s++){var A=o+s,C=u+s;!0===n?d.push(C,C+1,A):d.push(C+1,C,A),x+=3}h.addGroup(b,x,!0===n?1:2),b+=x}ke.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};var h=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,s=Math.floor(s)||1,o=void 0!==o&&o,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var d=[],p=[],m=[],f=[],g=0,v=[],y=n/2,b=0;!function(){var r,o,u=new a,_=new a,x=0,w=(t-e)/n;for(o=0;o<=s;o++){var E=[],T=o/s,S=T*(t-e)+e;for(r=0;r<=i;r++){var k=r/i,A=k*c+l,C=Math.sin(A),M=Math.cos(A);_.x=S*C,_.y=-T*n+y,_.z=S*M,p.push(_.x,_.y,_.z),u.set(C,w,M).normalize(),m.push(u.x,u.y,u.z),f.push(k,1-T),E.push(g++)}v.push(E)}for(r=0;r<i;r++)for(o=0;o<s;o++){var R=v[o][r],L=v[o+1][r],P=v[o+1][r+1],O=v[o][r+1];d.push(R,L,O),d.push(L,P,O),x+=6}h.addGroup(b,x,0),b+=x}(),!1===o&&(e>0&&u(!0),t>0&&u(!1)),this.setIndex(d),this.addAttribute("position",new we(p,3)),this.addAttribute("normal",new we(m,3)),this.addAttribute("uv",new we(f,2))}function bn(e,t,n,i,r,s,o){vn.call(this,0,e,t,n,i,r,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function _n(e,t,n,i,r,s,o){yn.call(this,0,e,t,n,i,r,s,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function xn(e,t,n,i){pe.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new wn(e,t,n,i)),this.mergeVertices()}function wn(e,t,n,i){ke.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var s,o,l=[],c=[],u=[],h=[],d=new a,p=new r;for(c.push(0,0,0),u.push(0,0,1),h.push(.5,.5),o=0,s=3;o<=t;o++,s+=3){var m=n+o/t*i;d.x=e*Math.cos(m),d.y=e*Math.sin(m),c.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(c[s]/e+1)/2,p.y=(c[s+1]/e+1)/2,h.push(p.x,p.y)}for(s=1;s<=t;s++)l.push(s,s+1,0);this.setIndex(l),this.addAttribute("position",new we(c,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(h,2))}function En(e){J.call(this),this.type="ShadowMaterial",this.color=new q(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Tn(e){Pe.call(this,e),this.type="RawShaderMaterial"}function Sn(e){J.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kn(e){Sn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function An(e){J.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Cn(e){An.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Mn(e){J.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Rn(e){J.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ln(e){dt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Pn(e,t,n){var i=this,r=!1,s=0,o=0,a=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,s,o),r=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,o),s===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this}}function On(e){this.manager=void 0!==e?e:Ka}function Dn(e){this.manager=void 0!==e?e:Ka,this._parser=null}function Fn(e){this.manager=void 0!==e?e:Ka}function In(e){this.manager=void 0!==e?e:Ka}function Nn(e){this.manager=void 0!==e?e:Ka}function Bn(){this.type="Curve",this.arcLengthDivisions=200}function jn(e,t,n,i,r,s,o,a){Bn.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function zn(e,t,n,i,r,s){jn.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}function Un(){function e(e,s,o,a){t=e,n=o,i=-3*e+3*s-2*o-a,r=2*e-2*s+o+a}var t=0,n=0,i=0,r=0;return{initCatmullRom:function(t,n,i,r,s){e(n,i,s*(i-t),s*(r-n))},initNonuniformCatmullRom:function(t,n,i,r,s,o,a){var l=(n-t)/s-(i-t)/(s+o)+(i-n)/o,c=(i-n)/o-(r-n)/(o+a)+(r-i)/a;e(n,i,l*=o,c*=o)},calc:function(e){var s=e*e;return t+n*e+i*s+r*(s*e)}}}function Vn(e,t,n,i){Bn.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Gn(e,t,n,i,r){var s=.5*(i-t),o=.5*(r-n),a=e*e;return(2*n-2*i+s+o)*(e*a)+(-3*n+3*i-2*s-o)*a+s*e+n}function Hn(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Wn(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function $n(e,t,n,i){Bn.call(this),this.type="CubicBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r,this.v3=i||new r}function qn(e,t,n,i){Bn.call(this),this.type="CubicBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a,this.v3=i||new a}function Xn(e,t){Bn.call(this),this.type="LineCurve",this.v1=e||new r,this.v2=t||new r}function Yn(e,t){Bn.call(this),this.type="LineCurve3",this.v1=e||new a,this.v2=t||new a}function Kn(e,t,n){Bn.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r}function Zn(e,t,n){Bn.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a}function Jn(e){Bn.call(this),this.type="SplineCurve",this.points=e||[]}function Qn(){Bn.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ei(e){Qn.call(this),this.type="Path",this.currentPoint=new r,e&&this.setFromPoints(e)}function ti(e){ei.call(this,e),this.uuid=ka.generateUUID(),this.type="Shape",this.holes=[]}function ni(e,t){ce.call(this),this.type="Light",this.color=new q(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function ii(e,t,n){ni.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ce.DefaultUp),this.updateMatrix(),this.groundColor=new q(t)}function ri(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new s}function si(){ri.call(this,new Je(50,1,.5,500))}function oi(e,t,n,i,r,s){ni.call(this,e,t),this.type="SpotLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new si}function ai(e,t,n,i){ni.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new ri(new Je(90,1,.5,500))}function li(){ri.call(this,new he(-5,5,5,-5,.5,500))}function ci(e,t){ni.call(this,e,t),this.type="DirectionalLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,this.shadow=new li}function ui(e,t){ni.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function hi(e,t,n,i){ni.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function di(e,t,n,i){wi.call(this,e,t,n,i)}function pi(e,t,n){wi.call(this,e,t,n)}function mi(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function fi(e,t,n,i){mi.call(this,e,t,n,i)}function gi(e,t,n,i){wi.call(this,e,t,n,i)}function vi(e,t,n,i){wi.call(this,e,t,n,i)}function yi(e,t,n,i){wi.call(this,e,t,n,i)}function bi(e,t,n,i){mi.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _i(e,t,n,i){mi.call(this,e,t,n,i)}function xi(e,t,n,i){mi.call(this,e,t,n,i)}function wi(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=il.convertArray(t,this.TimeBufferType),this.values=il.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function Ei(e,t,n,i){wi.call(this,e,t,n,i)}function Ti(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=ka.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Si(e){this.manager=void 0!==e?e:Ka,this.textures={}}function ki(e){this.manager=void 0!==e?e:Ka}function Ai(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Ci(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Ka,this.withCredentials=!1}function Mi(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Ka,this.options=void 0}function Ri(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function Li(e){this.type="Font",this.data=e}function Pi(e){this.manager=void 0!==e?e:Ka}function Oi(e,t,n){ce.call(this),this.type="CubeCamera";var i=new Je(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new a(1,0,0)),this.add(i);var r=new Je(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new a(-1,0,0)),this.add(r);var s=new Je(90,1,e,t);s.up.set(0,0,1),s.lookAt(new a(0,1,0)),this.add(s);var o=new Je(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new a(0,-1,0)),this.add(o);var l=new Je(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new a(0,0,1)),this.add(l);var c=new Je(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new a(0,0,-1)),this.add(c);var u={format:Zo,magFilter:Fo,minFilter:Fo};this.renderTarget=new d(n,n,u),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,a=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,r,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,o,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=a,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,s=0;s<6;s++)r.activeCubeFace=s,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function Di(){ce.call(this),this.type="AudioListener",this.context=ul.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Fi(e){ce.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ii(e){Fi.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ni(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Bi(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function ji(e,t,n){var i=n||zi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function zi(e,t,n){this.path=t,this.parsedPath=n||zi.parseTrackName(t),this.node=zi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ui(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,s=new Array(r),o={endingStart:pa,endingEnd:pa},a=0;a!==r;++a){var l=i[a].createInterpolant(null);s[a]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=da,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Vi(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Gi(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Hi(){ke.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Wi(e,t,n,i){this.uuid=ka.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function $i(e,t){this.uuid=ka.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function qi(e,t,n){$i.call(this,e,t),this.meshPerAttribute=n||1}function Xi(e,t,n){me.call(this,e,t),this.meshPerAttribute=n||1}function Yi(e,t){return e.distance-t.distance}function Ki(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,s=0,o=r.length;s<o;s++)Ki(r[s],t,n,!0)}function Zi(e){ce.call(this),this.material=e,this.render=function(){}}function Ji(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=3*a.faces.length:a&&a.isBufferGeometry&&(o=a.attributes.normal.count);var l=new ke,c=new we(2*o*3,3);l.addAttribute("position",c),mt.call(this,l,new dt({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function Qi(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new ke,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,s=1;r<32;r++,s++){var o=r/32*Math.PI*2,a=s/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}n.addAttribute("position",new we(i,3));var l=new dt({fog:!1});this.cone=new mt(n,l),this.add(this.cone),this.update()}function er(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,er(e.children[n]));return t}function tr(e){for(var t=er(e),n=new ke,i=[],r=[],s=new q(0,0,1),o=new q(0,1,0),a=0;a<t.length;a++){var l=t[a];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new we(i,3)),n.addAttribute("color",new we(r,3));var c=new dt({vertexColors:Is,depthTest:!1,depthWrite:!1,transparent:!0});mt.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function nr(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new ln(t,4,2),r=new Le({wireframe:!0,fog:!1});Ie.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ir(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new dt({fog:!1}),i=new ke;i.addAttribute("position",new me(new Float32Array(15),3)),this.line=new pt(i,n),this.add(this.line),this.update()}function rr(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Rt(t);i.rotateY(.5*Math.PI),this.material=new Le({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Is);var r=i.getAttribute("position"),s=new Float32Array(3*r.count);i.addAttribute("color",new me(s,3)),this.add(new Ie(i,this.material)),this.update()}function sr(e,t,n,i){e=e||10,t=t||10,n=new q(void 0!==n?n:4473924),i=new q(void 0!==i?i:8947848);for(var r=t/2,s=e/t,o=e/2,a=[],l=[],c=0,u=0,h=-o;c<=t;c++,h+=s){a.push(-o,0,h,o,0,h),a.push(h,0,-o,h,0,o);var d=c===r?n:i;d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3}var p=new ke;p.addAttribute("position",new we(a,3)),p.addAttribute("color",new we(l,3));var m=new dt({vertexColors:Is});mt.call(this,p,m)}function or(e,t,n,i,r,s){e=e||10,t=t||16,n=n||8,i=i||64,r=new q(void 0!==r?r:4473924),s=new q(void 0!==s?s:8947848);var o,a,l,c,u,h,d,p=[],m=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),o=Math.sin(l)*e,a=Math.cos(l)*e,p.push(0,0,0),p.push(o,0,a),d=1&c?r:s,m.push(d.r,d.g,d.b),m.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:s,h=e-e/n*c,u=0;u<i;u++)l=u/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),m.push(d.r,d.g,d.b),l=(u+1)/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),m.push(d.r,d.g,d.b);var f=new ke;f.addAttribute("position",new we(p,3)),f.addAttribute("color",new we(m,3));var g=new dt({vertexColors:Is});mt.call(this,f,g)}function ar(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new ke,c=new we(2*o*3,3);l.addAttribute("position",c),mt.call(this,l,new dt({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function lr(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new ke;i.addAttribute("position",new we([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new dt({fog:!1});this.lightPlane=new pt(i,r),this.add(this.lightPlane),(i=new ke).addAttribute("position",new we([0,0,0,0,0,1],3)),this.targetLine=new pt(i,r),this.add(this.targetLine),this.update()}function cr(e){function t(e,t,i){n(e,i),n(t,i)}function n(e,t){s.push(0,0,0),o.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(s.length/3-1)}var i=new ke,r=new dt({color:16777215,vertexColors:Fs}),s=[],o=[],a={},l=new q(16755200),c=new q(16711680),u=new q(43775),h=new q(16777215),d=new q(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",u),t("u2","u3",u),t("u3","u1",u),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),i.addAttribute("position",new we(s,3)),i.addAttribute("color",new we(o,3)),mt.call(this,i,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function ur(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new ke;r.setIndex(new me(n,1)),r.addAttribute("position",new me(i,3)),mt.call(this,r,new dt({color:t})),this.matrixAutoUpdate=!1,this.update()}function hr(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new ke;r.setIndex(new me(i,1)),r.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),mt.call(this,r,new dt({color:n})),this.geometry.computeBoundingSphere()}function dr(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new ke;r.addAttribute("position",new we([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),pt.call(this,r,new dt({color:i}));var s=new ke;s.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new Ie(s,new Le({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function pr(e,t,n,i,r,s){ce.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===s&&(s=.2*r),void 0===hl&&((hl=new ke).addAttribute("position",new we([0,0,0,0,1,0],3)),(dl=new yn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new pt(hl,new dt({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ie(dl,new Le({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}function mr(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new ke;n.addAttribute("position",new we(t,3)),n.addAttribute("color",new we([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new dt({vertexColors:Is});mt.call(this,n,i)}function fr(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Vn.call(this,e),this.type="catmullrom"}function gr(e,t,n,i,r){var s,o;if(r===function(e,t,n,i){for(var r=0,s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)o=Cr(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=Cr(s,e[s],e[s+1],o);return o&&Tr(o,o.next)&&(Mr(o),o=o.next),o}function vr(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Tr(i,i.next)&&0!==Er(i.prev,i,i.next))i=i.next;else{if(Mr(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function yr(e,t,n,i,r,s,o){if(e){!o&&s&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=xr(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,s,o,a,l,c=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1)}(r)}(e,i,r,s);for(var a,l,c=e;e.prev!==e.next;)if(a=e.prev,l=e.next,s?function(e,t,n,i){var r=e.prev,s=e,o=e.next;if(Er(r,s,o)>=0)return!1;var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=xr(a,l,t,n,i),d=xr(c,u,t,n,i),p=e.nextZ;for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&wr(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Er(p.prev,p,p.next)>=0)return!1;p=p.nextZ}p=e.prevZ;for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&wr(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Er(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,i,r,s):function(e){var t=e.prev,n=e,i=e.next;if(Er(t,n,i)>=0)return!1;var r=e.next.next;for(;r!==e.prev;){if(wr(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Er(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),Mr(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?yr(e=function(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!Tr(r,s)&&Sr(r,i,i.next,s)&&kr(r,s)&&kr(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),Mr(i),Mr(i.next),i=e=s),i=i.next}while(i!==e);return i}(e,t,n),t,n,i,r,s,2):2===o&&function(e,t,n,i,r,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Sr(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&kr(e,t)&&kr(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}(o,a)){var l=Ar(o,a);return o=vr(o,o.next),l=vr(l,l.next),yr(o,t,n,i,r,s),void yr(l,t,n,i,r,s)}a=a.next}o=o.next}while(o!==e)}(e,t,n,i,r,s):yr(vr(e),t,n,i,r,s,1);break}}}function br(e,t,n,i){var r,s,o,a=[];for(r=0,s=t.length;r<s;r++)(o=gr(e,t[r]*i,r<s-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),a.push(function(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}(o));for(a.sort(_r),r=0;r<a.length;r++)!function(e,t){if(t=function(e,t){var n,i=t,r=e.x,s=e.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>o){if(o=a,a===r){if(s===i.y)return i;if(s===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&wr(s<h?r:o,s,u,h,s<h?o:r,s,i.x,i.y)&&((l=Math.abs(s-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&kr(i,e)&&(n=i,d=l),i=i.next;return n}(e,t)){var n=Ar(t,e);vr(n,n.next)}}(a[r],n),n=vr(n,n.next);return n}function _r(e,t){return e.x-t.x}function xr(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function wr(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function Er(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Tr(e,t){return e.x===t.x&&e.y===t.y}function Sr(e,t,n,i){return!!(Tr(e,t)&&Tr(n,i)||Tr(e,i)&&Tr(n,t))||Er(e,t,n)>0!=Er(e,t,i)>0&&Er(n,i,e)>0!=Er(n,i,t)>0}function kr(e,t){return Er(e.prev,e,e.next)<0?Er(e,t,e.next)>=0&&Er(e,e.prev,t)>=0:Er(e,t,e.prev)<0||Er(e,e.next,t)<0}function Ar(e,t){var n=new Rr(e.i,e.x,e.y),i=new Rr(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Cr(e,t,n,i){var r=new Rr(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Mr(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Rr(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lr(e,t){const n=new a(...e);return n.applyMatrix4(t),n.toArray().slice(0,3)}function Pr(e,t,n=!1){const i=new a;return i.subVectors(e,t),n&&i.normalize(),i}function Or(e,t,n=!1){const i=new a;return i.addVectors(e,t),n&&i.normalize(),i}function Dr(e,t,n=!1){const i=new a;return i.crossVectors(e,t),n&&i.normalize(),i}function Fr(e,t,n=!1){return Dr(new a(...e),new a(...t),n).toArray().slice(0,3)}function Ir(e){return new a(...e).length()}function Nr(e){const t=function(e){return e.map(e=>new a(...e.getPoint().getPosition()))}(e),n=new a;for(const s of t)n.add(s);n.divideScalar(t.length);let i,r,o=!1;for(let s=0;s<e.length;s++){if(o){if(0!==(r=Dr(i,Pr(t[s],n).normalize()).normalize()).lengthSq())break}else 0!==(i=Pr(t[s],n).normalize()).lengthSq()&&(o=!0);if(s===e.length-1)throw new Error("Trinagulation found bad face.")}const l=function(e,t,n,i){const r=new s,o=e.clone().negate();r.setPosition(o);const a=new s;a.makeBasis(t,n,i),a.getInverse(a);const l=new s;return l.multiplyMatrices(a,r),l}(n,i,Dr(r,i),r);return t.map(e=>(function(e,t){const n=e.clone();return n.applyMatrix4(t),n})(e,l))}function Br(e,t){const n=Nr(e),i=ls.flatten(n.map(e=>[e.x,e.y]));return pl.triangulate(i).map(e=>t[e])}function jr(e,t){switch(e.objGetType(t)){case 1:return new vl(e,t);case 2:return new gl(e,t);case 4:return new ml(e,t);case 100:return new Es(e,t);case 200:return new fl(e,t);default:throw new Error("Object type does not exist.")}}function zr(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function Ur(e){return e.getRadius()*Math.abs(e.getAngles()[1]-e.getAngles()[0])*2*Math.PI/360}function Vr(e){const t=e.getWires(),n=[];for(const i of t)n.push(ls.flatten(i.getVertices().map(e=>e.getPoint().getPosition())));return n}function Gr(e,t){return function(e,t){const n=e.getOrigin().getPosition(),i=e.getRadius(),r=e.getVectors(),s=e.getAngles(),o=new a(...r[0]).normalize(),l=new a(...r[1]).normalize(),c=new a(...n),u=Ur(e),h=Math.ceil(u/t),d=[];for(let a=0;a<h;a++){const e=a/(h-1),t=(s[0]+e*(s[1]-s[0]))*(2*Math.PI)/360,n=i*Math.cos(t),r=i*Math.sin(t),u=Or(c,Or(o.multiplyScalar(n),l.multiplyScalar(r)));d.push([u.x,u.y,u.z])}return d}(e,t)}function Hr(e,t){return function(e,t){throw new Error("Not implemented")}()}function Wr(e){const t=ls.flatten(e.getVertices()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}function $r(e){const t=ls.flatten(e.getEdges()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}function qr(e){ls.flatten(e.getFaces());return{label:e.getLabel(),xyz:e.getLabelCentroid()}}function Xr(e,t,n){const i={uuid:zr(),type:"BufferGeometry",data:{attributes:{position:{itemSize:3,type:"Float32Array",array:e,normalized:!1}}}};return void 0!==t&&(i.data.index={type:"Uint16Array",array:t}),void 0!==n&&(i.data.attributes.normal={itemSize:3,type:"Float32Array",array:n,normalized:!1}),i}function Yr(e){return{uuid:zr(),type:"Group",name:e,children:[]}}function Kr(e,t,n,i){const r={uuid:zr(),type:e,name:t,geometry:n.uuid,material:i.uuid};return"Mesh"===e?(r.castShadow=!0,r.receiveShadow=!0):(r.castShadow=!1,r.receiveShadow=!1),r}function Zr(e,t){e.children.push(t)}function Jr(e,t){e.object.children.push(t)}function Qr(e,t){e.geometries.push(t)}function es(e,t,n,i){const r=function(e,t){const n=Yr(e);for(const i of t){const e=i.label,t=i.xyz,r={type:"Sprite",name:e,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,t[0],t[1],t[2],1],visible:!1};n.children.push(r)}return n}(n,i);return r.uuid=zr(),t.children.push(r),r}function ts(e,t,n){const i=Yr(t.getID()+"_ConicCurve");Jr(e,i);const r=Xr(function(e){const t=e.getOrigin().getPosition(),n=e.getVector();return[[...t,...[t[0]+n[0],t[1]+n[1],t[2]+n[2]]]]}(t)[0]);Qr(e,r),Zr(i,Kr("Line","Ray",r,n[0])),es(0,i,"Vertices",Wr(t)),es(0,i,"Objs",[qr(t)])}function ns(e,t,n){const i=Yr(t.getID()+"_ConicCurve");Jr(e,i);const r=Xr(function(e){const t=e.getOrigin().getPosition(),n=e.getVectors()[0],i=e.getVectors()[1],r=e.getVectors()[2];return[[...t,...[t[0]+n[0],t[1]+n[1],t[2]+n[2]]],[...t,...[t[0]+i[0],t[1]+i[1],t[2]+i[2]]],[...t,...[t[0]+r[0],t[1]+r[1],t[2]+r[2]]]]}(t)[0]);Qr(e,r),Zr(i,Kr("Line","Plane",r,n[0])),es(0,i,"Vertices",Wr(t)),es(0,i,"Objs",[qr(t)])}function is(e,t,n){const i=Yr(t.getID()+"_Circle");Jr(e,i);const r=Xr(Gr(t,.1)[0]);Qr(e,r),t.isClosed()?Zr(i,Kr("LineLoop","Circle",r,n[0])):Zr(i,Kr("Line","Arc",r,n[0])),es(0,i,"Vertices",Wr(t)),es(0,i,"Objs",[qr(t)])}function rs(e,t,n){const i=Yr(t.getID()+"_Ellipse");Jr(e,i);const r=Xr(Hr()[0]);Qr(e,r),t.isClosed()?Zr(i,Kr("LineLoop","Ellipse",r,n[0])):Zr(i,Kr("Line","EllipticArc",r,n[0])),es(0,i,"Vertices",Wr(t)),es(0,i,"Objs",[qr(t)])}function ss(e,t,n){const i=Yr(t.getID()+"_Polyline");Jr(e,i);const r=Xr(Vr(t)[0]);Qr(e,r),t.isClosed()?Zr(i,Kr("LineLoop","Polyline",r,n[0])):Zr(i,Kr("Line","Polyline",r,n[0])),es(0,i,"Vertices",Wr(t)),es(0,i,"Edges",$r(t)),es(0,i,"Objs",[qr(t)])}function os(e,t,n){const i=Yr(t.getID()+"_Polymesh");Jr(e,i);const r=function(e){const t=e.getPointsSet(),n=e.getFaces(),i=t.map(e=>e.getPosition()),r=new Map;t.forEach((e,t)=>r.set(e.getID(),t));const s=[];for(const o of n){const e=o.getVertices(),t=e.map(e=>r.get(e.getPoint().getID()));3===e.length?s.push(t):e.length>3&&s.push(Br(e,t))}return{xyzs:ls.flatten(i),indexes:ls.flatten(s)}}(t),s=Xr(r.xyzs,r.indexes);Qr(e,s),Zr(i,Kr("Mesh","Polymesh Faces",s,n[2]));for(const a of Vr(t)){const t=Xr(a);Qr(e,t),Zr(i,Kr("LineLoop","Polymesh Wires",t,n[1]))}const o=Xr(function(e){const t=e.getEdges(),n=ls.flatten(t[0]),i=[];for(const s of n){const e=s.getVertices().map(e=>e.getPoint()).map(e=>e.getID()).sort();i.push(e[0]+"_"+e[1])}const r=[];for(const s of ls.flatten(t[1])){const e=s.getVertices().map(e=>e.getPoint()),t=e.map(e=>e.getID()).sort(),n=t[0]+"_"+t[1];-1===i.indexOf(n)&&(i.push(n),r.push(e[0].getPosition()),r.push(e[1].getPosition()))}return ls.flatten(r)}(t));Qr(e,o),Zr(i,Kr("LineSegments","Polymesh Face Edges",o,n[0])),es(0,i,"Vertices",Wr(t)),es(0,i,"Edges",$r(t)),es(0,i,"Wires",function(e){const t=ls.flatten(e.getWires()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}(t)),es(0,i,"Faces",function(e){const t=ls.flatten(e.getFaces()),n=[];for(const i of t)n.push({label:i.getLabel(),xyz:i.getLabelCentroid()});return n}(t)),es(0,i,"Objs",[qr(t)])}function as(e){if("Model"!==e.constructor.name)throw new Error("Invalid model.");const t={metadata:{version:4.5,type:"Object",generator:"gs-json"},geometries:[],materials:[],object:{type:"Scene",name:"Scene",children:[]}},n=[{uuid:zr(),type:"LineBasicMaterial",color:0,vertexColors:0,side:2,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0},{uuid:zr(),type:"LineBasicMaterial",color:255,vertexColors:0,side:2,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0},{uuid:zr(),type:"MeshPhongMaterial",color:16777215,emissive:0,specular:16777215,shininess:10,vertexColors:0,side:2,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0,transparent:!1,wireframe:!1,flatShading:!0},{uuid:zr(),type:"MeshPhongMaterial",color:0,emissive:0,specular:16777215,shininess:40,vertexColors:0,side:1,blending:0,depthFunc:3,depthTest:!0,depthWrite:!0,transparent:!0,opacity:.5,wireframe:!1,flatShading:!0}];!function(e,t){for(const n of t)e.materials.push(n)}(t,n);for(const i of e.getGeom().getAllObjs())switch(i.getObjType()){case 1:ts(t,i,n);break;case 2:ns(t,i,n);break;case 3:is(t,i,n);break;case 4:rs(t,i,n);break;case 100:ss(t,i,n);break;case 200:os(t,i,n);break;default:console.log("Ignoring geometry of type: ",i.getObjType())}return t}class ls{static make(e,t){return 0===e?[]:Array.apply(0,new Array(e)).map((e,n)=>t)}static makeSeq(e){return 0===e?[]:Array.apply(0,new Array(e)).map((e,t)=>t)}static equal(e,t){if(!Array.isArray(e)||!Array.isArray(t))return e===t;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}static indexOf(e,t){if(!Array.isArray(t))throw new Error("Second argument must be a array.");if(!Array.isArray(e))return t.indexOf(e);for(let n=0;n<t.length;n++)if(Array.isArray(t[n])&&this.equal(e,t[n]))return n;return-1}static flatten(e,t){return void 0===e?[]:e.reduce(function(e,n){return void 0===t?e.concat(Array.isArray(n)?ls.flatten(n):n):e.concat(Array.isArray(n)&&0!==t?ls.flatten(n,t-1):n)},[])}static deepCopy(e){if(void 0===e)return[];const t=[];for(let n=0;n<e.length;n++)Array.isArray(e[n])?t[n]=ls.deepCopy(e[n]):void 0!==e[n]&&(t[n]=e[n]);return t}static deepFill(e,t){if(void 0!==e)for(let n=0;n<e.length;n++)Array.isArray(e[n])?ls.deepFill(e[n],t):void 0!==e[n]&&(e[n]=t)}static deepCount(e){if(void 0===e)return 0;let t=0;for(const n in e)Array.isArray(e[n])?t+=ls.deepCount(e[n]):void 0!==e[n]&&(t+=1);return t}}var cs;!function(e){e[e.points=0]="points",e[e.vertices=1]="vertices",e[e.edges=2]="edges",e[e.wires=3]="wires",e[e.faces=4]="faces",e[e.objs=5]="objs"}(cs||(cs={}));var us;!function(e){e[e.type_str=0]="type_str",e[e.type_num=1]="type_num",e[e.type_bool=2]="type_bool",e[e.type_str_arr=3]="type_str_arr",e[e.type_num_arr=4]="type_num_arr",e[e.type_bool_arr=5]="type_bool_arr"}(us||(us={}));let hs=new Map([["objs",cs.objs],["faces",cs.faces],["wires",cs.wires],["edges",cs.edges],["vertices",cs.vertices],["points",cs.points]]),ds=new Map([[cs.objs,"objs"],[cs.faces,"faces"],[cs.wires,"wires"],[cs.edges,"edges"],[cs.vertices,"vertices"],[cs.points,"points"]]),ps=new Map([["string",us.type_str],["number",us.type_num],["boolean",us.type_bool],["string[]",us.type_str_arr],["number[]",us.type_num_arr],["boolean[]",us.type_bool_arr]]),ms=new Map([[us.type_str,"string"],[us.type_num,"number"],[us.type_bool,"boolean"],[us.type_str_arr,"string[]"],[us.type_num_arr,"number[]"],[us.type_bool_arr,"boolean[]"]]),fs=new Map([[cs.faces,1],[cs.wires,0],[cs.edges,1],[cs.vertices,0]]),gs=new Map([[1,cs.faces],[0,cs.wires]]),vs=new Map([[1,cs.edges],[0,cs.vertices]]);class ys{constructor(e,t,n){this._kernel=e,this._name=t,this._geom_type=n}exists(){return void 0===this._kernel.modelGetAttrib(this._name,this._geom_type)}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}getName(){return this._name}getGeomType(){return this._geom_type}setName(e){const t=this._name;return this._kernel.attribSetName(t,e,this._geom_type),this._name=e,t}getDataType(){return this._kernel.attribGetDataType(this._name,this._geom_type)}getValues(){return this._kernel.attribGetValues(this._name,this._geom_type)}getLabels(){throw new Error("Method to be overridden by subclass.")}count(){return this._kernel.attribCount(this._name,this._geom_type)}}class bs extends ys{getIDs(){return this._kernel.entAttribGetIDs(this._name,this._geom_type)}getEnts(){const e=this._kernel.entAttribGetIDs(this._name,this._geom_type);switch(this._geom_type){case cs.points:return e.map(e=>new Tl(this._kernel,e));case cs.points:return e.map(e=>jr(this._kernel,e))}}getLabels(){const e=this._kernel.entAttribGetIDs(this._name,this._geom_type);switch(this._geom_type){case cs.points:return e.map(e=>"p"+e);case cs.objs:return e.map(e=>"o"+e)}}}class _s extends ys{getPaths(){return this._kernel.topoAttribGetPaths(this._name,this._geom_type)}getTopos(){const e=this._kernel.topoAttribGetPaths(this._name,this._geom_type);switch(this._geom_type){case cs.vertices:return e.map(e=>new _l(this._kernel,e));case cs.edges:return e.map(e=>new xl(this._kernel,e));case cs.wires:return e.map(e=>new wl(this._kernel,e));case cs.faces:return e.map(e=>new El(this._kernel,e))}}getLabels(){switch(this._geom_type){case cs.vertices:return this.getPaths().map(e=>"o"+e.id+":"+["w","f"][e.tt]+e.ti+":v"+e.si);case cs.edges:return this.getPaths().map(e=>"o"+e.id+":"+["w","f"][e.tt]+e.ti+":e"+e.si);case cs.wires:return this.getPaths().map(e=>"o"+e.id+":w"+e.ti);case cs.faces:return this.getPaths().map(e=>"o"+e.id+":f"+e.ti)}}}class xs{constructor(e,t){this._kernel=e,this._id=t}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}exists(){throw new Error("Method to be overridden by subclass.")}getID(){return this._id}getGeomType(){throw new Error("Method to be overridden by subclass.")}getAttribs(){const e=this.getGeomType(),t=this._kernel.attribGetNames(e);return function(e,t,n){switch(t){case cs.points:case cs.objs:return n.map(n=>new bs(e,n,t));default:return n.map(n=>new _s(e,n,t))}}(this._kernel,e,t)}getAttribValue(e){return e.getGeomType()!==this.getGeomType()?null:this._kernel.entAttribGetValue(e.getName(),e.getGeomType(),this._id)}setAttribValue(e,t){return e.getGeomType()!==this.getGeomType()?null:this._kernel.entAttribSetValue(e.getName(),e.getGeomType(),this._id,t)}}class ws extends xs{exists(){return this._kernel.geomHasObj(this._id)}getGeomType(){return cs.objs}getObjType(){throw new Error("Method to be overridden by subclass.")}getLabel(){return"o"+this._id}getLabelCentroid(){const e=this.getPointsSet().map(e=>e.getPosition()),t=[0,0,0];for(const i of e)t[0]+=i[0],t[1]+=i[1],t[2]+=i[2];const n=e.length;return[t[0]/n,t[1]/n,t[2]/n]}getPoints(e){const t=this._kernel.objGetPointIDs(this._id,e);switch(e){case cs.wires:return[t[0].map(e=>e.map(e=>new Tl(this._kernel,e))),[]];case cs.faces:return[[],t[1].map(e=>e.map(e=>new Tl(this._kernel,e)))];default:return[t[0].map(e=>e.map(e=>new Tl(this._kernel,e))),t[1].map(e=>e.map(e=>new Tl(this._kernel,e)))]}}getPointsArr(){return ls.flatten(this.getPoints())}getPointsSet(){const e=[],t=[];for(const n of this.getPointsArr()){const i=n.getID();-1===e.indexOf(i)&&(e.push(i),t.push(n))}return t}getVertices(e){const t=this._kernel.objGetVertices(this._id,e);return[t[0].map(e=>e.map(e=>new _l(this._kernel,e))),t[1].map(e=>e.map(e=>new _l(this._kernel,e)))]}getEdges(e){const t=this._kernel.objGetEdges(this._id,e);return[t[0].map(e=>e.map(e=>new xl(this._kernel,e))),t[1].map(e=>e.map(e=>new xl(this._kernel,e)))]}getWires(){return this._kernel.objGetWires(this._id).map(e=>new wl(this._kernel,e))}getFaces(){return this._kernel.objGetFaces(this._id).map(e=>new El(this._kernel,e))}numWires(){return this._kernel.objNumWires(this._id)}numFaces(){return this._kernel.objNumFaces(this._id)}getGroups(){return this._kernel.objGetGroups(this._id).map(e=>new yl(this._kernel,e))}addToGroup(e){return this._kernel.groupAddObj(e.getName(),this._id)}xform(e){return this._kernel.objXform(this._id,e)}}class Es extends ws{getObjType(){return 100}isClosed(){return this.getWires()[0].isClosed()}numVertices(){return this.getWires()[0].numVertices()}numEdges(){return this.getWires()[0].numEdges()}insertVertex(e,t){if(e.getObjID()!==this._id)throw new Error("Edge must belong to polyline.");const n=e.getTopoPath();this._kernel.edgeSplit(n,t.getID());const i=this._kernel.edgeSplit(n,t.getID());return new _l(this._kernel,i)}addVertex(e,t){const n=this.getWires()[0].getTopoPath();this._kernel.topoAddVertex(n,e.getID(),t);const i=this._kernel.edgeSplit(n,e.getID());return new _l(this._kernel,i)}delVertex(e){throw new Error("Method not implemented.")}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(i.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});var Ts="89",Ss=0,ks=1,As=2,Cs=0,Ms=1,Rs=2,Ls=0,Ps=1,Os=2,Ds=0,Fs=1,Is=2,Ns=0,Bs=1,js=2,zs=3,Us=4,Vs=5,Gs=100,Hs=101,Ws=102,$s=103,qs=104,Xs=200,Ys=201,Ks=202,Zs=203,Js=204,Qs=205,eo=206,to=207,no=208,io=209,ro=210,so=0,oo=1,ao=2,lo=3,co=4,uo=5,ho=6,po=7,mo=0,fo=1,go=2,vo=0,yo=1,bo=2,_o=3,xo=4,wo=301,Eo=302,To=303,So=304,ko=305,Ao=306,Co=307,Mo=1e3,Ro=1001,Lo=1002,Po=1003,Oo=1004,Do=1005,Fo=1006,Io=1007,No=1008,Bo=1009,jo=1010,zo=1011,Uo=1012,Vo=1013,Go=1014,Ho=1015,Wo=1016,$o=1017,qo=1018,Xo=1019,Yo=1020,Ko=1021,Zo=1022,Jo=1023,Qo=1024,ea=1025,ta=1026,na=1027,ia=2001,ra=2002,sa=2003,oa=2004,aa=2100,la=2101,ca=2102,ua=2103,ha=2151,da=2201,pa=2400,ma=0,fa=1,ga=2,va=3e3,ya=3001,ba=3007,_a=3002,xa=3004,wa=3005,Ea=3006,Ta=3200,Sa=3201,ka={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16).toUpperCase();return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&i|128]+e[i>>8&255]+"-"+e[i>>16&255]+e[i>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*ka.DEG2RAD},radToDeg:function(e){return e*ka.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new r,t=new r;return function(n,i){return e.set(n,n),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}}),Object.assign(s.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,s,o,a,l,c,u,h,d,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new s).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new a;return function(t){var n=this.elements,i=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),s=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){var h=s*c,d=s*u,p=o*c,m=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=d+p*l,t[5]=h-m*l,t[9]=-o*a,t[2]=m-h*l,t[6]=p+d*l,t[10]=s*a}else if("YXZ"===e.order){var f=a*c,g=a*u,v=l*c,y=l*u;t[0]=f+y*o,t[4]=v*o-g,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-o,t[2]=g*o-v,t[6]=y+f*o,t[10]=s*a}else if("ZXY"===e.order){f=a*c,g=a*u,v=l*c,y=l*u;t[0]=f-y*o,t[4]=-s*u,t[8]=v+g*o,t[1]=g+v*o,t[5]=s*c,t[9]=y-f*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if("ZYX"===e.order){h=s*c,d=s*u,p=o*c,m=o*u;t[0]=a*c,t[4]=p*l-d,t[8]=h*l+m,t[1]=a*u,t[5]=m*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*a,t[10]=s*a}else if("YZX"===e.order){var b=s*a,_=s*l,x=o*a,w=o*l;t[0]=a*c,t[4]=w-b*u,t[8]=x*u+_,t[1]=u,t[5]=s*c,t[9]=-o*c,t[2]=-l*c,t[6]=_*u+x,t[10]=b-w*u}else if("XZY"===e.order){b=s*a,_=s*l,x=o*a,w=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=b*u+w,t[5]=s*c,t[9]=_*u-x,t[2]=x*u-_,t[6]=o*c,t[10]=w*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,s=e._w,o=n+n,a=i+i,l=r+r,c=n*o,u=n*a,h=n*l,d=i*a,p=i*l,m=r*l,f=s*o,g=s*a,v=s*l;return t[0]=1-(d+m),t[4]=u-v,t[8]=h+g,t[1]=u+v,t[5]=1-(c+m),t[9]=p-f,t[2]=h-g,t[6]=p+f,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new a,t=new a,n=new a;return function(i,r,s){var o=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(s,n),0===e.lengthSq()&&(1===Math.abs(s.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(s,n)),e.normalize(),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],x=i[0],w=i[4],E=i[8],T=i[12],S=i[1],k=i[5],A=i[9],C=i[13],M=i[2],R=i[6],L=i[10],P=i[14],O=i[3],D=i[7],F=i[11],I=i[15];return r[0]=s*x+o*S+a*M+l*O,r[4]=s*w+o*k+a*R+l*D,r[8]=s*E+o*A+a*L+l*F,r[12]=s*T+o*C+a*P+l*I,r[1]=c*x+u*S+h*M+d*O,r[5]=c*w+u*k+h*R+d*D,r[9]=c*E+u*A+h*L+d*F,r[13]=c*T+u*C+h*P+d*I,r[2]=p*x+m*S+f*M+g*O,r[6]=p*w+m*k+f*R+g*D,r[10]=p*E+m*A+f*L+g*F,r[14]=p*T+m*C+f*P+g*I,r[3]=v*x+y*S+b*M+_*O,r[7]=v*w+y*k+b*R+_*D,r[11]=v*E+y*A+b*L+_*F,r[15]=v*T+y*C+b*P+_*I,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*a*u-i*l*u-r*o*h+n*l*h+i*o*d-n*a*d)+e[7]*(+t*a*d-t*l*h+r*s*h-i*s*d+i*l*c-r*a*c)+e[11]*(+t*l*u-t*o*d-r*s*u+n*s*d+r*o*c-n*l*c)+e[15]*(-i*o*c-t*a*u+t*o*h+i*s*u-n*s*h+n*a*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],p=i[9],m=i[10],f=i[11],g=i[12],v=i[13],y=i[14],b=i[15],_=p*y*h-v*m*h+v*u*f-c*y*f-p*u*b+c*m*b,x=g*m*h-d*y*h-g*u*f+l*y*f+d*u*b-l*m*b,w=d*v*h-g*p*h+g*c*f-l*v*f-d*c*b+l*p*b,E=g*p*u-d*v*u-g*c*m+l*v*m+d*c*y-l*p*y,T=r*_+s*x+o*w+a*E;if(0===T){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var k=1/T;return n[0]=_*k,n[1]=(v*m*a-p*y*a-v*o*f+s*y*f+p*o*b-s*m*b)*k,n[2]=(c*y*a-v*u*a+v*o*h-s*y*h-c*o*b+s*u*b)*k,n[3]=(p*u*a-c*m*a-p*o*h+s*m*h+c*o*f-s*u*f)*k,n[4]=x*k,n[5]=(d*y*a-g*m*a+g*o*f-r*y*f-d*o*b+r*m*b)*k,n[6]=(g*u*a-l*y*a-g*o*h+r*y*h+l*o*b-r*u*b)*k,n[7]=(l*m*a-d*u*a+d*o*h-r*m*h-l*o*f+r*u*f)*k,n[8]=w*k,n[9]=(g*p*a-d*v*a-g*s*f+r*v*f+d*s*b-r*p*b)*k,n[10]=(l*v*a-g*c*a+g*s*h-r*v*h-l*s*b+r*c*b)*k,n[11]=(d*c*a-l*p*a-d*s*h+r*p*h+l*s*f-r*c*f)*k,n[12]=E*k,n[13]=(d*v*o-g*p*o+g*s*m-r*v*m-d*s*y+r*p*y)*k,n[14]=(g*c*o-l*v*o-g*s*u+r*v*u+l*s*y-r*c*y)*k,n[15]=(l*p*o-d*c*o+d*s*u-r*p*u-l*s*m+r*c*m)*k,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,o=e.y,a=e.z,l=r*s,c=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,c*o+n,c*a-i*s,0,l*a-i*o,c*a+i*s,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new a,t=new s;return function(n,i,r){var s=this.elements,o=e.set(s[0],s[1],s[2]).length(),a=e.set(s[4],s[5],s[6]).length(),l=e.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),n.x=s[12],n.y=s[13],n.z=s[14],t.copy(this);var c=1/o,u=1/a,h=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=u,t.elements[5]*=u,t.elements[6]*=u,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,i.setFromRotationMatrix(t),r.x=o,r.y=a,r.z=l,this}}(),makePerspective:function(e,t,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(s+r)/(s-r),d=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){var o=this.elements,a=1/(t-e),l=1/(n-i),c=1/(s-r),u=(t+e)*a,h=(n+i)*l,d=(s+r)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(o,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,o){var a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[s+0],d=r[s+1],p=r[s+2],m=r[s+3];if(u!==m||a!==h||l!==d||c!==p){var f=1-o,g=a*h+l*d+c*p+u*m,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,g*v);f=Math.sin(f*_)/b,o=Math.sin(o*_)/b}var x=o*v;if(a=a*f+h*x,l=l*f+d*x,c=c*f+p*x,u=u*f+m*x,f===1-o){var w=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=w,l*=w,c*=w,u*=w}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(o.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(o.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,s=e.order,o=Math.cos,a=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),h=a(n/2),d=a(i/2),p=a(r/2);return"XYZ"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"YXZ"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"ZXY"===s?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"ZYX"===s?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"YZX"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p):"XZY"===s&&(this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=i+a+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-l)*t,this._y=(s-c)*t,this._z=(o-r)*t):i>a&&i>h?(t=2*Math.sqrt(1+i-a-h),this._w=(u-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(s+c)/t):a>h?(t=2*Math.sqrt(1+a-i-h),this._w=(s-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+h-i-a),this._w=(o-r)/t,this._x=(s+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new a;return function(n,i){return void 0===t&&(t=new a),(e=n.dot(i)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,s=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+s*o+i*l-r*a,this._y=i*c+s*a+r*o-n*l,this._z=r*c+s*l+n*a-i*o,this._w=s*c-n*o-i*a-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,s=this._w,o=s*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;var a=Math.sqrt(1-o*o);if(Math.abs(a)<.001)return this._w=.5*(s+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(a,o),c=Math.sin((1-t)*l)/a,u=Math.sin(t*l)/a;return this._w=s*c+this._w*u,this._x=n*c+this._x*u,this._y=i*c+this._y*u,this._z=r*c+this._z*u,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(a.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new o;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new o;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*n,c=a*n+o*t-r*i,u=a*i+r*n-s*t,h=-r*t-s*n-o*i;return this.x=l*a+h*-r+c*-o-u*-s,this.y=c*a+h*-s+u*-r-l*-o,this.z=u*a+h*-o+l*-s-c*-r,this},project:function(){var e=new s;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new s;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new a,t=new a;return function(n,i){return e.set(n,n,n),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new a;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new a;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(ka.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,s,o,a,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],v=i[1],y=i[4],b=i[7],_=i[2],x=i[5],w=i[8];return r[0]=s*m+o*v+a*_,r[3]=s*f+o*y+a*x,r[6]=s*g+o*b+a*w,r[1]=l*m+c*v+u*_,r[4]=l*f+c*y+u*x,r[7]=l*g+c*b+u*w,r[2]=h*m+d*v+p*_,r[5]=h*f+d*y+p*x,r[8]=h*g+d*b+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*s*c-t*o*l-n*r*c+n*o*a+i*r*l-i*s*a},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],p=d*l-c*h,m=c*u-d*a,f=h*a-l*u,g=r*p+s*m+o*f;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(o*h-d*s)*y,i[2]=(c*s-o*l)*y,i[3]=m*y,i[4]=(d*r-o*u)*y,i[5]=(o*a-c*r)*y,i[6]=f*y,i[7]=(s*u-h*r)*y,i[8]=(l*r-s*a)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,o){var a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*s+l*o)+s+e,-i*l,i*a,-i*(-l*s+a*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*s+n*l,i[6]=t*o+n*c,i[1]=-n*r+t*a,i[4]=-n*s+t*l,i[7]=-n*o+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Aa=0;c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=300,c.prototype=Object.assign(Object.create(i.prototype),{constructor:c,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=ka.generateUUID()),t||void 0!==e.images[i.uuid]||(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mo:e.x=e.x-Math.floor(e.x);break;case Ro:e.x=e.x<0?0:1;break;case Lo:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Mo:e.y=e.y-Math.floor(e.y);break;case Ro:e.y=e.y<0?0:1;break;case Lo:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(c.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(u.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,s=e.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],d=s[2],p=s[6],m=s[10];if(Math.abs(a-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var f=(o+1)/2,g=(u+1)/2,v=(m+1)/2,y=(a+c)/4,b=(l+d)/4,_=(h+p)/4;return f>g&&f>v?f<.01?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(f)),r=b/n):g>v?g<.01?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(g)),r=_/i):v<.01?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(v)),i=_/r),this.set(n,i,r,t),this}var x=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-a)*(c-a));return Math.abs(x)<.001&&(x=1),this.x=(p-h)/x,this.y=(l-d)/x,this.z=(c-a)/x,this.w=Math.acos((o+u+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,i){return void 0===e&&(e=new u,t=new u),e.set(n,n,n,n),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),h.prototype=Object.assign(Object.create(i.prototype),{constructor:h,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(d.prototype=Object.create(h.prototype)).constructor=d,d.prototype.isWebGLRenderTargetCube=!0,(p.prototype=Object.create(c.prototype)).constructor=p,p.prototype.isDataTexture=!0,(m.prototype=Object.create(c.prototype)).constructor=m,m.prototype.isCubeTexture=!0,Object.defineProperty(m.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Ca=new c,Ma=new m,Ra=[],La=[],Pa=new Float32Array(16),Oa=new Float32Array(9);G.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var s=n[i];s.setValue(e,t[s.id])}};var Da=/([\w\d_]+)(\])?(\[|\.)?/g;$.prototype.setValue=function(e,t,n){var i=this.map[t];void 0!==i&&i.setValue(e,n,this.renderer)},$.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},$.upload=function(e,t,n,i){for(var r=0,s=t.length;r!==s;++r){var o=t[r],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,i)}},$.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var s=e[i];s.id in t&&n.push(s)}return n};var Fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(q.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){if(t=ka.euclideanModulo(t,1),n=ka.clamp(n,0,1),i=ka.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=e(s,r,t+1/3),this.g=e(s,r,t),this.b=e(s,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],s=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var o=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(o,a,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(e&&e.length>0){var u;void 0!==(u=Fa[e])?this.setHex(u):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,i=e||{h:0,s:0,l:0},r=this.r,s=this.g,o=this.b,a=Math.max(r,s,o),l=Math.min(r,s,o),c=(l+a)/2;if(l===a)t=0,n=0;else{var u=a-l;switch(n=c<=.5?u/(a+l):u/(2-a-l),a){case r:t=(s-o)/u+(s<o?6:0);break;case s:t=(o-r)/u+2;break;case o:t=(r-s)/u+4}t/=6}return i.h=t,i.s=n,i.l=c,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Ia={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}}},Na={merge:function(e){for(var t={},n=0;n<e.length;n++){var i=this.clone(e[n]);for(var r in i)t[r]=i[r]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var i in e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}},Ba={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},ja={basic:{uniforms:Na.merge([Ia.common,Ia.specularmap,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.fog]),vertexShader:Ba.meshbasic_vert,fragmentShader:Ba.meshbasic_frag},lambert:{uniforms:Na.merge([Ia.common,Ia.specularmap,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.emissivemap,Ia.fog,Ia.lights,{emissive:{value:new q(0)}}]),vertexShader:Ba.meshlambert_vert,fragmentShader:Ba.meshlambert_frag},phong:{uniforms:Na.merge([Ia.common,Ia.specularmap,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.emissivemap,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,Ia.gradientmap,Ia.fog,Ia.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:Ba.meshphong_vert,fragmentShader:Ba.meshphong_frag},standard:{uniforms:Na.merge([Ia.common,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.emissivemap,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,Ia.roughnessmap,Ia.metalnessmap,Ia.fog,Ia.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ba.meshphysical_vert,fragmentShader:Ba.meshphysical_frag},points:{uniforms:Na.merge([Ia.points,Ia.fog]),vertexShader:Ba.points_vert,fragmentShader:Ba.points_frag},dashed:{uniforms:Na.merge([Ia.common,Ia.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ba.linedashed_vert,fragmentShader:Ba.linedashed_frag},depth:{uniforms:Na.merge([Ia.common,Ia.displacementmap]),vertexShader:Ba.depth_vert,fragmentShader:Ba.depth_frag},normal:{uniforms:Na.merge([Ia.common,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,{opacity:{value:1}}]),vertexShader:Ba.normal_vert,fragmentShader:Ba.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ba.cube_vert,fragmentShader:Ba.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ba.equirect_vert,fragmentShader:Ba.equirect_frag},distanceRGBA:{uniforms:Na.merge([Ia.common,Ia.displacementmap,{referencePosition:{value:new a},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ba.distanceRGBA_vert,fragmentShader:Ba.distanceRGBA_frag},shadow:{uniforms:Na.merge([Ia.lights,Ia.fog,{color:{value:new q(0)},opacity:{value:1}}]),vertexShader:Ba.shadow_vert,fragmentShader:Ba.shadow_frag}};ja.physical={uniforms:Na.merge([ja.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ba.meshphysical_vert,fragmentShader:Ba.meshphysical_frag},Object.assign(X.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new r;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new r).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new r).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new r;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),(K.prototype=Object.create(c.prototype)).constructor=K;var za=0;J.prototype=Object.assign(Object.create(i.prototype),{constructor:J,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Bs&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==Ls&&(i.side=this.side),this.vertexColors!==Ds&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=t(e.textures),s=t(e.images);r.length>0&&(i.textures=r),s.length>0&&(i.images=s)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Q.prototype=Object.create(J.prototype)).constructor=Q,Q.prototype.isMeshDepthMaterial=!0,Q.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},(ee.prototype=Object.create(J.prototype)).constructor=ee,ee.prototype.isMeshDistanceMaterial=!0,ee.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.length;a<l;a+=3){var c=e[a],u=e[a+1],h=e[a+2];c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.count;a<l;a++){var c=e.getX(a),u=e.getY(a),h=e.getZ(a);c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new a;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new a;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var s=e.geometry;if(void 0!==s)if(s.isGeometry){var o=s.vertices;for(n=0,i=o.length;n<i;n++)r.copy(o[n]),r.applyMatrix4(e.matrixWorld),t.expandByPoint(r)}else if(s.isBufferGeometry){var a=s.attributes.position;if(void 0!==a)for(n=0,i=a.count;n<i;n++)r.fromBufferAttribute(a,n).applyMatrix4(e.matrixWorld),t.expandByPoint(r)}}var t,n,i,r=new a;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new a).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new a;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new a).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new a;return function(t){var n=t||new ne;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new a,new a,new a,new a,new a,new a,new a,new a];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ne.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,n){var i=this.center;void 0!==n?i.copy(n):e.setFromPoints(t).getCenter(i);for(var r=0,s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),i=t||new a;return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new te;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ie.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new a,t=new a;return function(n,i,r){var s=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new a).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new a;return function(t,n){var i=n||new a,r=t.delta(e),s=this.normal.dot(r);if(0!==s){var o=-(t.start.dot(this.normal)+this.constant)/s;if(!(o<0||o>1))return i.copy(r).multiplyScalar(o).add(t.start)}else if(0===this.distanceToPoint(t.start))return i.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new a).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new a,t=new l;return function(n,i){var r=i||t.getNormalMatrix(n),s=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(re.prototype,{set:function(e,t,n,i,r,s){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],m=n[11],f=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-i,u-a,m-h,y-f).normalize(),t[1].setComponents(o+i,u+a,m+h,y+f).normalize(),t[2].setComponents(o+r,u+l,m+d,y+g).normalize(),t[3].setComponents(o-r,u-l,m-d,y-g).normalize(),t[4].setComponents(o-s,u-c,m-p,y-v).normalize(),t[5].setComponents(o+s,u+c,m+p,y+v).normalize(),this},intersectsObject:function(){var e=new ne;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ne;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(){var e=new a,t=new a;return function(n){for(var i=this.planes,r=0;r<6;r++){var s=i[r];e.x=s.normal.x>0?n.min.x:n.max.x,t.x=s.normal.x>0?n.max.x:n.min.x,e.y=s.normal.y>0?n.min.y:n.max.y,t.y=s.normal.y>0?n.max.y:n.min.y,e.z=s.normal.z>0?n.min.z:n.max.z,t.z=s.normal.z>0?n.max.z:n.min.z;var o=s.distanceToPoint(e),a=s.distanceToPoint(t);if(o<0&&a<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),ae.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ae.DefaultOrder="XYZ",Object.defineProperties(ae.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(ae.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=ka.clamp,r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s))):"ZYX"===t?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p))):"XZY"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new s;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new o;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new a(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(le.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Ua=0;ce.DefaultUp=new a(0,1,0),ce.DefaultMatrixAutoUpdate=!0,ce.prototype=Object.assign(Object.create(i.prototype),{constructor:ce,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new a(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new a(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new a(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new a;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new a(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new a(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new a(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new s;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new s,t=new a;return function(n,i,r){n.isVector3?t.copy(n):t.set(n,i,r),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){var t=e||new a;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new a,t=new a;return function(n){var i=n||new o;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,i,t),i}}(),getWorldRotation:function(){var e=new o;return function(t){var n=t||new ae;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new a,t=new o;return function(n){var i=n||new a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,i),i}}(),getWorldDirection:function(){var e=new o;return function(t){var n=t||new a;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var s={};if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.matrix=this.matrix.toArray(),void 0!==this.geometry){s.geometry=t(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var l=0,c=a.length;l<c;l++){var u=a[l];t(e.shapes,u)}else t(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(l=0,c=this.material.length;l<c;l++)h.push(t(e.materials,this.material[l]));s.material=h}else s.material=t(e.materials,this.material);if(this.children.length>0){s.children=[];for(l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(i){var d=n(e.geometries),p=n(e.materials),m=n(e.textures),f=n(e.images);a=n(e.shapes);d.length>0&&(r.geometries=d),p.length>0&&(r.materials=p),m.length>0&&(r.textures=m),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=s,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),ue.prototype=Object.assign(Object.create(ce.prototype),{constructor:ue,isCamera:!0,copy:function(e,t){return ce.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new o;return function(t){var n=t||new a;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){ce.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),he.prototype=Object.assign(Object.create(ue.prototype),{constructor:he,isOrthographicCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,s=n+e,o=i+t,a=i-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;s=(r+=u*(this.view.offsetX/l))+u*(this.view.width/l),a=(o-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(de.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Va=0;pe.prototype=Object.assign(Object.create(i.prototype),{constructor:pe,isGeometry:!0,applyMatrix:function(e){for(var t=(new l).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var s=0,o=r.vertexNormals.length;s<o;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new s;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new s;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new s;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new s;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new s;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,i,r){var s=new de(e,t,i,void 0!==l?[d[e].clone(),d[t].clone(),d[i].clone()]:[],void 0!==c?[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()]:[],r);n.faces.push(s),void 0!==u&&n.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[i].clone()]),void 0!==h&&n.faceVertexUvs[1].push([m[e].clone(),m[t].clone(),m[i].clone()])}var n=this,i=null!==e.index?e.index.array:void 0,s=e.attributes,o=s.position.array,l=void 0!==s.normal?s.normal.array:void 0,c=void 0!==s.color?s.color.array:void 0,u=void 0!==s.uv?s.uv.array:void 0,h=void 0!==s.uv2?s.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],p=[],m=[],f=0,g=0;f<o.length;f+=3,g+=2)n.vertices.push(new a(o[f],o[f+1],o[f+2])),void 0!==l&&d.push(new a(l[f],l[f+1],l[f+2])),void 0!==c&&n.colors.push(new q(c[f],c[f+1],c[f+2])),void 0!==u&&p.push(new r(u[g],u[g+1])),void 0!==h&&m.push(new r(h[g],h[g+1]));var v=e.groups;if(v.length>0)for(f=0;f<v.length;f++)for(var y=v[f],b=y.start,_=(g=b,b+y.count);g<_;g+=3)void 0!==i?t(i[g],i[g+1],i[g+2],y.materialIndex):t(g,g+1,g+2,y.materialIndex);else if(void 0!==i)for(f=0;f<i.length;f+=3)t(i[f],i[f+1],i[f+2]);else for(f=0;f<o.length/3;f+=3)t(f,f+1,f+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new s;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new a,t=new a,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],s=this.vertices[r.a],o=this.vertices[r.b],l=this.vertices[r.c];e.subVectors(l,o),t.subVectors(s,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,i,r,s,o;for(o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new a;if(e){var l,c,u,h=new a,d=new a;for(i=0,r=this.faces.length;i<r;i++)s=this.faces[i],l=this.vertices[s.a],c=this.vertices[s.b],u=this.vertices[s.c],h.subVectors(u,c),d.subVectors(l,c),h.cross(d),o[s.a].add(h),o[s.b].add(h),o[s.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(s=this.faces[i]).a].add(s.normal),o[s.b].add(s.normal),o[s.c].add(s.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var p=(s=this.faces[i]).vertexNormals;3===p.length?(p[0].copy(o[s.a]),p[1].copy(o[s.b]),p[2].copy(o[s.c])):(p[0]=o[s.a].clone(),p[1]=o[s.b].clone(),p[2]=o[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var s=new pe;for(s.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)u=new a,h={a:new a,b:new a,c:new a},o.push(u),l.push(h)}var c=this.morphNormals[e];s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals();var u,h;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],u=c.faceNormals[n],h=c.vertexNormals[n],u.copy(r.normal),h.a.copy(r.vertexNormals[0]),h.b.copy(r.vertexNormals[1]),h.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,i=t.length;n<i;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ne),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,s=this.vertices,o=e.vertices,a=this.faces,c=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0],d=this.colors,p=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new l).getNormalMatrix(t));for(var m=0,f=o.length;m<f;m++){var g=o[m].clone();void 0!==t&&g.applyMatrix4(t),s.push(g)}for(m=0,f=p.length;m<f;m++)d.push(p[m].clone());for(m=0,f=c.length;m<f;m++){var v,y,b,_=c[m],x=_.vertexNormals,w=_.vertexColors;(v=new de(_.a+r,_.b+r,_.c+r)).normal.copy(_.normal),void 0!==i&&v.normal.applyMatrix3(i).normalize();for(var E=0,T=x.length;E<T;E++)y=x[E].clone(),void 0!==i&&y.applyMatrix3(i).normalize(),v.vertexNormals.push(y);v.color.copy(_.color);for(E=0,T=w.length;E<T;E++)b=w[E],v.vertexColors.push(b.clone());v.materialIndex=_.materialIndex+n,a.push(v)}for(m=0,f=h.length;m<f;m++){var S=h[m],k=[];if(void 0!==S){for(E=0,T=S.length;E<T;E++)k.push(S[E].clone());u.push(k)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,s,o,a,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(l[t]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[t]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],s=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(s[p]===s[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var m=d[n];for(this.faces.splice(m,1),o=0,a=this.faceVertexUvs.length;o<a;o++)this.faceVertexUvs[o].splice(m,1)}var f=this.vertices.length-c.length;return this.vertices=c,f},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new a(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,s=this.faceVertexUvs[0],o=this.faceVertexUvs[1];s&&s.length===t&&(i=[]),o&&o.length===t&&(r=[]);for(n=0;n<t;n++){var a=e[n]._id;i&&i.push(s[a]),r&&r.push(o[a])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==m[t]?m[t]:(m[t]=p.length,p.push(e.getHex()),m[t])}function i(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=f.length/2,f.push(e.x,e.y),g[t])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var s=this.parameters;for(var o in s)void 0!==s[o]&&(r[o]=s[o]);return r}for(var a=[],l=0;l<this.vertices.length;l++){var c=this.vertices[l];a.push(c.x,c.y,c.z)}var u=[],h=[],d={},p=[],m={},f=[],g={};for(l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],b=v.normal.length()>0,_=v.vertexNormals.length>0,x=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,b),E=e(E,5,_),E=e(E,6,x),E=e(E,7,w),u.push(E),u.push(v.a,v.b,v.c),u.push(v.materialIndex),y){var T=this.faceVertexUvs[0][l];u.push(i(T[0]),i(T[1]),i(T[2]))}if(b&&u.push(t(v.normal)),_){var S=v.vertexNormals;u.push(t(S[0]),t(S[1]),t(S[2]))}if(x&&u.push(n(v.color)),w){var k=v.vertexColors;u.push(n(k[0]),n(k[1]),n(k[2]))}}return r.data={},r.data.vertices=a,r.data.normals=h,p.length>0&&(r.data.colors=p),f.length>0&&(r.data.uvs=[f]),r.data.faces=u,r},clone:function(){return(new pe).copy(this)},copy:function(e){var t,n,i,r,s,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.vertices;for(t=0,n=a.length;t<n;t++)this.vertices.push(a[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=u.length;i<r;i++){var h=u[i],d=[];for(s=0,o=h.length;s<o;s++){var p=h[s];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var m=e.morphTargets;for(t=0,n=m.length;t<n;t++){var f={};if(f.name=m[t].name,void 0!==m[t].vertices)for(f.vertices=[],i=0,r=m[t].vertices.length;i<r;i++)f.vertices.push(m[t].vertices[i].clone());if(void 0!==m[t].normals)for(f.normals=[],i=0,r=m[t].normals.length;i<r;i++)f.normals.push(m[t].normals[i].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var y=g[t].vertexNormals[i],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)v.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(v)}var _=e.skinWeights;for(t=0,n=_.length;t<n;t++)this.skinWeights.push(_[t].clone());var x=e.skinIndices;for(t=0,n=x.length;t<n;t++)this.skinIndices.push(x[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var T=e.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(me.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(me.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new q),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];t[n++]=s.a,t[n++]=s.b,t[n++]=s.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,s=e.length;i<s;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new r),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new a),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new u),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(fe.prototype=Object.create(me.prototype)).constructor=fe,(ge.prototype=Object.create(me.prototype)).constructor=ge,(ve.prototype=Object.create(me.prototype)).constructor=ve,(ye.prototype=Object.create(me.prototype)).constructor=ye,(be.prototype=Object.create(me.prototype)).constructor=be,(_e.prototype=Object.create(me.prototype)).constructor=_e,(xe.prototype=Object.create(me.prototype)).constructor=xe,(we.prototype=Object.create(me.prototype)).constructor=we,(Ee.prototype=Object.create(me.prototype)).constructor=Ee,Object.assign(Te.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,s=0;s<r.length;s++){var o=r[s];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*s-t.start,n.push(t)),t={start:3*s,materialIndex:i})}void 0!==t&&(t.count=3*s-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,s=e.faceVertexUvs,o=s[0]&&s[0].length>0,a=s[1]&&s[1].length>0,l=e.morphTargets,c=l.length;if(c>0){t=[];for(var u=0;u<c;u++)t[u]=[];this.morphTargets.position=t}var h,d=e.morphNormals,p=d.length;if(p>0){h=[];for(u=0;u<p;u++)h[u]=[];this.morphTargets.normal=h}var m=e.skinIndices,f=e.skinWeights,g=m.length===i.length,v=f.length===i.length;for(u=0;u<n.length;u++){var y=n[u];this.vertices.push(i[y.a],i[y.b],i[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var _=y.normal;this.normals.push(_,_,_)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===o){void 0!==(E=s[0][u])?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new r,new r,new r))}if(!0===a){var E;void 0!==(E=s[1][u])?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new r,new r,new r))}for(var T=0;T<c;T++){var S=l[T].vertices;t[T].push(S[y.a],S[y.b],S[y.c])}for(T=0;T<p;T++){var k=d[T].vertexNormals[u];h[T].push(k.a,k.b,k.c)}g&&this.skinIndices.push(m[y.a],m[y.b],m[y.c]),v&&this.skinWeights.push(f[y.a],f[y.b],f[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Ga=1;ke.prototype=Object.assign(Object.create(i.prototype),{constructor:ke,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Se(e)>65535?xe:be)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new me(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new l).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new s;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new s;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new s;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new s;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new s;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new we(3*t.vertices.length,3),i=new we(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new we(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new we(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var i;return!0===t.verticesNeedUpdate&&(void 0!==(i=this.attributes.position)&&(i.copyVector3sArray(t.vertices),i.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(i=this.attributes.normal)&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(i=this.attributes.color)&&(i.copyColorsArray(t.colors),i.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(i=this.attributes.uv)&&(i.copyVector2sArray(t.uvs),i.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(i=this.attributes.lineDistance)&&(i.copyArray(t.lineDistances),i.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Te).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new me(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new me(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new me(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new me(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var s=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new me(s,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=new(Se(e.indices)>65535?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new me(o,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var a in e.morphTargets){for(var l=[],c=e.morphTargets[a],u=0,h=c.length;u<h;u++){var d=c[u],p=new we(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[a]=l}if(e.skinIndices.length>0){var m=new we(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new we(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new te,t=new a;return function(){null===this.boundingSphere&&(this.boundingSphere=new ne);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);for(var r=0,s=0,o=n.count;s<o;s++)t.x=n.getX(s),t.y=n.getY(s),t.z=n.getZ(s),r=Math.max(r,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new me(new Float32Array(i.length),3));else for(var r=t.normal.array,s=0,o=r.length;s<o;s++)r[s]=0;var l,c,u,h=t.normal.array,d=new a,p=new a,m=new a,f=new a,g=new a;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y){var _=n[y],x=_.start;for(s=x,o=x+_.count;s<o;s+=3)l=3*v[s+0],c=3*v[s+1],u=3*v[s+2],d.fromArray(i,l),p.fromArray(i,c),m.fromArray(i,u),f.subVectors(m,p),g.subVectors(d,p),f.cross(g),h[l]+=f.x,h[l+1]+=f.y,h[l+2]+=f.z,h[c]+=f.x,h[c+1]+=f.y,h[c+2]+=f.z,h[u]+=f.x,h[u+1]+=f.y,h[u+2]+=f.z}}else for(s=0,o=i.length;s<o;s+=9)d.fromArray(i,s),p.fromArray(i,s+3),m.fromArray(i,s+6),f.subVectors(m,p),g.subVectors(d,p),f.cross(g),h[s]=f.x,h[s+1]=f.y,h[s+2]=f.z,h[s+3]=f.x,h[s+4]=f.y,h[s+5]=f.z,h[s+6]=f.x,h[s+7]=f.y,h[s+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,s=e.attributes[i],o=s.array,a=0,l=s.itemSize*t;a<o.length;a++,l++)r[l]=o[a];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new a;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new ke,t=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],s=r.array,o=r.itemSize,a=new s.constructor(t.length*o),l=0,c=0,u=0,h=t.length;u<h;u++){l=t[u]*o;for(var d=0;d<o;d++)a[c++]=s[l++]}e.addAttribute(i,new me(a,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var s=this.attributes;for(var n in s){var o=s[n];r=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new ke).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var s=e.attributes;for(t in s){var o=s[t];this.addAttribute(t,o.clone())}var a=e.morphAttributes;for(t in a){var l=[],c=a[t];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[t]=l}var u=e.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Ae.prototype=Object.create(pe.prototype)).constructor=Ae,(Ce.prototype=Object.create(ke.prototype)).constructor=Ce,(Me.prototype=Object.create(pe.prototype)).constructor=Me,(Re.prototype=Object.create(ke.prototype)).constructor=Re,(Le.prototype=Object.create(J.prototype)).constructor=Le,Le.prototype.isMeshBasicMaterial=!0,Le.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},(Pe.prototype=Object.create(J.prototype)).constructor=Pe,Pe.prototype.isShaderMaterial=!0,Pe.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Na.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Pe.prototype.toJSON=function(e){var t=J.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Oe.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new a).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new a;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new a;n.subVectors(e,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new a;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new a,t=new a,n=new a;return function(i,r,s,o){e.copy(i).add(r).multiplyScalar(.5),t.copy(r).sub(i).normalize(),n.copy(this.origin).sub(e);var a,l,c,u,h=.5*i.distanceTo(r),d=-this.direction.dot(t),p=n.dot(this.direction),m=-n.dot(t),f=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(a=d*m-p,l=d*p-m,u=h*g,a>=0)if(l>=-u)if(l<=u){var v=1/g;c=(a*=v)*(a+d*(l*=v)+2*p)+l*(d*a+l+2*m)+f}else l=h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;else l=-h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;else l<=-u?c=-(a=Math.max(0,-(-d*h+p)))*a+(l=a>0?-h:Math.min(Math.max(-h,-m),h))*(l+2*m)+f:l<=u?(a=0,c=(l=Math.min(Math.max(-h,-m),h))*(l+2*m)+f):c=-(a=Math.max(0,-(d*h+p)))*a+(l=a>0?h:Math.min(Math.max(-h,-m),h))*(l+2*m)+f;else l=d>0?-h:h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;return s&&s.copy(this.direction).multiplyScalar(a).add(this.origin),o&&o.copy(t).multiplyScalar(l).add(e),c}}(),intersectSphere:function(){var e=new a;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i,s=t.radius*t.radius;if(r>s)return null;var o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,s,o,a,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),u>=0?(o=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||o>i?null:((o>n||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:function(){var e=new a;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new a,t=new a,n=new a,i=new a;return function(r,s,o,a,l){t.subVectors(s,r),n.subVectors(o,r),i.crossVectors(t,n);var c,u=this.direction.dot(i);if(u>0){if(a)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,r);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>u)return null;var p=-c*e.dot(i);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(De.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new a).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new a).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new a;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new a,t=new a;return function(n,i){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var r=t.dot(t),s=t.dot(e)/r;return i&&(s=ka.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t),r=n||new a;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Fe,{normal:function(){var e=new a;return function(t,n,i,r){var s=r||new a;s.subVectors(i,n),e.subVectors(t,n),s.cross(e);var o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new a,t=new a,n=new a;return function(i,r,s,o,l){e.subVectors(o,r),t.subVectors(s,r),n.subVectors(i,r);var c=e.dot(e),u=e.dot(t),h=e.dot(n),d=t.dot(t),p=t.dot(n),m=c*d-u*u,f=l||new a;if(0===m)return f.set(-2,-1,-1);var g=1/m,v=(d*h-u*p)*g,y=(c*p-u*h)*g;return f.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new a;return function(t,n,i,r){var s=Fe.barycoordFromPoint(t,n,i,r,e);return s.x>=0&&s.y>=0&&s.x+s.y<=1}}()}),Object.assign(Fe.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new a,t=new a;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new a).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Fe.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new ie).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Fe.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Fe.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ie,t=[new De,new De,new De],n=new a,i=new a;return function(r,s){var o=s||new a,l=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,n),!0===this.containsPoint(n))o.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var c=0;c<t.length;c++){t[c].closestPointToPoint(n,!0,i);var u=n.distanceToSquared(i);u<l&&(l=u,o.copy(i))}}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Ie.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ie,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ce.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,s=Object.keys(r);if(s.length>0){var o=r[s[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var a=i.morphTargets;if(void 0!==a&&a.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,i,r,s,o){return Fe.barycoordFromPoint(e,t,n,i,y),r.multiplyScalar(y.x),s.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(s).add(o),r.clone()}function t(e,t,n,i,r,s,o,a){if(null===(t.side===Ps?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,t.side!==Os,a)))return null;_.copy(a),_.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(_);return l<n.near||l>n.far?null:{distance:l,point:_.clone(),object:e}}function n(n,i,r,s,o,a,l,d){c.fromBufferAttribute(s,a),u.fromBufferAttribute(s,l),h.fromBufferAttribute(s,d);var p=t(n,n.material,i,r,c,u,h,b);return p&&(o&&(f.fromBufferAttribute(o,a),g.fromBufferAttribute(o,l),v.fromBufferAttribute(o,d),p.uv=e(b,c,u,h,f,g,v)),p.face=new de(a,l,d,Fe.normal(c,u,h)),p.faceIndex=a),p}var i=new s,o=new Oe,l=new ne,c=new a,u=new a,h=new a,d=new a,p=new a,m=new a,f=new r,g=new r,v=new r,y=new a,b=new a,_=new a;return function(r,s){var a=this.geometry,y=this.material,_=this.matrixWorld;if(void 0!==y&&(null===a.boundingSphere&&a.computeBoundingSphere(),l.copy(a.boundingSphere),l.applyMatrix4(_),!1!==r.ray.intersectsSphere(l)&&(i.getInverse(_),o.copy(r.ray).applyMatrix4(i),null===a.boundingBox||!1!==o.intersectsBox(a.boundingBox)))){var x;if(a.isBufferGeometry){var w,E,T,S,k,A=a.index,C=a.attributes.position,M=a.attributes.uv;if(null!==A)for(S=0,k=A.count;S<k;S+=3)w=A.getX(S),E=A.getX(S+1),T=A.getX(S+2),(x=n(this,r,o,C,M,w,E,T))&&(x.faceIndex=Math.floor(S/3),s.push(x));else if(void 0!==C)for(S=0,k=C.count;S<k;S+=3)(x=n(this,r,o,C,M,w=S,E=S+1,T=S+2))&&(x.index=w,s.push(x))}else if(a.isGeometry){var R,L,P,O,D=Array.isArray(y),F=a.vertices,I=a.faces,N=a.faceVertexUvs[0];N.length>0&&(O=N);for(var B=0,j=I.length;B<j;B++){var z=I[B],U=D?y[z.materialIndex]:y;if(void 0!==U){if(R=F[z.a],L=F[z.b],P=F[z.c],!0===U.morphTargets){var V=a.morphTargets,G=this.morphTargetInfluences;c.set(0,0,0),u.set(0,0,0),h.set(0,0,0);for(var H=0,W=V.length;H<W;H++){var $=G[H];if(0!==$){var q=V[H].vertices;c.addScaledVector(d.subVectors(q[z.a],R),$),u.addScaledVector(p.subVectors(q[z.b],L),$),h.addScaledVector(m.subVectors(q[z.c],P),$)}}c.add(R),u.add(L),h.add(P),R=c,L=u,P=h}if(x=t(this,U,r,o,R,L,P,b)){if(O&&O[B]){var X=O[B];f.copy(X[0]),g.copy(X[1]),v.copy(X[2]),x.uv=e(b,R,L,P,f,g,v)}x.face=z,x.faceIndex=B,s.push(x)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Ha=0;Je.prototype=Object.assign(Object.create(ue.prototype),{constructor:Je,isPerspectiveCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*ka.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*ka.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*ka.RAD2DEG*Math.atan(Math.tan(.5*ka.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*ka.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,s=this.view;if(null!==this.view&&this.view.enabled){var o=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/o,t-=s.offsetY*n/a,i*=s.width/o,n*=s.height/a}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Qe.prototype=Object.assign(Object.create(Je.prototype),{constructor:Qe,isArrayCamera:!0}),nt.prototype.isFogExp2=!0,nt.prototype.clone=function(){return new nt(this.color.getHex(),this.density)},nt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},it.prototype.isFog=!0,it.prototype.clone=function(){return new it(this.color.getHex(),this.near,this.far)},it.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},rt.prototype=Object.assign(Object.create(ce.prototype),{constructor:rt,copy:function(e,t){return ce.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),st.prototype=Object.assign(Object.create(ce.prototype),{constructor:st,isLensFlare:!0,copy:function(e){ce.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,i,r,s){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===s&&(s=1),void 0===r&&(r=new q(16777215)),void 0===i&&(i=Bs),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:s,color:r,blending:i})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,i=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;e<n;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+i*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),(ot.prototype=Object.create(J.prototype)).constructor=ot,ot.prototype.isSpriteMaterial=!0,ot.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},at.prototype=Object.assign(Object.create(ce.prototype),{constructor:at,isSprite:!0,raycast:function(){var e=new a,t=new a,n=new a;return function(i,r){t.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var s=n.x*n.y/4;if(!(t.distanceToSquared(e)>s)){var o=i.ray.origin.distanceTo(e);o<i.near||o>i.far||r.push({distance:o,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),lt.prototype=Object.assign(Object.create(ce.prototype),{constructor:lt,copy:function(e){ce.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new a;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var e=new a,t=new a;return function(n){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);i[0].object.visible=!0;for(var s=1,o=i.length;s<o&&r>=i[s].distance;s++)i[s-1].object.visible=!1,i[s].object.visible=!0;for(;s<o;s++)i[s].object.visible=!1}}}(),toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}),Object.assign(ct.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new s;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new s,t=new s;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,s=this.boneTexture,o=0,a=n.length;o<a;o++){var l=n[o]?n[o].matrixWorld:t;e.multiplyMatrices(l,i[o]),e.toArray(r,16*o)}void 0!==s&&(s.needsUpdate=!0)}}(),clone:function(){return new ct(this.bones,this.boneInverses)}}),ut.prototype=Object.assign(Object.create(ce.prototype),{constructor:ut,isBone:!0}),ht.prototype=Object.assign(Object.create(Ie.prototype),{constructor:ht,isSkinnedMesh:!0,initBones:function(){var e,t,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],e=new ut,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.manhattanLength())!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new u,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++)i.x=r.getX(t),i.y=r.getY(t),i.z=r.getZ(t),i.w=r.getW(t),(e=1/i.manhattanLength())!==1/0?i.multiplyScalar(e):i.set(1,0,0,0),r.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(e){Ie.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(dt.prototype=Object.create(J.prototype)).constructor=dt,dt.prototype.isLineBasicMaterial=!0,dt.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},pt.prototype=Object.assign(Object.create(ce.prototype),{constructor:pt,isLine:!0,raycast:function(){var e=new s,t=new Oe,n=new ne;return function(i,r){var s=i.linePrecision,o=s*s,l=this.geometry,c=this.matrixWorld;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var u=new a,h=new a,d=new a,p=new a,m=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var f=l.index,g=l.attributes.position.array;if(null!==f)for(var v=f.array,y=0,b=v.length-1;y<b;y+=m){var _=v[y],x=v[y+1];u.fromArray(g,3*_),h.fromArray(g,3*x);if(!(t.distanceSqToSegment(u,h,p,d)>o)){p.applyMatrix4(this.matrixWorld);(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(y=0,b=g.length/3-1;y<b;y+=m){u.fromArray(g,3*y),h.fromArray(g,3*y+3);if(!(t.distanceSqToSegment(u,h,p,d)>o)){p.applyMatrix4(this.matrixWorld);(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry){var w=l.vertices,E=w.length;for(y=0;y<E-1;y+=m){if(!(t.distanceSqToSegment(w[y],w[y+1],p,d)>o)){p.applyMatrix4(this.matrixWorld);var T;(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mt.prototype=Object.assign(Object.create(pt.prototype),{constructor:mt,isLineSegments:!0}),ft.prototype=Object.assign(Object.create(pt.prototype),{constructor:ft,isLineLoop:!0}),(gt.prototype=Object.create(J.prototype)).constructor=gt,gt.prototype.isPointsMaterial=!0,gt.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},vt.prototype=Object.assign(Object.create(ce.prototype),{constructor:vt,isPoints:!0,raycast:function(){var e=new s,t=new Oe,n=new ne;return function(i,r){function s(e,n){var s=t.distanceSqToPoint(e);if(s<d){var a=t.closestPointToPoint(e);a.applyMatrix4(c);var l=i.ray.origin.distanceTo(a);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(s),point:a.clone(),index:n,face:null,object:o})}}var o=this,l=this.geometry,c=this.matrixWorld,u=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new a;if(l.isBufferGeometry){var m=l.index,f=l.attributes.position.array;if(null!==m)for(var g=m.array,v=0,y=g.length;v<y;v++){var b=g[v];p.fromArray(f,3*b),s(p,b)}else{v=0;for(var _=f.length/3;v<_;v++)p.fromArray(f,3*v),s(p,v)}}else{var x=l.vertices;for(v=0,_=x.length;v<_;v++)s(x[v],v)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yt.prototype=Object.assign(Object.create(ce.prototype),{constructor:yt,isGroup:!0}),bt.prototype=Object.assign(Object.create(c.prototype),{constructor:bt,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(_t.prototype=Object.create(c.prototype)).constructor=_t,_t.prototype.isCompressedTexture=!0,(xt.prototype=Object.create(c.prototype)).constructor=xt,xt.prototype.isDepthTexture=!0,(wt.prototype=Object.create(ke.prototype)).constructor=wt,(Et.prototype=Object.create(pe.prototype)).constructor=Et,(Tt.prototype=Object.create(ke.prototype)).constructor=Tt,(St.prototype=Object.create(pe.prototype)).constructor=St,(kt.prototype=Object.create(ke.prototype)).constructor=kt,(At.prototype=Object.create(pe.prototype)).constructor=At,(Ct.prototype=Object.create(kt.prototype)).constructor=Ct,(Mt.prototype=Object.create(pe.prototype)).constructor=Mt,(Rt.prototype=Object.create(kt.prototype)).constructor=Rt,(Lt.prototype=Object.create(pe.prototype)).constructor=Lt,(Pt.prototype=Object.create(kt.prototype)).constructor=Pt,(Ot.prototype=Object.create(pe.prototype)).constructor=Ot,(Dt.prototype=Object.create(kt.prototype)).constructor=Dt,(Ft.prototype=Object.create(pe.prototype)).constructor=Ft,(It.prototype=Object.create(ke.prototype)).constructor=It,(Nt.prototype=Object.create(pe.prototype)).constructor=Nt,(Bt.prototype=Object.create(ke.prototype)).constructor=Bt,(jt.prototype=Object.create(pe.prototype)).constructor=jt,(zt.prototype=Object.create(ke.prototype)).constructor=zt;var Wa=function(e,t,n){n=n||2;var i=t&&t.length,r=i?t[0]*n:e.length,s=Ut(e,0,r,n,!0),o=[];if(!s)return o;var a,l,c,u,h,d,p;if(i&&(s=Ht(e,t,s,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(var m=n;m<r;m+=n)h=e[m],d=e[m+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=0!==(p=Math.max(c-a,u-l))?1/p:0}return Gt(s,o,n,a,l,p),o},$a={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return $a.area(e)<0},triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function i(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var r=[],s=[],o=[];n(e),i(r,e);var a=e.length;for(t.forEach(n),c=0;c<t.length;c++)s.push(a),a+=t[c].length,i(r,t[c]);for(var l=Wa(r,s),c=0;c<l.length;c+=3)o.push(l.slice(c,c+3));return o}};(nn.prototype=Object.create(pe.prototype)).constructor=nn,(rn.prototype=Object.create(ke.prototype)).constructor=rn,rn.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),i=n?Array.prototype.slice.call(n.array):[],r=this.index;return{position:t,uv:i,index:r?Array.prototype.slice.call(r.array):[]}},rn.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new we(t.arrays.position,3)),this.addAttribute("uv",new we(t.arrays.uv,2))},rn.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function i(e,t,n){var i,s,o,a=e.x-t.x,l=e.y-t.y,c=n.x-e.x,u=n.y-e.y,h=a*a+l*l,d=a*u-l*c;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(h),m=Math.sqrt(c*c+u*u),f=t.x-l/p,g=t.y+a/p,v=((n.x-u/m-f)*u-(n.y+c/m-g)*c)/(a*u-l*c),y=(i=f+a*v-e.x)*i+(s=g+l*v-e.y)*s;if(y<=2)return new r(i,s);o=Math.sqrt(y/2)}else{var b=!1;a>Number.EPSILON?c>Number.EPSILON&&(b=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(b=!0):Math.sign(l)===Math.sign(u)&&(b=!0),b?(i=-l,s=a,o=Math.sqrt(h)):(i=a,s=l,o=Math.sqrt(h/2))}return new r(i/o,s/o)}function s(e,t){var n,i;for(Y=e.length;--Y>=0;){n=Y,(i=Y-1)<0&&(i=e.length-1);var r=0,s=A+2*T;for(r=0;r<s;r++){var o=$*r,a=$*(r+1);!function(e,t,n,i){c(e),c(t),c(i),c(t),c(n),c(i);var r=v.length/3,s=R.generateSideWallUV(D,v,r-6,r-3,r-2,r-1);u(s[0]),u(s[1]),u(s[3]),u(s[1]),u(s[2]),u(s[3])}(t+n+o,t+i+o,t+i+a,t+n+a)}}}function o(e,t,n){_.push(e),_.push(t),_.push(n)}function l(e,t,n){c(e),c(t),c(n);var i=v.length/3,r=R.generateTopUV(D,v,i-3,i-2,i-1);u(r[0]),u(r[1]),u(r[2])}function c(e){y.push(v.length/3),v.push(_[3*e+0]),v.push(_[3*e+1]),v.push(_[3*e+2])}function u(e){b.push(e.x),b.push(e.y)}var h,d,p,m,f,g=t.arrays?t.arrays:this.getArrays(),v=g.position,y=g.index,b=g.uv,_=[],x=void 0!==t.amount?t.amount:100,w=void 0!==t.bevelThickness?t.bevelThickness:6,E=void 0!==t.bevelSize?t.bevelSize:w-2,T=void 0!==t.bevelSegments?t.bevelSegments:3,S=void 0===t.bevelEnabled||t.bevelEnabled,k=void 0!==t.curveSegments?t.curveSegments:12,A=void 0!==t.steps?t.steps:1,C=t.extrudePath,M=!1,R=void 0!==t.UVGenerator?t.UVGenerator:nn.WorldUVGenerator;C&&(h=C.getSpacedPoints(A),M=!0,S=!1,d=void 0!==t.frames?t.frames:C.computeFrenetFrames(A,!1),p=new a,m=new a,f=new a),S||(T=0,w=0,E=0);var L,P,O,D=this,F=e.extractPoints(k),I=F.shape,N=F.holes;if(!$a.isClockWise(I))for(I=I.reverse(),P=0,O=N.length;P<O;P++)L=N[P],$a.isClockWise(L)&&(N[P]=L.reverse());var B=$a.triangulateShape(I,N),j=I;for(P=0,O=N.length;P<O;P++)L=N[P],I=I.concat(L);for(var z,U,V,G,H,W,$=I.length,q=B.length,X=[],Y=0,K=j.length,Z=K-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),X[Y]=i(j[Y],j[Z],j[J]);var Q,ee=[],te=X.concat();for(P=0,O=N.length;P<O;P++){for(L=N[P],Q=[],Y=0,Z=(K=L.length)-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),Q[Y]=i(L[Y],L[Z],L[J]);ee.push(Q),te=te.concat(Q)}for(z=0;z<T;z++){for(V=z/T,G=w*Math.cos(V*Math.PI/2),U=E*Math.sin(V*Math.PI/2),Y=0,K=j.length;Y<K;Y++)o((H=n(j[Y],X[Y],U)).x,H.y,-G);for(P=0,O=N.length;P<O;P++)for(L=N[P],Q=ee[P],Y=0,K=L.length;Y<K;Y++)o((H=n(L[Y],Q[Y],U)).x,H.y,-G)}for(U=E,Y=0;Y<$;Y++)H=S?n(I[Y],te[Y],U):I[Y],M?(m.copy(d.normals[0]).multiplyScalar(H.x),p.copy(d.binormals[0]).multiplyScalar(H.y),f.copy(h[0]).add(m).add(p),o(f.x,f.y,f.z)):o(H.x,H.y,0);var ne;for(ne=1;ne<=A;ne++)for(Y=0;Y<$;Y++)H=S?n(I[Y],te[Y],U):I[Y],M?(m.copy(d.normals[ne]).multiplyScalar(H.x),p.copy(d.binormals[ne]).multiplyScalar(H.y),f.copy(h[ne]).add(m).add(p),o(f.x,f.y,f.z)):o(H.x,H.y,x/A*ne);for(z=T-1;z>=0;z--){for(V=z/T,G=w*Math.cos(V*Math.PI/2),U=E*Math.sin(V*Math.PI/2),Y=0,K=j.length;Y<K;Y++)o((H=n(j[Y],X[Y],U)).x,H.y,x+G);for(P=0,O=N.length;P<O;P++)for(L=N[P],Q=ee[P],Y=0,K=L.length;Y<K;Y++)H=n(L[Y],Q[Y],U),M?o(H.x,H.y+h[A-1].y,h[A-1].x+G):o(H.x,H.y,x+G)}!function(){var e=v.length/3;if(S){var n=0,i=$*n;for(Y=0;Y<q;Y++)l((W=B[Y])[2]+i,W[1]+i,W[0]+i);for(i=$*(n=A+2*T),Y=0;Y<q;Y++)l((W=B[Y])[0]+i,W[1]+i,W[2]+i)}else{for(Y=0;Y<q;Y++)l((W=B[Y])[2],W[1],W[0]);for(Y=0;Y<q;Y++)l((W=B[Y])[0]+$*A,W[1]+$*A,W[2]+$*A)}D.addGroup(e,v.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=v.length/3,n=0;for(s(j,n),n+=j.length,P=0,O=N.length;P<O;P++)s(L=N[P],n),n+=L.length;D.addGroup(e,v.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(y),this.addAttribute("position",new we(v,3)),this.addAttribute("uv",new we(b,2)))},nn.WorldUVGenerator={generateTopUV:function(e,t,n,i,s){var o=t[3*n],a=t[3*n+1],l=t[3*i],c=t[3*i+1],u=t[3*s],h=t[3*s+1];return[new r(o,a),new r(l,c),new r(u,h)]},generateSideWallUV:function(e,t,n,i,s,o){var a=t[3*n],l=t[3*n+1],c=t[3*n+2],u=t[3*i],h=t[3*i+1],d=t[3*i+2],p=t[3*s],m=t[3*s+1],f=t[3*s+2],g=t[3*o],v=t[3*o+1],y=t[3*o+2];return Math.abs(l-h)<.01?[new r(a,1-c),new r(u,1-d),new r(p,1-f),new r(g,1-y)]:[new r(l,1-c),new r(h,1-d),new r(m,1-f),new r(v,1-y)]}},(sn.prototype=Object.create(pe.prototype)).constructor=sn,(on.prototype=Object.create(rn.prototype)).constructor=on,(an.prototype=Object.create(pe.prototype)).constructor=an,(ln.prototype=Object.create(ke.prototype)).constructor=ln,(cn.prototype=Object.create(pe.prototype)).constructor=cn,(un.prototype=Object.create(ke.prototype)).constructor=un,(hn.prototype=Object.create(pe.prototype)).constructor=hn,(dn.prototype=Object.create(ke.prototype)).constructor=dn,(pn.prototype=Object.create(pe.prototype)).constructor=pn,pn.prototype.toJSON=function(){var e=pe.prototype.toJSON.call(this);return fn(this.parameters.shapes,e)},(mn.prototype=Object.create(ke.prototype)).constructor=mn,mn.prototype.toJSON=function(){var e=ke.prototype.toJSON.call(this);return fn(this.parameters.shapes,e)},(gn.prototype=Object.create(ke.prototype)).constructor=gn,(vn.prototype=Object.create(pe.prototype)).constructor=vn,(yn.prototype=Object.create(ke.prototype)).constructor=yn,(bn.prototype=Object.create(vn.prototype)).constructor=bn,(_n.prototype=Object.create(yn.prototype)).constructor=_n,(xn.prototype=Object.create(pe.prototype)).constructor=xn,(wn.prototype=Object.create(ke.prototype)).constructor=wn;var qa=Object.freeze({WireframeGeometry:wt,ParametricGeometry:Et,ParametricBufferGeometry:Tt,TetrahedronGeometry:At,TetrahedronBufferGeometry:Ct,OctahedronGeometry:Mt,OctahedronBufferGeometry:Rt,IcosahedronGeometry:Lt,IcosahedronBufferGeometry:Pt,DodecahedronGeometry:Ot,DodecahedronBufferGeometry:Dt,PolyhedronGeometry:St,PolyhedronBufferGeometry:kt,TubeGeometry:Ft,TubeBufferGeometry:It,TorusKnotGeometry:Nt,TorusKnotBufferGeometry:Bt,TorusGeometry:jt,TorusBufferGeometry:zt,TextGeometry:sn,TextBufferGeometry:on,SphereGeometry:an,SphereBufferGeometry:ln,RingGeometry:cn,RingBufferGeometry:un,PlaneGeometry:Me,PlaneBufferGeometry:Re,LatheGeometry:hn,LatheBufferGeometry:dn,ShapeGeometry:pn,ShapeBufferGeometry:mn,ExtrudeGeometry:nn,ExtrudeBufferGeometry:rn,EdgesGeometry:gn,ConeGeometry:bn,ConeBufferGeometry:_n,CylinderGeometry:vn,CylinderBufferGeometry:yn,CircleGeometry:xn,CircleBufferGeometry:wn,BoxGeometry:Ae,BoxBufferGeometry:Ce});(En.prototype=Object.create(J.prototype)).constructor=En,En.prototype.isShadowMaterial=!0,(Tn.prototype=Object.create(Pe.prototype)).constructor=Tn,Tn.prototype.isRawShaderMaterial=!0,(Sn.prototype=Object.create(J.prototype)).constructor=Sn,Sn.prototype.isMeshStandardMaterial=!0,Sn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(kn.prototype=Object.create(Sn.prototype)).constructor=kn,kn.prototype.isMeshPhysicalMaterial=!0,kn.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},(An.prototype=Object.create(J.prototype)).constructor=An,An.prototype.isMeshPhongMaterial=!0,An.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(Cn.prototype=Object.create(An.prototype)).constructor=Cn,Cn.prototype.isMeshToonMaterial=!0,Cn.prototype.copy=function(e){return An.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},(Mn.prototype=Object.create(J.prototype)).constructor=Mn,Mn.prototype.isMeshNormalMaterial=!0,Mn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(Rn.prototype=Object.create(J.prototype)).constructor=Rn,Rn.prototype.isMeshLambertMaterial=!0,Rn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(Ln.prototype=Object.create(dt.prototype)).constructor=Ln,Ln.prototype.isLineDashedMaterial=!0,Ln.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Xa=Object.freeze({ShadowMaterial:En,SpriteMaterial:ot,RawShaderMaterial:Tn,ShaderMaterial:Pe,PointsMaterial:gt,MeshPhysicalMaterial:kn,MeshStandardMaterial:Sn,MeshPhongMaterial:An,MeshToonMaterial:Cn,MeshNormalMaterial:Mn,MeshLambertMaterial:Rn,MeshDepthMaterial:Q,MeshDistanceMaterial:ee,MeshBasicMaterial:Le,LineDashedMaterial:Ln,LineBasicMaterial:dt,Material:J}),Ya={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ka=new Pn,Za={};Object.assign(On.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Ya.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(void 0===Za[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var a=o[1],l=!!o[2],c=o[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);u="blob"===h?new Blob([d.buffer],{type:a}):d.buffer;break;case"document":var m=new DOMParser;u=m.parseFromString(c,a);break;case"json":u=JSON.parse(c);break;default:u=c}window.setTimeout(function(){t&&t(u),r.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},0)}}else{Za[e]=[],Za[e].push({onLoad:t,onProgress:n,onError:i});var f=new XMLHttpRequest;f.open("GET",e,!0),f.addEventListener("load",function(t){var n=this.response;Ya.add(e,n);var i=Za[e];if(delete Za[e],200===this.status){for(var s=0,o=i.length;s<o;s++){(a=i[s]).onLoad&&a.onLoad(n)}r.manager.itemEnd(e)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(s=0,o=i.length;s<o;s++){(a=i[s]).onLoad&&a.onLoad(n)}r.manager.itemEnd(e)}else{for(s=0,o=i.length;s<o;s++){var a;(a=i[s]).onError&&a.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)}},!1),f.addEventListener("progress",function(t){for(var n=Za[e],i=0,r=n.length;i<r;i++){var s=n[i];s.onProgress&&s.onProgress(t)}},!1),f.addEventListener("error",function(t){var n=Za[e];delete Za[e];for(var i=0,s=n.length;i<s;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)},!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return r.manager.itemStart(e),f}Za[e].push({onLoad:t,onProgress:n,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign((function(e){this.manager=void 0!==e?e:Ka,this._parser=null}).prototype,{load:function(e,t,n,i){function r(r){l.load(e[r],function(e){var n=s._parser(e,!0);o[r]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=Fo),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}var s=this,o=[],a=new _t;a.image=o;var l=new On(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,h=e.length;u<h;++u)r(u);else l.load(e,function(e){var n=s._parser(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,r=0;r<i;r++){o[r]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[r].mipmaps.push(n.mipmaps[r*n.mipmapCount+l]),o[r].format=n.format,o[r].width=n.width,o[r].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Fo),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a},setPath:function(e){return this.path=e,this}}),Object.assign(Dn.prototype,{load:function(e,t,n,i){var r=this,s=new p,o=new On(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var n=r._parser(e);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:Ro,s.wrapT=void 0!==n.wrapT?n.wrapT:Ro,s.magFilter=void 0!==n.magFilter?n.magFilter:Fo,s.minFilter=void 0!==n.minFilter?n.minFilter:No,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps),1===n.mipmapCount&&(s.minFilter=Fo),s.needsUpdate=!0,t&&t(s,n))},n,i),s}}),Object.assign(Fn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Ya.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){Ya.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),o.addEventListener("error",function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(In.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){function r(n){o.load(e[n],function(e){s.images[n]=e,6===++a&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}var s=new m,o=new Fn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,l=0;l<e.length;++l)r(l);return s},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Nn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){var r=new c,s=new Fn(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(n){r.image=n;var i=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?Zo:Jo,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Bn.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),s=0;for(i.push(0),n=1;n<=e;n++)s+=(t=this.getPoint(n/e)).distanceTo(r),i.push(s),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,s=i.length;n=t||e*i[s-1];for(var o,a=0,l=s-1;a<=l;)if(r=Math.floor(a+(l-a)/2),(o=i[r]-n)<0)a=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(s-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(s-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var i=this.getPoint(t);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,o=new a,l=[],c=[],u=[],h=new a,d=new s;for(n=0;n<=e;n++)i=n/e,l[n]=this.getTangentAt(i),l[n].normalize();c[0]=new a,u[0]=new a;var p=Number.MAX_VALUE,m=Math.abs(l[0].x),f=Math.abs(l[0].y),g=Math.abs(l[0].z);for(m<=p&&(p=m,o.set(1,0,0)),f<=p&&(p=f,o.set(0,1,0)),g<=p&&o.set(0,0,1),h.crossVectors(l[0],o).normalize(),c[0].crossVectors(l[0],h),u[0].crossVectors(l[0],c[0]),n=1;n<=e;n++)c[n]=c[n-1].clone(),u[n]=u[n-1].clone(),h.crossVectors(l[n-1],l[n]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(ka.clamp(l[n-1].dot(l[n]),-1,1)),c[n].applyMatrix4(d.makeRotationAxis(h,r))),u[n].crossVectors(l[n],c[n]);if(!0===t)for(r=Math.acos(ka.clamp(c[0].dot(c[e]),-1,1)),r/=e,l[0].dot(h.crossVectors(c[0],c[e]))>0&&(r=-r),n=1;n<=e;n++)c[n].applyMatrix4(d.makeRotationAxis(l[n],r*n)),u[n].crossVectors(l[n],c[n]);return{tangents:l,normals:c,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),(jn.prototype=Object.create(Bn.prototype)).constructor=jn,jn.prototype.isEllipseCurve=!0,jn.prototype.getPoint=function(e,t){for(var n=t||new r,i=2*Math.PI,s=this.aEndAngle-this.aStartAngle,o=Math.abs(s)<Number.EPSILON;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(s=o?0:i),!0!==this.aClockwise||o||(s===i?s=-i:s-=i);var a=this.aStartAngle+e*s,l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return n.set(l,c)},jn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},jn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},jn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},(zn.prototype=Object.create(jn.prototype)).constructor=zn,zn.prototype.isArcCurve=!0;var Ja=new a,Qa=new Un,el=new Un,tl=new Un;(Vn.prototype=Object.create(Bn.prototype)).constructor=Vn,Vn.prototype.isCatmullRomCurve3=!0,Vn.prototype.getPoint=function(e,t){var n=t||new a,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e,o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/i.length)+1)*i.length:0===l&&o===r-1&&(o=r-2,l=1);var c,u,h,d;if(this.closed||o>0?c=i[(o-1)%r]:(Ja.subVectors(i[0],i[1]).add(i[0]),c=Ja),u=i[o%r],h=i[(o+1)%r],this.closed||o+2<r?d=i[(o+2)%r]:(Ja.subVectors(i[r-1],i[r-2]).add(i[r-1]),d=Ja),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,m=Math.pow(c.distanceToSquared(u),p),f=Math.pow(u.distanceToSquared(h),p),g=Math.pow(h.distanceToSquared(d),p);f<1e-4&&(f=1),m<1e-4&&(m=f),g<1e-4&&(g=f),Qa.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,m,f,g),el.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,m,f,g),tl.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,m,f,g)}else"catmullrom"===this.curveType&&(Qa.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),el.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),tl.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return n.set(Qa.calc(l),el.calc(l),tl.calc(l)),n},Vn.prototype.copy=function(e){Bn.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Vn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Vn.prototype.fromJSON=function(e){Bn.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new a).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},($n.prototype=Object.create(Bn.prototype)).constructor=$n,$n.prototype.isCubicBezierCurve=!0,$n.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(Wn(e,i.x,s.x,o.x,a.x),Wn(e,i.y,s.y,o.y,a.y)),n},$n.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},$n.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},$n.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(qn.prototype=Object.create(Bn.prototype)).constructor=qn,qn.prototype.isCubicBezierCurve3=!0,qn.prototype.getPoint=function(e,t){var n=t||new a,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(Wn(e,i.x,r.x,s.x,o.x),Wn(e,i.y,r.y,s.y,o.y),Wn(e,i.z,r.z,s.z,o.z)),n},qn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},qn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},qn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(Xn.prototype=Object.create(Bn.prototype)).constructor=Xn,Xn.prototype.isLineCurve=!0,Xn.prototype.getPoint=function(e,t){var n=t||new r;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Xn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Xn.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Xn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Xn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Xn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Yn.prototype=Object.create(Bn.prototype)).constructor=Yn,Yn.prototype.isLineCurve3=!0,Yn.prototype.getPoint=function(e,t){var n=t||new a;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Yn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Yn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Yn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Yn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Kn.prototype=Object.create(Bn.prototype)).constructor=Kn,Kn.prototype.isQuadraticBezierCurve=!0,Kn.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,s=this.v1,o=this.v2;return n.set(Hn(e,i.x,s.x,o.x),Hn(e,i.y,s.y,o.y)),n},Kn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Kn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Kn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Zn.prototype=Object.create(Bn.prototype)).constructor=Zn,Zn.prototype.isQuadraticBezierCurve3=!0,Zn.prototype.getPoint=function(e,t){var n=t||new a,i=this.v0,r=this.v1,s=this.v2;return n.set(Hn(e,i.x,r.x,s.x),Hn(e,i.y,r.y,s.y),Hn(e,i.z,r.z,s.z)),n},Zn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Zn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Zn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Jn.prototype=Object.create(Bn.prototype)).constructor=Jn,Jn.prototype.isSplineCurve=!0,Jn.prototype.getPoint=function(e,t){var n=t||new r,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[0===o?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return n.set(Gn(a,l.x,c.x,u.x,h.x),Gn(a,l.y,c.y,u.y,h.y)),n},Jn.prototype.copy=function(e){Bn.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},Jn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},Jn.prototype.fromJSON=function(e){Bn.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new r).fromArray(i))}return this};var nl=Object.freeze({ArcCurve:zn,CatmullRomCurve3:Vn,CubicBezierCurve:$n,CubicBezierCurve3:qn,EllipseCurve:jn,LineCurve:Xn,LineCurve3:Yn,QuadraticBezierCurve:Kn,QuadraticBezierCurve3:Zn,SplineCurve:Jn});Qn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Qn,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Xn(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,s=this.curves[i],o=s.getLength(),a=0===o?0:1-r/o;return s.getPointAt(a)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var s=r[i],o=s&&s.isEllipseCurve?2*e:s&&s.isLineCurve?1:s&&s.isSplineCurve?e*s.points.length:e,a=s.getPoints(o),l=0;l<a.length;l++){var c=a[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Bn.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Bn.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Bn.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new nl[i.type]).fromJSON(i))}return this}}),ei.prototype=Object.assign(Object.create(Qn.prototype),{constructor:ei,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Xn(this.currentPoint.clone(),new r(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var s=new Kn(this.currentPoint.clone(),new r(e,t),new r(n,i));this.curves.push(s),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,s,o){var a=new $n(this.currentPoint.clone(),new r(e,t),new r(n,i),new r(s,o));this.curves.push(a),this.currentPoint.set(s,o)},splineThru:function(e){var t=new Jn([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,s){var o=this.currentPoint.x,a=this.currentPoint.y;this.absarc(e+o,t+a,n,i,r,s)},absarc:function(e,t,n,i,r,s){this.absellipse(e,t,n,n,i,r,s)},ellipse:function(e,t,n,i,r,s,o,a){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,n,i,r,s,o,a)},absellipse:function(e,t,n,i,r,s,o,a){var l=new jn(e,t,n,i,r,s,o,a);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return Qn.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Qn.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Qn.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),ti.prototype=Object.assign(Object.create(ei.prototype),{constructor:ti,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ei.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=ei.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){ei.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new ei).fromJSON(i))}return this}}),ni.prototype=Object.assign(Object.create(ce.prototype),{constructor:ni,isLight:!0,copy:function(e){return ce.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),ii.prototype=Object.assign(Object.create(ni.prototype),{constructor:ii,isHemisphereLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(ri.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),si.prototype=Object.assign(Object.create(ri.prototype),{constructor:si,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*ka.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),oi.prototype=Object.assign(Object.create(ni.prototype),{constructor:oi,isSpotLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ai.prototype=Object.assign(Object.create(ni.prototype),{constructor:ai,isPointLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),li.prototype=Object.assign(Object.create(ri.prototype),{constructor:li}),ci.prototype=Object.assign(Object.create(ni.prototype),{constructor:ci,isDirectionalLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ui.prototype=Object.assign(Object.create(ni.prototype),{constructor:ui,isAmbientLight:!0}),hi.prototype=Object.assign(Object.create(ni.prototype),{constructor:hi,isRectAreaLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ni.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),di.prototype=Object.assign(Object.create(wi.prototype),{constructor:di,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),pi.prototype=Object.assign(Object.create(wi.prototype),{constructor:pi,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(mi.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var s;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(e>=r)break e;var a=t[1];e<a&&(n=2,r=a);for(o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0}for(;n<s;){var l=n+s>>>1;e<t[l]?s=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(mi.prototype,{beforeStart_:mi.prototype.copySampleValue_,afterEnd_:mi.prototype.copySampleValue_}),fi.prototype=Object.assign(Object.create(mi.prototype),{constructor:fi,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=(n-t)/(i-t),u=l+a;l!==u;l+=4)o.slerpFlat(r,0,s,l-a,s,l,c);return r}}),gi.prototype=Object.assign(Object.create(wi.prototype),{constructor:gi,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new fi(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),vi.prototype=Object.assign(Object.create(wi.prototype),{constructor:vi,ValueTypeName:"color"}),yi.prototype=Object.assign(Object.create(wi.prototype),{constructor:yi,ValueTypeName:"number"}),bi.prototype=Object.assign(Object.create(mi.prototype),{constructor:bi,DefaultSettings_:{endingStart:pa,endingEnd:pa},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,s=e+1,o=i[r],a=i[s];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:s=e,a=2*n-t;break;case 2402:s=1,a=n+i[1]-i[0];break;default:s=e-1,a=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,g=-h*f+2*h*m-h*p,v=(1+h)*f+(-1.5-2*h)*m+(-.5+h)*p+1,y=(-1-d)*f+(1.5+d)*m+.5*p,b=d*f-d*m,_=0;_!==o;++_)r[_]=g*s[c+_]+v*s[l+_]+y*s[a+_]+b*s[u+_];return r}}),_i.prototype=Object.assign(Object.create(mi.prototype),{constructor:_i,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=(n-t)/(i-t),u=1-c,h=0;h!==o;++h)r[h]=s[l+h]*u+s[a+h]*c;return r}}),xi.prototype=Object.assign(Object.create(mi.prototype),{constructor:xi,interpolate_:function(e){return this.copySampleValue_(e-1)}});var il={arraySlice:function(e,t,n){return il.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),s=0,o=0;o!==i;++s)for(var a=n[s]*t,l=0;l!==t;++l)r[o++]=e[a+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,s=e[0];void 0!==s&&void 0===s[i];)s=e[r++];if(void 0!==s){var o=s[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=s[i])&&(t.push(s.time),n.push.apply(n,o)),s=e[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{void 0!==(o=s[i])&&(t.push(s.time),o.toArray(n,n.length)),s=e[r++]}while(void 0!==s);else do{void 0!==(o=s[i])&&(t.push(s.time),n.push(o)),s=e[r++]}while(void 0!==s)}}};Object.assign(wi,{parse:function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=wi._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],i=[];il.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:il.convertArray(e.times,Array),values:il.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yi;case"vector":case"vector2":case"vector3":case"vector4":return Ei;case"color":return vi;case"quaternion":return gi;case"bool":case"boolean":return pi;case"string":return di}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}}),Object.assign(wi.prototype,{constructor:wi,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new xi(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new _i(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new bi(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,s=i-1;r!==i&&n[r]<e;)++r;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);var o=this.getValueSize();this.times=il.arraySlice(n,r,s),this.values=il.arraySlice(this.values,r*o,s*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var s=null,o=0;o!==r;o++){var a=n[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==s&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(void 0!==i&&il.isTypedArray(i)){o=0;for(var l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,s=e.length-1,o=1;o<s;++o){var a=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(i)a=!0;else for(var c=o*n,u=c-n,h=c+n,d=0;d!==n;++d){var p=t[c+d];if(p!==t[u+d]||p!==t[h+d]){a=!0;break}}if(a){if(o!==r){e[r]=e[o];var m=o*n,f=r*n;for(d=0;d!==n;++d)t[f+d]=t[m+d]}++r}}if(s>0){e[r]=e[s];for(m=s*n,f=r*n,d=0;d!==n;++d)t[f+d]=t[m+d];++r}return r!==e.length&&(this.times=il.arraySlice(e,0,r),this.values=il.arraySlice(t,0,r*n)),this}}),Ei.prototype=Object.assign(Object.create(wi.prototype),{constructor:Ei,ValueTypeName:"vector"}),Object.assign(Ti,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,s=n.length;r!==s;++r)t.push(wi.parse(n[r]).scale(i));return new Ti(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t},r=0,s=n.length;r!==s;++r)t.push(wi.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,s=[],o=0;o<r;o++){var a=[],l=[];a.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=il.getKeyframeOrder(a);a=il.sortedArray(a,1,c),l=il.sortedArray(l,1,c),i||0!==a[0]||(a.push(r),l.push(l[0])),s.push(new yi(".morphTargetInfluences["+t[o].name+"]",a,l).scale(1/n))}return new Ti(e,-1,s)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,s=0,o=e.length;s<o;s++){var a=e[s],l=a.name.match(r);if(l&&l.length>1){var c=i[h=l[1]];c||(i[h]=c=[]),c.push(a)}}var u=[];for(var h in i)u.push(Ti.CreateFromMorphTargetSequence(h,i[h],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var s=[],o=[];il.flattenJSON(n,s,o,i),0!==s.length&&r.push(new e(t,s,o))}},i=[],r=e.name||"default",s=e.length||-1,o=e.fps||30,a=e.hierarchy||[],l=0;l<a.length;l++){var c=a[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)u[c[h].morphTargets[d]]=-1;for(var p in u){var m=[],f=[];for(d=0;d!==c[h].morphTargets.length;++d){var g=c[h];m.push(g.time),f.push(g.morphTarget===p?1:0)}i.push(new yi(".morphTargetInfluence["+p+"]",m,f))}s=u.length*(o||1)}else{var v=".bones["+t[l].name+"]";n(Ei,v+".position",c,"pos",i),n(gi,v+".quaternion",c,"rot",i),n(Ei,v+".scale",c,"scl",i)}}if(0===i.length)return null;return new Ti(r,s,i)}}),Object.assign(Ti.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(Si.prototype,{load:function(e,t,n,i){var r=this;new On(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,i=new Xa[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new r).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),i}}),Object.assign(ki.prototype,{load:function(e,t,n,i){var r=this;new On(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new ke,n=e.data.index;if(void 0!==n){var i=new rl[n.type](n.array);t.setIndex(new me(i,1))}var r=e.data.attributes;for(var s in r){var o=r[s];i=new rl[o.type](o.array);t.addAttribute(s,new me(i,o.itemSize,o.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(var c=0,u=l.length;c!==u;++c){var h=l[c];t.addGroup(h.start,h.count,h.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var p=new a;void 0!==d.center&&p.fromArray(d.center),t.boundingSphere=new ne(p,d.radius)}return t}});var rl={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};Ai.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],s=t[n+1];if(r.test(e))return s}return null}},Object.assign(Ai.prototype,{crossOrigin:void 0,initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:function(){var e={NoBlending:Ns,NormalBlending:Bs,AdditiveBlending:js,SubtractiveBlending:zs,MultiplyBlending:Us,CustomBlending:Vs},t=new q,n=new Nn,i=new Si;return function(r,s,o){function a(e,t,i,r,a){var c,u=s+e,h=Ai.Handlers.get(u);null!==h?c=h.load(u):(n.setCrossOrigin(o),c=n.load(u)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Mo),1!==t[1]&&(c.wrapT=Mo)),void 0!==i&&c.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(c.wrapS=Mo),"mirror"===r[0]&&(c.wrapS=Lo),"repeat"===r[1]&&(c.wrapT=Mo),"mirror"===r[1]&&(c.wrapT=Lo)),void 0!==a&&(c.anisotropy=a);var d=ka.generateUUID();return l[d]=c,d}var l={},c={uuid:ka.generateUUID(),type:"MeshLambertMaterial"};for(var u in r){var h=r[u];switch(u){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",u,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=a(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=a(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=a(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=a(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=a(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=a(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=a(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=a(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=a(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=a(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Ps;break;case"doubleSided":c.side=Os;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[u]=h;break;case"vertexColors":!0===h&&(c.vertexColors=Is),"face"===h&&(c.vertexColors=Fs);break;default:console.error("THREE.Loader.createMaterial: Unsupported",u,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(l),i.parse(c)}}()});var sl=function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")};Object.assign(Ci.prototype,{load:function(e,t,n,i){var r=this,s=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:sl(e),o=new On(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,function(n){var i=JSON.parse(n),o=i.metadata;if(void 0!==o){var a=o.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var l=r.parse(i,s);t(l.geometry,l.materials)},n,i)},setTexturePath:function(e){this.texturePath=e},parse:function(){return function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var n=new pe;if(function(e,t){function n(e,t){return e&1<<t}var i,s,o,l,c,u,h,d,p,m,f,g,v,y,b,_,x,w,E,T,S,k,A,C,M,R=e.faces,L=e.vertices,P=e.normals,O=e.colors,D=e.scale,F=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&F++;for(i=0;i<F;i++)t.faceVertexUvs[i]=[]}for(l=0,c=L.length;l<c;)(w=new a).x=L[l++]*D,w.y=L[l++]*D,w.z=L[l++]*D,t.vertices.push(w);for(l=0,c=R.length;l<c;)if(m=R[l++],f=n(m,0),g=n(m,1),v=n(m,3),y=n(m,4),b=n(m,5),_=n(m,6),x=n(m,7),f){if(T=new de,T.a=R[l],T.b=R[l+1],T.c=R[l+3],S=new de,S.a=R[l+1],S.b=R[l+2],S.c=R[l+3],l+=4,g&&(p=R[l++],T.materialIndex=p,S.materialIndex=p),o=t.faces.length,v)for(i=0;i<F;i++)for(C=e.uvs[i],t.faceVertexUvs[i][o]=[],t.faceVertexUvs[i][o+1]=[],s=0;s<4;s++)M=new r(C[2*(d=R[l++])],C[2*d+1]),2!==s&&t.faceVertexUvs[i][o].push(M),0!==s&&t.faceVertexUvs[i][o+1].push(M);if(y&&(h=3*R[l++],T.normal.set(P[h++],P[h++],P[h]),S.normal.copy(T.normal)),b)for(i=0;i<4;i++)h=3*R[l++],A=new a(P[h++],P[h++],P[h]),2!==i&&T.vertexNormals.push(A),0!==i&&S.vertexNormals.push(A);if(_&&(k=O[u=R[l++]],T.color.setHex(k),S.color.setHex(k)),x)for(i=0;i<4;i++)k=O[u=R[l++]],2!==i&&T.vertexColors.push(new q(k)),0!==i&&S.vertexColors.push(new q(k));t.faces.push(T),t.faces.push(S)}else{if(E=new de,E.a=R[l++],E.b=R[l++],E.c=R[l++],g&&(p=R[l++],E.materialIndex=p),o=t.faces.length,v)for(i=0;i<F;i++)for(C=e.uvs[i],t.faceVertexUvs[i][o]=[],s=0;s<3;s++)M=new r(C[2*(d=R[l++])],C[2*d+1]),t.faceVertexUvs[i][o].push(M);if(y&&(h=3*R[l++],E.normal.set(P[h++],P[h++],P[h])),b)for(i=0;i<3;i++)h=3*R[l++],A=new a(P[h++],P[h++],P[h]),E.vertexNormals.push(A);if(_&&(u=R[l++],E.color.setHex(O[u])),x)for(i=0;i<3;i++)u=R[l++],E.vertexColors.push(new q(O[u]));t.faces.push(E)}}(e,n),function(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,r=e.skinWeights.length;i<r;i+=n){var s=e.skinWeights[i],o=n>1?e.skinWeights[i+1]:0,a=n>2?e.skinWeights[i+2]:0,l=n>3?e.skinWeights[i+3]:0;t.skinWeights.push(new u(s,o,a,l))}if(e.skinIndices)for(i=0,r=e.skinIndices.length;i<r;i+=n){var c=e.skinIndices[i],h=n>1?e.skinIndices[i+1]:0,d=n>2?e.skinIndices[i+2]:0,p=n>3?e.skinIndices[i+3]:0;t.skinIndices.push(new u(c,h,d,p))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,n),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={},t.morphTargets[i].name=e.morphTargets[i].name,t.morphTargets[i].vertices=[];for(var s=t.morphTargets[i].vertices,o=e.morphTargets[i].vertices,l=0,c=o.length;l<c;l+=3){var u=new a;u.x=o[l]*n,u.y=o[l+1]*n,u.z=o[l+2]*n,s.push(u)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var h=t.faces,d=e.morphColors[0].colors;for(i=0,r=h.length;i<r;i++)h[i].color.fromArray(d,3*i)}}(e,n),function(e,t){var n=[],i=[];void 0!==e.animation&&i.push(e.animation),void 0!==e.animations&&(e.animations.length?i=i.concat(e.animations):i.push(e.animations));for(var r=0;r<i.length;r++){var s=Ti.parseAnimation(i[r],t.bones);s&&n.push(s)}if(t.morphTargets){var o=Ti.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(o)}n.length>0&&(t.animations=n)}(e,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:n};return{geometry:n,materials:Ai.prototype.initMaterials(e.materials,t,this.crossOrigin)}}}()}),Object.assign((function(e){this.manager=void 0!==e?e:Ka,this.texturePath=""}).prototype,{load:function(e,t,n,i){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this;new On(r.manager).load(e,function(n){var s=null;try{s=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=s.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(s,t):console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.")},n,i)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),s=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new ti).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new Ci,r=new ki,s=0,o=e.length;s<o;s++){var a,l=e[s];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new qa[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new qa[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new qa[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new qa[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new qa[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new qa[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new qa[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new qa[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new qa[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new qa[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new qa[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new qa[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":var c=[];for(s=0,o=l.shapes.length;s<o;s++){var u=t[l.shapes[s]];c.push(u)}a=new qa[l.type](c,l.curveSegments);break;case"BufferGeometry":a=r.parse(l);break;case"Geometry":a=i.parse(l,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}a.uuid=l.uuid,void 0!==l.name&&(a.name=l.name),n[l.uuid]=a}return n},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new Si;i.setTextures(t);for(var r=0,s=e.length;r<s;r++){var o=e[r];if("MultiMaterial"===o.type){for(var a=[],l=0;l<o.materials.length;l++)a.push(i.parse(o.materials[l]));n[o.uuid]=a}else n[o.uuid]=i.parse(o)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=Ti.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){function n(e){return i.manager.itemStart(e),s.load(e,function(){i.manager.itemEnd(e)},void 0,function(){i.manager.itemEnd(e),i.manager.itemError(e)})}var i=this,r={};if(void 0!==e&&e.length>0){var s=new Fn(new Pn(t));s.setCrossOrigin(this.crossOrigin);for(var o=0,a=e.length;o<a;o++){var l=e[o],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;r[l.uuid]=n(c)}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,s=e.length;r<s;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var a=new c(t[o.image]);a.needsUpdate=!0,a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,ol)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],al),a.wrapT=n(o.wrap[1],al)),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,ll)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,ll)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),i[o.uuid]=a}return i},parseObject:function(){var e=new s;return function(t,n,i){function r(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];void 0===i[s]&&console.warn("THREE.ObjectLoader: Undefined material",s),t.push(i[s])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}var o;switch(t.type){case"Scene":o=new rt,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new q(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new it(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new nt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Je(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new he(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new ui(t.color,t.intensity);break;case"DirectionalLight":o=new ci(t.color,t.intensity);break;case"PointLight":o=new ai(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new hi(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new oi(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new ii(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(t.geometry),l=s(t.material);o=a.bones&&a.bones.length>0?new ht(a,l):new Ie(a,l);break;case"LOD":o=new lt;break;case"Line":o=new pt(r(t.geometry),s(t.material),t.mode);break;case"LineLoop":o=new ft(r(t.geometry),s(t.material));break;case"LineSegments":o=new mt(r(t.geometry),s(t.material));break;case"PointCloud":case"Points":o=new vt(r(t.geometry),s(t.material));break;case"Sprite":o=new at(s(t.material));break;case"Group":o=new yt;break;default:o=new ce}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var c=t.children,u=0;u<c.length;u++)o.add(this.parseObject(c[u],n,i));if("LOD"===t.type)for(var h=t.levels,d=0;d<h.length;d++){var p=h[d],m=o.getObjectByProperty("uuid",p.object);void 0!==m&&o.addLevel(m,p.distance)}return o}}()});var ol={UVMapping:300,CubeReflectionMapping:wo,CubeRefractionMapping:Eo,EquirectangularReflectionMapping:To,EquirectangularRefractionMapping:So,SphericalReflectionMapping:ko,CubeUVReflectionMapping:Ao,CubeUVRefractionMapping:Co},al={RepeatWrapping:Mo,ClampToEdgeWrapping:Ro,MirroredRepeatWrapping:Lo},ll={NearestFilter:Po,NearestMipMapNearestFilter:Oo,NearestMipMapLinearFilter:Do,LinearFilter:Fo,LinearMipMapNearestFilter:Io,LinearMipMapLinearFilter:No};Mi.prototype={constructor:Mi,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var r=this,s=Ya.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(n){Ya.add(e,n),t&&t(n),r.manager.itemEnd(e)}).catch(function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Ri.prototype,{moveTo:function(e,t){this.currentPath=new ei,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,s){this.currentPath.bezierCurveTo(e,t,n,i,r,s)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],s=new ti;s.curves=r.curves,t.push(s)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,s=0;s<n;r=s++){var o=t[r],a=t[s],l=a.x-o.x,c=a.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[s],l=-l,a=t[r],c=-c),e.y<o.y||e.y>a.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(a.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=a.x)return!0}}return i}var r=$a.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===t)return n(s);var o,a,l,c=[];if(1===s.length)return a=s[0],l=new ti,l.curves=a.curves,c.push(l),c;var u=!r(s[0].getPoints());u=e?!u:u;var h,d=[],p=[],m=[],f=0;p[f]=void 0,m[f]=[];for(var g=0,v=s.length;g<v;g++)o=r(h=(a=s[g]).getPoints()),(o=e?!o:o)?(!u&&p[f]&&f++,p[f]={s:new ti,p:h},p[f].s.curves=a.curves,u&&f++,m[f]=[]):m[f].push({h:a,p:h[0]});if(!p[0])return n(s);if(p.length>1){for(var y=!1,b=[],_=0,x=p.length;_<x;_++)d[_]=[];for(_=0,x=p.length;_<x;_++)for(var w=m[_],E=0;E<w.length;E++){for(var T=w[E],S=!0,k=0;k<p.length;k++)i(T.p,p[k].p)&&(_!==k&&b.push({froms:_,tos:k,hole:E}),S?(S=!1,d[k].push(T)):y=!0);S&&d[_].push(T)}b.length>0&&(y||(m=d))}g=0;for(var A,C=p.length;g<C;g++){l=p[g].s,c.push(l);for(var M=0,R=(A=m[g]).length;M<R;M++)l.holes.push(A[M].h)}return c}}),Object.assign(Li.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);for(var i=this.data,r=function(e){for(var n=String(e).split(""),r=t/i.resolution,s=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,o=0,a=0,l=[],c=0;c<n.length;c++){var u=n[c];if("\n"===u)o=0,a-=s;else{var h=function(e,t,n,r){var s=i.glyphs[e]||i.glyphs["?"];if(s){var o,a,l,c,u,h,d,p,m,f=new Ri,g=[];if(s.o)for(var v=s._cachedOutline||(s._cachedOutline=s.o.split(" ")),y=0,b=v.length;y<b;){var _=v[y++];switch(_){case"m":o=v[y++]*t+n,a=v[y++]*t+r,f.moveTo(o,a);break;case"l":o=v[y++]*t+n,a=v[y++]*t+r,f.lineTo(o,a);break;case"q":l=v[y++]*t+n,c=v[y++]*t+r,u=v[y++]*t+n,h=v[y++]*t+r,f.quadraticCurveTo(u,h,l,c),(m=g[g.length-1])&&(m.x,m.y);break;case"b":l=v[y++]*t+n,c=v[y++]*t+r,u=v[y++]*t+n,h=v[y++]*t+r,d=v[y++]*t+n,p=v[y++]*t+r,f.bezierCurveTo(u,h,d,p,l,c),(m=g[g.length-1])&&(m.x,m.y)}}return{offsetX:s.ha*t,path:f}}}(u,r,o,a);o+=h.offsetX,l.push(h.path)}}return l}(e),s=[],o=0,a=r.length;o<a;o++)Array.prototype.push.apply(s,r[o].toShapes());return s}}),Object.assign((function(e){this.manager=void 0!==e?e:Ka}).prototype,{load:function(e,t,n,i){var r=this,s=new On(this.manager);s.setPath(this.path),s.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new Li(e)},setPath:function(e){return this.path=e,this}});var cl,ul={getContext:function(){return void 0===cl&&(cl=new(window.AudioContext||window.webkitAudioContext)),cl},setContext:function(e){cl=e}};Object.assign(Pi.prototype,{load:function(e,t,n,i){var r=new On(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){ul.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Je,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Je,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}).prototype,{update:function(){var e,t,n,i,r,o,a,l,c=new s,u=new s;return function(s){if(e!==this||t!==s.focus||n!==s.fov||i!==s.aspect*this.aspect||r!==s.near||o!==s.far||a!==s.zoom||l!==this.eyeSep){e=this,t=s.focus,n=s.fov,i=s.aspect*this.aspect,r=s.near,o=s.far,a=s.zoom;var h,d,p=s.projectionMatrix.clone(),m=(l=this.eyeSep/2)*r/t,f=r*Math.tan(ka.DEG2RAD*n*.5)/a;u.elements[12]=-l,c.elements[12]=l,h=-f*i+m,d=f*i+m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(p),h=-f*i-m,d=f*i-m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(s.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(s.matrixWorld).multiply(c)}}()}),(Oi.prototype=Object.create(ce.prototype)).constructor=Oi,Di.prototype=Object.assign(Object.create(ce.prototype),{constructor:Di,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new a,t=new o,n=new a,i=new a;return function(r){ce.prototype.updateMatrixWorld.call(this,r);var s=this.context.listener,o=this.up;this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),s.positionX?(s.positionX.setValueAtTime(e.x,this.context.currentTime),s.positionY.setValueAtTime(e.y,this.context.currentTime),s.positionZ.setValueAtTime(e.z,this.context.currentTime),s.forwardX.setValueAtTime(i.x,this.context.currentTime),s.forwardY.setValueAtTime(i.y,this.context.currentTime),s.forwardZ.setValueAtTime(i.z,this.context.currentTime),s.upX.setValueAtTime(o.x,this.context.currentTime),s.upY.setValueAtTime(o.y,this.context.currentTime),s.upZ.setValueAtTime(o.z,this.context.currentTime)):(s.setPosition(e.x,e.y,e.z),s.setOrientation(i.x,i.y,i.z,o.x,o.y,o.z))}}()}),Fi.prototype=Object.assign(Object.create(ce.prototype),{constructor:Fi,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Ii.prototype=Object.assign(Object.create(Fi.prototype),{constructor:Ii,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new a;return function(t){ce.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Ni.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Bi.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,s=this.cumulativeWeight;if(0===s){for(var o=0;o!==i;++o)n[r+o]=n[o];s=t}else{var a=t/(s+=t);this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=s},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*t;this._mixBufferRegion(n,i,o,1-r,t)}for(var a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5)for(var s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){o.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var s=1-i,o=0;o!==r;++o){var a=t+o;e[a]=e[a]*s+e[n+o]*i}}}),Object.assign(ji.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(zi,{Composite:ji,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new zi.Composite(e,t,n):new zi(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),t=["material","materials","bones"];return function(n){var i=e.exec(n);if(!i)throw new Error("PropertyBinding: Cannot parse trackName: "+n);var r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){var o=r.nodeName.substring(s+1);-1!==t.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return r}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var i=e.bones[n];if(i.name===t)return i}return null}(e.skeleton);if(n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var s=i(r.children);if(s)return s}return null},r=i(e.children);if(r)return r}return null}}),Object.assign(zi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=zi.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var s=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===s){s=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==s){if(void 0===e[s])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[s]}}var a=e[i];if(void 0!==a){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(zi.prototype,{_getValue_unbound:zi.prototype.getValue,_setValue_unbound:zi.prototype.setValue}),Object.assign((function(){this.uuid=ka.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],h=u.uuid,d=i[h],p=void 0;if(void 0===d){d=t++,i[h]=d,e.push(u);for(var m=0,f=a;m!==f;++m)o[m].push(new zi(u,r[m],s[m]))}else if(d<n){p=e[d];var g=--n,v=e[g];i[v.uuid]=d,e[d]=v,i[h]=g,e[g]=u;for(m=0,f=a;m!==f;++m){var y=o[m],b=y[g],_=y[d];y[d]=b,void 0===_&&(_=new zi(u,r[m],s[m])),y[g]=_}}else e[d]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,s=0,o=arguments.length;s!==o;++s){var a=arguments[s],l=a.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,h=e[u];n[h.uuid]=c,e[c]=h,n[l]=u,e[u]=a;for(var d=0,p=r;d!==p;++d){var m=i[d],f=m[u],g=m[c];m[c]=f,m[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,s=r.length,o=0,a=arguments.length;o!==a;++o){var l=arguments[o].uuid,c=i[l];if(void 0!==c)if(delete i[l],c<n){var u=--n,h=e[u],d=e[v=--t];i[h.uuid]=c,e[c]=h,i[d.uuid]=u,e[u]=d,e.pop();for(var p=0,m=s;p!==m;++p){var f=(y=r[p])[u],g=y[v];y[c]=f,y[u]=g,y.pop()}}else{var v;i[(d=e[v=--t]).uuid]=c,e[c]=d,e.pop();for(p=0,m=s;p!==m;++p){var y;(y=r[p])[c]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),o.push(t),r.push(u);for(var h=c,d=a.length;h!==d;++h){var p=a[h];u[h]=new zi(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];t[e[o]]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Ui.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,s=r/i,o=i/r;e.warp(1,s,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,s=this._timeScaleInterpolant,o=this.timeScale;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);var a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var s=(e-r)*n;if(s<0||0===n)return;this._startTime=null,t=n*s}t*=this._updateTimeScale(e);var o=this._updateTime(t),a=this._updateWeight(e);if(a>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var s=2202===i;if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,r+=Math.abs(o);var a=this.repetitions-r;if(a<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===a){var l=e<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(s&&1==(1&r))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:pa:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:pa:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);var o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=t,o[1]=r+e,a[1]=n,this}}),Vi.prototype=Object.assign(Object.create(i.prototype),{constructor:Vi,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,o=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];void 0===c&&(c={},l[a]=c);for(var u=0;u!==r;++u){var h=i[u],d=h.name,p=c[d];if(void 0!==p)s[u]=p;else{if(void 0!==(p=s[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,a,d));continue}var m=t&&t._propertyBindings[u].binding.parsedPath;++(p=new Bi(zi.create(n,d,m),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,a,d),s[u]=p}o[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,s=0,o=r.length;s!==o;++s){var a=r[s];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{var o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],s=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=s.length,s.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[r];e:{for(var c in o)break e;delete s[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new _i(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Ti.findByName(n,e):e,s=null!==r?r.uuid:e,o=this._actionsByClip[s],a=null;if(void 0!==o){var l=o.actionByRoot[i];if(void 0!==l)return l;a=o.knownActions[0],null===r&&(r=a._clip)}if(null===r)return null;var c=new Ui(this,r,t);return this._bindAction(c,a),this._addInactiveAction(c,s,i),c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Ti.findByName(n,e):e,s=r?r.uuid:e,o=this._actionsByClip[s];return void 0!==o?o.actionByRoot[i]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(i,e,r,s)}var a=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)a[o].apply(s);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var s=r.knownActions,o=0,a=s.length;o!==a;++o){var l=s[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var s=this._bindingsByRootAndName[t];if(void 0!==s)for(var o in s){var a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Gi.prototype.clone=function(){return new Gi(void 0===this.value.clone?this.value:this.value.clone())},Hi.prototype=Object.assign(Object.create(ke.prototype),{constructor:Hi,isInstancedBufferGeometry:!0,copy:function(e){return ke.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(Wi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Wi.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty($i.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign($i.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),qi.prototype=Object.assign(Object.create($i.prototype),{constructor:qi,isInstancedInterleavedBuffer:!0,copy:function(e){return $i.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Xi.prototype=Object.assign(Object.create(me.prototype),{constructor:Xi,isInstancedBufferAttribute:!0,copy:function(e){return me.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign((function(e,t,n,i){this.ray=new Oe(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}).prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Ki(e,this,n,t),n.sort(Yi),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=e.length;i<r;i++)Ki(e[i],this,n,t);return n.sort(Yi),n}}),Object.assign((function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}).prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign((function(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}).prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(ka.clamp(e.y/this.radius,-1,1))),this}}),Object.assign((function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}).prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),(Zi.prototype=Object.create(ce.prototype)).constructor=Zi,Zi.prototype.isImmediateRenderObject=!0,(Ji.prototype=Object.create(mt.prototype)).constructor=Ji,Ji.prototype.update=function(){var e=new a,t=new a,n=new l;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,s=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var a=o.vertices,l=o.faces,c=0,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0,m=d.vertexNormals.length;p<m;p++){var f=a[d[i[p]]],g=d.vertexNormals[p];e.copy(f).applyMatrix4(r),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(c,e.x,e.y,e.z),c+=1,s.setXYZ(c,t.x,t.y,t.z),c+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(c=0,p=0,m=v.count;p<m;p++)e.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(c,e.x,e.y,e.z),c+=1,s.setXYZ(c,t.x,t.y,t.z),c+=1}s.needsUpdate=!0}}(),(Qi.prototype=Object.create(ce.prototype)).constructor=Qi,Qi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Qi.prototype.update=function(){var e=new a,t=new a;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),(tr.prototype=Object.create(mt.prototype)).constructor=tr,tr.prototype.updateMatrixWorld=function(){var e=new a,t=new s,n=new s;return function(i){var r=this.bones,s=this.geometry,o=s.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,l=0;a<r.length;a++){var c=r[a];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}s.getAttribute("position").needsUpdate=!0,ce.prototype.updateMatrixWorld.call(this,i)}}(),(nr.prototype=Object.create(Ie.prototype)).constructor=nr,nr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},nr.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},(ir.prototype=Object.create(ce.prototype)).constructor=ir,ir.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ir.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},(rr.prototype=Object.create(ce.prototype)).constructor=rr,rr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},rr.prototype.update=function(){var e=new a,t=new q,n=new q;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var s=0,o=r.count;s<o;s++){var a=s<o/2?t:n;r.setXYZ(s,a.r,a.g,a.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),(sr.prototype=Object.create(mt.prototype)).constructor=sr,(or.prototype=Object.create(mt.prototype)).constructor=or,(ar.prototype=Object.create(mt.prototype)).constructor=ar,ar.prototype.update=function(){var e=new a,t=new a,n=new l;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,s=this.object.geometry,o=s.vertices,a=s.faces,l=0,c=0,u=a.length;c<u;c++){var h=a[c],d=h.normal;e.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(i),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),l+=1,r.setXYZ(l,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),(lr.prototype=Object.create(ce.prototype)).constructor=lr,lr.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},lr.prototype.update=function(){var e=new a,t=new a,n=new a;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),(cr.prototype=Object.create(mt.prototype)).constructor=cr,cr.prototype.update=function(){function e(e,s,o,a){i.set(s,o,a).unproject(r);var l=n[e];if(void 0!==l)for(var c=t.getAttribute("position"),u=0,h=l.length;u<h;u++)c.setXYZ(l[u],i.x,i.y,i.z)}var t,n,i=new a,r=new ue;return function(){t=this.geometry,n=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),(ur.prototype=Object.create(mt.prototype)).constructor=ur,ur.prototype.update=function(){var e=new te;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,i=e.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),ur.prototype.setFromObject=function(e){return this.object=e,this.update(),this},(hr.prototype=Object.create(mt.prototype)).constructor=hr,hr.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ce.prototype.updateMatrixWorld.call(this,e))},(dr.prototype=Object.create(pt.prototype)).constructor=dr,dr.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),ce.prototype.updateMatrixWorld.call(this,e)};var hl,dl;(pr.prototype=Object.create(ce.prototype)).constructor=pr,pr.prototype.setDirection=function(){var e,t=new a;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),pr.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},pr.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},(mr.prototype=Object.create(mt.prototype)).constructor=mr;Bn.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Bn.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Qn.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new pe,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new a(r.x,r.y,r.z||0))}return t}}),Object.assign(ei.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),(function(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Vn.call(this,e),this.type="catmullrom",this.closed=!0}).prototype=Object.create(Vn.prototype),(function(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Vn.call(this,e),this.type="catmullrom"}).prototype=Object.create(Vn.prototype),fr.prototype=Object.create(Vn.prototype),Object.assign(fr.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),sr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},tr.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ai.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),sl(e)}}),Object.assign(X.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),De.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(ka,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ka.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ka.ceilPowerOfTwo(e)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(s.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new a),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}}),ie.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},o.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Oe.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ti.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new nn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new pn(this,e)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(a.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(u.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),pe.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ce.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(ce.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(lt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ct.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Bn.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Je.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ni.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(me.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(ke.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ke.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Gi.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new q}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(An.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Pe.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(tt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(tt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(se.prototype,{cullFace:{get:function(){return this.renderReverseSided?As:ks},set:function(e){var t=e!==ks;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.assign(et.prototype,{getStandingMatrix:function(){console.warn("THREE.WebVRManager: .getStandingMatrix() has been removed.")}}),Object.defineProperties(et.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Fi.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Pi).load(e,function(e){t.setBuffer(e)}),this},Ni.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Oi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var pl={triangulate:function(e,t,n){n=n||2;var i=t&&t.length,r=i?t[0]*n:e.length,s=gr(e,0,r,n,!0),o=[];if(!s)return o;var a,l,c,u,h,d,p;if(i&&(s=br(e,t,s,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(var m=n;m<r;m+=n)h=e[m],d=e[m+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=0!==(p=Math.max(c-a,u-l))?1/p:0}return yr(s,o,n,a,l,p),o}};class ml extends ws{getObjType(){return 4}getOrigin(){return new Tl(this._kernel,this._kernel.objGetOnePoint(this._id))}getVectors(){return this._kernel.objGetParams(this._id).slice(2,4)}setVectors(e,t){this._kernel.objGetParams(this._id)[1]=e,this._kernel.objGetParams(this._id)[2]=t,this._kernel.objGetParams(this._id)[3]=Fr(e,t,!0)}getAngles(){return this._kernel.objGetParams(this._id)[4]}setAngles(e){this._kernel.objGetParams(this._id)[4]=e}getRadii(){return[Ir(this._kernel.objGetParams(this._id)[1]),Ir(this._kernel.objGetParams(this._id)[2])]}isClosed(){return void 0===this._kernel.objGetParams(this._id)[4]}}class fl extends ws{getObjType(){return 200}}class gl extends ws{getObjType(){return 2}getOrigin(){return new Tl(this._kernel,this._kernel.objGetOnePoint(this._id))}getVectors(){return this._kernel.objGetParams(this._id).slice(1,3)}getCartesians(){const e=this._kernel.objGetOnePoint(this._id),t=this._kernel.pointGetPosition(e),n=this._kernel.objGetParams(this._id)[3],i=-(t[0]*n[0]+t[1]*n[1]+t[2]*n[2]);return[n[0],n[1],n[2],i]}}class vl extends ws{getObjType(){return 1}getOrigin(){return new Tl(this._kernel,this._kernel.objGetOnePoint(this._id))}getVector(){return this._kernel.objGetParams(this._id)[1]}}class yl{constructor(e,t){this._kernel=e,this._name=t}exists(){return void 0===this._kernel.modelGetGroup(this._name)}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}getName(){return this._name}setName(e){const t=this._name;return this._kernel.groupSetName(t,e),this._name=e,t}getParentGroup(){const e=this._kernel.groupGetParent(this._name);return new yl(this._kernel,e)}setParentGroup(e){const t=this._kernel.groupSetParent(this._name,e.getName());return new yl(this._kernel,t)}removeParentGroup(){const e=this._kernel.groupSetParent(this._name,null);return new yl(this._kernel,e)}getChildGroups(){return this._kernel.groupGetChildren(this._name).map(e=>new yl(this._kernel,e))}getObjs(e){return this._kernel.groupGetObjIDs(this._name,e).map(e=>jr(this._kernel,e))}addObj(e){return this._kernel.groupAddObj(this._name,e.getID())}addObjs(e){return this._kernel.groupAddObjs(this._name,e.map(e=>e.getID()))}removeObj(e){return this._kernel.groupRemoveObj(this._name,e.getID())}removeObjs(e){return this._kernel.groupRemoveObjs(this._name,e.map(e=>e.getID()))}hasObj(e){return this._kernel.groupHasObj(this._name,e.getID())}getTopos(e){const t=this._kernel.groupGetTopos(this._name,e),n=[];for(const i of t){const e=gs.get(i.tt);switch(vs.get(i.st)){case cs.vertices:n.push(new _l(this._kernel,i));break;case cs.edges:n.push(new xl(this._kernel,i));break;default:switch(e){case cs.wires:n.push(new wl(this._kernel,i));break;case cs.faces:n.push(new El(this._kernel,i))}}}return n}addTopo(e){const t=e.getTopoPath();return this._kernel.groupAddTopo(this._name,t)}addTopos(e){const t=e.map(e=>e.getTopoPath());return this._kernel.groupAddTopos(this._name,t)}removeTopo(e){const t=e.getTopoPath();return this._kernel.groupRemoveTopo(this._name,t)}removeTopos(e){const t=e.map(e=>e.getTopoPath());return this._kernel.groupRemoveTopos(this._name,t)}hasTopo(e){const t=e.getTopoPath();return this._kernel.groupHasTopo(this._name,t)}getPoints(){return this._kernel.groupGetPointIDs(this._name).map(e=>new Tl(this._kernel,e))}addPoint(e){return this._kernel.groupAddPoint(this._name,e.getID())}addPoints(e){return this._kernel.groupAddPoints(this._name,e.map(e=>e.getID()))}removePoint(e){return this._kernel.groupRemovePoint(this._name,e.getID())}removePoints(e){return this._kernel.groupRemovePoints(this._name,e.map(e=>e.getID()))}hasPoint(e){return this._kernel.groupHasPoint(this._name,e.getID())}getProps(){return this._kernel.groupGetProps(this._name)}setProps(e){return this._kernel.groupSetProps(this._name,e)}}class bl{constructor(e,t){this._kernel=e,this._path=t}exists(){return this._kernel.geomHasTopo(this._path)}getModel(){return this._kernel.getModel()}getGeom(){return this._kernel.getGeom()}getObjID(){return this._path.id}getObj(){return jr(this._kernel,this._path.id)}getGeomType(){throw new Error("Method to be overridden by subclass.")}getTopoPath(){return this._path}getTopoPathStr(){throw new Error("Method to be overridden by subclass.")}getLabel(){return this.getTopoPathStr()}getLabelCentroid(){throw new Error("Method to be overridden by subclass.")}getAttribs(){const e=this.getGeomType();return this._kernel.attribGetNames(this.getGeomType()).map(t=>new _s(this._kernel,t,e))}getAttribValue(e){return e.getGeomType()!==this.getGeomType()?null:this._kernel.topoAttribGetValue(e.getName(),e.getGeomType(),this._path)}setAttribValue(e,t){return e.getGeomType()!==this.getGeomType()?null:this._kernel.topoAttribSetValue(e.getName(),e.getGeomType(),this._path,t)}getGroups(){return this._kernel.topoGetGroups(this._path).map(e=>new yl(this._kernel,e))}addToGroup(e){throw new Error("Method not implemented")}}class _l extends bl{getGeomType(){return cs.vertices}getTopoPathStr(){const e=["w","f"][this._path.tt];return"o"+this.getObjID()+":"+e+this._path.ti+":v"+this._path.si}getLabelCentroid(){return this.getPoint().getPosition()}getPoint(){const e=this._kernel.vertexGetPoint(this._path);return new Tl(this._kernel,e)}getEdge(){const e=this._kernel.vertexGetEdge(this._path);return new xl(this._kernel,e)}getWireOrFace(){const e=this._kernel.vertexGetTopo(this._path);return 0===e.tt?new wl(this._kernel,e):new El(this._kernel,e)}next(){const e=this._kernel.vertexNext(this._path);return null===e?null:new _l(this._kernel,e)}previous(){const e=this._kernel.vertexPrevious(this._path);return null===e?null:new _l(this._kernel,e)}verticesSharedPoint(){const e=this._kernel.geomFindVerticesSharedPoint(this._path);return[e[0].map(e=>new _l(this._kernel,e)),e[1].map(e=>new _l(this._kernel,e))]}verticesSamePosition(){const e=this._kernel.geomFindVerticesSamePosition(this._path);return[e[0].map(e=>new _l(this._kernel,e)),e[1].map(e=>new _l(this._kernel,e))]}}class xl extends bl{getGeomType(){return cs.edges}getTopoPathStr(){const e=["w","f"][this._path.tt];return"o"+this.getObjID()+":"+e+this._path.ti+":e"+this._path.si}getLabelCentroid(){const e=this.getVertices().map(e=>e.getPoint().getPosition());let t=[0,0,0];for(const n of e)t[0]+=n[0],t[1]+=n[1],t[2]+=n[2];return[t[0]/2,t[1]/2,t[2]/2]}getVertices(){return this._kernel.edgeGetVertices(this._path).map(e=>new _l(this._kernel,e))}getWireOrFace(){const e=this._kernel.edgeGetTopo(this._path);return 0===e.tt?new wl(this._kernel,e):new El(this._kernel,e)}next(){const e=this._kernel.edgeNext(this._path);return null===e?null:new xl(this._kernel,e)}previous(){const e=this._kernel.edgePrevious(this._path);return null===e?null:new xl(this._kernel,e)}edgesSharedPoints(){const e=this._kernel.geomFindEdgesSharedPoints(this._path);return[e[0].map(e=>new xl(this._kernel,e)),e[1].map(e=>new xl(this._kernel,e))]}}class wl extends bl{getGeomType(){return cs.wires}getTopoPathStr(){return"o"+this.getObjID()+":w"+this._path.ti}getLabelCentroid(){const e=this.getVertices().map(e=>e.getPoint().getPosition());let t=[0,0,0];for(const i of e)t[0]+=i[0],t[1]+=i[1],t[2]+=i[2];const n=e.length;return[t[0]/n,t[1]/n,t[2]/n]}getVertices(){return this._kernel.topoGetVertices(this._path).map(e=>new _l(this._kernel,e))}getEdges(){return this._kernel.topoGetEdges(this._path).map(e=>new xl(this._kernel,e))}numVertices(){return this._kernel.topoNumVertices(this._path)}numEdges(){return this._kernel.topoNumEdges(this._path)}isClosed(){return this._kernel.topoIsClosed(this._path)}wiresSharedPoints(e){return this._kernel.geomFindTopoSharedPoints(this._path).map(e=>new wl(this._kernel,e))}}class El extends bl{getGeomType(){return cs.faces}getTopoPathStr(){return"o"+this.getObjID()+":f"+this._path.ti}getLabelCentroid(){const e=this.getVertices().map(e=>e.getPoint().getPosition());let t=[0,0,0];for(const i of e)t[0]+=i[0],t[1]+=i[1],t[2]+=i[2];const n=e.length;return[t[0]/n,t[1]/n,t[2]/n]}getVertices(){return this._kernel.topoGetVertices(this._path).map(e=>new _l(this._kernel,e))}getEdges(){return this._kernel.topoGetEdges(this._path).map(e=>new xl(this._kernel,e))}numVertices(){return this._kernel.topoNumVertices(this._path)}numEdges(){return this._kernel.topoNumEdges(this._path)}isClosed(){return!0}facesSharedPoints(e){return this._kernel.geomFindTopoSharedPoints(this._path).map(e=>new El(this._kernel,e))}}class Tl extends xs{exists(){return this._kernel.geomHasPoint(this._id)}getGeomType(){return cs.points}setPosition(e){return this._kernel.pointSetPosition(this._id,e)}getPosition(){return this._kernel.pointGetPosition(this._id)}getVertices(){return this._kernel.pointGetVertices(this._id).map(e=>new _l(this._kernel,e))}getLabel(){return"p"+this._id}getLabelCentroid(){return this.getPosition()}getGroups(){return this._kernel.pointGetGroups(this._id).map(e=>new yl(this._kernel,e))}addToGroup(e){return this._kernel.groupAddPoint(e,this._id)}xform(e){return this._kernel.pointXform(this._id,e)}}class Sl extends ws{getObjType(){return 3}getOrigin(){return new Tl(this._kernel,this._kernel.objGetOnePoint(this._id))}getVectors(){return[this._kernel.objGetParams(this._id)[1],this._kernel.objGetParams(this._id)[2]]}setVectors(e,t){this._kernel.objGetParams(this._id)[1]=e,this._kernel.objGetParams(this._id)[2]=t,this._kernel.objGetParams(this._id)[3]=Fr(e,t,!0)}getAngles(){return this._kernel.objGetParams(this._id)[4]}setAngles(e){this._kernel.objGetParams(this._id)[4]=e}getRadius(){return Ir(this._kernel.objGetParams(this._id)[1])}isClosed(){return this._kernel.objGetParams(this._id)[4][1]-this._kernel.objGetParams(this._id)[4][0]==360}}class kl extends ws{getObjType(){return 120}isClosed(){return this.getWires()[0].isClosed()}}class Al{constructor(e){this._kernel=e}addPoint(e){const t=this._kernel.geomAddPoint(e);return new Tl(this._kernel,t)}addPoints(e){return e.map(e=>this.addPoint(e))}addPolyline(e,t){const n=e.map(e=>e.getID()),i=this._kernel.geomAddPolyline(n,t);return new Es(this._kernel,i)}addCircle(e,t,n,i){if(i[1]-i[0]<0)throw new Error("Increasing order for angles required: ["+[i[1],i[0]]+"] as opposed to ["+[i[0],i[1]]+"]");const r=this._kernel.geomAddEllipse(e.getID(),t,n,i);return new Sl(this._kernel,r)}addEllipse(e,t,n,i){const r=this._kernel.geomAddEllipse(e.getID(),t,n,i);return new ml(this._kernel,r)}addNurbsCurve(e,t,n){const i=e.map(e=>e.getID()),r=this._kernel.geomAddNurbsCurve(i,t,n);return new kl(this._kernel,r)}addPolymesh(e){const t=e.map(e=>e.map(e=>e.getID())),n=this._kernel.geomAddPolymesh(t);return new fl(this._kernel,n)}addRay(e,t){const n=this._kernel.geomAddRay(e.getID(),t);return new vl(this._kernel,n)}addPlane(e,t,n){const i=this._kernel.geomAddPlane(e.getID(),t,n);return new gl(this._kernel,i)}getAllPoints(){return this._kernel.geomGetPointIDs().map(e=>new Tl(this._kernel,e))}getPoints(e){return e.map(e=>new Tl(this._kernel,e))}getPoint(e){return new Tl(this._kernel,e)}delPoints(e){return this._kernel.geomDelPoints(e.map(e=>e.getID()))}delPoint(e){return this._kernel.geomDelPoint(e.getID())}numPoints(){return this._kernel.geomNumPoints()}findObjs(e){throw new Error("Method not implemented")}getAllObjs(){return this._kernel.geomGetObjIDs().map(e=>jr(this._kernel,e))}getObjs(e){return e.map(e=>jr(this._kernel,e))}getObj(e){return jr(this._kernel,e)}delObjs(e,t=!0){return this._kernel.geomDelObjs(e.map(e=>e.getID()),t)}delObj(e,t=!0){return this._kernel.geomDelObj(e.getID(),t)}numObjs(){return this._kernel.geomNumObjs()}getTopos(e){const t=this._kernel.geomGetTopoPaths(e);switch(e){case cs.vertices:return t.map(e=>new _l(this._kernel,e));case cs.edges:return t.map(e=>new xl(this._kernel,e));case cs.wires:return t.map(e=>new wl(this._kernel,e));case cs.faces:return t.map(e=>new El(this._kernel,e))}}getTopo(e){if(!this._kernel.geomHasTopo(e))return null;if(void 0===e.st){if(0===e.tt)return new wl(this._kernel,e);if(1===e.tt)return new El(this._kernel,e)}else{if(0===e.st)return new _l(this._kernel,e);if(1===e.st)return new xl(this._kernel,e)}}getTopoFromLabel(e){const t=e.split(":").map(e=>[e.slice(0,1),Number.parseInt(e.slice(1))]);if(2!==t.length&&3!==t.length)return null;if("o"!==t[0][0])return null;if("w"!==t[1][0]&&"f"!==t[1][0])return null;if(Number.isNaN(t[0][1]))return null;if(Number.isNaN(t[1][1]))return null;let n;const i={id:t[0][1],tt:n="w"===t[1][0]?0:1,ti:t[1][1]};if(3===t.length){if("v"!==t[2][0]&&"e"!==t[2][0])return null;if(Number.isNaN(t[2][1]))return null;let e;e="v"===t[2][0]?0:1;const n=t[2][1];i.st=e,i.si=n}return this.getTopo(i)}numTopos(e){return this._kernel.geomNumTopos(e)}}class Cl{constructor(e){void 0!==e?this.fromArray(e):(this._faces=new Ml,this._wires=new Ml,this._face_edges=new Rl,this._face_vertices=new Rl,this._wire_edges=new Rl,this._wire_vertices=new Rl)}hasTopo(e){const t=gs.get(e.tt),n=vs.get(e.st);switch(t){case cs.wires:return n===cs.vertices?this._wire_vertices.has(e.id,e.ti,e.si):n===cs.edges?this._wire_edges.has(e.id,e.ti,e.si):this._wires.has(e.id,e.ti);case cs.faces:return n===cs.vertices?this._face_vertices.has(e.id,e.ti,e.si):n===cs.edges?this._face_edges.has(e.id,e.ti,e.si):this._faces.has(e.id,e.ti)}}addTopo(e){const t=gs.get(e.tt),n=vs.get(e.st);switch(t){case cs.wires:return n===cs.vertices?this._wire_vertices.add(e.id,e.ti,e.si):n===cs.edges?this._wire_edges.add(e.id,e.ti,e.si):this._wires.add(e.id,e.ti);case cs.faces:return n===cs.vertices?this._face_vertices.add(e.id,e.ti,e.si):n===cs.edges?this._face_edges.add(e.id,e.ti,e.si):this._faces.add(e.id,e.ti)}}removeTopo(e){const t=gs.get(e.tt),n=vs.get(e.st);switch(t){case cs.wires:return n===cs.vertices?this._wire_vertices.remove(e.id,e.ti,e.si):n===cs.edges?this._wire_edges.remove(e.id,e.ti,e.si):this._wires.remove(e.id,e.ti);case cs.faces:return n===cs.vertices?this._face_vertices.remove(e.id,e.ti,e.si):n===cs.edges?this._face_edges.remove(e.id,e.ti,e.si):this._faces.remove(e.id,e.ti)}}removeObj(e){let t=!1;return this._faces.remove(e)&&(t=!0),this._wires.remove(e)&&(t=!0),this._face_edges.remove(e)&&(t=!0),this._face_vertices.remove(e)&&(t=!0),this._wire_edges.remove(e)&&(t=!0),this._wire_vertices.remove(e)&&(t=!0),t}getTopos(e){let t=[];return e&&e!==cs.faces||(t=[...t,...this._faces.flatten().map(e=>Object({id:e[0],tt:1,ti:e[1]}))]),e&&e!==cs.wires||(t=[...t,...this._wires.flatten().map(e=>Object({id:e[0],tt:0,ti:e[1]}))]),e&&e!==cs.edges||(t=[...t,...this._face_edges.flatten().map(e=>Object({id:e[0],tt:1,ti:e[1],st:1,si:e[2]})),...this._wire_edges.flatten().map(e=>Object({id:e[0],tt:0,ti:e[1],st:1,si:e[2]}))]),e&&e!==cs.vertices||(t=[...t,...this._face_vertices.flatten().map(e=>Object({id:e[0],tt:1,ti:e[1],st:0,si:e[2]})),...this._wire_vertices.flatten().map(e=>Object({id:e[0],tt:0,ti:e[1],st:0,si:e[2]}))]),t}toArray(){return[this._faces.toArray(),this._wires.toArray(),this._face_edges.toArray(),this._face_vertices.toArray(),this._wire_edges.toArray(),this._wire_vertices.toArray()]}fromArray(e){if(void 0===e)throw new Error("Data array is undefined.");if(6!==e.length)throw new Error("Data array is invalid length.");this._faces=new Ml(e[0]),this._wires=new Ml(e[1]),this._face_edges=new Rl(e[2]),this._face_vertices=new Rl(e[3]),this._wire_edges=new Rl(e[4]),this._wire_vertices=new Rl(e[5])}}class Ml{constructor(e){void 0!==e?this.fromArray(e):this._tree=new Map}has(e,t){return!!this._tree.has(e)&&!!this._tree.get(e).has(t)}add(e,t){return!this.has(e,t)&&(this._tree.has(e)||this._tree.set(e,new Set),this._tree.get(e).add(t),!0)}remove(e,t){return!!this._tree.has(e)&&(void 0===t?this._tree.delete(e):this._tree.get(e).delete(t))}flatten(){const e=[];return this._tree.forEach((t,n)=>t.forEach(t=>e.push([n,t]))),e}toArray(){const e=[];return this._tree.forEach((t,n)=>e.push([n,t])),e}fromArray(e){this._tree=new Map,e.forEach((e,t)=>this._tree.set(e[0],new Set(e[1])))}}class Rl{constructor(e){void 0!==e?this.fromArray(e):this._tree=new Map}has(e,t,n){return!!this._tree.has(e)&&this._tree.get(e).has(t,n)}add(e,t,n){return!this.has(e,t,n)&&(this._tree.has(e)||this._tree.set(e,new Ml),this._tree.get(e).add(t,n),!0)}remove(e,t,n){return!!this._tree.has(e)&&(void 0===t?this._tree.delete(e):this._tree.get(e).remove(t,n))}flatten(){const e=[];return this._tree.forEach((t,n)=>t.flatten().forEach(t=>e.push([n,...t]))),e}toArray(){const e=[];return this._tree.forEach((t,n)=>e.push([n,t.toArray()])),e}fromArray(e){this._tree=new Map,e.forEach(e=>this._tree.set(e[0],new Ml(e[1])))}}class Ll{constructor(e,t){if(this._model=e,this._geom=new Al(this),this._attribs=new Map,this._attribs.set(cs.points,new Map),this._attribs.set(cs.objs,new Map),this._attribs.set(cs.vertices,new Map),this._attribs.set(cs.edges,new Map),this._attribs.set(cs.wires,new Map),this._attribs.set(cs.faces,new Map),this._groups=new Map,this._topos_trees=new Map,t&&void 0!==t.metadata?this._metadata=t.metadata:this._metadata={filetype:"gs-json",version:"0.1.8",uuid:zr()},t&&void 0!==t.geom&&void 0!==t.geom.points?this._points=t.geom.points:this._points=[[],[null]],t&&void 0!==t.geom&&void 0!==t.geom.objs?this._objs=t.geom.objs:this._objs=[],t&&t.attribs&&void 0!==t.attribs.points)for(const n of t.attribs.points)this._attribs.get(cs.points).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.objs)for(const n of t.attribs.objs)this._attribs.get(cs.objs).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.vertices)for(const n of t.attribs.vertices)this._attribs.get(cs.vertices).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.edges)for(const n of t.attribs.edges)this._attribs.get(cs.edges).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.wires)for(const n of t.attribs.wires)this._attribs.get(cs.wires).set(n.name,n);if(t&&t.attribs&&void 0!==t.attribs.faces)for(const n of t.attribs.faces)this._attribs.get(cs.faces).set(n.name,n);if(t&&t.attribs&&void 0!==t.groups)for(const n of t.groups)void 0===n.parent&&(n.parent=null),void 0===n.objs&&(n.objs=[]),void 0===n.points&&(n.points=[]),this._topos_trees.set(n.name,new Cl(n.topos)),n.topos=[],this._groups.set(n.name,n)}getModel(){return this._model}getGeom(){return this._geom}modelFindAttribs(e){switch(e){case cs.points:case cs.objs:case cs.faces:case cs.wires:case cs.edges:case cs.vertices:return Array.from(this._attribs.get(e).values())}}modelGetAllAttribs(){return[...this.modelFindAttribs(cs.points),...this.modelFindAttribs(cs.vertices),...this.modelFindAttribs(cs.edges),...this.modelFindAttribs(cs.wires),...this.modelFindAttribs(cs.faces),...this.modelFindAttribs(cs.objs)]}modelGetAllEntAttribs(){return[...this.modelFindAttribs(cs.points),...this.modelFindAttribs(cs.objs)]}modelGetAllTopoAttribs(){return[...this.modelFindAttribs(cs.vertices),...this.modelFindAttribs(cs.edges),...this.modelFindAttribs(cs.wires),...this.modelFindAttribs(cs.faces)]}modelGetAttrib(e,t){return this._attribs.get(t).get(e)}modelAddAttrib(e,t,n){if(this.modelHasAttrib(e,t))return this.modelGetAttrib(e,t);const i={data_type:ms.get(n),geom_type:ds.get(t),name:e,values:[[],[null]]};return this._attribs.get(t).set(e,i),this._newAttribAddObjsAndPoints(e,t),this._attribs.get(t).get(e)}modelDelAttrib(e,t){return this._attribs.get(t).delete(e)}modelHasAttrib(e,t){return this._attribs.get(t).has(e)}modelGetAllGroups(){return Array.from(this._groups.values())}modelGetGroup(e){return this._groups.get(e)}modelAddGroup(e,t){if(this.modelHasGroup(e))return this.modelGetGroup(e);const n={name:e,parent:null,objs:[],points:[]};if(void 0!==t){if(!this._groups.has(t))throw new Error("Parent group does not exist.");n.parent=t}return this._groups.set(e,n),this._topos_trees.set(e,new Cl),n}modelDelGroup(e){const t=this._groups.delete(e),n=this._topos_trees.delete(e);return t&&n}modelHasGroup(e){return this._groups.has(e)}modelPurge(){this._purgeDelUnusedPoints(),this._purgeDelUnusedPointValues(),this._purgeDelSparsePoints(),this._purgeDelSparseObjs()}modelValidate(){throw new Error("Method not implemented.")}modelToJSON(){const e={metadata:this._metadata,geom:{points:this._points,objs:this._objs}};return void 0!==this._attribs&&(e.attribs={},void 0!==this._attribs.get(cs.points)&&(e.attribs.points=Array.from(this._attribs.get(cs.points).values())),void 0!==this._attribs.get(cs.vertices)&&(e.attribs.vertices=Array.from(this._attribs.get(cs.vertices).values())),void 0!==this._attribs.get(cs.edges)&&(e.attribs.edges=Array.from(this._attribs.get(cs.edges).values())),void 0!==this._attribs.get(cs.wires)&&(e.attribs.wires=Array.from(this._attribs.get(cs.wires).values())),void 0!==this._attribs.get(cs.faces)&&(e.attribs.faces=Array.from(this._attribs.get(cs.faces).values())),void 0!==this._attribs.get(cs.objs)&&(e.attribs.objs=Array.from(this._attribs.get(cs.objs).values()))),JSON.stringify(e,null,4)}geomHasPoint(e){return void 0===this._points[0][e]}geomAddPoint(e){const t=this._points[0].length;return this._points[0].push(0),this.pointSetPosition(t,e),this._newPointAddToAttribs(t),t}geomAddPoints(e){return e.map(e=>this.geomAddPoint(e))}geomDelPoint(e){return void 0!==this._points[0][e]&&(delete this._points[0][e],this._updateObjsForDelPoint(e),this._updateAttribsForDelPoint(e),this._updateGroupsForDelPoint(e),!0)}geomDelPoints(e){let t=!0;for(const n of e)this.geomDelPoint(n)||(t=!1);return t}geomNumPoints(){return this._points[0].filter(e=>void 0!==e).length}geomGetPointIDs(){const e=[];return this._points[0].forEach((t,n)=>void 0!==t&&e.push(n)),e}geomAddRay(e,t){const n=this._objs.length;return this._objs.push([[[e]],[],[1,t]]),this._newObjAddToAttribs(n),n}geomAddPlane(e,t,n){const i=new a(...t).normalize(),r=new a(...n).normalize(),s=new a;s.crossVectors(i,r);const o=this._objs.length;return this._objs.push([[[e]],[],[2,i.toArray(),r.toArray(),s.toArray()]]),this._newObjAddToAttribs(o),o}geomAddPolyline(e,t){if(e.length<2)throw new Error("Too few points for creating a polyline.");const n=this._objs.length;return t&&e.push(-1),this._objs.push([[e],[],[100]]),this._newObjAddToAttribs(n),n}geomAddEllipse(e,t,n,i){const r=this._objs.length;return this._objs.push([[[e]],[],[4,t,n,Fr(t,n),i]]),this._newObjAddToAttribs(r),r}geomAddNurbsCurve(e,t,n){if(e.length<n)throw new Error("Too few points for creating a NURBS curve.");const i=this._objs.length;return t&&e.push(-1),this._objs.push([[e],[],[120,n]]),this._newObjAddToAttribs(i),i}geomAddPolymesh(e){for(const i of e)if(i.length<3)throw new Error("Too few points for creating a face.");const t=this._objs.length,n=this._findPolymeshWires(e);return e.forEach(e=>e.push(-1)),n.forEach(e=>e.push(-1)),this._objs.push([n,e,[200]]),this._newObjAddToAttribs(t),t}geomHasObj(e){return void 0!==this._objs[e]}geomDelObj(e,t=!0){if(void 0===this._objs[e])return!1;const n=this._objs[e];if(delete this._objs[e],this._updateAttribsForDelObj(e),this._updateGroupsForDelObj(e),!t){const e=new Set;n[0].forEach((t,n)=>t.forEach((t,n)=>this.pointIsUnused(t)&&e.add(t))),n[1].forEach((t,n)=>t.forEach((t,n)=>this.pointIsUnused(t)&&e.add(t))),this.geomDelPoints(Array.from(e))}return!0}geomDelObjs(e,t=!0){let n=!0;for(const i of e)this.geomDelObj(i,t)||(n=!1);return n}geomNumObjs(){return this._objs.filter(e=>void 0!==e).length}geomGetObjIDs(){const e=[];return this._objs.forEach((t,n)=>void 0!==t&&e.push(n)),e}geomHasTopo(e){return void 0!==this._objs[e.id]&&(void 0!==this._objs[e.id][e.tt][e.ti]&&(void 0===e.st||void 0!==this._objs[e.id][e.tt][e.ti][e.si]))}geomGetTopoPaths(e){const t=this._objsDense();switch(e){case cs.vertices:return this._getVEPathsFromObjsData(t,0);case cs.edges:return this._getVEPathsFromObjsData(t,1);case cs.wires:return this._getWFPathsFromObjsData(t,0);case cs.faces:return this._getWFPathsFromObjsData(t,1)}}geomNumTopos(e){switch(e){case cs.vertices:return this._objs.map(e=>[...e[0].map(e=>e.filter(e=>-1!==e).length),...e[1].map(e=>e.filter(e=>-1!==e).length)].reduce((e,t)=>e+t)).reduce((e,t)=>e+t);case cs.edges:return this._objs.map(e=>[...e[0].map(e=>e.length-1),...e[1].map(e=>e.length-1)].reduce((e,t)=>e+t)).reduce((e,t)=>e+t);case cs.wires:return this._objs.map(e=>e[0].length).reduce((e,t)=>e+t);case cs.faces:return this._objs.map(e=>e[1].length).reduce((e,t)=>e+t)}}geomFindVerticesSharedPoint(e){const t=this.vertexGetPoint(e),n=[];this._objs[e.id][0].forEach((i,r)=>i.forEach((i,s)=>i===t&&!(r===e.ti&&s===e.si)&&n.push({id:e.id,tt:0,ti:r,st:e.st,si:s})));const i=[];return this._objs[e.id][1].forEach((n,r)=>n.forEach((n,s)=>n===t&&!(r===e.ti&&s===e.si)&&i.push({id:e.id,tt:1,ti:r,st:e.st,si:s}))),[n,i]}geomFindEdgesSharedPoints(e){const t=this.vertexGetPoint(e),n=(this._objs[e.id][e.tt][e.ti],this.topoNumEdges({id:e.id,tt:e.tt,ti:e.ti}));let i=e.si+1;i>n-1&&(i=0);const r=[t,this.vertexGetPoint({id:e.id,tt:e.tt,ti:e.ti,st:e.st,si:i})].sort(),s=[];this._objs[e.id][0].forEach((t,n)=>t.forEach((i,o)=>ls.equal([i,t[o+1]].sort(),r)&&n!==e.ti&&s.push({id:e.id,tt:0,ti:n,st:1,si:o})));const o=[];return this._objs[e.id][1].forEach((t,n)=>t.forEach((i,s)=>ls.equal([i,t[s+1]].sort(),r)&&n!==e.ti&&o.push({id:e.id,tt:1,ti:n,st:1,si:s}))),[s,o]}geomFindTopoSharedPoints(e){throw new Error("Method not implemented.")}geomFindVerticesSamePosition(e){const t=this.vertexGetPoint(e),n=[];this._objs[e.id][0].forEach((i,r)=>i.forEach((i,s)=>this._points[0][i]===this._points[0][t]&&!(r===e.ti&&s===e.si)&&n.push({id:e.id,tt:0,ti:r,st:e.st,si:s})));const i=[];return this._objs[e.id][1].forEach((n,r)=>n.forEach((n,s)=>this._points[0][n]===this._points[0][t]&&!(r===e.ti&&s===e.si)&&i.push({id:e.id,tt:1,ti:r,st:e.st,si:s}))),[n,i]}objGetType(e){return this._objs[e][2][0]}objGetOnePoint(e){return void 0!==this._objs[e][0][0]?this._objs[e][0][0][0]:void 0!==this._objs[e][1][0]?this._objs[e][1][0][0]:null}objGetPointIDs(e,t){let n=[];void 0!==t&&t!==cs.wires||(n=this._objs[e][0].map(e=>e.filter(e=>-1!==e)));let i=[];return void 0!==t&&t!==cs.faces||(i=this._objs[e][1].map(e=>e.filter(e=>-1!==e))),[n,i]}objGetAllPointIDs(e){const t=new Set;return this._objs[e][0].forEach(e=>e.forEach(e=>-1!==e&&t.add(e))),this._objs[e][1].forEach(e=>e.forEach(e=>-1!==e&&t.add(e))),Array.from(t)}objGetVertices(e,t){const n=[];if(void 0===t||t===cs.wires)for(let i=0;i<this._objs[e][0].length;i++){const t=this._objs[e][0][i],r=[];for(let n=0;n<t.length;n++)-1!==t[n]&&r.push({id:e,tt:0,ti:i,st:0,si:n});n.push(r)}if(void 0===t||t===cs.faces)for(let i=0;i<this._objs[e][1].length;i++){const t=this._objs[e][1][i],r=[];for(let n=0;n<t.length;n++)-1!==t[n]&&r.push({id:e,tt:1,ti:i,st:0,si:n});n.push(r)}return[n,[]]}objGetEdges(e,t){const n=[];if(void 0===t||t===cs.wires)for(let r=0;r<this._objs[e][0].length;r++){const t=this._objs[e][0][r],i=[];for(let n=0;n<t.length-1;n++)i.push({id:e,tt:0,ti:r,st:1,si:n});n.push(i)}const i=[];if(void 0===t||t===cs.faces)for(let r=0;r<this._objs[e][1].length;r++){const t=this._objs[e][1][r],n=[];for(let i=0;i<t.length-1;i++)n.push({id:e,tt:1,ti:r,st:1,si:i});i.push(n)}return[n,i]}objGetWires(e){return this._objs[e][0].map((t,n)=>Object({id:e,tt:0,ti:n}))}objGetFaces(e){return this._objs[e][1].map((t,n)=>Object({id:e,tt:1,ti:n}))}objNumWires(e){return this._objs[e][0].length}objNumFaces(e){return this._objs[e][1].length}objGetParams(e){return this._objs[e][2]}objGetGroups(e){const t=[];return this._groups.forEach((n,i)=>-1!==n.objs.indexOf(e)&&t.push(n.name)),t}objXform(e,t){switch(this.pointsXform(this.objGetAllPointIDs(e),t),this.objGetType(e)){case 1:case 2:case 3:const n=t.clone();n.setPosition(new a),this._objs[e][2][1]=Lr(this._objs[e][2][1],n),this._objs[e][2][1]=Lr(this._objs[e][2][2],n),this._objs[e][2][1]=Lr(this._objs[e][2][3],n);break;case 4:const i=t.clone();i.setPosition(new a),i.getInverse(t).transpose(),this._objs[e][2][1]=Lr(this._objs[e][2][1],i),this._objs[e][2][1]=Lr(this._objs[e][2][2],i),this._objs[e][2][1]=Lr(this._objs[e][2][3],i);break;case 100:case 200:break;default:throw new Error("Object type not found: "+this.objGetType(e))}}pointSetPosition(e,t){const n=this._points[1][this._points[0][e]];let i=ls.indexOf(t,this._points[1]);return-1===i&&(i=this._points[1].length,this._points[1].push(t)),this._points[0][e]=i,n}pointGetPosition(e){return this._points[1][this._points[0][e]]}pointGetVertices(e){const t=[];for(const[n,i]of this._objsDense().entries())i[0].forEach((i,r)=>i.forEach((i,s)=>i===e&&t.push({id:Number(n),tt:0,ti:r,st:0,si:s}))),i[1].forEach((i,r)=>i.forEach((i,s)=>i===e&&t.push({id:Number(n),tt:1,ti:r,st:0,si:s})));return t}pointIsUnused(e){for(const t of this._objsDense())if(-1!==ls.flatten(t.slice(0,3)).indexOf(e))return!1;return!0}pointGetGroups(e){const t=[];return this._groups.forEach((n,i)=>-1!==n.points.indexOf(e)&&t.push(n.name)),t}pointXform(e,t){this.pointSetPosition(e,Lr(this.pointGetPosition(e),t))}pointsXform(e,t){for(const n of e)this.pointSetPosition(n,Lr(this.pointGetPosition(n),t))}topoNumVertices(e){const t=this._objs[e.id][e.tt][e.ti];return-1===t[t.length-1]?t.length-1:t.length}topoNumEdges(e){return this._objs[e.id][e.tt][e.ti].length-1}topoGetVertices(e){const t=[];for(let n=0;n<this.topoNumVertices(e);n++)t.push({id:e.id,tt:e.tt,ti:e.ti,st:0,si:n});return t}topoGetEdges(e){const t=[];for(let n=0;n<this.topoNumEdges(e);n++)t.push({id:e.id,tt:e.tt,ti:e.ti,st:1,si:n});return t}topoIsClosed(e){const t=this._objs[e.id][e.tt][e.ti];return-1===t[t.length-1]}topoFindSharedPoints(e,t){throw new Error("Method not implemented.")}topoGetGroups(e){const t=[];return this._topos_trees.forEach((n,i)=>n.hasTopo(e)&&t.push(i)),t}topoAddVertex(e,t,n){const i=this._objs[e.id][e.tt][e.ti];let r,s;n?(r=0,s=0):(-1===i[i.length-1]?r=i.length-1:(i.push(t),r=i.length),s=i.length-1),i.splice(r,0,t);for(const o of this._attribs.get(cs.edges)){o.values[0][e.id][e.tt][e.ti].splice(s,0,0)}for(const o of this._attribs.get(cs.vertices)){o.values[0][e.id][e.tt][e.ti].splice(r,0,0)}return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:r}}topoDelVertex(e,t){throw new Error("Method not implemented.")}edgeGetVertices(e){let t=e.si+1;const n=this.edgeGetTopo(e);return t>this.topoNumEdges(n)-1&&(t=0),[{id:e.id,tt:e.tt,ti:e.ti,st:0,si:e.si},{id:e.id,tt:e.tt,ti:e.ti,st:0,si:t}]}edgeGetTopo(e){return{id:e.id,tt:e.tt,ti:e.ti}}edgeNext(e){let t=e.si+1;const n=this.edgeGetTopo(e);if(t===this.topoNumEdges(n)-1){if(!this.topoIsClosed(n))return null;t=0}else t+=1;return{id:e.id,tt:e.tt,ti:e.ti,st:e.st,si:t}}edgePrevious(e){let t=e.si-1;const n=this.edgeGetTopo(e);if(0===t){if(!this.topoIsClosed(n))return null;t=this.topoNumEdges(n)-1}else t-=1;return{id:e.id,tt:e.tt,ti:e.ti,st:e.st,si:t}}edgeSplit(e,t){this._objs[e.id][e.tt][e.ti].splice(e.si+1,0,t);for(const n of this._attribs.get(cs.edges)){n.values[0][e.id][e.tt][e.ti].splice(e.si+1,0,0)}for(const n of this._attribs.get(cs.vertices)){n.values[0][e.id][e.tt][e.ti].splice(e.si,0,0)}return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:e.si+1}}vertexGetPoint(e){return this._objs[e.id][e.tt][e.ti][e.si]}vertexGetEdge(e){let t=e.si;const n=this.vertexGetTopo(e);if(t>this.topoNumEdges(n)-1){if(!this.topoIsClosed(n))return null;t=0}return{id:e.id,tt:e.tt,ti:e.ti,st:1,si:t}}vertexGetTopo(e){return{id:e.id,tt:e.tt,ti:e.ti}}vertexNext(e){let t=e.si;const n=this.vertexGetTopo(e);if(t===this.topoNumVertices(n)-1){if(!this.topoIsClosed(n))return null;t=0}else t+=1;return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:t}}vertexPrevious(e){let t=e.si;const n=this.vertexGetTopo(e);if(0===t){if(!this.topoIsClosed(n))return null;t=this.topoNumVertices(n)-1}else t-=1;return{id:e.id,tt:e.tt,ti:e.ti,st:0,si:t}}attribSetName(e,t,n){return!!this._attribs.get(n).has(e)&&(!this._attribs.get(n).has(t)&&(this._attribs.get(n).set(t,this._attribs.get(n).get(e)),this._attribs.get(n).delete(e),!0))}attribGetNames(e){const t=[];return this._attribs.get(e).forEach(e=>t.push(e.name)),t}attribGetDataType(e,t){const n=this._attribs.get(t).get(e).data_type;return ps.get(n)}attribGetValues(e,t){const n=this._attribs.get(t).get(e).values,i=ls.flatten(n[0].filter(e=>void 0!==e)),r=n[1];return i.map(e=>r[e])}attribCount(e,t){return this._attribs.get(t).get(e).values[0].length}entAttribGetValue(e,t,n){const i=this._attribs.get(t).get(e);return i.values[1][i.values[0][n]]}entAttribSetValue(e,t,n,i){const r=this._attribs.get(t).get(e);let s=ls.indexOf(i,r.values[1]);-1===s&&(s=r.values[1].push(i)-1);let o;return o=r.values[1][r.values[0][n]],r.values[0][n]=s,o}entAttribGetIDs(e,t){switch(t){case cs.points:return this.geomGetPointIDs();case cs.objs:return this.geomGetObjIDs()}throw new Error("geom_type must be either points or objs")}topoAttribGetValue(e,t,n){const i=this._attribs.get(t).get(e);switch(t){case cs.wires:case cs.faces:return i.values[1][i.values[0][n.id][n.ti]];case cs.vertices:case cs.edges:return i.values[1][i.values[0][n.id][n.ti][n.si]]}throw new Error("geom_type must be either vertices, edges, wires, or faces")}topoAttribSetValue(e,t,n,i){const r=this._attribs.get(t).get(e);let s=ls.indexOf(i,r.values[1]);-1===s&&(s=r.values[1].push(i)-1);let o;switch(t){case cs.wires:case cs.faces:return o=r.values[1][r.values[0][n.id][n.ti]],r.values[0][n.id][n.ti]=s,o;case cs.vertices:case cs.edges:return o=r.values[1][r.values[0][n.id][n.tt][n.ti][n.si]],r.values[0][n.id][n.tt][n.ti][n.si]=s,o}throw new Error("geom_type must be either vertices, edges, wires, or faces")}topoAttribGetPaths(e,t){switch(t){case cs.vertices:return ls.flatten(this.geomGetObjIDs().map(e=>this.objGetVertices(e)));case cs.edges:return ls.flatten(this.geomGetObjIDs().map(e=>this.objGetEdges(e)));case cs.wires:return ls.flatten(this.geomGetObjIDs().map(e=>this.objGetWires(e)));case cs.faces:return ls.flatten(this.geomGetObjIDs().map(e=>this.objGetFaces(e)))}throw new Error("geom_type must be either vertices, edges, wires, or faces")}groupSetName(e,t){return!!this._groups.has(e)&&(!this._groups.has(t)&&(this._groups.set(t,this._groups.get(e)),this._groups.delete(e),!0))}groupGetParent(e){return this._groups.get(e).parent}groupSetParent(e,t){const n=this._groups.get(e).parent;return this._groups.get(e).parent=t,n}groupGetChildren(e){const t=[];return this._groups.forEach(n=>n.parent===e&&t.push(n.name)),t}groupGetObjIDs(e,t){const n=this._groups.get(e);if(void 0===t)return n.objs;const i=[];return n.objs.forEach(e=>this._objs[e][2][0]===t&&i.push(e)),i}groupAddObj(e,t){const n=this._groups.get(e);return!(t in n.objs)&&(n.objs.push(t),!0)}groupAddObjs(e,t){this._groups.get(e);let n=!0;for(const i of t)this.groupAddObj(e,i)||(n=!1);return n}groupRemoveObj(e,t){const n=this._groups.get(e),i=n.objs.indexOf(t);return-1!==i&&(n.objs.splice(i,1),!0)}groupRemoveObjs(e,t){this._groups.get(e);let n=!0;for(const i of t)this.groupRemoveObj(e,i)||(n=!1);return n}groupHasObj(e,t){return-1!==this._groups.get(e).objs.indexOf(t)}groupGetTopos(e,t){return this._topos_trees.get(e).getTopos()}groupAddTopo(e,t){return this._topos_trees.get(e).addTopo(t)}groupAddTopos(e,t){let n=!0;for(const i of t)this._topos_trees.get(e).addTopo(i)||(n=!1);return n}groupRemoveTopo(e,t){return this._topos_trees.get(e).removeTopo(t)}groupRemoveTopos(e,t){let n=!0;for(const i of t)this._topos_trees.get(e).removeTopo(i)||(n=!1);return n}groupHasTopo(e,t){return this._topos_trees.get(e).hasTopo(t)}groupGetPointIDs(e){return this._groups.get(e).points}groupAddPoint(e,t){const n=this._groups.get(e);return!(t in n.points)&&(n.points.push(t),!0)}groupAddPoints(e,t){this._groups.get(e);let n=!0;for(const i of t)this.groupAddPoint(e,i)||(n=!1);return n}groupRemovePoint(e,t){const n=this._groups.get(e),i=n.points.indexOf(t);return-1!==i&&(n.points.splice(i,1),!0)}groupRemovePoints(e,t){let n=!0;for(const i of t)this.groupRemovePoint(e,i)||(n=!1);return n}groupHasPoint(e,t){return-1!==this._groups.get(e).points.indexOf(t)}groupGetProps(e){return this._groups.get(e).props}groupSetProps(e,t){const n=this._groups.get(e).props;return this._groups.get(e).props=t,n}_objsDense(){return this._objs.filter(e=>void 0!==e)}_newAttribAddObjsAndPoints(e,t){const n=this._attribs.get(t).get(e).values;switch(t){case cs.points:n[0]=this._points[0].map((e,t)=>0);break;case cs.vertices:n[0]=this._objs.map((e,t)=>[e[0].map((e,n)=>ls.make(this.topoNumVertices({id:t,tt:0,ti:n}),0)),e[1].map((e,n)=>ls.make(this.topoNumVertices({id:t,tt:1,ti:n}),0))]);break;case cs.edges:n[0]=this._objs.map((e,t)=>[e[0].map((e,n)=>ls.make(this.topoNumEdges({id:t,tt:0,ti:n}),0)),e[1].map((e,n)=>ls.make(this.topoNumEdges({id:t,tt:1,ti:n}),0))]);break;case cs.wires:n[0]=this._objs.map(e=>ls.make(e[0].length,0));break;case cs.faces:n[0]=this._objs.map(e=>ls.make(e[1].length,0));break;case cs.objs:n[0]=this._objs.map((e,t)=>0)}}_newObjAddToAttribs(e){for(const t of this._attribs.get(cs.objs).values())t.values[0][e]=0;for(const t of this._attribs.get(cs.wires).values())t.values[0][e]=ls.make(this._objs[e][0].length,0);for(const t of this._attribs.get(cs.faces).values())t.values[0][e]=ls.make(this._objs[e][1].length,0);for(const t of this._attribs.get(cs.edges).values())t.values[0][e]=[this._objs[e][0].map((e,t)=>ls.make(e.filter(e=>-1!==e).length,0)),this._objs[e][1].map((e,t)=>ls.make(e.filter(e=>-1!==e).length,0))];for(const t of this._attribs.get(cs.vertices).values())t.values[0][e]=[this._objs[e][0].map((e,t)=>ls.make(e.filter(e=>-1!==e).length,0)),this._objs[e][1].map((e,t)=>ls.make(e.filter(e=>-1!==e).length,0))]}_newPointAddToAttribs(e){for(const t of this._attribs.get(cs.points).values())t.values[0][e]=0}_updateAttribsForNewTopo(e){void 0!==e.st?this._updateAttribsForNewVertexOrEdge(e):0===e.tt?this._updateAttribsForNewWire(e):this._updateAttribsForNewFace(e)}_updateAttribsSetToNull(e,t){void 0===e[t.id]&&(e[t.id]=[]),void 0!==t.st?(void 0===e[t.id][t.tt]&&(e[t.id][t.tt]=[]),void 0===e[t.id][t.tt][t.ti]&&(e[t.id][t.tt][t.ti]=[]),e[t.id][t.tt][t.ti][t.si]=0):(void 0===e[t.id][t.ti]&&(e[t.id][t.ti]=[]),e[0][t.id][t.ti]=0)}_updateAttribsForNewVertexOrEdge(e){for(const t of this._attribs.get(cs.vertices))this._updateAttribsSetToNull(t.values[0],e);for(const t of this._attribs.get(cs.edges))this._updateAttribsSetToNull(t.values[0],e)}_updateAttribsForNewWire(e){for(const t of this._attribs.get(cs.wires))this._updateAttribsSetToNull(t.values[0],e)}_updateAttribsForNewFace(e){for(const t of this._attribs.get(cs.faces))this._updateAttribsSetToNull(t.values[0],e)}_updateAttribsForDelObj(e){for(const[t,n]of this._attribs.get(cs.vertices).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(cs.edges).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(cs.wires).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(cs.faces).entries())delete n.values[0][e];for(const[t,n]of this._attribs.get(cs.objs).entries())delete n.values[0][e]}_updateGroupsForDelObj(e){for(const[t,n]of this._groups.entries()){const i=n.objs.indexOf(e);-1!==i&&n.objs.splice(i,1),this._topos_trees.get(t).removeObj(e)}}_updateAttribsForDelPoint(e){for(const[t,n]of this._attribs.get(cs.points).entries())delete n.values[0][e]}_updateGroupsForDelPoint(e){for(const[t,n]of this._groups.entries()){const t=n.points.indexOf(e);-1!==t&&n.points.splice(t,1)}}_updateObjsForDelPoint(e){for(const t of this.pointGetVertices(e))this.geomHasTopo(t)||this._delVertexFromObj(t)}_delVertexFromObj(e){if(!this.geomHasTopo(e))return;const t=this._objs[e.id];switch(t[2][0]){case 1:this.geomDelObj(e.id);case 2:this.geomDelObj(e.id);case 4:this.geomDelObj(e.id);case 100:const n=t[0][e.ti];let i=n.length;return-1===n[n.length-1]&&i--,i<3?void this.geomDelObj(e.id):(n.splice(e.si,1),void this._updateAttribsAndGroupsForDelTopo(e));case 200:if(0===e.tt)return;const r=t[1][e.ti],s=t[1].length,o=r.length-1;if(1===s&&o<3)return void this.geomDelObj(e.id);o>3?(t[1][e.ti].splice(e.si,1),this._updateAttribsAndGroupsForDelTopo(e)):(t[1].splice(e.ti,1),this._updateAttribsAndGroupsForDelTopo({id:e.id,tt:e.tt,ti:e.ti}));const a=this._findPolymeshWires(t[1]);return void this._updateAttribsAndGroupsChangedWiresOrFaces(e.id,0,a);default:throw new Error("Object type not found: "+t[2][0])}}_updateAttribsAndGroupsForDelTopo(e){void 0!==e.st?this._updateAttribsForDelVertexOrEdge(e):0===e.tt?this._updateAttribsForDelWire(e):this._updateAttribsForDelFace(e),this._updateGroupsForDelTopo(e)}_updateAttribsForDelVertexOrEdge(e){for(const t of this._attribs.get(cs.vertices))t.values[0][e.id][e.tt][e.ti].splice(e.si,1);for(const t of this._attribs.get(cs.edges))t.values[0][e.id][e.tt][e.ti].splice(e.si,1)}_updateAttribsForDelWire(e){for(const t of this._attribs.get(cs.wires))t.values[0][e.id].splice(e.ti,1)}_updateAttribsForDelFace(e){for(const t of this._attribs.get(cs.faces))t.values[0][e.id].splice(e.ti,1)}_updateGroupsForDelTopo(e){for(const[t,n]of this._groups.entries())this._topos_trees.get(t).removeTopo(e)}_updateAttribsAndGroupsChangedTopo(e,t){this._updateAttribsAndGroupsChangedWiresOrFaces(e,0,t[0]),this._updateAttribsAndGroupsChangedWiresOrFaces(e,1,t[1])}_updateAttribsAndGroupsChangedWiresOrFaces(e,t,n){const i=this._objs[e][t];for(let r=0;r<i.length;r++){void 0===n[r]&&this._updateAttribsAndGroupsForDelTopo({id:e,tt:t,ti:r});for(let s=0;s<i[r].length;s++)-1!==s&&(void 0!==n[r]&&void 0!==n[r][s]||this._updateAttribsAndGroupsForDelTopo({id:e,tt:t,ti:r,st:0,si:s}));for(let s=0;s<i[r].length;s++)void 0!==n[r]&&void 0!==n[r][s]||this._updateAttribsAndGroupsForDelTopo({id:e,tt:t,ti:r,st:0,si:s})}for(let r=0;r<n.length;r++){void 0===i[r]&&this._updateAttribsForNewTopo({id:e,tt:t,ti:r});for(let s=0;s<n[r].length;s++)-1!==s&&(void 0!==i[r]&&void 0!==i[r][s]||this._updateAttribsForNewTopo({id:e,tt:t,ti:r,st:0,si:s}));for(let s=0;s<n[r].length;s++)void 0!==i[r]&&void 0!==i[r][s]||this._updateAttribsForNewTopo({id:e,tt:t,ti:r,st:0,si:s})}this._objs[e][t]=n}_findPolymeshWires(e){const t=[];for(const s of e)for(let e=0;e<s.length;e++){const n=s[e];let i=e+1;i===s.length&&(i=0);const r=s[i];t.push([n,r])}const n=[];for(const s of t)-1===ls.indexOf([s[1],s[0]],t)&&n.push(s);if(0===n.length)return[];const i=[[n[0]]],r=[n[0]];for(const s of n){const e=i[i.length-1],t=e[0][0],s=e[e.length-1][1];if(t===s){for(const o of n)if(-1===ls.indexOf(o,r)){i.push([o]),r.push(o);break}}else for(const i of n)if(i[0]===s){e.push(i),r.push(i);break}}return i.map(e=>ls.flatten(e.map(e=>e[0])))}_getWFPathsFromObjsData(e,t){const n=[];for(const i of e.keys()){const r=e[i][t];for(let e=0;e<r.length;e++)n.push({id:Number(i),tt:t,ti:e})}return n}_getVEPathsFromObjsData(e,t){const n=[];for(const i of e.keys()){const r=e[i][0];this._getVEPathsFromWF(n,Number(i),r,0,t);const s=e[i][1];this._getVEPathsFromWF(n,Number(i),s,1,t)}return n}_getVEPathsFromWF(e,t,n,i,r){for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length-r;o++)-1!==n[s][o]&&e.push({id:Number(t),tt:i,ti:s,st:r,si:o})}_purgeDelUnusedPoints(){for(const e of this._points[0])this.pointIsUnused(e)&&delete this._points[0][e]}_purgeDelUnusedPointValues(){const e=[];this._points[1].forEach((t,n)=>-1===this._points[0].indexOf(n)&&e.push(n));for(const n of e)this._points.splice(n,1);let t=0;for(let n=0;n<this._points[0].length;n++)void 0!==this._points[0][n]&&(-1!==e.indexOf(n)&&t++,this._points[0][n]=this._points[0][n]-t)}_purgeDelSparsePoints(){const e=new Map;let t=this._points[0].length-1;for(let n=0;n<this._points[0].length;n++)if(void 0===this._points[0][n])for(let i=t;i>0;i--)if(void 0!==this._points[0][i]){t=i-1,this._points[0][n]=i,e.set(i,n);break}this._points.length=t+1;for(const[n,i]of this._objs.entries())for(const[t,r]of i.entries())for(const[n,i]of r.entries())r[n]=e.get(n);throw new Error("Not implemented")}_purgeDelSparseObjs(){throw new Error("Not implemented")}_depreceated_delPointFromObjs(e){for(const[t,n]of this._objsDense().entries())switch(n[2][0]){case 100:for(let t=0;t<n[0].length;t++){const i=n[0][t],r=i.indexOf(e);if(-1!==r){let e=i.length;-1===i[i.length-1]&&e--,e>2?i.splice(r,1):n[0].splice(t,1)}}0===n[0].length&&delete this._objs[t];break;case 200:let i=!1;for(let t=0;t<n[1].length;t++){const r=n[1][t],s=r.indexOf(e);if(-1!==s){i=!0;r.length-1>2?n[1][t].splice(s,1):n[1].splice(t,1)}}i&&(0===n[1].length?delete this._objs[t]:n[0]=this._findPolymeshWires(n[1]));break;default:throw new Error("Object type not found: "+n[2][0])}}_depreceated_addTopoAttribValue(e,t,n){const i=this._attribs.get(t).get(e);switch(t){case cs.wires:case cs.faces:return void 0===i.values[0][n.id]&&(i.values[0][n.id]=[]),void 0!==i.values[0][n.id][n.ti]?!1:(i.values[0][n.id][n.ti]=0,!0);case cs.vertices:case cs.edges:return void 0===i.values[0][n.id]&&(i.values[0][n.id]=[]),void 0===i.values[0][n.id][n.ti]&&(i.values[0][n.id][n.ti]=[]),void 0!==i.values[0][n.id][n.ti][n.si]?!1:(i.values[0][n.id][n.ti][n.si]=0,!0)}}_depreceated_delTopoAttribValue(e,t,n){const i=this._attribs.get(t).get(e);let r;switch(t){case cs.wires:case cs.faces:return r=i.values[1][i.values[0][n.id][n.ti]],delete i.values[0][n.id][n.ti],r;case cs.vertices:case cs.edges:return r=i.values[1][i.values[0][n.id][n.ti][n.si]],delete i.values[0][n.id][n.ti][n.si],r}return null}}class Pl{constructor(e){this._kernel=new Ll(this,e)}getGeom(){return this._kernel.getGeom()}findAttribs(e){const t=this._kernel.modelFindAttribs(e);switch(e){case cs.points:case cs.objs:const n=[];for(const i of t)n.push(new bs(this._kernel,i.name,e));return n;default:const i=[];for(const r of t)i.push(new _s(this._kernel,r.name,e));return i}}getAllAttribs(){return[this.getAllEntAttribs(),this.getAllTopoAttribs()]}getEntAttrib(e,t){return t!==cs.points&&t!==cs.objs?null:this._kernel.modelHasAttrib(e,t)?new bs(this._kernel,e,t):null}getAllEntAttribs(){const e=[];for(const t of this._kernel.modelGetAllEntAttribs()){const n=hs.get(t.geom_type);e.push(new bs(this._kernel,t.name,n))}return e}addEntAttrib(e,t,n){return e=e.replace(/\s/g,"_"),t!==cs.points&&t!==cs.objs?null:(this._kernel.modelAddAttrib(e,t,n),this.getEntAttrib(e,t))}getTopoAttrib(e,t){return t===cs.points||t===cs.objs?null:this._kernel.modelHasAttrib(e,t)?new _s(this._kernel,e,t):null}getAllTopoAttribs(){const e=[];for(const t of this._kernel.modelGetAllTopoAttribs()){const n=hs.get(t.geom_type);e.push(new _s(this._kernel,t.name,n))}return e}addTopoAttrib(e,t,n){return e=e.replace(/\s/g,"_"),t===cs.points||t===cs.objs?null:(this._kernel.modelAddAttrib(e,t,n),this.getTopoAttrib(e,t))}delAttrib(e){return this._kernel.modelDelAttrib(e.getName(),e.getGeomType())}hasAttrib(e){return this._kernel.modelHasAttrib(e.getName(),e.getGeomType())}setAttribName(e,t){return this._kernel.attribSetName(e.getName(),t,e.getGeomType())}getAllGroups(){return this._kernel.modelGetAllGroups().map(e=>new yl(this._kernel,e.name))}getGroup(e){const t=this._kernel.modelGetGroup(e);return void 0===t?null:new yl(this._kernel,t.name)}addGroup(e,t){return void 0!==t?this._kernel.modelAddGroup(e,t.getName()):this._kernel.modelAddGroup(e),this.getGroup(e)}delGroup(e){return this._kernel.modelDelGroup(e.getName())}hasGroup(e){return this._kernel.modelHasGroup(e.getName())}setGroupName(e,t){return this._kernel.groupSetName(e.getName(),t)}purge(){this._kernel.modelPurge()}validate(){return this._kernel.modelValidate()}toJSON(){return this._kernel.modelToJSON()}}var Ol=n("cn4a");n("liuP");n.d(t,"a",function(){return ls}),n.d(t,"c",function(){return cs}),n.d(t,"b",function(){return us}),n.d(t,!1,function(){return hs}),n.d(t,!1,function(){return ds}),n.d(t,!1,function(){return ps}),n.d(t,!1,function(){return ms}),n.d(t,!1,function(){return fs}),n.d(t,!1,function(){return gs}),n.d(t,!1,function(){return vs}),n.d(t,"d",function(){return Pl}),n.d(t,!1,function(){return Al}),n.d(t,!1,function(){return xs}),n.d(t,!1,function(){return ws}),n.d(t,!1,function(){return Sl}),n.d(t,!1,function(){return ml}),n.d(t,!1,function(){return kl}),n.d(t,!1,function(){return gl}),n.d(t,!1,function(){return Es}),n.d(t,!1,function(){return fl}),n.d(t,!1,function(){return vl}),n.d(t,!1,function(){return Tl}),n.d(t,!1,function(){return bl}),n.d(t,!1,function(){return _l}),n.d(t,!1,function(){return xl}),n.d(t,!1,function(){return wl}),n.d(t,!1,function(){return El}),n.d(t,!1,function(){return bs}),n.d(t,!1,function(){return _s}),n.d(t,!1,function(){return yl}),n.d(t,"l",function(){return Ol.h}),n.d(t,"p",function(){return Ol.l}),n.d(t,"o",function(){return Ol.k}),n.d(t,"j",function(){return Ol.f}),n.d(t,"e",function(){return Ol.a}),n.d(t,"i",function(){return Ol.e}),n.d(t,"f",function(){return Ol.b}),n.d(t,"g",function(){return Ol.c}),n.d(t,"h",function(){return Ol.d}),n.d(t,"s",function(){return Ol.o}),n.d(t,"k",function(){return Ol.g}),n.d(t,"n",function(){return Ol.j}),n.d(t,"q",function(){return Ol.m}),n.d(t,"m",function(){return Ol.i}),n.d(t,"r",function(){return Ol.n}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"t",function(){return as})},ZAeO:function(e,t,n){"use strict";function i(e){return function(t){return t.lift(new class{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new class extends a.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){const t=Object(s.a)(this.durationSelector)(e);if(t===o.a)this.destination.error(o.a.e);else{const e=Object(l.a)(this,t);e.closed?this.clearThrottle():this.add(this.throttled=e)}}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}(e,this.durationSelector))}}(e))}}var r=n("vVQ5"),s=n("CLKv"),o=n("jLix"),a=n("7wpj"),l=n("t0Wy");var c=n("ElHI"),u=n("05/P"),h=n("oZkc"),d=n("wgF0");class p extends u.a{constructor(e=0,t,n){super(),this.period=-1,this.dueTime=0,!function(e){return!Object(c.a)(e)&&e-parseFloat(e)+1>=0}(t)?Object(h.a)(t)&&(n=t):this.period=Number(t)<1?1:Number(t),Object(h.a)(n)||(n=r.a),this.scheduler=n,this.dueTime=Object(d.a)(e)?+e-this.scheduler.now():e}static create(e=0,t,n){return new p(e,t,n)}static dispatch(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}_subscribe(e){const{period:t,dueTime:n,scheduler:i}=this;return i.schedule(p.dispatch,n,{index:0,period:t,subscriber:e})}}const m=p.create;t.a=function(e,t=r.a){return i(()=>m(e,t))}},ZDMg:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var i=n("1GK5"),r=n("AdGS");const s=new i.w("cdk-dir-doc");class o{constructor(e){if(this.value="ltr",this.change=new i.q,e){const t=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.value=t||n||"ltr"}}}o.decorators=[{type:i.v}],o.ctorParameters=(()=>[{type:void 0,decorators:[{type:i.G},{type:i.u,args:[s]}]}]);class a{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new i.q}get dir(){return this._dir}set dir(e){let t=this._dir;this._dir=e,t!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}}a.decorators=[{type:i.n,args:[{selector:"[dir]",providers:[{provide:o,useExisting:a}],host:{"[dir]":"dir"},exportAs:"dir"}]}],a.ctorParameters=(()=>[]),a.propDecorators={change:[{type:i.H,args:["dirChange"]}],dir:[{type:i.y,args:["dir"]}]};class l{}l.decorators=[{type:i.C,args:[{exports:[a],declarations:[a],providers:[{provide:s,useExisting:r.b},o]}]}],l.ctorParameters=(()=>[])},ZGtO:function(e,t,n){"use strict";function i(){}function r(e,t){this.x=e||0,this.y=t||0}function s(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function o(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function a(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function c(e,t,n,i,s,o,a,u,h,d){Object.defineProperty(this,"id",{value:ra++}),this.uuid=ia.generateUUID(),this.name="",this.image=void 0!==e?e:c.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:c.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Zs,this.wrapT=void 0!==i?i:Zs,this.magFilter=void 0!==s?s:no,this.minFilter=void 0!==o?o:ro,this.anisotropy=void 0!==h?h:1,this.format=void 0!==a?a:_o,this.type=void 0!==u?u:so,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:qo,this.version=0,this.onUpdate=null}function u(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function h(e,t,n){this.uuid=ia.generateUUID(),this.width=e,this.height=t,this.scissor=new u(0,0,e,t),this.scissorTest=!1,this.viewport=new u(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=no),this.texture=new c(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function d(e,t,n){h.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function p(e,t,n,i,r,s,o,a,l,u,h,d){c.call(this,null,s,o,a,l,u,i,r,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:Qs,this.minFilter=void 0!==u?u:Qs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function m(e,t,n,i,r,s,o,a,l,u){c.call(this,e=void 0!==e?e:[],t=void 0!==t?t:Gs,n,i,r,s,o,a,l,u),this.flipY=!1}function f(){this.seq=[],this.map={}}function g(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,s=aa[r];if(void 0===s&&(s=new Float32Array(r),aa[r]=s),0!==t){i.toArray(s,0);for(var o=1,a=0;o!==t;++o)a+=n,e[o].toArray(s,a)}return s}function v(e,t){var n=la[t];void 0===n&&(n=new Int32Array(t),la[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function y(e,t){e.uniform1f(this.addr,t)}function b(e,t){e.uniform1i(this.addr,t)}function _(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function x(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function w(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function E(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function T(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(ua.set(t.elements),e.uniformMatrix3fv(this.addr,!1,ua))}function S(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(ca.set(t.elements),e.uniformMatrix4fv(this.addr,!1,ca))}function k(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||sa,i)}function A(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||oa,i)}function C(e,t){e.uniform2iv(this.addr,t)}function M(e,t){e.uniform3iv(this.addr,t)}function R(e,t){e.uniform4iv(this.addr,t)}function L(e,t){e.uniform1fv(this.addr,t)}function P(e,t){e.uniform1iv(this.addr,t)}function O(e,t){e.uniform2fv(this.addr,g(t,this.size,2))}function D(e,t){e.uniform3fv(this.addr,g(t,this.size,3))}function F(e,t){e.uniform4fv(this.addr,g(t,this.size,4))}function I(e,t){e.uniformMatrix2fv(this.addr,!1,g(t,this.size,4))}function N(e,t){e.uniformMatrix3fv(this.addr,!1,g(t,this.size,9))}function B(e,t){e.uniformMatrix4fv(this.addr,!1,g(t,this.size,16))}function j(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var s=0;s!==i;++s)n.setTexture2D(t[s]||sa,r[s])}function z(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var s=0;s!==i;++s)n.setTextureCube(t[s]||oa,r[s])}function U(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){switch(e){case 5126:return y;case 35664:return _;case 35665:return x;case 35666:return w;case 35674:return E;case 35675:return T;case 35676:return S;case 35678:case 36198:return k;case 35680:return A;case 5124:case 35670:return b;case 35667:case 35671:return C;case 35668:case 35672:return M;case 35669:case 35673:return R}}(t.type)}function V(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return L;case 35664:return O;case 35665:return D;case 35666:return F;case 35674:return I;case 35675:return N;case 35676:return B;case 35678:return j;case 35680:return z;case 5124:case 35670:return P;case 35667:case 35671:return C;case 35668:case 35672:return M;case 35669:case 35673:return R}}(t.type)}function G(e){this.id=e,f.call(this)}function H(e,t){e.seq.push(t),e.map[t.id]=t}function W(e,t,n){var i=e.name,r=i.length;for(ha.lastIndex=0;;){var s=ha.exec(i),o=ha.lastIndex,a=s[1],l="]"===s[2],c=s[3];if(l&&(a|=0),void 0===c||"["===c&&o+2===r){H(n,void 0===c?new U(a,e,t):new V(a,e,t));break}var u=n.map[a];void 0===u&&H(n,u=new G(a)),n=u}}function $(e,t,n){f.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var s=e.getActiveUniform(t,r),o=s.name;W(s,e.getUniformLocation(t,o),this)}}function q(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function X(e,t){this.min=void 0!==e?e:new r(1/0,1/0),this.max=void 0!==t?t:new r(-1/0,-1/0)}function Y(e,t,n,i,s){function o(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),i=new Uint16Array([0,1,2,0,2,3]);l=t.createBuffer(),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),m=t.createTexture(),f=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),u={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")},h=function(e){var n=t.createProgram(),i=t.createShader(t.FRAGMENT_SHADER),r=t.createShader(t.VERTEX_SHADER),o="precision "+s.precision+" float;\n";return t.shaderSource(i,o+e.fragmentShader),t.shaderSource(r,o+e.vertexShader),t.compileShader(i),t.compileShader(r),t.attachShader(n,i),t.attachShader(n,r),t.linkProgram(n),n}(u),d={vertex:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},p={renderType:t.getUniformLocation(h,"renderType"),map:t.getUniformLocation(h,"map"),occlusionMap:t.getUniformLocation(h,"occlusionMap"),opacity:t.getUniformLocation(h,"opacity"),color:t.getUniformLocation(h,"color"),scale:t.getUniformLocation(h,"scale"),rotation:t.getUniformLocation(h,"rotation"),screenPosition:t.getUniformLocation(h,"screenPosition")}}var l,c,u,h,d,p,m,f;this.render=function(e,s,u,g){if(0!==e.length){var v=new a,y=g.w/g.z,b=.5*g.z,_=.5*g.w,x=16/g.w,w=new r(x*y,x),E=new a(1,1,0),T=new r(1,1),S=new X;S.min.set(g.x,g.y),S.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===h&&o(),n.useProgram(h),n.initAttributes(),n.enableAttribute(d.vertex),n.enableAttribute(d.uv),n.disableUnusedAttributes(),t.uniform1i(p.occlusionMap,0),t.uniform1i(p.map,1),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(d.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var k=0,A=e.length;k<A;k++){x=16/g.w,w.set(x*y,x);var C=e[k];if(v.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),v.applyMatrix4(u.matrixWorldInverse),v.applyMatrix4(u.projectionMatrix),E.copy(v),T.x=g.x+E.x*b+b-8,T.y=g.y+E.y*_+_-8,!0===S.containsPoint(T)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,T.x,T.y,16,16,0),t.uniform1i(p.renderType,0),t.uniform2f(p.scale,w.x,w.y),t.uniform3f(p.screenPosition,E.x,E.y,E.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,f),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,T.x,T.y,16,16,0),t.uniform1i(p.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),C.positionScreen.copy(E),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),t.uniform1i(p.renderType,2),n.enable(t.BLEND);for(var M=0,R=C.lensFlares.length;M<R;M++){var L=C.lensFlares[M];L.opacity>.001&&L.scale>.001&&(E.x=L.x,E.y=L.y,E.z=L.z,x=L.size*L.scale/g.w,w.x=x*y,w.y=x,t.uniform3f(p.screenPosition,E.x,E.y,E.z),t.uniform2f(p.scale,w.x,w.y),t.uniform1f(p.rotation,L.rotation),t.uniform1f(p.opacity,L.opacity),t.uniform3f(p.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),i.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function K(e,t,n,i,r,s,o,a,l){c.call(this,e,t,n,i,r,s,o,a,l),this.needsUpdate=!0}function Z(e,t,n,i,r){function s(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);c=t.createBuffer(),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),h=function(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),t.shaderSource(i,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),t.compileShader(n),t.compileShader(i),t.attachShader(e,n),t.attachShader(e,i),t.linkProgram(e),e}(),d={position:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},p={uvOffset:t.getUniformLocation(h,"uvOffset"),uvScale:t.getUniformLocation(h,"uvScale"),rotation:t.getUniformLocation(h,"rotation"),scale:t.getUniformLocation(h,"scale"),color:t.getUniformLocation(h,"color"),map:t.getUniformLocation(h,"map"),opacity:t.getUniformLocation(h,"opacity"),modelViewMatrix:t.getUniformLocation(h,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(h,"projectionMatrix"),fogType:t.getUniformLocation(h,"fogType"),fogDensity:t.getUniformLocation(h,"fogDensity"),fogNear:t.getUniformLocation(h,"fogNear"),fogFar:t.getUniformLocation(h,"fogFar"),fogColor:t.getUniformLocation(h,"fogColor"),fogDepth:t.getUniformLocation(h,"fogDepth"),alphaTest:t.getUniformLocation(h,"alphaTest")};var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=8,i.height=8;var s=i.getContext("2d");s.fillStyle="white",s.fillRect(0,0,8,8),m=new K(i)}function l(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var c,u,h,d,p,m,f=new a,g=new o,v=new a;this.render=function(r,o,a){if(0!==r.length){void 0===h&&s(),n.useProgram(h),n.initAttributes(),n.enableAttribute(d.position),n.enableAttribute(d.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(d.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.uniformMatrix4fv(p.projectionMatrix,!1,a.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(p.map,0);var y=0,b=0,_=o.fog;_?(t.uniform3f(p.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(t.uniform1f(p.fogNear,_.near),t.uniform1f(p.fogFar,_.far),t.uniform1i(p.fogType,1),y=1,b=1):_.isFogExp2&&(t.uniform1f(p.fogDensity,_.density),t.uniform1i(p.fogType,2),y=2,b=2)):(t.uniform1i(p.fogType,0),y=0,b=0);for(var x=0,w=r.length;x<w;x++){(T=r[x]).modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}r.sort(l);var E=[];for(x=0,w=r.length;x<w;x++){var T,S=(T=r[x]).material;if(!1!==S.visible){T.onBeforeRender(e,o,a,void 0,S,void 0),t.uniform1f(p.alphaTest,S.alphaTest),t.uniformMatrix4fv(p.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(f,g,v),E[0]=v.x,E[1]=v.y;var k=0;o.fog&&S.fog&&(k=b),y!==k&&(t.uniform1i(p.fogType,k),y=k),null!==S.map?(t.uniform2f(p.uvOffset,S.map.offset.x,S.map.offset.y),t.uniform2f(p.uvScale,S.map.repeat.x,S.map.repeat.y)):(t.uniform2f(p.uvOffset,0,0),t.uniform2f(p.uvScale,1,1)),t.uniform1f(p.opacity,S.opacity),t.uniform3f(p.color,S.color.r,S.color.g,S.color.b),t.uniform1f(p.rotation,S.rotation),t.uniform2fv(p.scale,E),n.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst,S.blendEquationAlpha,S.blendSrcAlpha,S.blendDstAlpha,S.premultipliedAlpha),n.buffers.depth.setTest(S.depthTest),n.buffers.depth.setMask(S.depthWrite),n.buffers.color.setMask(S.colorWrite),i.setTexture2D(S.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),T.onAfterRender(e,o,a,void 0,S,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function J(){Object.defineProperty(this,"id",{value:va++}),this.uuid=ia.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=ss,this.side=Kr,this.flatShading=!1,this.vertexColors=ts,this.opacity=1,this.transparent=!1,this.blendSrc=bs,this.blendDst=_s,this.blendEquation=us,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ms,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function Q(e){J.call(this),this.type="MeshDepthMaterial",this.depthPacking=ta,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ee(e){J.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new a,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function te(e,t){this.min=void 0!==e?e:new a(1/0,1/0,1/0),this.max=void 0!==t?t:new a(-1/0,-1/0,-1/0)}function ne(e,t){this.center=void 0!==e?e:new a,this.radius=void 0!==t?t:0}function ie(e,t){this.normal=void 0!==e?e:new a(1,0,0),this.constant=void 0!==t?t:0}function re(e,t,n,i,r,s){this.planes=[void 0!==e?e:new ie,void 0!==t?t:new ie,void 0!==n?n:new ie,void 0!==i?i:new ie,void 0!==r?r:new ie,void 0!==s?s:new ie]}function se(e,t,n){function i(t,n,i,r,s,o){var a=t.geometry,l=null,c=b,u=t.customDepthMaterial;if(i&&(c=_,u=t.customDistanceMaterial),u)l=u;else{var h=!1;n.morphTargets&&(a&&a.isBufferGeometry?h=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(h=a.morphTargets&&a.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var d=t.isSkinnedMesh&&n.skinning,p=0;h&&(p|=g),d&&(p|=v),l=c[p]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=l.uuid,f=n.uuid,y=x[m];void 0===y&&(y={},x[m]=y);var w=y[f];void 0===w&&(w=l.clone(),y[f]=w),l=w}l.visible=n.visible,l.wireframe=n.wireframe;var E=n.side;return R.renderSingleSided&&E==Jr&&(E=Kr),R.renderReverseSided&&(E===Kr?E=Zr:E===Zr&&(E=Kr)),l.side=E,l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=s,l.farDistance=o),l}function o(n,r,s,a){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);var c=t.update(n),u=n.material;if(Array.isArray(u))for(var h=c.groups,d=0,p=h.length;d<p;d++){var m=h[d],g=u[m.materialIndex];if(g&&g.visible){var v=i(n,g,a,f,s.near,s.far);e.renderBufferDirect(s,null,c,v,n,m)}}else if(u.visible){v=i(n,u,a,f,s.near,s.far);e.renderBufferDirect(s,null,c,v,n,null)}}for(var y=n.children,b=0,_=y.length;b<_;b++)o(y[b],r,s,a)}}for(var l=new re,c=new s,d=new r,p=new r(n,n),m=new a,f=new a,g=1,v=2,y=1+(g|v),b=new Array(y),_=new Array(y),x={},w=[new a(1,0,0),new a(-1,0,0),new a(0,0,1),new a(0,0,-1),new a(0,1,0),new a(0,-1,0)],E=[new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,0,1),new a(0,0,-1)],T=[new u,new u,new u,new u,new u,new u],S=0;S!==y;++S){var k=0!=(S&g),A=0!=(S&v),C=new Q({depthPacking:na,morphTargets:k,skinning:A});b[S]=C;var M=new ee({morphTargets:k,skinning:A});_[S]=M}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xr,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,i){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var r=e.context,s=e.state;s.disable(r.BLEND),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var a,u=0,g=t.length;u<g;u++){var v=t[u],y=v.shadow,b=v&&v.isPointLight;if(void 0!==y){var _=y.camera;if(d.copy(y.mapSize),d.min(p),b){var x=d.x,S=d.y;T[0].set(2*x,S,x,S),T[1].set(0,S,x,S),T[2].set(3*x,S,x,S),T[3].set(x,S,x,S),T[4].set(3*x,0,x,S),T[5].set(x,0,x,S),d.x*=4,d.y*=2}if(null===y.map){var k={minFilter:Qs,magFilter:Qs,format:_o};y.map=new h(d.x,d.y,k),y.map.texture.name=v.name+".shadowMap",_.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var A=y.map,C=y.matrix;f.setFromMatrixPosition(v.matrixWorld),_.position.copy(f),b?(a=6,C.makeTranslation(-f.x,-f.y,-f.z)):(a=1,m.setFromMatrixPosition(v.target.matrixWorld),_.lookAt(m),_.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(_.projectionMatrix),C.multiply(_.matrixWorldInverse)),e.setRenderTarget(A),e.clear();for(var M=0;M<a;M++){if(b){m.copy(_.position),m.add(w[M]),_.up.copy(E[M]),_.lookAt(m),_.updateMatrixWorld();var L=T[M];s.viewport(L)}c.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),l.setFromMatrix(c),o(n,i,_,b)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}R.needsUpdate=!1}}}function oe(e){var t={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t[e.uuid]},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t[n.uuid];i&&(e.deleteBuffer(i.buffer),delete t[n.uuid])},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t[n.uuid];void 0===r?t[n.uuid]=function(t,n){var i=t.array,r=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,s=e.createBuffer();e.bindBuffer(n,s),e.bufferData(n,i,r),t.onUploadCallback();var o=e.FLOAT;return i instanceof Float32Array?o=e.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=e.UNSIGNED_SHORT:i instanceof Int16Array?o=e.SHORT:i instanceof Uint32Array?o=e.UNSIGNED_INT:i instanceof Int32Array?o=e.INT:i instanceof Int8Array?o=e.BYTE:i instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),{buffer:s,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(n,i):r.version<n.version&&(function(t,n,i){var r=n.array,s=n.updateRange;e.bindBuffer(i,t),!1===n.dynamic?e.bufferData(i,r,e.STATIC_DRAW):-1===s.count?e.bufferSubData(i,0,r):0===s.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,s.offset*r.BYTES_PER_ELEMENT,r.subarray(s.offset,s.offset+s.count)),s.count=-1)}(r.buffer,n,i),r.version=n.version)}}}function ae(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||ae.DefaultOrder}function le(){this.mask=1}function ce(){Object.defineProperty(this,"id",{value:ya++}),this.uuid=ia.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ce.DefaultUp.clone();var e=new a,t=new ae,n=new o,i=new a(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new s},normalMatrix:{value:new l}}),this.matrix=new s,this.matrixWorld=new s,this.matrixAutoUpdate=ce.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new le,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ue(){ce.call(this),this.type="Camera",this.matrixWorldInverse=new s,this.projectionMatrix=new s}function he(e,t,n,i,r,s){ue.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==s?s:2e3,this.updateProjectionMatrix()}function de(e,t,n,i,r,s){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new a,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new q,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==s?s:0}function pe(){Object.defineProperty(this,"id",{value:ba+=2}),this.uuid=ia.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function me(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=ia.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function fe(e,t,n){me.call(this,new Int8Array(e),t,n)}function ge(e,t,n){me.call(this,new Uint8Array(e),t,n)}function ve(e,t,n){me.call(this,new Uint8ClampedArray(e),t,n)}function ye(e,t,n){me.call(this,new Int16Array(e),t,n)}function be(e,t,n){me.call(this,new Uint16Array(e),t,n)}function _e(e,t,n){me.call(this,new Int32Array(e),t,n)}function xe(e,t,n){me.call(this,new Uint32Array(e),t,n)}function we(e,t,n){me.call(this,new Float32Array(e),t,n)}function Ee(e,t,n){me.call(this,new Float64Array(e),t,n)}function Te(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function ke(){Object.defineProperty(this,"id",{value:_a+=2}),this.uuid=ia.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ae(e,t,n,i,r,s){pe.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s},this.fromBufferGeometry(new Ce(e,t,n,i,r,s)),this.mergeVertices()}function Ce(e,t,n,i,r,s){function o(e,t,n,i,r,s,o,f,g,v,y){var b,_,x=s/g,w=o/v,E=s/2,T=o/2,S=f/2,k=g+1,A=v+1,C=0,M=0,R=new a;for(_=0;_<A;_++){var L=_*w-T;for(b=0;b<k;b++){var P=b*x-E;R[e]=P*i,R[t]=L*r,R[n]=S,u.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[n]=f>0?1:-1,h.push(R.x,R.y,R.z),d.push(b/g),d.push(1-_/v),C+=1}}for(_=0;_<v;_++)for(b=0;b<g;b++){var O=p+b+k*_,D=p+b+k*(_+1),F=p+(b+1)+k*(_+1),I=p+(b+1)+k*_;c.push(O,D,I),c.push(D,F,I),M+=6}l.addGroup(m,M,y),m+=M,p+=C}ke.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};var l=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1;var c=[],u=[],h=[],d=[],p=0,m=0;o("z","y","x",-1,-1,n,t,e,s=Math.floor(s)||1,r,0),o("z","y","x",1,-1,n,t,-e,s,r,1),o("x","z","y",1,1,e,n,t,i,s,2),o("x","z","y",1,-1,e,n,-t,i,s,3),o("x","y","z",1,-1,e,t,n,i,r,4),o("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(c),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(h,3)),this.addAttribute("uv",new we(d,2))}function Me(e,t,n,i){pe.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Re(e,t,n,i)),this.mergeVertices()}function Re(e,t,n,i){ke.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,s,o=(e=e||1)/2,a=(t=t||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,d=e/l,p=t/c,m=[],f=[],g=[],v=[];for(s=0;s<h;s++){var y=s*p-a;for(r=0;r<u;r++){var b=r*d-o;f.push(b,-y,0),g.push(0,0,1),v.push(r/l),v.push(1-s/c)}}for(s=0;s<c;s++)for(r=0;r<l;r++){var _=r+u*s,x=r+u*(s+1),w=r+1+u*(s+1),E=r+1+u*s;m.push(_,x,E),m.push(x,w,E)}this.setIndex(m),this.addAttribute("position",new we(f,3)),this.addAttribute("normal",new we(g,3)),this.addAttribute("uv",new we(v,2))}function Le(e){J.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ds,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Pe(e){J.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Oe(e,t){this.origin=void 0!==e?e:new a,this.direction=void 0!==t?t:new a}function De(e,t){this.start=void 0!==e?e:new a,this.end=void 0!==t?t:new a}function Fe(e,t,n){this.a=void 0!==e?e:new a,this.b=void 0!==t?t:new a,this.c=void 0!==n?n:new a}function Ie(e,t){ce.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new Le({color:16777215*Math.random()}),this.drawMode=Ho,this.updateMorphTargets()}function Ne(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Be(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function je(){var e={};return{get:function(t,n){var i=t.id+","+n.id,r=e[i];return void 0===r&&(r=new function(){var e=[],t=0,n=[],i=[];return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(r,s,o,a,l){var c=e[t];void 0===c?(c={id:r.id,object:r,geometry:s,material:o,program:o.program,renderOrder:r.renderOrder,z:a,group:l},e[t]=c):(c.id=r.id,c.object=r,c.geometry=s,c.material=o,c.program=o.program,c.renderOrder=r.renderOrder,c.z=a,c.group=l),(!0===o.transparent?i:n).push(c),t++},sort:function(){n.length>1&&n.sort(Ne),i.length>1&&i.sort(Be)}}},e[i]=r),r},dispose:function(){e={}}}}function ze(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ue(){var e=new function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new a,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new a,direction:new a,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new a,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new a,skyColor:new q,groundColor:new q};break;case"RectAreaLight":n={color:new q,position:new a,halfWidth:new a,halfHeight:new a}}return e[t.id]=n,n}}},t={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new a,i=new s,o=new s;return{setup:function(r,s,a){for(var l=0,c=0,u=0,h=0,d=0,p=0,m=0,f=0,g=a.matrixWorldInverse,v=0,y=r.length;v<y;v++){var b=r[v],_=b.color,x=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=_.r*x,c+=_.g*x,u+=_.b*x;else if(b.isDirectionalLight){if((S=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),S.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(g),S.shadow=b.castShadow,b.castShadow){var T=b.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize}t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=b.shadow.matrix,t.directional[h]=S,h++}else if(b.isSpotLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),S.color.copy(_).multiplyScalar(x),S.distance=w,S.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(g),S.coneCos=Math.cos(b.angle),S.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(T=b.shadow,S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize),t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=S,p++;else if(b.isRectAreaLight)(S=e.get(b)).color.copy(_).multiplyScalar(x/(b.width*b.height)),S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),o.identity(),i.copy(b.matrixWorld),i.premultiply(g),o.extractRotation(i),S.halfWidth.set(.5*b.width,0,0),S.halfHeight.set(0,.5*b.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),t.rectArea[m]=S,m++;else if(b.isPointLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),S.color.copy(b.color).multiplyScalar(b.intensity),S.distance=b.distance,S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(T=b.shadow,S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,S.shadowCameraNear=T.camera.near,S.shadowCameraFar=T.camera.far),t.pointShadowMap[d]=E,t.pointShadowMatrix[d]=b.shadow.matrix,t.point[d]=S,d++;else if(b.isHemisphereLight){var S;(S=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),S.skyColor.copy(b.color).multiplyScalar(x),S.groundColor.copy(b.groundColor).multiplyScalar(x),t.hemi[f]=S,f++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=h,t.spot.length=p,t.rectArea.length=m,t.point.length=d,t.hemi.length=f,t.hash=h+","+d+","+p+","+m+","+f+","+s.length},state:t}}function Ve(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),i}function Ge(e){switch(e){case qo:return["Linear","( value )"];case Xo:return["sRGB","( value )"];case Ko:return["RGBE","( value )"];case Jo:return["RGBM","( value, 7.0 )"];case Qo:return["RGBM","( value, 16.0 )"];case ea:return["RGBD","( value, 256.0 )"];case Yo:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function He(e,t){var n=Ge(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function We(e){return""!==e}function $e(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function qe(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){var n=fa[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return qe(n)})}function Xe(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[ i \]/g,"[ "+s+" ]");return r})}function Ye(e,t,n,i,r,s){var o=e.context,a=i.defines,l=r.vertexShader,c=r.fragmentShader,u="SHADOWMAP_TYPE_BASIC";s.shadowMapType===Xr?u="SHADOWMAP_TYPE_PCF":s.shadowMapType===Yr&&(u="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(s.envMap){switch(i.envMap.mapping){case Gs:case Hs:h="ENVMAP_TYPE_CUBE";break;case Xs:case Ys:h="ENVMAP_TYPE_CUBE_UV";break;case Ws:case $s:h="ENVMAP_TYPE_EQUIREC";break;case qs:h="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case Hs:case $s:d="ENVMAP_MODE_REFRACTION"}switch(i.combine){case Ds:p="ENVMAP_BLENDING_MULTIPLY";break;case Fs:p="ENVMAP_BLENDING_MIX";break;case Is:p="ENVMAP_BLENDING_ADD"}}var m,f,g=e.gammaFactor>0?e.gammaFactor:1,v=function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(We).join("\n")}(i.extensions,s,t),y=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(a),b=o.createProgram();i.isRawShaderMaterial?((m=[y].filter(We).join("\n")).length>0&&(m+="\n"),(f=[v,y].filter(We).join("\n")).length>0&&(f+="\n")):(m=["precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,y,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+s.maxBones,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+d:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.displacementMap&&s.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&!1===s.flatShading?"#define USE_MORPHNORMALS":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+s.numClippingPlanes,s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+u:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(We).join("\n"),f=[v,"precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,y,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"","#define GAMMA_FACTOR "+g,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+h:"",s.envMap?"#define "+d:"",s.envMap?"#define "+p:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+s.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(s.numClippingPlanes-s.numClipIntersection),s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+u:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",s.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",s.toneMapping!==Ns?"#define TONE_MAPPING":"",s.toneMapping!==Ns?fa.tonemapping_pars_fragment:"",s.toneMapping!==Ns?function(e,t){var n;switch(t){case Bs:n="Linear";break;case js:n="Reinhard";break;case zs:n="Uncharted2";break;case Us:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.outputEncoding||s.mapEncoding||s.envMapEncoding||s.emissiveMapEncoding?fa.encodings_pars_fragment:"",s.mapEncoding?He("mapTexelToLinear",s.mapEncoding):"",s.envMapEncoding?He("envMapTexelToLinear",s.envMapEncoding):"",s.emissiveMapEncoding?He("emissiveMapTexelToLinear",s.emissiveMapEncoding):"",s.outputEncoding?function(e,t){var n=Ge(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}("linearToOutputTexel",s.outputEncoding):"",s.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(We).join("\n")),l=$e(l=qe(l),s),c=$e(c=qe(c),s),i.isShaderMaterial||(l=Xe(l),c=Xe(c));var _=m+l,x=f+c,w=Ve(o,o.VERTEX_SHADER,_),E=Ve(o,o.FRAGMENT_SHADER,x);o.attachShader(b,w),o.attachShader(b,E),void 0!==i.index0AttributeName?o.bindAttribLocation(b,0,i.index0AttributeName):!0===s.morphTargets&&o.bindAttribLocation(b,0,"position"),o.linkProgram(b);var T=o.getProgramInfoLog(b),S=o.getShaderInfoLog(w),k=o.getShaderInfoLog(E),A=!0,C=!0;!1===o.getProgramParameter(b,o.LINK_STATUS)?(A=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(b,o.VALIDATE_STATUS),"gl.getProgramInfoLog",T,S,k)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==S&&""!==k||(C=!1),C&&(this.diagnostics={runnable:A,material:i,programLog:T,vertexShader:{log:S,prefix:m},fragmentShader:{log:k,prefix:f}}),o.deleteShader(w),o.deleteShader(E);var M;this.getUniforms=function(){return void 0===M&&(M=new $(o,b,e)),M};var R;return this.getAttributes=function(){return void 0===R&&(R=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}(o,b)),R},this.destroy=function(){o.deleteProgram(b),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=xa++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=w,this.fragmentShader=E,this}function Ke(e,t,n){function i(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=qo,n===qo&&t&&(n=Yo),n}var r=[],s={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,r,o,a,l,c,u){var h=s[t.type],d=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,r=Math.floor((i-20)/4),s=Math.min(r,t.length);return s<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+s+"."),0):s}(u):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var m=e.getRenderTarget();return{shaderID:h,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:i(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Xs||t.envMap.mapping===Ys),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!a,useFog:t.fog,fogExp:a&&a.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Jr,flipSided:t.side===Zr,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var s=0;s<o.length;s++)i.push(n[o[s]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.join()},this.acquireProgram=function(n,i,s,o){for(var a,l=0,c=r.length;l<c;l++){var u=r[l];if(u.code===o){++(a=u).usedTimes;break}}return void 0===a&&(a=new Ye(e,t,o,n,i,s),r.push(a)),a},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Ze(e,t,n,i,r,s,o){function a(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(e.width*n),i.height=Math.floor(e.height*n);return i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e),i}return e}function l(e){return ia.isPowerOfTwo(e.width)&&ia.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&e.minFilter!==Qs&&e.minFilter!==no}function u(t){return t===Qs||t===eo||t===to?e.NEAREST:e.LINEAR}function h(t){var n=t.target;n.removeEventListener("dispose",h),function(t){var n=i.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}i.remove(t)}(n),o.textures--}function d(t){var n=t.target;n.removeEventListener("dispose",d),function(t){var n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var s=0;s<6;s++)e.deleteFramebuffer(n.__webglFramebuffer[s]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[s]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}(n),o.textures--}function p(t,u){var d=i.get(t);if(t.version>0&&d.__version!==t.version){var p=t.image;if(void 0===p)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==p.complete)return void function(t,i,u){void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",h),t.__webglTexture=e.createTexture(),o.textures++);n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment);var d=a(i.image,r.maxTextureSize);(function(e){return e.wrapS!==Zs||e.wrapT!==Zs||e.minFilter!==Qs&&e.minFilter!==no})(i)&&!1===l(d)&&(d=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=ia.floorPowerOfTwo(e.width),t.height=ia.floorPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}(d));var p=l(d),f=s.convert(i.format),g=s.convert(i.type);m(e.TEXTURE_2D,i,p);var v,b=i.mipmaps;if(i.isDepthTexture){var _=e.DEPTH_COMPONENT;if(i.type===ho){if(!y)throw new Error("Float Depth Texture only supported in WebGL2.0");_=e.DEPTH_COMPONENT32F}else y&&(_=e.DEPTH_COMPONENT16);i.format===To&&_===e.DEPTH_COMPONENT&&i.type!==lo&&i.type!==uo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=lo,g=s.convert(i.type)),i.format===So&&(_=e.DEPTH_STENCIL,i.type!==vo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=vo,g=s.convert(i.type))),n.texImage2D(e.TEXTURE_2D,0,_,d.width,d.height,0,f,g,null)}else if(i.isDataTexture)if(b.length>0&&p){for(var x=0,w=b.length;x<w;x++)v=b[x],n.texImage2D(e.TEXTURE_2D,x,f,v.width,v.height,0,f,g,v.data);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,d.width,d.height,0,f,g,d.data);else if(i.isCompressedTexture)for(var x=0,w=b.length;x<w;x++)v=b[x],i.format!==_o&&i.format!==bo?n.getCompressedTextureFormats().indexOf(f)>-1?n.compressedTexImage2D(e.TEXTURE_2D,x,f,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,x,f,v.width,v.height,0,f,g,v.data);else if(b.length>0&&p){for(var x=0,w=b.length;x<w;x++)v=b[x],n.texImage2D(e.TEXTURE_2D,x,f,f,g,v);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,f,g,d);c(i,p)&&e.generateMipmap(e.TEXTURE_2D);t.__version=i.version,i.onUpdate&&i.onUpdate(i)}(d,t,u);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,d.__webglTexture)}function m(n,o,a){var l;if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,s.convert(o.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,s.convert(o.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,s.convert(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,s.convert(o.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o.wrapS===Zs&&o.wrapT===Zs||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),e.texParameteri(n,e.TEXTURE_MAG_FILTER,u(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,u(o.minFilter)),o.minFilter!==Qs&&o.minFilter!==no&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===ho&&null===t.get("OES_texture_float_linear"))return;if(o.type===po&&null===t.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function f(t,r,o,a){var l=s.convert(r.texture.format),c=s.convert(r.texture.type);n.texImage2D(a,0,l,r.width,r.height,0,l,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,a,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function g(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function v(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),p(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===To)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==So)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var s=0;s<6;s++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[s]),n.__webglDepthbuffer[s]=e.createRenderbuffer(),g(n.__webglDepthbuffer[s],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),g(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}var y="undefined"!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext;this.setTexture2D=p,this.setTextureCube=function(t,u){var d=i.get(t);if(6===t.image.length)if(t.version>0&&d.__version!==t.version){d.__image__webglTextureCube||(t.addEventListener("dispose",h),d.__image__webglTextureCube=e.createTexture(),o.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,d.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var p=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,g=[],v=0;v<6;v++)g[v]=p||f?f?t.image[v].image:t.image[v]:a(t.image[v],r.maxCubemapSize);var y=l(g[0]),b=s.convert(t.format),_=s.convert(t.type);for(m(e.TEXTURE_CUBE_MAP,t,y),v=0;v<6;v++)if(p)for(var x,w=g[v].mipmaps,E=0,T=w.length;E<T;E++)x=w[E],t.format!==_o&&t.format!==bo?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,b,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,b,x.width,x.height,0,b,_,x.data);else f?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,b,g[v].width,g[v].height,0,b,_,g[v].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,b,b,_,g[v]);c(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),d.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,d.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,i.get(t).__webglTexture)},this.setupRenderTarget=function(t){var r=i.get(t),s=i.get(t.texture);t.addEventListener("dispose",d),s.__webglTexture=e.createTexture(),o.textures++;var a=!0===t.isWebGLRenderTargetCube,u=l(t);if(a){r.__webglFramebuffer=[];for(var h=0;h<6;h++)r.__webglFramebuffer[h]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(a){for(n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture),m(e.TEXTURE_CUBE_MAP,t.texture,u),h=0;h<6;h++)f(r.__webglFramebuffer[h],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+h);c(t.texture,u)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,s.__webglTexture),m(e.TEXTURE_2D,t.texture,u),f(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),c(t.texture,u)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&v(t)},this.updateRenderTargetMipmap=function(t){var r=t.texture;if(c(r,l(t))){var s=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=i.get(r).__webglTexture;n.bindTexture(s,o),e.generateMipmap(s),n.bindTexture(s,null)}}}function Je(e,t,n,i){ue.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Qe(e){Je.call(this),this.cameras=e||[]}function et(e,t){return{convert:function(n){var i;if(n===Ks)return e.REPEAT;if(n===Zs)return e.CLAMP_TO_EDGE;if(n===Js)return e.MIRRORED_REPEAT;if(n===Qs)return e.NEAREST;if(n===eo)return e.NEAREST_MIPMAP_NEAREST;if(n===to)return e.NEAREST_MIPMAP_LINEAR;if(n===no)return e.LINEAR;if(n===io)return e.LINEAR_MIPMAP_NEAREST;if(n===ro)return e.LINEAR_MIPMAP_LINEAR;if(n===so)return e.UNSIGNED_BYTE;if(n===mo)return e.UNSIGNED_SHORT_4_4_4_4;if(n===fo)return e.UNSIGNED_SHORT_5_5_5_1;if(n===go)return e.UNSIGNED_SHORT_5_6_5;if(n===oo)return e.BYTE;if(n===ao)return e.SHORT;if(n===lo)return e.UNSIGNED_SHORT;if(n===co)return e.INT;if(n===uo)return e.UNSIGNED_INT;if(n===ho)return e.FLOAT;if(n===po&&null!==(i=t.get("OES_texture_half_float")))return i.HALF_FLOAT_OES;if(n===yo)return e.ALPHA;if(n===bo)return e.RGB;if(n===_o)return e.RGBA;if(n===xo)return e.LUMINANCE;if(n===wo)return e.LUMINANCE_ALPHA;if(n===To)return e.DEPTH_COMPONENT;if(n===So)return e.DEPTH_STENCIL;if(n===us)return e.FUNC_ADD;if(n===hs)return e.FUNC_SUBTRACT;if(n===ds)return e.FUNC_REVERSE_SUBTRACT;if(n===fs)return e.ZERO;if(n===gs)return e.ONE;if(n===vs)return e.SRC_COLOR;if(n===ys)return e.ONE_MINUS_SRC_COLOR;if(n===bs)return e.SRC_ALPHA;if(n===_s)return e.ONE_MINUS_SRC_ALPHA;if(n===xs)return e.DST_ALPHA;if(n===ws)return e.ONE_MINUS_DST_ALPHA;if(n===Es)return e.DST_COLOR;if(n===Ts)return e.ONE_MINUS_DST_COLOR;if(n===Ss)return e.SRC_ALPHA_SATURATE;if((n===ko||n===Ao||n===Co||n===Mo)&&null!==(i=t.get("WEBGL_compressed_texture_s3tc"))){if(n===ko)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ao)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Co)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Mo)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===Ro||n===Lo||n===Po||n===Oo)&&null!==(i=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===Ro)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Lo)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Po)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Oo)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Do&&null!==(i=t.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((n===ps||n===ms)&&null!==(i=t.get("EXT_blend_minmax"))){if(n===ps)return i.MIN_EXT;if(n===ms)return i.MAX_EXT}return n===vo&&null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:0}}}function tt(e){function t(){return null===I?J:1}function n(){(ve=new function(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=e.getExtension("WEBGL_compressed_texture_etc1");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}(fe)).get("WEBGL_depth_texture"),ve.get("OES_texture_float"),ve.get("OES_texture_float_linear"),ve.get("OES_texture_half_float"),ve.get("OES_texture_half_float_linear"),ve.get("OES_standard_derivatives"),ve.get("OES_element_index_uint"),ve.get("ANGLE_instanced_arrays"),$e=new et(fe,ve),ye=new function(e,t,n){function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var r,s=void 0!==n.precision?n.precision:"highp",o=i(s);o!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",o,"instead."),s=o);var a=!0===n.logarithmicDepthBuffer,l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),f=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,v=!!t.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:s,logarithmicDepthBuffer:a,maxTextures:l,maxVertexTextures:c,maxTextureSize:u,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:f,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}(fe,ve,e),(_e=new function(e,t,n){function i(t,n,i){var r=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<i;o++)e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return s}function r(t){!0!==b[t]&&(e.enable(t),b[t]=!0)}function s(t){!1!==b[t]&&(e.disable(t),b[t]=!1)}function o(t,i,o,a,l,c,u,h){if(t!==rs?r(e.BLEND):s(e.BLEND),t!==cs){if(t!==w||h!==M)switch(t){case os:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case as:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case ls:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}E=null,T=null,S=null,k=null,A=null,C=null}else l=l||i,c=c||o,u=u||a,i===E&&l===k||(e.blendEquationSeparate(n.convert(i),n.convert(l)),E=i,k=l),o===T&&a===S&&c===A&&u===C||(e.blendFuncSeparate(n.convert(o),n.convert(a),n.convert(c),n.convert(u)),T=o,S=a,A=c,C=u);w=t,M=h}function a(t){R!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),R=t)}function l(t){t!==Ur?(r(e.CULL_FACE),t!==L&&(t===Vr?e.cullFace(e.BACK):t===Gr?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):s(e.CULL_FACE),L=t}function c(t,n,i){t?(r(e.POLYGON_OFFSET_FILL),O===n&&D===i||(e.polygonOffset(n,i),O=n,D=i)):s(e.POLYGON_OFFSET_FILL)}function h(t){void 0===t&&(t=e.TEXTURE0+F-1),B!==t&&(e.activeTexture(t),B=t)}var d=new function(){var t=!1,n=new u,i=null,r=new u(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,s,o,a){!0===a&&(t*=o,i*=o,s*=o),n.set(t,i,s,o),!1===r.equals(n)&&(e.clearColor(t,i,s,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},p=new function(){var t=!1,n=null,i=null,o=null;return{setTest:function(t){t?r(e.DEPTH_TEST):s(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case ks:e.depthFunc(e.NEVER);break;case As:e.depthFunc(e.ALWAYS);break;case Cs:e.depthFunc(e.LESS);break;case Ms:e.depthFunc(e.LEQUAL);break;case Rs:e.depthFunc(e.EQUAL);break;case Ls:e.depthFunc(e.GEQUAL);break;case Ps:e.depthFunc(e.GREATER);break;case Os:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);i=t}},setLocked:function(e){t=e},setClear:function(t){o!==t&&(e.clearDepth(t),o=t)},reset:function(){t=!1,n=null,i=null,o=null}}},m=new function(){var t=!1,n=null,i=null,o=null,a=null,l=null,c=null,u=null,h=null;return{setTest:function(t){t?r(e.STENCIL_TEST):s(e.STENCIL_TEST)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,r){i===t&&o===n&&a===r||(e.stencilFunc(t,n,r),i=t,o=n,a=r)},setOp:function(t,n,i){l===t&&c===n&&u===i||(e.stencilOp(t,n,i),l=t,c=n,u=i)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,n=null,i=null,o=null,a=null,l=null,c=null,u=null,h=null}}},f=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),v=new Uint8Array(f),y=new Uint8Array(f),b={},_=null,x=null,w=null,E=null,T=null,S=null,k=null,A=null,C=null,M=!1,R=null,L=null,P=null,O=null,D=null,F=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),N=parseFloat(I)>=1,B=null,j={},z=new u,U=new u,V={};return V[e.TEXTURE_2D]=i(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=i(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),d.setClear(0,0,0,1),p.setClear(1),m.setClear(0),r(e.DEPTH_TEST),p.setFunc(Ms),a(!1),l(Vr),r(e.CULL_FACE),r(e.BLEND),o(ss),{buffers:{color:d,depth:p,stencil:m},initAttributes:function(){for(var e=0,t=g.length;e<t;e++)g[e]=0},enableAttribute:function(n){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),0!==y[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),y[n]=0)},enableAttributeAndDivisor:function(n,i){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),y[n]!==i&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,i),y[n]=i)},disableUnusedAttributes:function(){for(var t=0,n=v.length;t!==n;++t)v[t]!==g[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:r,disable:s,getCompressedTextureFormats:function(){if(null===_&&(_=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)_.push(n[i]);return _},useProgram:function(t){return x!==t&&(e.useProgram(t),x=t,!0)},setBlending:o,setMaterial:function(t){t.side===Jr?s(e.CULL_FACE):r(e.CULL_FACE),a(t.side===Zr),!0===t.transparent?o(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):o(rs),p.setFunc(t.depthFunc),p.setTest(t.depthTest),p.setMask(t.depthWrite),d.setMask(t.colorWrite),c(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:a,setCullFace:l,setLineWidth:function(t){t!==P&&(N&&e.lineWidth(t),P=t)},setPolygonOffset:c,setScissorTest:function(t){t?r(e.SCISSOR_TEST):s(e.SCISSOR_TEST)},activeTexture:h,bindTexture:function(t,n){null===B&&h();var i=j[B];void 0===i&&(i={type:void 0,texture:void 0},j[B]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||V[t]),i.type=t,i.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);b={},_=null,B=null,j={},x=null,w=null,R=null,L=null,d.reset(),p.reset(),m.reset()}}}(fe,ve,$e)).scissor(G.copy(ee).multiplyScalar(J)),_e.viewport(V.copy(Q).multiplyScalar(J)),we=new function(){var e={};return{get:function(t){var n=t.uuid,i=e[n];return void 0===i&&(i={},e[n]=i),i},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}},Ee=new Ze(fe,ve,_e,we,ye,$e,pe),Te=new oe(fe),Ae=new function(e,t,n){function i(e){var o=e.target,a=r[o.id];null!==a.index&&t.remove(a.index);for(var l in a.attributes)t.remove(a.attributes[l]);o.removeEventListener("dispose",i),delete r[o.id];var c=s[o.id];c&&(t.remove(c),delete s[o.id]),(c=s[a.id])&&(t.remove(c),delete s[a.id]),n.geometries--}var r={},s={};return{get:function(e,t){var s=r[t.id];return s||(t.addEventListener("dispose",i),t.isBufferGeometry?s=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ke).setFromObject(e)),s=t._bufferGeometry),r[t.id]=s,n.geometries++,s)},update:function(n){var i=n.index,r=n.attributes;null!==i&&t.update(i,e.ELEMENT_ARRAY_BUFFER);for(var s in r)t.update(r[s],e.ARRAY_BUFFER);var o=n.morphAttributes;for(var s in o)for(var a=o[s],l=0,c=a.length;l<c;l++)t.update(a[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var i=s[n.id];if(i)return i;var r=[],o=n.index,a=n.attributes;if(null!==o)for(var l=0,c=(p=o.array).length;l<c;l+=3){var u=p[l+0],h=p[l+1],d=p[l+2];r.push(u,h,h,d,d,u)}else{var p;for(l=0,c=(p=a.position.array).length/3-1;l<c;l+=3)u=l+0,h=l+1,d=l+2,r.push(u,h,h,d,d,u)}return i=new(Se(r)>65535?xe:be)(r,1),t.update(i,e.ELEMENT_ARRAY_BUFFER),s[n.id]=i,i}}}(fe,Te,pe),Me=new function(e,t){var n={};return{update:function(i){var r=t.frame,s=i.geometry,o=e.get(i,s);return n[o.id]!==r&&(s.isGeometry&&o.updateFromObject(i),e.update(o),n[o.id]=r),o},clear:function(){n={}}}}(Ae,me),Be=new function(e){var t={},n=new Float32Array(8);return{update:function(i,r,s,o){var a=i.morphTargetInfluences,l=a.length,c=t[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[r.id]=c}var h=s.morphTargets&&r.morphAttributes.position,d=s.morphNormals&&r.morphAttributes.normal;for(u=0;u<l;u++)0!==(p=c[u])[1]&&(h&&r.removeAttribute("morphTarget"+u),d&&r.removeAttribute("morphNormal"+u));for(u=0;u<l;u++)(p=c[u])[0]=u,p[1]=a[u];for(c.sort(ze),u=0;u<8;u++){var p;if(p=c[u]){var m=p[0],f=p[1];if(f){h&&r.addAttribute("morphTarget"+u,h[m]),d&&r.addAttribute("morphNormal"+u,d[m]),n[u]=f;continue}}n[u]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}(fe),De=new Ke(D,ve,ye),Oe=new Ue,Fe=new je,Ne=new function(e,t,n,i){function r(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}var s,o,a,l=new q(0),c=0;return{getClearColor:function(){return l},setClearColor:function(e,t){l.set(e),r(l,c=void 0!==t?t:1)},getClearAlpha:function(){return c},setClearAlpha:function(e){r(l,c=e)},render:function(t,i,u,h){var d=i.background;null===d?r(l,c):d&&d.isColor&&(r(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&d.isCubeTexture?(void 0===a&&((a=new Ie(new Ce(1,1,1),new Pe({uniforms:ga.cube.uniforms,vertexShader:ga.cube.vertexShader,fragmentShader:ga.cube.fragmentShader,side:Zr,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(a.geometry)),a.material.uniforms.tCube.value=d,t.push(a,a.geometry,a.material,0,null)):d&&d.isTexture&&(void 0===s&&(s=new he(-1,1,1,-1,0,1),o=new Ie(new Re(2,2),new Le({depthTest:!1,depthWrite:!1,fog:!1})),n.update(o.geometry)),o.material.map=d,e.renderBufferDirect(s,null,o.geometry,o.material,o,null))}}}(D,_e,Ae,A),Ve=new function(e,t,n){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.calls++,n.vertices+=r,i===e.TRIANGLES?n.faces+=r/3:i===e.POINTS&&(n.points+=r)},this.renderInstances=function(r,s,o){var a=t.get("ANGLE_instanced_arrays");if(null!==a){var l=r.attributes.position;l.isInterleavedBufferAttribute?(o=l.data.count,a.drawArraysInstancedANGLE(i,0,o,r.maxInstancedCount)):a.drawArraysInstancedANGLE(i,s,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,i===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:i===e.POINTS&&(n.points+=r.maxInstancedCount*o)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}(fe,ve,me),Ge=new function(e,t,n){var i,r,s;this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,s=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*s),n.calls++,n.vertices+=o,i===e.TRIANGLES?n.faces+=o/3:i===e.POINTS&&(n.points+=o)},this.renderInstances=function(o,a,l){var c=t.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(i,l,r,a*s,o.maxInstancedCount),n.calls++,n.vertices+=l*o.maxInstancedCount,i===e.TRIANGLES?n.faces+=o.maxInstancedCount*l/3:i===e.POINTS&&(n.points+=o.maxInstancedCount*l)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}(fe,ve,me),He=new Y(D,fe,_e,Ee,ye),We=new Z(D,fe,_e,Ee,ye),D.info.programs=De.programs,D.context=fe,D.capabilities=ye,D.extensions=ve,D.properties=we,D.renderLists=Fe,D.state=_e}function i(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1,n()}function o(e){var t=e.target;t.removeEventListener("dispose",o),function(e){c(e),we.remove(e)}(t)}function c(e){var t=we.get(e).program;e.program=void 0,void 0!==t&&De.releaseProgram(t)}function h(e){null!==tt&&tt(e);var t=qe.getDevice();t&&t.isPresenting?t.requestAnimationFrame(h):window.requestAnimationFrame(h)}function d(e,t,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isLight)M.push(e),e.castShadow&&R.push(e);else if(e.isSprite)e.frustumCulled&&!ne.intersectsSprite(e)||P.push(e);else if(e.isLensFlare)O.push(e);else if(e.isImmediateRenderObject)n&&de.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ue),L.push(e,null,e.material,de.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||ne.intersectsObject(e))){n&&de.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ue);var i=Me.update(e),r=e.material;if(Array.isArray(r))for(var s=i.groups,o=0,a=s.length;o<a;o++){var l=s[o],c=r[l.materialIndex];c&&c.visible&&L.push(e,i,c,de.z,l)}else r.visible&&L.push(e,i,r,de.z,null)}var u=e.children;for(o=0,a=u.length;o<a;o++)d(u[o],t,n)}}function m(e,t,n,i){for(var r=0,s=e.length;r<s;r++){var o=e[r],a=o.object,l=o.geometry,c=void 0===i?o.material:i,u=o.group;if(n.isArrayCamera){U=n;for(var h=n.cameras,d=0,p=h.length;d<p;d++){var m=h[d];if(a.layers.test(m.layers)){var g=m.bounds,v=g.x*X,y=g.y*K,b=g.z*X,_=g.w*K;_e.viewport(V.set(v,y,b,_).multiplyScalar(J)),f(a,t,m,l,c,u)}}}else U=null,f(a,t,n,l,c,u)}}function f(e,t,n,i,r,s){if(e.onBeforeRender(D,t,n,i,r,s),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){_e.setMaterial(r);var o=v(n,t.fog,r,e);j="",function(e,t,n){e.render(function(e){D.renderBufferImmediate(e,t,n)})}(e,o,r)}else D.renderBufferDirect(n,t.fog,i,r,e,s);e.onAfterRender(D,t,n,i,r,s)}function g(e,t,n){var i=we.get(e),r=De.getParameters(e,Oe.state,R,t,ae.numPlanes,ae.numIntersection,n),s=De.getProgramCode(e,r),a=i.program,l=!0;if(void 0===a)e.addEventListener("dispose",o);else if(a.code!==s)c(e);else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var u=ga[r.shaderID];i.shader={name:e.type,uniforms:ma.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader),a=De.acquireProgram(e,i.shader,r,s),i.program=a,e.program=a}var h=a.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<D.maxMorphTargets;d++)h["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(d=0;d<D.maxMorphNormals;d++)h["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=ae.numPlanes,i.numIntersection=ae.numIntersection,p.clippingPlanes=ae.uniform),i.fog=t,i.lightsHash=Oe.state.hash,e.lights&&(p.ambientLightColor.value=Oe.state.ambient,p.directionalLights.value=Oe.state.directional,p.spotLights.value=Oe.state.spot,p.rectAreaLights.value=Oe.state.rectArea,p.pointLights.value=Oe.state.point,p.hemisphereLights.value=Oe.state.hemi,p.directionalShadowMap.value=Oe.state.directionalShadowMap,p.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,p.spotShadowMap.value=Oe.state.spotShadowMap,p.spotShadowMatrix.value=Oe.state.spotShadowMatrix,p.pointShadowMap.value=Oe.state.pointShadowMap,p.pointShadowMatrix.value=Oe.state.pointShadowMatrix);var m=i.program.getUniforms(),f=$.seqWithValue(m.seq,p);i.uniformsList=f}function v(e,t,n,i){W=0;var r=we.get(n);if(le&&(ce||e!==z)){var s=e===z&&n.id===B;ae.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,s)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:n.lights&&r.lightsHash!==Oe.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===ae.numPlanes&&r.numIntersection===ae.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(g(n,t,i),n.needsUpdate=!1);var o=!1,a=!1,l=!1,c=r.program,u=c.getUniforms(),h=r.shader.uniforms;if(_e.useProgram(c.program)&&(o=!0,a=!0,l=!0),n.id!==B&&(B=n.id,a=!0),o||e!==z){if(u.setValue(fe,"projectionMatrix",e.projectionMatrix),ye.logarithmicDepthBuffer&&u.setValue(fe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),z!==(U||e)&&(z=U||e,a=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var d=u.map.cameraPosition;void 0!==d&&d.setValue(fe,de.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&u.setValue(fe,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){u.setOptional(fe,i,"bindMatrix"),u.setOptional(fe,i,"bindMatrixInverse");var m=i.skeleton;if(m){var f=m.bones;if(ye.floatVertexTextures){if(void 0===m.boneTexture){var v=Math.sqrt(4*f.length);v=ia.ceilPowerOfTwo(v),v=Math.max(v,4);var x=new Float32Array(v*v*4);x.set(m.boneMatrices);var w=new p(x,v,v,_o,ho);m.boneMatrices=x,m.boneTexture=w,m.boneTextureSize=v}u.setValue(fe,"boneTexture",m.boneTexture),u.setValue(fe,"boneTextureSize",m.boneTextureSize)}else u.setOptional(fe,m,"boneMatrices")}}return a&&(u.setValue(fe,"toneMappingExposure",D.toneMappingExposure),u.setValue(fe,"toneMappingWhitePoint",D.toneMappingWhitePoint),n.lights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(h,l),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(h,t),n.isMeshBasicMaterial?y(h,n):n.isMeshLambertMaterial?(y(h,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(h,n)):n.isMeshPhongMaterial?(y(h,n),n.isMeshToonMaterial?function(e,t){b(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(h,n):b(h,n)):n.isMeshStandardMaterial?(y(h,n),n.isMeshPhysicalMaterial?function(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,_(e,t)}(h,n):_(h,n)):n.isMeshDepthMaterial?(y(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isMeshDistanceMaterial?(y(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(h,n)):n.isMeshNormalMaterial?(y(h,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(h,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(h,n)):n.isPointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*J,e.scale.value=.5*K,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,i=t.map.repeat,r=t.map.rotation,s=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,s.x,s.y)}e.uvTransform.value.copy(t.map.matrix)}}(h,n):n.isShadowMaterial&&(h.color.value=n.color,h.opacity.value=n.opacity),void 0!==h.ltcMat&&(h.ltcMat.value=pa.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=pa.LTC_MAG_TEXTURE),$.upload(fe,r.uniformsList,h,D)),u.setValue(fe,"modelViewMatrix",i.modelViewMatrix),u.setValue(fe,"normalMatrix",i.normalMatrix),u.setValue(fe,"modelMatrix",i.matrixWorld),c}function y(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var i=n.offset,r=n.repeat,s=n.rotation,o=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,s,o.x,o.y)}e.uvTransform.value.copy(n.matrix)}}function b(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function _(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}console.log("THREE.WebGLRenderer",jr);var x=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),w=void 0!==e.context?e.context:null,E=void 0!==e.alpha&&e.alpha,T=void 0===e.depth||e.depth,S=void 0===e.stencil||e.stencil,k=void 0!==e.antialias&&e.antialias,A=void 0===e.premultipliedAlpha||e.premultipliedAlpha,C=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,M=[],R=[],L=null,P=[],O=[];this.domElement=x,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Bs,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var D=this,F=!1,I=null,N=null,B=-1,j="",z=null,U=null,V=new u,G=new u,H=null,W=0,X=x.width,K=x.height,J=1,Q=new u(0,0,X,K),ee=new u(0,0,X,K),te=!1,ne=new re,ae=new function(){function e(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function t(e,t,i,r){var s=null!==e?e.length:0,o=null;if(0!==s){if(o=u.value,!0!==r||null===o){var l=i+4*s,h=t.matrixWorldInverse;c.getNormalMatrix(h),(null===o||o.length<l)&&(o=new Float32Array(l));for(var d=0,p=i;d!==s;++d,p+=4)a.copy(e[d]).applyMatrix4(h,c),a.normal.toArray(o,p),o[p+3]=a.constant}u.value=o,u.needsUpdate=!0}return n.numPlanes=s,o}var n=this,i=null,r=0,s=!1,o=!1,a=new ie,c=new l,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,o){var a=0!==e.length||n||0!==r||s;return s=n,i=t(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,t(null)},this.endShadows=function(){o=!1,e()},this.setState=function(n,a,l,c,h,d){if(!s||null===n||0===n.length||o&&!l)o?t(null):e();else{var p=o?0:r,m=4*p,f=h.clippingState||null;u.value=f,f=t(n,c,m,d);for(var g=0;g!==m;++g)f[g]=i[g];h.clippingState=f,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}},le=!1,ce=!1,ue=new s,de=new a,pe={geometries:0,textures:0},me={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:me,memory:pe,programs:null};var fe;try{var ge={alpha:E,depth:T,stencil:S,antialias:k,premultipliedAlpha:A,preserveDrawingBuffer:C};if(null===(fe=w||x.getContext("webgl",ge)||x.getContext("experimental-webgl",ge)))throw null!==x.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===fe.getShaderPrecisionFormat&&(fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),x.addEventListener("webglcontextlost",i,!1),x.addEventListener("webglcontextrestored",r,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var ve,ye,_e,we,Ee,Te,Ae,Me,Oe,De,Fe,Ne,Be,Ve,Ge,He,We,$e;n();var qe=new function(e){function t(){if(null!==i&&i.isPresenting){var t=i.getEyeParameters("left"),r=t.renderWidth,s=t.renderHeight;m=e.getPixelRatio(),p=e.getSize(),e.setDrawingBufferSize(2*r,s,1)}else n.enabled&&e.setDrawingBufferSize(p.width,p.height,m)}var n=this,i=null,r=null;"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData);var o=new s,a=new s,l=new s,c=new Je;c.bounds=new u(0,0,.5,1),c.layers.enable(1);var h=new Je;h.bounds=new u(.5,0,.5,1),h.layers.enable(2);var d=new Qe([c,h]);d.layers.enable(1),d.layers.enable(2);var p,m;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){if(null===i)return e;i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(r);var t=r.pose;null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld();var n=i.stageParameters;if(this.standing&&n&&(a.fromArray(n.sittingToStandingTransform),l.getInverse(a),e.matrixWorld.multiply(a),e.matrixWorldInverse.multiply(l)),!1===i.isPresenting)return e;c.near=e.near,h.near=e.near,c.far=e.far,h.far=e.far,d.matrixWorld.copy(e.matrixWorld),d.matrixWorldInverse.copy(e.matrixWorldInverse),c.matrixWorldInverse.fromArray(r.leftViewMatrix),h.matrixWorldInverse.fromArray(r.rightViewMatrix),this.standing&&n&&(c.matrixWorldInverse.multiply(l),h.matrixWorldInverse.multiply(l));var s=e.parent;null!==s&&(o.getInverse(s.matrixWorld),c.matrixWorldInverse.multiply(o),h.matrixWorldInverse.multiply(o)),c.matrixWorld.getInverse(c.matrixWorldInverse),h.matrixWorld.getInverse(h.matrixWorldInverse),c.projectionMatrix.fromArray(r.leftProjectionMatrix),h.projectionMatrix.fromArray(r.rightProjectionMatrix),d.projectionMatrix.copy(c.projectionMatrix);var u=i.getLayers();if(u.length){var p=u[0];null!==p.leftBounds&&4===p.leftBounds.length&&c.bounds.fromArray(p.leftBounds),null!==p.rightBounds&&4===p.rightBounds.length&&h.bounds.fromArray(p.rightBounds)}return d},this.getStandingMatrix=function(){return a},this.submitFrame=function(){i&&i.isPresenting&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}(D);this.vr=qe;var Xe=new se(D,Me,ye.maxTextureSize);this.shadowMap=Xe,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){var e=ve.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ve.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(e){void 0!==e&&(J=e,this.setSize(X,K,!1))},this.getSize=function(){return{width:X,height:K}},this.setSize=function(e,t,n){var i=qe.getDevice();i&&i.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(X=e,K=t,x.width=e*J,x.height=t*J,!1!==n&&(x.style.width=e+"px",x.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:X*J,height:K*J}},this.setDrawingBufferSize=function(e,t,n){X=e,K=t,J=n,x.width=e*n,x.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,i){Q.set(e,K-t-i,n,i),_e.viewport(V.copy(Q).multiplyScalar(J))},this.setScissor=function(e,t,n,i){ee.set(e,K-t-i,n,i),_e.scissor(G.copy(ee).multiplyScalar(J))},this.setScissorTest=function(e){_e.setScissorTest(te=e)},this.getClearColor=function(){return Ne.getClearColor()},this.setClearColor=function(){Ne.setClearColor.apply(Ne,arguments)},this.getClearAlpha=function(){return Ne.getClearAlpha()},this.setClearAlpha=function(){Ne.setClearAlpha.apply(Ne,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=fe.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=fe.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=fe.STENCIL_BUFFER_BIT),fe.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){x.removeEventListener("webglcontextlost",i,!1),x.removeEventListener("webglcontextrestored",r,!1),Fe.dispose(),qe.dispose()},this.renderBufferImmediate=function(e,t,n){_e.initAttributes();var i=we.get(e);e.hasPositions&&!i.position&&(i.position=fe.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=fe.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=fe.createBuffer()),e.hasColors&&!i.color&&(i.color=fe.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(fe.bindBuffer(fe.ARRAY_BUFFER,i.position),fe.bufferData(fe.ARRAY_BUFFER,e.positionArray,fe.DYNAMIC_DRAW),_e.enableAttribute(r.position),fe.vertexAttribPointer(r.position,3,fe.FLOAT,!1,0,0)),e.hasNormals){if(fe.bindBuffer(fe.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var s=0,o=3*e.count;s<o;s+=9){var a=e.normalArray,l=(a[s+0]+a[s+3]+a[s+6])/3,c=(a[s+1]+a[s+4]+a[s+7])/3,u=(a[s+2]+a[s+5]+a[s+8])/3;a[s+0]=l,a[s+1]=c,a[s+2]=u,a[s+3]=l,a[s+4]=c,a[s+5]=u,a[s+6]=l,a[s+7]=c,a[s+8]=u}fe.bufferData(fe.ARRAY_BUFFER,e.normalArray,fe.DYNAMIC_DRAW),_e.enableAttribute(r.normal),fe.vertexAttribPointer(r.normal,3,fe.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(fe.bindBuffer(fe.ARRAY_BUFFER,i.uv),fe.bufferData(fe.ARRAY_BUFFER,e.uvArray,fe.DYNAMIC_DRAW),_e.enableAttribute(r.uv),fe.vertexAttribPointer(r.uv,2,fe.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==ts&&(fe.bindBuffer(fe.ARRAY_BUFFER,i.color),fe.bufferData(fe.ARRAY_BUFFER,e.colorArray,fe.DYNAMIC_DRAW),_e.enableAttribute(r.color),fe.vertexAttribPointer(r.color,3,fe.FLOAT,!1,0,0)),_e.disableUnusedAttributes(),fe.drawArrays(fe.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,i,r,s,o){_e.setMaterial(r);var a=v(e,n,r,s),l=i.id+"_"+a.id+"_"+(!0===r.wireframe),c=!1;l!==j&&(j=l,c=!0),s.morphTargetInfluences&&(Be.update(s,i,r,a),c=!0);var u=i.index,h=i.attributes.position,d=1;!0===r.wireframe&&(u=Ae.getWireframeAttribute(i),d=2);var p,m=Ve;null!==u&&(p=Te.get(u),(m=Ge).setIndex(p)),c&&(!function(e,t,n,i){if(n&&n.isInstancedBufferGeometry&&null===ve.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===i&&(i=0),_e.initAttributes();var r=n.attributes,s=t.getAttributes(),o=e.defaultAttributeValues;for(var a in s){var l=s[a];if(l>=0){var c=r[a];if(void 0!==c){var u=c.normalized,h=c.itemSize,d=Te.get(c);if(void 0===d)continue;var p=d.buffer,m=d.type,f=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,v=g.stride,y=c.offset;g&&g.isInstancedInterleavedBuffer?(_e.enableAttributeAndDivisor(l,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):_e.enableAttribute(l),fe.bindBuffer(fe.ARRAY_BUFFER,p),fe.vertexAttribPointer(l,h,m,u,v*f,(i*v+y)*f)}else c.isInstancedBufferAttribute?(_e.enableAttributeAndDivisor(l,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):_e.enableAttribute(l),fe.bindBuffer(fe.ARRAY_BUFFER,p),fe.vertexAttribPointer(l,h,m,u,0,i*h*f)}else if(void 0!==o){var b=o[a];if(void 0!==b)switch(b.length){case 2:fe.vertexAttrib2fv(l,b);break;case 3:fe.vertexAttrib3fv(l,b);break;case 4:fe.vertexAttrib4fv(l,b);break;default:fe.vertexAttrib1fv(l,b)}}}}_e.disableUnusedAttributes()}}(r,a,i),null!==u&&fe.bindBuffer(fe.ELEMENT_ARRAY_BUFFER,p.buffer));var f=0;null!==u?f=u.count:void 0!==h&&(f=h.count);var g=i.drawRange.start*d,y=i.drawRange.count*d,b=null!==o?o.start*d:0,_=null!==o?o.count*d:1/0,x=Math.max(g,b),w=Math.min(f,g+y,b+_)-1,E=Math.max(0,w-x+1);if(0!==E){if(s.isMesh)if(!0===r.wireframe)_e.setLineWidth(r.wireframeLinewidth*t()),m.setMode(fe.LINES);else switch(s.drawMode){case Ho:m.setMode(fe.TRIANGLES);break;case Wo:m.setMode(fe.TRIANGLE_STRIP);break;case $o:m.setMode(fe.TRIANGLE_FAN)}else if(s.isLine){var T=r.linewidth;void 0===T&&(T=1),_e.setLineWidth(T*t()),s.isLineSegments?m.setMode(fe.LINES):s.isLineLoop?m.setMode(fe.LINE_LOOP):m.setMode(fe.LINE_STRIP)}else s.isPoints&&m.setMode(fe.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&m.renderInstances(i,x,E):m.render(x,E)}},this.compile=function(e,t){M.length=0,R.length=0,e.traverse(function(e){e.isLight&&(M.push(e),e.castShadow&&R.push(e))}),Oe.setup(M,R,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)g(t.material[n],e.fog,t);else g(t.material,e.fog,t)})};var Ye=!1,tt=null;this.animate=function(e){tt=e,function(){if(!Ye){var e=qe.getDevice();e&&e.isPresenting?e.requestAnimationFrame(h):window.requestAnimationFrame(h),Ye=!0}}()},this.render=function(e,t,n,i){if(t&&t.isCamera){if(!F){j="",B=-1,z=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),qe.enabled&&(t=qe.getCamera(t)),ue.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ne.setFromMatrix(ue),M.length=0,R.length=0,P.length=0,O.length=0,ce=this.localClippingEnabled,le=ae.init(this.clippingPlanes,ce,t),(L=Fe.get(e,t)).init(),d(e,t,D.sortObjects),!0===D.sortObjects&&L.sort(),le&&ae.beginShadows(),Xe.render(R,e,t),Oe.setup(M,R,t),le&&ae.endShadows(),me.frame++,me.calls=0,me.vertices=0,me.faces=0,me.points=0,void 0===n&&(n=null),this.setRenderTarget(n),Ne.render(L,e,t,i);var r=L.opaque,s=L.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;r.length&&m(r,e,t,o),s.length&&m(s,e,t,o)}else r.length&&m(r,e,t),s.length&&m(s,e,t);We.render(P,e,t),He.render(O,e,t,V),n&&Ee.updateRenderTargetMipmap(n),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1),qe.enabled&&qe.submitFrame()}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(e,t){_e.setCullFace(e),_e.setFlipSided(t===Wr)},this.allocTextureUnit=function(){var e=W;return e>=ye.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+ye.maxTextures),W+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Ee.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),Ee.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Ee.setTextureCube(t,n):Ee.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return I},this.setRenderTarget=function(e){I=e,e&&void 0===we.get(e).__webglFramebuffer&&Ee.setupRenderTarget(e);var t=null,n=!1;if(e){var i=we.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=i[e.activeCubeFace],n=!0):t=i,V.copy(e.viewport),G.copy(e.scissor),H=e.scissorTest}else V.copy(Q).multiplyScalar(J),G.copy(ee).multiplyScalar(J),H=te;if(N!==t&&(fe.bindFramebuffer(fe.FRAMEBUFFER,t),N=t),_e.viewport(V),_e.scissor(G),_e.setScissorTest(H),n){var r=we.get(e.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,r,s){if(e&&e.isWebGLRenderTarget){var o=we.get(e).__webglFramebuffer;if(o){var a=!1;o!==N&&(fe.bindFramebuffer(fe.FRAMEBUFFER,o),a=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==_o&&$e.convert(c)!==fe.getParameter(fe.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===so||$e.convert(u)===fe.getParameter(fe.IMPLEMENTATION_COLOR_READ_TYPE)||u===ho&&(ve.get("OES_texture_float")||ve.get("WEBGL_color_buffer_float"))||u===po&&ve.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");fe.checkFramebufferStatus(fe.FRAMEBUFFER)===fe.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&fe.readPixels(t,n,i,r,$e.convert(c),$e.convert(u),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&fe.bindFramebuffer(fe.FRAMEBUFFER,N)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function nt(e,t){this.name="",this.color=new q(e),this.density=void 0!==t?t:25e-5}function it(e,t,n){this.name="",this.color=new q(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function rt(){ce.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function st(e,t,n,i,r){ce.call(this),this.lensFlares=[],this.positionScreen=new a,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,i,r)}function ot(e){J.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function at(e){ce.call(this),this.type="Sprite",this.material=void 0!==e?e:new ot}function lt(){ce.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ct(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new s)}}function ut(){ce.call(this),this.type="Bone"}function ht(e,t){Ie.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new s,this.bindMatrixInverse=new s;var n=new ct(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function dt(e){J.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function pt(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new mt(e,t);ce.call(this),this.type="Line",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new dt({color:16777215*Math.random()})}function mt(e,t){pt.call(this,e,t),this.type="LineSegments"}function ft(e,t){pt.call(this,e,t),this.type="LineLoop"}function gt(e){J.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function vt(e,t){ce.call(this),this.type="Points",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new gt({color:16777215*Math.random()})}function yt(){ce.call(this),this.type="Group"}function bt(e,t,n,i,r,s,o,a,l){function u(){var e=h.image;e.readyState>=e.HAVE_CURRENT_DATA&&(h.needsUpdate=!0),requestAnimationFrame(u)}c.call(this,e,t,n,i,r,s,o,a,l),this.generateMipmaps=!1;var h=this;requestAnimationFrame(u)}function _t(e,t,n,i,r,s,o,a,l,u,h,d){c.call(this,null,s,o,a,l,u,i,r,h,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function xt(e,t,n,i,r,s,o,a,l,u){if((u=void 0!==u?u:To)!==To&&u!==So)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===To&&(n=lo),void 0===n&&u===So&&(n=vo),c.call(this,null,i,r,s,o,a,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Qs,this.minFilter=void 0!==a?a:Qs,this.flipY=!1,this.generateMipmaps=!1}function wt(e){ke.call(this),this.type="WireframeGeometry";var t,n,i,r,s,o,l,c,u,h,d=[],p=[0,0],m={},f=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,i=g.length;t<i;t++){var v=g[t];for(n=0;n<3;n++)l=v[f[n]],c=v[f[(n+1)%3]],p[0]=Math.min(l,c),p[1]=Math.max(l,c),void 0===m[u=p[0]+","+p[1]]&&(m[u]={index1:p[0],index2:p[1]})}for(u in m)o=m[u],h=e.vertices[o.index1],d.push(h.x,h.y,h.z),h=e.vertices[o.index2],d.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,b,_,x,w,E,T;if(h=new a,null!==e.index){for(y=e.attributes.position,b=e.index,0===(_=e.groups).length&&(_=[{start:0,count:b.count,materialIndex:0}]),r=0,s=_.length;r<s;++r)for(t=w=(x=_[r]).start,i=w+x.count;t<i;t+=3)for(n=0;n<3;n++)l=b.getX(t+n),c=b.getX(t+(n+1)%3),p[0]=Math.min(l,c),p[1]=Math.max(l,c),void 0===m[u=p[0]+","+p[1]]&&(m[u]={index1:p[0],index2:p[1]});for(u in m)o=m[u],h.fromBufferAttribute(y,o.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,o.index2),d.push(h.x,h.y,h.z)}else for(t=0,i=(y=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)E=3*t+n,h.fromBufferAttribute(y,E),d.push(h.x,h.y,h.z),T=3*t+(n+1)%3,h.fromBufferAttribute(y,T),d.push(h.x,h.y,h.z)}this.addAttribute("position",new we(d,3))}function Et(e,t,n){pe.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Tt(e,t,n)),this.mergeVertices()}function Tt(e,t,n){ke.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,s=[],o=[],l=[],c=[],u=new a,h=new a,d=new a,p=new a,m=new a,f=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var v=r/t;h=e(v,g,h),o.push(h.x,h.y,h.z),v-1e-5>=0?(d=e(v-1e-5,g,d),p.subVectors(h,d)):(d=e(v+1e-5,g,d),p.subVectors(d,h)),g-1e-5>=0?(d=e(v,g-1e-5,d),m.subVectors(h,d)):(d=e(v,g+1e-5,d),m.subVectors(d,h)),u.crossVectors(p,m).normalize(),l.push(u.x,u.y,u.z),c.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var y=i*f+r,b=i*f+r+1,_=(i+1)*f+r+1,x=(i+1)*f+r;s.push(y,b,x),s.push(b,_,x)}this.setIndex(s),this.addAttribute("position",new we(o,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(c,2))}function St(e,t,n,i){pe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new kt(e,t,n,i)),this.mergeVertices()}function kt(e,t,n,i){function s(e){u.push(e.x,e.y,e.z)}function o(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function l(e,t,n,i){i<0&&1===e.x&&(h[t]=e.x-1),0===n.x&&0===n.z&&(h[t]=i/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}ke.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var u=[],h=[];!function(e){for(var n=new a,i=new a,r=new a,l=0;l<t.length;l+=3)o(t[l+0],n),o(t[l+1],i),o(t[l+2],r),function(e,t,n,i){var r,o,a=Math.pow(2,i),l=[];for(r=0;r<=a;r++){l[r]=[];var c=e.clone().lerp(n,r/a),u=t.clone().lerp(n,r/a),h=a-r;for(o=0;o<=h;o++)l[r][o]=0===o&&r===a?c:c.clone().lerp(u,o/h)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var d=Math.floor(o/2);o%2==0?(s(l[r][d+1]),s(l[r+1][d]),s(l[r][d])):(s(l[r][d+1]),s(l[r+1][d+1]),s(l[r+1][d]))}}(n,i,r,e)}(i=i||0),function(e){for(var t=new a,n=0;n<u.length;n+=3)t.x=u[n+0],t.y=u[n+1],t.z=u[n+2],t.normalize().multiplyScalar(e),u[n+0]=t.x,u[n+1]=t.y,u[n+2]=t.z}(n),function(){for(var e=new a,t=0;t<u.length;t+=3){e.x=u[t+0],e.y=u[t+1],e.z=u[t+2];var n=c(e)/2/Math.PI+.5,i=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;h.push(n,1-i)}!function(){for(var e=new a,t=new a,n=new a,i=new a,s=new r,o=new r,d=new r,p=0,m=0;p<u.length;p+=9,m+=6){e.set(u[p+0],u[p+1],u[p+2]),t.set(u[p+3],u[p+4],u[p+5]),n.set(u[p+6],u[p+7],u[p+8]),s.set(h[m+0],h[m+1]),o.set(h[m+2],h[m+3]),d.set(h[m+4],h[m+5]),i.copy(e).add(t).add(n).divideScalar(3);var f=c(i);l(s,m+0,e,f),l(o,m+2,t,f),l(d,m+4,n,f)}}(),function(){for(var e=0;e<h.length;e+=6){var t=h[e+0],n=h[e+2],i=h[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(h[e+0]+=1),n<.2&&(h[e+2]+=1),i<.2&&(h[e+4]+=1))}}()}(),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(u.slice(),3)),this.addAttribute("uv",new we(h,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function At(e,t){pe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ct(e,t)),this.mergeVertices()}function Ct(e,t){kt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Mt(e,t){pe.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rt(e,t)),this.mergeVertices()}function Rt(e,t){kt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Lt(e,t){pe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Pt(e,t)),this.mergeVertices()}function Pt(e,t){var n=(1+Math.sqrt(5))/2;kt.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ot(e,t){pe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Dt(e,t)),this.mergeVertices()}function Dt(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;kt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ft(e,t,n,i,r,s){pe.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new It(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function It(e,t,n,i,s){function o(r){m=e.getPointAt(r/t,m);var s=l.normals[r],o=l.binormals[r];for(u=0;u<=i;u++){var a=u/i*Math.PI*2,c=Math.sin(a),p=-Math.cos(a);d.x=p*s.x+c*o.x,d.y=p*s.y+c*o.y,d.z=p*s.z+c*o.z,d.normalize(),g.push(d.x,d.y,d.z),h.x=m.x+n*d.x,h.y=m.y+n*d.y,h.z=m.z+n*d.z,f.push(h.x,h.y,h.z)}}ke.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s},t=t||64,n=n||1,i=i||8,s=s||!1;var l=e.computeFrenetFrames(t,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var c,u,h=new a,d=new a,p=new r,m=new a,f=[],g=[],v=[],y=[];!function(){for(c=0;c<t;c++)o(c);o(!1===s?t:0),function(){for(c=0;c<=t;c++)for(u=0;u<=i;u++)p.x=c/t,p.y=u/i,v.push(p.x,p.y)}(),function(){for(u=1;u<=t;u++)for(c=1;c<=i;c++){var e=(i+1)*(u-1)+(c-1),n=(i+1)*u+(c-1),r=(i+1)*u+c,s=(i+1)*(u-1)+c;y.push(e,n,s),y.push(n,r,s)}}()}(),this.setIndex(y),this.addAttribute("position",new we(f,3)),this.addAttribute("normal",new we(g,3)),this.addAttribute("uv",new we(v,2))}function Nt(e,t,n,i,r,s,o){pe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Bt(e,t,n,i,r,s)),this.mergeVertices()}function Bt(e,t,n,i,r,s){function o(e,t,n,i,r){var s=Math.cos(e),o=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(a)*.5}ke.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;var l,c,u=[],h=[],d=[],p=[],m=new a,f=new a,g=new a,v=new a,y=new a,b=new a,_=new a;for(l=0;l<=n;++l){var x=l/n*r*Math.PI*2;for(o(x,r,s,e,g),o(x+.01,r,s,e,v),b.subVectors(v,g),_.addVectors(v,g),y.crossVectors(b,_),_.crossVectors(y,b),y.normalize(),_.normalize(),c=0;c<=i;++c){var w=c/i*Math.PI*2,E=-t*Math.cos(w),T=t*Math.sin(w);m.x=g.x+(E*_.x+T*y.x),m.y=g.y+(E*_.y+T*y.y),m.z=g.z+(E*_.z+T*y.z),h.push(m.x,m.y,m.z),f.subVectors(m,g).normalize(),d.push(f.x,f.y,f.z),p.push(l/n),p.push(c/i)}}for(c=1;c<=n;c++)for(l=1;l<=i;l++){var S=(i+1)*(c-1)+(l-1),k=(i+1)*c+(l-1),A=(i+1)*c+l,C=(i+1)*(c-1)+l;u.push(S,k,C),u.push(k,A,C)}this.setIndex(u),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(d,3)),this.addAttribute("uv",new we(p,2))}function jt(e,t,n,i,r){pe.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new zt(e,t,n,i,r)),this.mergeVertices()}function zt(e,t,n,i,r){ke.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var s,o,l=[],c=[],u=[],h=[],d=new a,p=new a,m=new a;for(s=0;s<=n;s++)for(o=0;o<=i;o++){var f=o/i*r,g=s/n*Math.PI*2;p.x=(e+t*Math.cos(g))*Math.cos(f),p.y=(e+t*Math.cos(g))*Math.sin(f),p.z=t*Math.sin(g),c.push(p.x,p.y,p.z),d.x=e*Math.cos(f),d.y=e*Math.sin(f),m.subVectors(p,d).normalize(),u.push(m.x,m.y,m.z),h.push(o/i),h.push(s/n)}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var v=(i+1)*s+o-1,y=(i+1)*(s-1)+o-1,b=(i+1)*(s-1)+o,_=(i+1)*s+o;l.push(v,y,_),l.push(y,b,_)}this.setIndex(l),this.addAttribute("position",new we(c,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(h,2))}function Ut(e,t){pe.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Vt(e,t)),this.mergeVertices()}function Vt(e,t){"undefined"!=typeof e&&(ke.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function Gt(e,t){pe.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Ht(e,t)),this.mergeVertices()}function Ht(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new pe;var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Vt.call(this,i,t),this.type="TextBufferGeometry"}function Wt(e,t,n,i,r,s,o){pe.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new $t(e,t,n,i,r,s,o)),this.mergeVertices()}function $t(e,t,n,i,r,s,o){ke.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var l,c,u=(s=void 0!==s?s:0)+(o=void 0!==o?o:Math.PI),h=0,d=[],p=new a,m=new a,f=[],g=[],v=[],y=[];for(c=0;c<=n;c++){var b=[],_=c/n;for(l=0;l<=t;l++){var x=l/t;p.x=-e*Math.cos(i+x*r)*Math.sin(s+_*o),p.y=e*Math.cos(s+_*o),p.z=e*Math.sin(i+x*r)*Math.sin(s+_*o),g.push(p.x,p.y,p.z),m.set(p.x,p.y,p.z).normalize(),v.push(m.x,m.y,m.z),y.push(x,1-_),b.push(h++)}d.push(b)}for(c=0;c<n;c++)for(l=0;l<t;l++){var w=d[c][l+1],E=d[c][l],T=d[c+1][l],S=d[c+1][l+1];(0!==c||s>0)&&f.push(w,E,S),(c!==n-1||u<Math.PI)&&f.push(E,T,S)}this.setIndex(f),this.addAttribute("position",new we(g,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(y,2))}function qt(e,t,n,i,r,s){pe.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new Xt(e,t,n,i,r,s)),this.mergeVertices()}function Xt(e,t,n,i,s,o){ke.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:o},e=e||.5,t=t||1,s=void 0!==s?s:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var l,c,u,h=[],d=[],p=[],m=[],f=e,g=(t-e)/(i=void 0!==i?Math.max(1,i):1),v=new a,y=new r;for(c=0;c<=i;c++){for(u=0;u<=n;u++)l=s+u/n*o,v.x=f*Math.cos(l),v.y=f*Math.sin(l),d.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,m.push(y.x,y.y);f+=g}for(c=0;c<i;c++){var b=c*(n+1);for(u=0;u<n;u++){var _=l=u+b,x=l+n+1,w=l+n+2,E=l+1;h.push(_,x,E),h.push(x,w,E)}}this.setIndex(h),this.addAttribute("position",new we(d,3)),this.addAttribute("normal",new we(p,3)),this.addAttribute("uv",new we(m,2))}function Yt(e,t,n,i){pe.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Kt(e,t,n,i)),this.mergeVertices()}function Kt(e,t,n,i){ke.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=ia.clamp(i,0,2*Math.PI);var s,o,l,c=[],u=[],h=[],d=1/t,p=new a,m=new r;for(o=0;o<=t;o++){var f=n+o*d*i,g=Math.sin(f),v=Math.cos(f);for(l=0;l<=e.length-1;l++)p.x=e[l].x*g,p.y=e[l].y,p.z=e[l].x*v,u.push(p.x,p.y,p.z),m.x=o/t,m.y=l/(e.length-1),h.push(m.x,m.y)}for(o=0;o<t;o++)for(l=0;l<e.length-1;l++){var y=s=l+o*e.length,b=s+e.length,_=s+e.length+1,x=s+1;c.push(y,b,x),c.push(b,_,x)}if(this.setIndex(c),this.addAttribute("position",new we(u,3)),this.addAttribute("uv",new we(h,2)),this.computeVertexNormals(),i===2*Math.PI){var w=this.attributes.normal.array,E=new a,T=new a,S=new a;for(s=t*e.length*3,o=0,l=0;o<e.length;o++,l+=3)E.x=w[l+0],E.y=w[l+1],E.z=w[l+2],T.x=w[s+l+0],T.y=w[s+l+1],T.z=w[s+l+2],S.addVectors(E,T).normalize(),w[l+0]=w[s+l+0]=S.x,w[l+1]=w[s+l+1]=S.y,w[l+2]=w[s+l+2]=S.z}}function Zt(e,t){pe.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Jt(e,t)),this.mergeVertices()}function Jt(e,t){function n(e){var n,a,c,u=r.length/3,h=e.extractPoints(t),d=h.shape,p=h.holes;if(!1===wa.isClockWise(d))for(d=d.reverse(),n=0,a=p.length;n<a;n++)c=p[n],!0===wa.isClockWise(c)&&(p[n]=c.reverse());var m=wa.triangulateShape(d,p);for(n=0,a=p.length;n<a;n++)c=p[n],d=d.concat(c);for(n=0,a=d.length;n<a;n++){var f=d[n];r.push(f.x,f.y,0),s.push(0,0,1),o.push(f.x,f.y)}for(n=0,a=m.length;n<a;n++){var g=m[n],v=g[0]+u,y=g[1]+u,b=g[2]+u;i.push(v,y,b),l+=3}}ke.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],s=[],o=[],a=0,l=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.addAttribute("position",new we(r,3)),this.addAttribute("normal",new we(s,3)),this.addAttribute("uv",new we(o,2))}function Qt(e,t){ke.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,s,o=[],a=Math.cos(ia.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(s=new pe).fromBufferGeometry(e):s=e.clone(),s.mergeVertices(),s.computeFaceNormals();for(var h=s.vertices,d=s.faces,p=0,m=d.length;p<m;p++)for(var f=d[p],g=0;g<3;g++)n=f[u[g]],i=f[u[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===c[r=l[0]+","+l[1]]?c[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[r].face2=p;for(r in c){var v=c[r];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=a){var y=h[v.index1];o.push(y.x,y.y,y.z),y=h[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new we(o,3))}function en(e,t,n,i,r,s,o,a){pe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new tn(e,t,n,i,r,s,o,a)),this.mergeVertices()}function tn(e,t,n,i,s,o,l,c){function u(n){var s,o,u,v=new r,_=new a,x=0,w=!0===n?e:t,E=!0===n?1:-1;for(o=g,s=1;s<=i;s++)p.push(0,y*E,0),m.push(0,E,0),f.push(.5,.5),g++;for(u=g,s=0;s<=i;s++){var T=s/i*c+l,S=Math.cos(T),k=Math.sin(T);_.x=w*k,_.y=y*E,_.z=w*S,p.push(_.x,_.y,_.z),m.push(0,E,0),v.x=.5*S+.5,v.y=.5*k*E+.5,f.push(v.x,v.y),g++}for(s=0;s<i;s++){var A=o+s,C=u+s;!0===n?d.push(C,C+1,A):d.push(C+1,C,A),x+=3}h.addGroup(b,x,!0===n?1:2),b+=x}ke.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};var h=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,s=Math.floor(s)||1,o=void 0!==o&&o,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var d=[],p=[],m=[],f=[],g=0,v=[],y=n/2,b=0;!function(){var r,o,u=new a,_=new a,x=0,w=(t-e)/n;for(o=0;o<=s;o++){var E=[],T=o/s,S=T*(t-e)+e;for(r=0;r<=i;r++){var k=r/i,A=k*c+l,C=Math.sin(A),M=Math.cos(A);_.x=S*C,_.y=-T*n+y,_.z=S*M,p.push(_.x,_.y,_.z),u.set(C,w,M).normalize(),m.push(u.x,u.y,u.z),f.push(k,1-T),E.push(g++)}v.push(E)}for(r=0;r<i;r++)for(o=0;o<s;o++){var R=v[o][r],L=v[o+1][r],P=v[o+1][r+1],O=v[o][r+1];d.push(R,L,O),d.push(L,P,O),x+=6}h.addGroup(b,x,0),b+=x}(),!1===o&&(e>0&&u(!0),t>0&&u(!1)),this.setIndex(d),this.addAttribute("position",new we(p,3)),this.addAttribute("normal",new we(m,3)),this.addAttribute("uv",new we(f,2))}function nn(e,t,n,i,r,s,o){en.call(this,0,e,t,n,i,r,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function rn(e,t,n,i,r,s,o){tn.call(this,0,e,t,n,i,r,s,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function sn(e,t,n,i){pe.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new on(e,t,n,i)),this.mergeVertices()}function on(e,t,n,i){ke.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var s,o,l=[],c=[],u=[],h=[],d=new a,p=new r;for(c.push(0,0,0),u.push(0,0,1),h.push(.5,.5),o=0,s=3;o<=t;o++,s+=3){var m=n+o/t*i;d.x=e*Math.cos(m),d.y=e*Math.sin(m),c.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(c[s]/e+1)/2,p.y=(c[s+1]/e+1)/2,h.push(p.x,p.y)}for(s=1;s<=t;s++)l.push(s,s+1,0);this.setIndex(l),this.addAttribute("position",new we(c,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(h,2))}function an(e){J.call(this),this.type="ShadowMaterial",this.color=new q(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function ln(e){Pe.call(this,e),this.type="RawShaderMaterial"}function cn(e){J.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function un(e){cn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function hn(e){J.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ds,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function dn(e){hn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function pn(e){J.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function mn(e){J.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ds,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function fn(e){dt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function gn(e,t,n){var i=this,r=!1,s=0,o=0,a=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,s,o),r=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,o),s===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){a=e}}function vn(e){this.manager=void 0!==e?e:ka}function yn(e){this.manager=void 0!==e?e:ka,this._parser=null}function bn(e){this.manager=void 0!==e?e:ka,this._parser=null}function _n(e){this.manager=void 0!==e?e:ka}function xn(e){this.manager=void 0!==e?e:ka}function wn(e){this.manager=void 0!==e?e:ka}function En(e,t){ce.call(this),this.type="Light",this.color=new q(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Tn(e,t,n){En.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ce.DefaultUp),this.updateMatrix(),this.groundColor=new q(t)}function Sn(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new s}function kn(){Sn.call(this,new Je(50,1,.5,500))}function An(e,t,n,i,r,s){En.call(this,e,t),this.type="SpotLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new kn}function Cn(e,t,n,i){En.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Sn(new Je(90,1,.5,500))}function Mn(){Sn.call(this,new he(-5,5,5,-5,.5,500))}function Rn(e,t){En.call(this,e,t),this.type="DirectionalLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,this.shadow=new Mn}function Ln(e,t){En.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Pn(e,t,n,i){En.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function On(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Dn(e,t,n,i){On.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Fn(e,t,n,i){On.call(this,e,t,n,i)}function In(e,t,n,i){On.call(this,e,t,n,i)}function Nn(e,t,n,i){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=Ca.convertArray(t,this.TimeBufferType),this.values=Ca.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function Bn(e,t,n,i){Nn.call(this,e,t,n,i)}function jn(e,t,n,i){On.call(this,e,t,n,i)}function zn(e,t,n,i){Nn.call(this,e,t,n,i)}function Un(e,t,n,i){Nn.call(this,e,t,n,i)}function Vn(e,t,n,i){Nn.call(this,e,t,n,i)}function Gn(e,t,n){Nn.call(this,e,t,n)}function Hn(e,t,n,i){Nn.call(this,e,t,n,i)}function Wn(e,t,n,i){Nn.apply(this,e,t,n,i)}function $n(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=ia.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function qn(e){this.manager=void 0!==e?e:ka,this.textures={}}function Xn(e){this.manager=void 0!==e?e:ka}function Yn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Kn(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:ka,this.withCredentials=!1}function Zn(e){this.manager=void 0!==e?e:ka,this.texturePath=""}function Jn(e,t,n,i,r){var s=.5*(i-t),o=.5*(r-n),a=e*e;return(2*n-2*i+s+o)*(e*a)+(-3*n+3*i-2*s-o)*a+s*e+n}function Qn(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function ei(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function ti(){this.type="Curve",this.arcLengthDivisions=200}function ni(e,t){ti.call(this),this.type="LineCurve",this.v1=e||new r,this.v2=t||new r}function ii(){ti.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ri(e,t,n,i,r,s,o,a){ti.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function si(e){ti.call(this),this.type="SplineCurve",this.points=e||[]}function oi(e,t,n,i){ti.call(this),this.type="CubicBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r,this.v3=i||new r}function ai(e,t,n){ti.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r}function li(e){ii.call(this),this.type="Path",this.currentPoint=new r,e&&this.setFromPoints(e)}function ci(e){li.call(this,e),this.type="Shape",this.holes=[]}function ui(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function hi(e){this.type="Font",this.data=e}function di(e){this.manager=void 0!==e?e:ka}function pi(e){this.manager=void 0!==e?e:ka}function mi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Je,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Je,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function fi(e,t,n){ce.call(this),this.type="CubeCamera";var i=new Je(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new a(1,0,0)),this.add(i);var r=new Je(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new a(-1,0,0)),this.add(r);var s=new Je(90,1,e,t);s.up.set(0,0,1),s.lookAt(new a(0,1,0)),this.add(s);var o=new Je(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new a(0,-1,0)),this.add(o);var l=new Je(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new a(0,0,1)),this.add(l);var c=new Je(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new a(0,0,-1)),this.add(c);var u={format:bo,magFilter:no,minFilter:no};this.renderTarget=new d(n,n,u),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,a=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,r,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,o,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=a,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,s=0;s<6;s++)r.activeCubeFace=s,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function gi(){ce.call(this),this.type="AudioListener",this.context=Ia.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function vi(e){ce.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function yi(e){vi.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function bi(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function _i(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function xi(e,t,n){var i=n||wi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function wi(e,t,n){this.path=t,this.parsedPath=n||wi.parseTrackName(t),this.node=wi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ei(){this.uuid=ia.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Ti(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,s=new Array(r),o={endingStart:Uo,endingEnd:Uo},a=0;a!==r;++a){var l=i[a].createInterpolant(null);s[a]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Io,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Si(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ki(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Ai(){ke.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Ci(e,t,n,i){this.uuid=ia.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function Mi(e,t){this.uuid=ia.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Ri(e,t,n){Mi.call(this,e,t),this.meshPerAttribute=n||1}function Li(e,t,n){me.call(this,e,t),this.meshPerAttribute=n||1}function Pi(e,t,n,i){this.ray=new Oe(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Oi(e,t){return e.distance-t.distance}function Di(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,s=0,o=r.length;s<o;s++)Di(r[s],t,n,!0)}function Fi(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ii(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Ni(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function Bi(e){ce.call(this),this.material=e,this.render=function(){}}function ji(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=3*a.faces.length:a&&a.isBufferGeometry&&(o=a.attributes.normal.count);var l=new ke,c=new we(2*o*3,3);l.addAttribute("position",c),mt.call(this,l,new dt({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function zi(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new ke,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,s=1;r<32;r++,s++){var o=r/32*Math.PI*2,a=s/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}n.addAttribute("position",new we(i,3));var l=new dt({fog:!1});this.cone=new mt(n,l),this.add(this.cone),this.update()}function Ui(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Ui(e.children[n]));return t}function Vi(e){for(var t=Ui(e),n=new ke,i=[],r=[],s=new q(0,0,1),o=new q(0,1,0),a=0;a<t.length;a++){var l=t[a];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new we(i,3)),n.addAttribute("color",new we(r,3));var c=new dt({vertexColors:is,depthTest:!1,depthWrite:!1,transparent:!0});mt.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Gi(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new $t(t,4,2),r=new Le({wireframe:!0,fog:!1});Ie.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Hi(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new dt({fog:!1}),i=new ke;i.addAttribute("position",new me(new Float32Array(15),3)),this.line=new pt(i,n),this.add(this.line),this.update()}function Wi(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Rt(t);i.rotateY(.5*Math.PI),this.material=new Le({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=is);var r=i.getAttribute("position"),s=new Float32Array(3*r.count);i.addAttribute("color",new me(s,3)),this.add(new Ie(i,this.material)),this.update()}function $i(e,t,n,i){e=e||10,t=t||10,n=new q(void 0!==n?n:4473924),i=new q(void 0!==i?i:8947848);for(var r=t/2,s=e/t,o=e/2,a=[],l=[],c=0,u=0,h=-o;c<=t;c++,h+=s){a.push(-o,0,h,o,0,h),a.push(h,0,-o,h,0,o);var d=c===r?n:i;d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3}var p=new ke;p.addAttribute("position",new we(a,3)),p.addAttribute("color",new we(l,3));var m=new dt({vertexColors:is});mt.call(this,p,m)}function qi(e,t,n,i,r,s){e=e||10,t=t||16,n=n||8,i=i||64,r=new q(void 0!==r?r:4473924),s=new q(void 0!==s?s:8947848);var o,a,l,c,u,h,d,p=[],m=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),o=Math.sin(l)*e,a=Math.cos(l)*e,p.push(0,0,0),p.push(o,0,a),d=1&c?r:s,m.push(d.r,d.g,d.b),m.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:s,h=e-e/n*c,u=0;u<i;u++)l=u/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),m.push(d.r,d.g,d.b),l=(u+1)/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),m.push(d.r,d.g,d.b);var f=new ke;f.addAttribute("position",new we(p,3)),f.addAttribute("color",new we(m,3));var g=new dt({vertexColors:is});mt.call(this,f,g)}function Xi(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new ke,c=new we(2*o*3,3);l.addAttribute("position",c),mt.call(this,l,new dt({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function Yi(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new ke;i.addAttribute("position",new we([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new dt({fog:!1});this.lightPlane=new pt(i,r),this.add(this.lightPlane),(i=new ke).addAttribute("position",new we([0,0,0,0,0,1],3)),this.targetLine=new pt(i,r),this.add(this.targetLine),this.update()}function Ki(e){function t(e,t,i){n(e,i),n(t,i)}function n(e,t){s.push(0,0,0),o.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(s.length/3-1)}var i=new ke,r=new dt({color:16777215,vertexColors:ns}),s=[],o=[],a={},l=new q(16755200),c=new q(16711680),u=new q(43775),h=new q(16777215),d=new q(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",u),t("u2","u3",u),t("u3","u1",u),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),i.addAttribute("position",new we(s,3)),i.addAttribute("color",new we(o,3)),mt.call(this,i,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Zi(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new ke;r.setIndex(new me(n,1)),r.addAttribute("position",new me(i,3)),mt.call(this,r,new dt({color:t})),this.matrixAutoUpdate=!1,this.update()}function Ji(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new ke;r.setIndex(new me(i,1)),r.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),mt.call(this,r,new dt({color:n})),this.geometry.computeBoundingSphere()}function Qi(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new ke;r.addAttribute("position",new we([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),pt.call(this,r,new dt({color:i}));var s=new ke;s.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new Ie(s,new Le({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function er(e,t,n,i,r,s){ce.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===s&&(s=.2*r),void 0===Na&&((Na=new ke).addAttribute("position",new we([0,0,0,0,1,0],3)),(Ba=new tn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new pt(Na,new dt({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ie(Ba,new Le({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}function tr(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new ke;n.addAttribute("position",new we(t,3)),n.addAttribute("color",new we([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new dt({vertexColors:is});mt.call(this,n,i)}function nr(){function e(e,s,o,a){t=e,n=o,i=-3*e+3*s-2*o-a,r=2*e-2*s+o+a}var t=0,n=0,i=0,r=0;return{initCatmullRom:function(t,n,i,r,s){e(n,i,s*(i-t),s*(r-n))},initNonuniformCatmullRom:function(t,n,i,r,s,o,a){var l=(n-t)/s-(i-t)/(s+o)+(i-n)/o,c=(i-n)/o-(r-n)/(o+a)+(r-i)/a;e(n,i,l*=o,c*=o)},calc:function(e){var s=e*e;return t+n*e+i*s+r*(s*e)}}}function ir(e,t,n,i){ti.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function rr(e,t,n,i){ti.call(this),this.type="CubicBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a,this.v3=i||new a}function sr(e,t,n){ti.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a}function or(e,t){ti.call(this),this.type="LineCurve3",this.v1=e||new a,this.v2=t||new a}function ar(e,t,n,i,r,s){ri.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}function lr(e,t,n,i,r,s,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new de(e,t,n,r,s,o)}function cr(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function ur(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function hr(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new vt(e,t)}function dr(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new at(e)}function pr(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new vt(e,t)}function mr(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new gt(e)}function fr(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new gt(e)}function gr(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new gt(e)}function vr(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new a(e,t,n)}function yr(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new me(e,t).setDynamic(!0)}function br(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new fe(e,t)}function _r(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ge(e,t)}function xr(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ve(e,t)}function wr(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ye(e,t)}function Er(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new be(e,t)}function Tr(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new _e(e,t)}function Sr(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new xe(e,t)}function kr(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new we(e,t)}function Ar(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ee(e,t)}function Cr(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ir.call(this,e),this.type="catmullrom",this.closed=!0}function Mr(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ir.call(this,e),this.type="catmullrom"}function Rr(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ir.call(this,e),this.type="catmullrom"}function Lr(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new tr(e)}function Pr(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Zi(e,t)}function Or(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new mt(new Qt(e.geometry),new dt({color:void 0!==t?t:16777215}))}function Dr(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new mt(new wt(e.geometry),new dt({color:void 0!==t?t:16777215}))}function Fr(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new vn(e)}function Ir(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new bn(e)}function Nr(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Br(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"WebGLRenderTargetCube",function(){return d}),n.d(t,"WebGLRenderTarget",function(){return h}),n.d(t,"WebGLRenderer",function(){return tt}),n.d(t,"ShaderLib",function(){return ga}),n.d(t,"UniformsLib",function(){return pa}),n.d(t,"UniformsUtils",function(){return ma}),n.d(t,"ShaderChunk",function(){return fa}),n.d(t,"FogExp2",function(){return nt}),n.d(t,"Fog",function(){return it}),n.d(t,"Scene",function(){return rt}),n.d(t,"LensFlare",function(){return st}),n.d(t,"Sprite",function(){return at}),n.d(t,"LOD",function(){return lt}),n.d(t,"SkinnedMesh",function(){return ht}),n.d(t,"Skeleton",function(){return ct}),n.d(t,"Bone",function(){return ut}),n.d(t,"Mesh",function(){return Ie}),n.d(t,"LineSegments",function(){return mt}),n.d(t,"LineLoop",function(){return ft}),n.d(t,"Line",function(){return pt}),n.d(t,"Points",function(){return vt}),n.d(t,"Group",function(){return yt}),n.d(t,"VideoTexture",function(){return bt}),n.d(t,"DataTexture",function(){return p}),n.d(t,"CompressedTexture",function(){return _t}),n.d(t,"CubeTexture",function(){return m}),n.d(t,"CanvasTexture",function(){return K}),n.d(t,"DepthTexture",function(){return xt}),n.d(t,"Texture",function(){return c}),n.d(t,"CompressedTextureLoader",function(){return yn}),n.d(t,"DataTextureLoader",function(){return bn}),n.d(t,"CubeTextureLoader",function(){return xn}),n.d(t,"TextureLoader",function(){return wn}),n.d(t,"ObjectLoader",function(){return Zn}),n.d(t,"MaterialLoader",function(){return qn}),n.d(t,"BufferGeometryLoader",function(){return Xn}),n.d(t,"DefaultLoadingManager",function(){return ka}),n.d(t,"LoadingManager",function(){return gn}),n.d(t,"JSONLoader",function(){return Kn}),n.d(t,"ImageLoader",function(){return _n}),n.d(t,"FontLoader",function(){return di}),n.d(t,"FileLoader",function(){return vn}),n.d(t,"Loader",function(){return Yn}),n.d(t,"Cache",function(){return Sa}),n.d(t,"AudioLoader",function(){return pi}),n.d(t,"SpotLightShadow",function(){return kn}),n.d(t,"SpotLight",function(){return An}),n.d(t,"PointLight",function(){return Cn}),n.d(t,"RectAreaLight",function(){return Pn}),n.d(t,"HemisphereLight",function(){return Tn}),n.d(t,"DirectionalLightShadow",function(){return Mn}),n.d(t,"DirectionalLight",function(){return Rn}),n.d(t,"AmbientLight",function(){return Ln}),n.d(t,"LightShadow",function(){return Sn}),n.d(t,"Light",function(){return En}),n.d(t,"StereoCamera",function(){return mi}),n.d(t,"PerspectiveCamera",function(){return Je}),n.d(t,"OrthographicCamera",function(){return he}),n.d(t,"CubeCamera",function(){return fi}),n.d(t,"ArrayCamera",function(){return Qe}),n.d(t,"Camera",function(){return ue}),n.d(t,"AudioListener",function(){return gi}),n.d(t,"PositionalAudio",function(){return yi}),n.d(t,"AudioContext",function(){return Ia}),n.d(t,"AudioAnalyser",function(){return bi}),n.d(t,"Audio",function(){return vi}),n.d(t,"VectorKeyframeTrack",function(){return Bn}),n.d(t,"StringKeyframeTrack",function(){return Vn}),n.d(t,"QuaternionKeyframeTrack",function(){return zn}),n.d(t,"NumberKeyframeTrack",function(){return Un}),n.d(t,"ColorKeyframeTrack",function(){return Hn}),n.d(t,"BooleanKeyframeTrack",function(){return Gn}),n.d(t,"PropertyMixer",function(){return _i}),n.d(t,"PropertyBinding",function(){return wi}),n.d(t,"KeyframeTrack",function(){return Wn}),n.d(t,"AnimationUtils",function(){return Ca}),n.d(t,"AnimationObjectGroup",function(){return Ei}),n.d(t,"AnimationMixer",function(){return Si}),n.d(t,"AnimationClip",function(){return $n}),n.d(t,"Uniform",function(){return ki}),n.d(t,"InstancedBufferGeometry",function(){return Ai}),n.d(t,"BufferGeometry",function(){return ke}),n.d(t,"Geometry",function(){return pe}),n.d(t,"InterleavedBufferAttribute",function(){return Ci}),n.d(t,"InstancedInterleavedBuffer",function(){return Ri}),n.d(t,"InterleavedBuffer",function(){return Mi}),n.d(t,"InstancedBufferAttribute",function(){return Li}),n.d(t,"Face3",function(){return de}),n.d(t,"Object3D",function(){return ce}),n.d(t,"Raycaster",function(){return Pi}),n.d(t,"Layers",function(){return le}),n.d(t,"EventDispatcher",function(){return i}),n.d(t,"Clock",function(){return Fi}),n.d(t,"QuaternionLinearInterpolant",function(){return jn}),n.d(t,"LinearInterpolant",function(){return Fn}),n.d(t,"DiscreteInterpolant",function(){return In}),n.d(t,"CubicInterpolant",function(){return Dn}),n.d(t,"Interpolant",function(){return On}),n.d(t,"Triangle",function(){return Fe}),n.d(t,"Math",function(){return ia}),n.d(t,"Spherical",function(){return Ii}),n.d(t,"Cylindrical",function(){return Ni}),n.d(t,"Plane",function(){return ie}),n.d(t,"Frustum",function(){return re}),n.d(t,"Sphere",function(){return ne}),n.d(t,"Ray",function(){return Oe}),n.d(t,"Matrix4",function(){return s}),n.d(t,"Matrix3",function(){return l}),n.d(t,"Box3",function(){return te}),n.d(t,"Box2",function(){return X}),n.d(t,"Line3",function(){return De}),n.d(t,"Euler",function(){return ae}),n.d(t,"Vector4",function(){return u}),n.d(t,"Vector3",function(){return a}),n.d(t,"Vector2",function(){return r}),n.d(t,"Quaternion",function(){return o}),n.d(t,"Color",function(){return q}),n.d(t,"ImmediateRenderObject",function(){return Bi}),n.d(t,"VertexNormalsHelper",function(){return ji}),n.d(t,"SpotLightHelper",function(){return zi}),n.d(t,"SkeletonHelper",function(){return Vi}),n.d(t,"PointLightHelper",function(){return Gi}),n.d(t,"RectAreaLightHelper",function(){return Hi}),n.d(t,"HemisphereLightHelper",function(){return Wi}),n.d(t,"GridHelper",function(){return $i}),n.d(t,"PolarGridHelper",function(){return qi}),n.d(t,"FaceNormalsHelper",function(){return Xi}),n.d(t,"DirectionalLightHelper",function(){return Yi}),n.d(t,"CameraHelper",function(){return Ki}),n.d(t,"BoxHelper",function(){return Zi}),n.d(t,"Box3Helper",function(){return Ji}),n.d(t,"PlaneHelper",function(){return Qi}),n.d(t,"ArrowHelper",function(){return er}),n.d(t,"AxesHelper",function(){return tr}),n.d(t,"CatmullRomCurve3",function(){return ir}),n.d(t,"CubicBezierCurve3",function(){return rr}),n.d(t,"QuadraticBezierCurve3",function(){return sr}),n.d(t,"LineCurve3",function(){return or}),n.d(t,"ArcCurve",function(){return ar}),n.d(t,"EllipseCurve",function(){return ri}),n.d(t,"SplineCurve",function(){return si}),n.d(t,"CubicBezierCurve",function(){return oi}),n.d(t,"QuadraticBezierCurve",function(){return ai}),n.d(t,"LineCurve",function(){return ni}),n.d(t,"Shape",function(){return ci}),n.d(t,"Path",function(){return li}),n.d(t,"ShapePath",function(){return ui}),n.d(t,"Font",function(){return hi}),n.d(t,"CurvePath",function(){return ii}),n.d(t,"Curve",function(){return ti}),n.d(t,"ShapeUtils",function(){return wa}),n.d(t,"SceneUtils",function(){return Ga}),n.d(t,"WebGLUtils",function(){return et}),n.d(t,"WireframeGeometry",function(){return wt}),n.d(t,"ParametricGeometry",function(){return Et}),n.d(t,"ParametricBufferGeometry",function(){return Tt}),n.d(t,"TetrahedronGeometry",function(){return At}),n.d(t,"TetrahedronBufferGeometry",function(){return Ct}),n.d(t,"OctahedronGeometry",function(){return Mt}),n.d(t,"OctahedronBufferGeometry",function(){return Rt}),n.d(t,"IcosahedronGeometry",function(){return Lt}),n.d(t,"IcosahedronBufferGeometry",function(){return Pt}),n.d(t,"DodecahedronGeometry",function(){return Ot}),n.d(t,"DodecahedronBufferGeometry",function(){return Dt}),n.d(t,"PolyhedronGeometry",function(){return St}),n.d(t,"PolyhedronBufferGeometry",function(){return kt}),n.d(t,"TubeGeometry",function(){return Ft}),n.d(t,"TubeBufferGeometry",function(){return It}),n.d(t,"TorusKnotGeometry",function(){return Nt}),n.d(t,"TorusKnotBufferGeometry",function(){return Bt}),n.d(t,"TorusGeometry",function(){return jt}),n.d(t,"TorusBufferGeometry",function(){return zt}),n.d(t,"TextGeometry",function(){return Gt}),n.d(t,"TextBufferGeometry",function(){return Ht}),n.d(t,"SphereGeometry",function(){return Wt}),n.d(t,"SphereBufferGeometry",function(){return $t}),n.d(t,"RingGeometry",function(){return qt}),n.d(t,"RingBufferGeometry",function(){return Xt}),n.d(t,"PlaneGeometry",function(){return Me}),n.d(t,"PlaneBufferGeometry",function(){return Re}),n.d(t,"LatheGeometry",function(){return Yt}),n.d(t,"LatheBufferGeometry",function(){return Kt}),n.d(t,"ShapeGeometry",function(){return Zt}),n.d(t,"ShapeBufferGeometry",function(){return Jt}),n.d(t,"ExtrudeGeometry",function(){return Ut}),n.d(t,"ExtrudeBufferGeometry",function(){return Vt}),n.d(t,"EdgesGeometry",function(){return Qt}),n.d(t,"ConeGeometry",function(){return nn}),n.d(t,"ConeBufferGeometry",function(){return rn}),n.d(t,"CylinderGeometry",function(){return en}),n.d(t,"CylinderBufferGeometry",function(){return tn}),n.d(t,"CircleGeometry",function(){return sn}),n.d(t,"CircleBufferGeometry",function(){return on}),n.d(t,"BoxGeometry",function(){return Ae}),n.d(t,"BoxBufferGeometry",function(){return Ce}),n.d(t,"ShadowMaterial",function(){return an}),n.d(t,"SpriteMaterial",function(){return ot}),n.d(t,"RawShaderMaterial",function(){return ln}),n.d(t,"ShaderMaterial",function(){return Pe}),n.d(t,"PointsMaterial",function(){return gt}),n.d(t,"MeshPhysicalMaterial",function(){return un}),n.d(t,"MeshStandardMaterial",function(){return cn}),n.d(t,"MeshPhongMaterial",function(){return hn}),n.d(t,"MeshToonMaterial",function(){return dn}),n.d(t,"MeshNormalMaterial",function(){return pn}),n.d(t,"MeshLambertMaterial",function(){return mn}),n.d(t,"MeshDepthMaterial",function(){return Q}),n.d(t,"MeshDistanceMaterial",function(){return ee}),n.d(t,"MeshBasicMaterial",function(){return Le}),n.d(t,"LineDashedMaterial",function(){return fn}),n.d(t,"LineBasicMaterial",function(){return dt}),n.d(t,"Material",function(){return J}),n.d(t,"Float64BufferAttribute",function(){return Ee}),n.d(t,"Float32BufferAttribute",function(){return we}),n.d(t,"Uint32BufferAttribute",function(){return xe}),n.d(t,"Int32BufferAttribute",function(){return _e}),n.d(t,"Uint16BufferAttribute",function(){return be}),n.d(t,"Int16BufferAttribute",function(){return ye}),n.d(t,"Uint8ClampedBufferAttribute",function(){return ve}),n.d(t,"Uint8BufferAttribute",function(){return ge}),n.d(t,"Int8BufferAttribute",function(){return fe}),n.d(t,"BufferAttribute",function(){return me}),n.d(t,"REVISION",function(){return jr}),n.d(t,"MOUSE",function(){return zr}),n.d(t,"CullFaceNone",function(){return Ur}),n.d(t,"CullFaceBack",function(){return Vr}),n.d(t,"CullFaceFront",function(){return Gr}),n.d(t,"CullFaceFrontBack",function(){return Hr}),n.d(t,"FrontFaceDirectionCW",function(){return Wr}),n.d(t,"FrontFaceDirectionCCW",function(){return $r}),n.d(t,"BasicShadowMap",function(){return qr}),n.d(t,"PCFShadowMap",function(){return Xr}),n.d(t,"PCFSoftShadowMap",function(){return Yr}),n.d(t,"FrontSide",function(){return Kr}),n.d(t,"BackSide",function(){return Zr}),n.d(t,"DoubleSide",function(){return Jr}),n.d(t,"FlatShading",function(){return Qr}),n.d(t,"SmoothShading",function(){return es}),n.d(t,"NoColors",function(){return ts}),n.d(t,"FaceColors",function(){return ns}),n.d(t,"VertexColors",function(){return is}),n.d(t,"NoBlending",function(){return rs}),n.d(t,"NormalBlending",function(){return ss}),n.d(t,"AdditiveBlending",function(){return os}),n.d(t,"SubtractiveBlending",function(){return as}),n.d(t,"MultiplyBlending",function(){return ls}),n.d(t,"CustomBlending",function(){return cs}),n.d(t,"AddEquation",function(){return us}),n.d(t,"SubtractEquation",function(){return hs}),n.d(t,"ReverseSubtractEquation",function(){return ds}),n.d(t,"MinEquation",function(){return ps}),n.d(t,"MaxEquation",function(){return ms}),n.d(t,"ZeroFactor",function(){return fs}),n.d(t,"OneFactor",function(){return gs}),n.d(t,"SrcColorFactor",function(){return vs}),n.d(t,"OneMinusSrcColorFactor",function(){return ys}),n.d(t,"SrcAlphaFactor",function(){return bs}),n.d(t,"OneMinusSrcAlphaFactor",function(){return _s}),n.d(t,"DstAlphaFactor",function(){return xs}),n.d(t,"OneMinusDstAlphaFactor",function(){return ws}),n.d(t,"DstColorFactor",function(){return Es}),n.d(t,"OneMinusDstColorFactor",function(){return Ts}),n.d(t,"SrcAlphaSaturateFactor",function(){return Ss}),n.d(t,"NeverDepth",function(){return ks}),n.d(t,"AlwaysDepth",function(){return As}),n.d(t,"LessDepth",function(){return Cs}),n.d(t,"LessEqualDepth",function(){return Ms}),n.d(t,"EqualDepth",function(){return Rs}),n.d(t,"GreaterEqualDepth",function(){return Ls}),n.d(t,"GreaterDepth",function(){return Ps}),n.d(t,"NotEqualDepth",function(){return Os}),n.d(t,"MultiplyOperation",function(){return Ds}),n.d(t,"MixOperation",function(){return Fs}),n.d(t,"AddOperation",function(){return Is}),n.d(t,"NoToneMapping",function(){return Ns}),n.d(t,"LinearToneMapping",function(){return Bs}),n.d(t,"ReinhardToneMapping",function(){return js}),n.d(t,"Uncharted2ToneMapping",function(){return zs}),n.d(t,"CineonToneMapping",function(){return Us}),n.d(t,"UVMapping",function(){return Vs}),n.d(t,"CubeReflectionMapping",function(){return Gs}),n.d(t,"CubeRefractionMapping",function(){return Hs}),n.d(t,"EquirectangularReflectionMapping",function(){return Ws}),n.d(t,"EquirectangularRefractionMapping",function(){return $s}),n.d(t,"SphericalReflectionMapping",function(){return qs}),n.d(t,"CubeUVReflectionMapping",function(){return Xs}),n.d(t,"CubeUVRefractionMapping",function(){return Ys}),n.d(t,"RepeatWrapping",function(){return Ks}),n.d(t,"ClampToEdgeWrapping",function(){return Zs}),n.d(t,"MirroredRepeatWrapping",function(){return Js}),n.d(t,"NearestFilter",function(){return Qs}),n.d(t,"NearestMipMapNearestFilter",function(){return eo}),n.d(t,"NearestMipMapLinearFilter",function(){return to}),n.d(t,"LinearFilter",function(){return no}),n.d(t,"LinearMipMapNearestFilter",function(){return io}),n.d(t,"LinearMipMapLinearFilter",function(){return ro}),n.d(t,"UnsignedByteType",function(){return so}),n.d(t,"ByteType",function(){return oo}),n.d(t,"ShortType",function(){return ao}),n.d(t,"UnsignedShortType",function(){return lo}),n.d(t,"IntType",function(){return co}),n.d(t,"UnsignedIntType",function(){return uo}),n.d(t,"FloatType",function(){return ho}),n.d(t,"HalfFloatType",function(){return po}),n.d(t,"UnsignedShort4444Type",function(){return mo}),n.d(t,"UnsignedShort5551Type",function(){return fo}),n.d(t,"UnsignedShort565Type",function(){return go}),n.d(t,"UnsignedInt248Type",function(){return vo}),n.d(t,"AlphaFormat",function(){return yo}),n.d(t,"RGBFormat",function(){return bo}),n.d(t,"RGBAFormat",function(){return _o}),n.d(t,"LuminanceFormat",function(){return xo}),n.d(t,"LuminanceAlphaFormat",function(){return wo}),n.d(t,"RGBEFormat",function(){return Eo}),n.d(t,"DepthFormat",function(){return To}),n.d(t,"DepthStencilFormat",function(){return So}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return ko}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return Ao}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return Co}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return Mo}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return Ro}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return Lo}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return Po}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return Oo}),n.d(t,"RGB_ETC1_Format",function(){return Do}),n.d(t,"LoopOnce",function(){return Fo}),n.d(t,"LoopRepeat",function(){return Io}),n.d(t,"LoopPingPong",function(){return No}),n.d(t,"InterpolateDiscrete",function(){return Bo}),n.d(t,"InterpolateLinear",function(){return jo}),n.d(t,"InterpolateSmooth",function(){return zo}),n.d(t,"ZeroCurvatureEnding",function(){return Uo}),n.d(t,"ZeroSlopeEnding",function(){return Vo}),n.d(t,"WrapAroundEnding",function(){return Go}),n.d(t,"TrianglesDrawMode",function(){return Ho}),n.d(t,"TriangleStripDrawMode",function(){return Wo}),n.d(t,"TriangleFanDrawMode",function(){return $o}),n.d(t,"LinearEncoding",function(){return qo}),n.d(t,"sRGBEncoding",function(){return Xo}),n.d(t,"GammaEncoding",function(){return Yo}),n.d(t,"RGBEEncoding",function(){return Ko}),n.d(t,"LogLuvEncoding",function(){return Zo}),n.d(t,"RGBM7Encoding",function(){return Jo}),n.d(t,"RGBM16Encoding",function(){return Qo}),n.d(t,"RGBDEncoding",function(){return ea}),n.d(t,"BasicDepthPacking",function(){return ta}),n.d(t,"RGBADepthPacking",function(){return na}),n.d(t,"CubeGeometry",function(){return Ae}),n.d(t,"Face4",function(){return lr}),n.d(t,"LineStrip",function(){return Ha}),n.d(t,"LinePieces",function(){return Wa}),n.d(t,"MeshFaceMaterial",function(){return cr}),n.d(t,"MultiMaterial",function(){return ur}),n.d(t,"PointCloud",function(){return hr}),n.d(t,"Particle",function(){return dr}),n.d(t,"ParticleSystem",function(){return pr}),n.d(t,"PointCloudMaterial",function(){return mr}),n.d(t,"ParticleBasicMaterial",function(){return fr}),n.d(t,"ParticleSystemMaterial",function(){return gr}),n.d(t,"Vertex",function(){return vr}),n.d(t,"DynamicBufferAttribute",function(){return yr}),n.d(t,"Int8Attribute",function(){return br}),n.d(t,"Uint8Attribute",function(){return _r}),n.d(t,"Uint8ClampedAttribute",function(){return xr}),n.d(t,"Int16Attribute",function(){return wr}),n.d(t,"Uint16Attribute",function(){return Er}),n.d(t,"Int32Attribute",function(){return Tr}),n.d(t,"Uint32Attribute",function(){return Sr}),n.d(t,"Float32Attribute",function(){return kr}),n.d(t,"Float64Attribute",function(){return Ar}),n.d(t,"ClosedSplineCurve3",function(){return Cr}),n.d(t,"SplineCurve3",function(){return Mr}),n.d(t,"Spline",function(){return Rr}),n.d(t,"AxisHelper",function(){return Lr}),n.d(t,"BoundingBoxHelper",function(){return Pr}),n.d(t,"EdgesHelper",function(){return Or}),n.d(t,"WireframeHelper",function(){return Dr}),n.d(t,"XHRLoader",function(){return Fr}),n.d(t,"BinaryTextureLoader",function(){return Ir}),n.d(t,"GeometryUtils",function(){return $a}),n.d(t,"ImageUtils",function(){return qa}),n.d(t,"Projector",function(){return Nr}),n.d(t,"CanvasRenderer",function(){return Br}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(i.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});var jr="88",zr={LEFT:0,MIDDLE:1,RIGHT:2},Ur=0,Vr=1,Gr=2,Hr=3,Wr=0,$r=1,qr=0,Xr=1,Yr=2,Kr=0,Zr=1,Jr=2,Qr=1,es=2,ts=0,ns=1,is=2,rs=0,ss=1,os=2,as=3,ls=4,cs=5,us=100,hs=101,ds=102,ps=103,ms=104,fs=200,gs=201,vs=202,ys=203,bs=204,_s=205,xs=206,ws=207,Es=208,Ts=209,Ss=210,ks=0,As=1,Cs=2,Ms=3,Rs=4,Ls=5,Ps=6,Os=7,Ds=0,Fs=1,Is=2,Ns=0,Bs=1,js=2,zs=3,Us=4,Vs=300,Gs=301,Hs=302,Ws=303,$s=304,qs=305,Xs=306,Ys=307,Ks=1e3,Zs=1001,Js=1002,Qs=1003,eo=1004,to=1005,no=1006,io=1007,ro=1008,so=1009,oo=1010,ao=1011,lo=1012,co=1013,uo=1014,ho=1015,po=1016,mo=1017,fo=1018,go=1019,vo=1020,yo=1021,bo=1022,_o=1023,xo=1024,wo=1025,Eo=_o,To=1026,So=1027,ko=2001,Ao=2002,Co=2003,Mo=2004,Ro=2100,Lo=2101,Po=2102,Oo=2103,Do=2151,Fo=2200,Io=2201,No=2202,Bo=2300,jo=2301,zo=2302,Uo=2400,Vo=2401,Go=2402,Ho=0,Wo=1,$o=2,qo=3e3,Xo=3001,Yo=3007,Ko=3002,Zo=3003,Jo=3004,Qo=3005,ea=3006,ta=3200,na=3201,ia={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=0;return function(){for(var i="",r=0;r<36;r++)8===r||13===r||18===r||23===r?i+="-":14===r?i+="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,i+=t[19===r?3&e|8:e]);return i}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*ia.DEG2RAD},radToDeg:function(e){return e*ia.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new r,t=new r;return function(n,i){return e.set(n,n),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}}),Object.assign(s.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,s,o,a,l,c,u,h,d,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new s).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new a;return function(t){var n=this.elements,i=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),s=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){var h=s*c,d=s*u,p=o*c,m=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=d+p*l,t[5]=h-m*l,t[9]=-o*a,t[2]=m-h*l,t[6]=p+d*l,t[10]=s*a}else if("YXZ"===e.order){var f=a*c,g=a*u,v=l*c,y=l*u;t[0]=f+y*o,t[4]=v*o-g,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-o,t[2]=g*o-v,t[6]=y+f*o,t[10]=s*a}else if("ZXY"===e.order){f=a*c,g=a*u,v=l*c,y=l*u;t[0]=f-y*o,t[4]=-s*u,t[8]=v+g*o,t[1]=g+v*o,t[5]=s*c,t[9]=y-f*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if("ZYX"===e.order){h=s*c,d=s*u,p=o*c,m=o*u;t[0]=a*c,t[4]=p*l-d,t[8]=h*l+m,t[1]=a*u,t[5]=m*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*a,t[10]=s*a}else if("YZX"===e.order){var b=s*a,_=s*l,x=o*a,w=o*l;t[0]=a*c,t[4]=w-b*u,t[8]=x*u+_,t[1]=u,t[5]=s*c,t[9]=-o*c,t[2]=-l*c,t[6]=_*u+x,t[10]=b-w*u}else if("XZY"===e.order){b=s*a,_=s*l,x=o*a,w=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=b*u+w,t[5]=s*c,t[9]=_*u-x,t[2]=x*u-_,t[6]=o*c,t[10]=w*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,s=e._w,o=n+n,a=i+i,l=r+r,c=n*o,u=n*a,h=n*l,d=i*a,p=i*l,m=r*l,f=s*o,g=s*a,v=s*l;return t[0]=1-(d+m),t[4]=u-v,t[8]=h+g,t[1]=u+v,t[5]=1-(c+m),t[9]=p-f,t[2]=h-g,t[6]=p+f,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new a,t=new a,n=new a;return function(i,r,s){var o=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(s,n),0===e.lengthSq()&&(1===Math.abs(s.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(s,n)),e.normalize(),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],x=i[0],w=i[4],E=i[8],T=i[12],S=i[1],k=i[5],A=i[9],C=i[13],M=i[2],R=i[6],L=i[10],P=i[14],O=i[3],D=i[7],F=i[11],I=i[15];return r[0]=s*x+o*S+a*M+l*O,r[4]=s*w+o*k+a*R+l*D,r[8]=s*E+o*A+a*L+l*F,r[12]=s*T+o*C+a*P+l*I,r[1]=c*x+u*S+h*M+d*O,r[5]=c*w+u*k+h*R+d*D,r[9]=c*E+u*A+h*L+d*F,r[13]=c*T+u*C+h*P+d*I,r[2]=p*x+m*S+f*M+g*O,r[6]=p*w+m*k+f*R+g*D,r[10]=p*E+m*A+f*L+g*F,r[14]=p*T+m*C+f*P+g*I,r[3]=v*x+y*S+b*M+_*O,r[7]=v*w+y*k+b*R+_*D,r[11]=v*E+y*A+b*L+_*F,r[15]=v*T+y*C+b*P+_*I,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*a*u-i*l*u-r*o*h+n*l*h+i*o*d-n*a*d)+e[7]*(+t*a*d-t*l*h+r*s*h-i*s*d+i*l*c-r*a*c)+e[11]*(+t*l*u-t*o*d-r*s*u+n*s*d+r*o*c-n*l*c)+e[15]*(-i*o*c-t*a*u+t*o*h+i*s*u-n*s*h+n*a*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],p=i[9],m=i[10],f=i[11],g=i[12],v=i[13],y=i[14],b=i[15],_=p*y*h-v*m*h+v*u*f-c*y*f-p*u*b+c*m*b,x=g*m*h-d*y*h-g*u*f+l*y*f+d*u*b-l*m*b,w=d*v*h-g*p*h+g*c*f-l*v*f-d*c*b+l*p*b,E=g*p*u-d*v*u-g*c*m+l*v*m+d*c*y-l*p*y,T=r*_+s*x+o*w+a*E;if(0===T){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var k=1/T;return n[0]=_*k,n[1]=(v*m*a-p*y*a-v*o*f+s*y*f+p*o*b-s*m*b)*k,n[2]=(c*y*a-v*u*a+v*o*h-s*y*h-c*o*b+s*u*b)*k,n[3]=(p*u*a-c*m*a-p*o*h+s*m*h+c*o*f-s*u*f)*k,n[4]=x*k,n[5]=(d*y*a-g*m*a+g*o*f-r*y*f-d*o*b+r*m*b)*k,n[6]=(g*u*a-l*y*a-g*o*h+r*y*h+l*o*b-r*u*b)*k,n[7]=(l*m*a-d*u*a+d*o*h-r*m*h-l*o*f+r*u*f)*k,n[8]=w*k,n[9]=(g*p*a-d*v*a-g*s*f+r*v*f+d*s*b-r*p*b)*k,n[10]=(l*v*a-g*c*a+g*s*h-r*v*h-l*s*b+r*c*b)*k,n[11]=(d*c*a-l*p*a-d*s*h+r*p*h+l*s*f-r*c*f)*k,n[12]=E*k,n[13]=(d*v*o-g*p*o+g*s*m-r*v*m-d*s*y+r*p*y)*k,n[14]=(g*c*o-l*v*o-g*s*u+r*v*u+l*s*y-r*c*y)*k,n[15]=(l*p*o-d*c*o+d*s*u-r*p*u-l*s*m+r*c*m)*k,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,o=e.y,a=e.z,l=r*s,c=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,c*o+n,c*a-i*s,0,l*a-i*o,c*a+i*s,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new a,t=new s;return function(n,i,r){var s=this.elements,o=e.set(s[0],s[1],s[2]).length(),a=e.set(s[4],s[5],s[6]).length(),l=e.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),n.x=s[12],n.y=s[13],n.z=s[14],t.copy(this);var c=1/o,u=1/a,h=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=u,t.elements[5]*=u,t.elements[6]*=u,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,i.setFromRotationMatrix(t),r.x=o,r.y=a,r.z=l,this}}(),makePerspective:function(e,t,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(s+r)/(s-r),d=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){var o=this.elements,a=1/(t-e),l=1/(n-i),c=1/(s-r),u=(t+e)*a,h=(n+i)*l,d=(s+r)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(o,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,o){var a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[s+0],d=r[s+1],p=r[s+2],m=r[s+3];if(u!==m||a!==h||l!==d||c!==p){var f=1-o,g=a*h+l*d+c*p+u*m,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,g*v);f=Math.sin(f*_)/b,o=Math.sin(o*_)/b}var x=o*v;if(a=a*f+h*x,l=l*f+d*x,c=c*f+p*x,u=u*f+m*x,f===1-o){var w=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=w,l*=w,c*=w,u*=w}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(o.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(o.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,s=e.order,o=Math.cos,a=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),h=a(n/2),d=a(i/2),p=a(r/2);return"XYZ"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"YXZ"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"ZXY"===s?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"ZYX"===s?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"YZX"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p):"XZY"===s&&(this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=i+a+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-l)*t,this._y=(s-c)*t,this._z=(o-r)*t):i>a&&i>h?(t=2*Math.sqrt(1+i-a-h),this._w=(u-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(s+c)/t):a>h?(t=2*Math.sqrt(1+a-i-h),this._w=(s-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+h-i-a),this._w=(o-r)/t,this._x=(s+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new a;return function(n,i){return void 0===t&&(t=new a),(e=n.dot(i)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,s=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+s*o+i*l-r*a,this._y=i*c+s*a+r*o-n*l,this._z=r*c+s*l+n*a-i*o,this._w=s*c-n*o-i*a-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,s=this._w,o=s*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;var a=Math.sqrt(1-o*o);if(Math.abs(a)<.001)return this._w=.5*(s+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(a,o),c=Math.sin((1-t)*l)/a,u=Math.sin(t*l)/a;return this._w=s*c+this._w*u,this._x=n*c+this._x*u,this._y=i*c+this._y*u,this._z=r*c+this._z*u,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(a.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new o;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new o;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*n,c=a*n+o*t-r*i,u=a*i+r*n-s*t,h=-r*t-s*n-o*i;return this.x=l*a+h*-r+c*-o-u*-s,this.y=c*a+h*-s+u*-r-l*-o,this.z=u*a+h*-o+l*-s-c*-r,this},project:function(){var e=new s;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new s;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new a,t=new a;return function(n,i){return e.set(n,n,n),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new a;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new a;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(ia.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,s,o,a,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],v=i[1],y=i[4],b=i[7],_=i[2],x=i[5],w=i[8];return r[0]=s*m+o*v+a*_,r[3]=s*f+o*y+a*x,r[6]=s*g+o*b+a*w,r[1]=l*m+c*v+u*_,r[4]=l*f+c*y+u*x,r[7]=l*g+c*b+u*w,r[2]=h*m+d*v+p*_,r[5]=h*f+d*y+p*x,r[8]=h*g+d*b+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*s*c-t*o*l-n*r*c+n*o*a+i*r*l-i*s*a},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],p=d*l-c*h,m=c*u-d*a,f=h*a-l*u,g=r*p+s*m+o*f;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(o*h-d*s)*y,i[2]=(c*s-o*l)*y,i[3]=m*y,i[4]=(d*r-o*u)*y,i[5]=(o*a-c*r)*y,i[6]=f*y,i[7]=(s*u-h*r)*y,i[8]=(l*r-s*a)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,o){var a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*s+l*o)+s+e,-i*l,i*a,-i*(-l*s+a*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*s+n*l,i[6]=t*o+n*c,i[1]=-n*r+t*a,i[4]=-n*s+t*l,i[7]=-n*o+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var ra=0;c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=Vs,Object.defineProperty(c.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(c.prototype,i.prototype,{constructor:c,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=ia.generateUUID()),t||void 0!==e.images[i.uuid]||(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===Vs){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ks:e.x=e.x-Math.floor(e.x);break;case Zs:e.x=e.x<0?0:1;break;case Js:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ks:e.y=e.y-Math.floor(e.y);break;case Zs:e.y=e.y<0?0:1;break;case Js:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(u.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,s=e.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],d=s[2],p=s[6],m=s[10];if(Math.abs(a-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var f=(o+1)/2,g=(u+1)/2,v=(m+1)/2,y=(a+c)/4,b=(l+d)/4,_=(h+p)/4;return f>g&&f>v?f<.01?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(f)),r=b/n):g>v?g<.01?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(g)),r=_/i):v<.01?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(v)),i=_/r),this.set(n,i,r,t),this}var x=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-a)*(c-a));return Math.abs(x)<.001&&(x=1),this.x=(p-h)/x,this.y=(l-d)/x,this.z=(c-a)/x,this.w=Math.acos((o+u+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,i){return void 0===e&&(e=new u,t=new u),e.set(n,n,n,n),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(h.prototype,i.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(d.prototype=Object.create(h.prototype)).constructor=d,d.prototype.isWebGLRenderTargetCube=!0,(p.prototype=Object.create(c.prototype)).constructor=p,p.prototype.isDataTexture=!0,(m.prototype=Object.create(c.prototype)).constructor=m,m.prototype.isCubeTexture=!0,Object.defineProperty(m.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var sa=new c,oa=new m,aa=[],la=[],ca=new Float32Array(16),ua=new Float32Array(9);G.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var s=n[i];s.setValue(e,t[s.id])}};var ha=/([\w\d_]+)(\])?(\[|\.)?/g;$.prototype.setValue=function(e,t,n){var i=this.map[t];void 0!==i&&i.setValue(e,n,this.renderer)},$.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},$.upload=function(e,t,n,i){for(var r=0,s=t.length;r!==s;++r){var o=t[r],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,i)}},$.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var s=e[i];s.id in t&&n.push(s)}return n};var da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(q.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){if(t=ia.euclideanModulo(t,1),n=ia.clamp(n,0,1),i=ia.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=e(s,r,t+1/3),this.g=e(s,r,t),this.b=e(s,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],s=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var o=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(o,a,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(e&&e.length>0){var u;void 0!==(u=da[e])?this.setHex(u):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,i=e||{h:0,s:0,l:0},r=this.r,s=this.g,o=this.b,a=Math.max(r,s,o),l=Math.min(r,s,o),c=(l+a)/2;if(l===a)t=0,n=0;else{var u=a-l;switch(n=c<=.5?u/(a+l):u/(2-a-l),a){case r:t=(s-o)/u+(s<o?6:0);break;case s:t=(o-r)/u+2;break;case o:t=(r-s)/u+4}t/=6}return i.h=t,i.s=n,i.l=c,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var pa={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}}},ma={merge:function(e){for(var t={},n=0;n<e.length;n++){var i=this.clone(e[n]);for(var r in i)t[r]=i[r]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var i in e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}},fa={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},ga={basic:{uniforms:ma.merge([pa.common,pa.specularmap,pa.envmap,pa.aomap,pa.lightmap,pa.fog]),vertexShader:fa.meshbasic_vert,fragmentShader:fa.meshbasic_frag},lambert:{uniforms:ma.merge([pa.common,pa.specularmap,pa.envmap,pa.aomap,pa.lightmap,pa.emissivemap,pa.fog,pa.lights,{emissive:{value:new q(0)}}]),vertexShader:fa.meshlambert_vert,fragmentShader:fa.meshlambert_frag},phong:{uniforms:ma.merge([pa.common,pa.specularmap,pa.envmap,pa.aomap,pa.lightmap,pa.emissivemap,pa.bumpmap,pa.normalmap,pa.displacementmap,pa.gradientmap,pa.fog,pa.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:fa.meshphong_vert,fragmentShader:fa.meshphong_frag},standard:{uniforms:ma.merge([pa.common,pa.envmap,pa.aomap,pa.lightmap,pa.emissivemap,pa.bumpmap,pa.normalmap,pa.displacementmap,pa.roughnessmap,pa.metalnessmap,pa.fog,pa.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:fa.meshphysical_vert,fragmentShader:fa.meshphysical_frag},points:{uniforms:ma.merge([pa.points,pa.fog]),vertexShader:fa.points_vert,fragmentShader:fa.points_frag},dashed:{uniforms:ma.merge([pa.common,pa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fa.linedashed_vert,fragmentShader:fa.linedashed_frag},depth:{uniforms:ma.merge([pa.common,pa.displacementmap]),vertexShader:fa.depth_vert,fragmentShader:fa.depth_frag},normal:{uniforms:ma.merge([pa.common,pa.bumpmap,pa.normalmap,pa.displacementmap,{opacity:{value:1}}]),vertexShader:fa.normal_vert,fragmentShader:fa.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fa.cube_vert,fragmentShader:fa.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fa.equirect_vert,fragmentShader:fa.equirect_frag},distanceRGBA:{uniforms:ma.merge([pa.common,pa.displacementmap,{referencePosition:{value:new a},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fa.distanceRGBA_vert,fragmentShader:fa.distanceRGBA_frag},shadow:{uniforms:ma.merge([pa.lights,pa.fog,{color:{value:new q(0)},opacity:{value:1}}]),vertexShader:fa.shadow_vert,fragmentShader:fa.shadow_frag}};ga.physical={uniforms:ma.merge([ga.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:fa.meshphysical_vert,fragmentShader:fa.meshphysical_frag},Object.assign(X.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new r;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new r).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new r).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new r;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),(K.prototype=Object.create(c.prototype)).constructor=K;var va=0;Object.assign(J.prototype,i.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Qr;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ss&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==Kr&&(i.side=this.side),this.vertexColors!==ts&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=t(e.textures),s=t(e.images);r.length>0&&(i.textures=r),s.length>0&&(i.images=s)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Q.prototype=Object.create(J.prototype)).constructor=Q,Q.prototype.isMeshDepthMaterial=!0,Q.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},(ee.prototype=Object.create(J.prototype)).constructor=ee,ee.prototype.isMeshDistanceMaterial=!0,ee.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.length;a<l;a+=3){var c=e[a],u=e[a+1],h=e[a+2];c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.count;a<l;a++){var c=e.getX(a),u=e.getY(a),h=e.getZ(a);c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new a;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new a;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var s=e.geometry;if(void 0!==s)if(s.isGeometry){var o=s.vertices;for(n=0,i=o.length;n<i;n++)r.copy(o[n]),r.applyMatrix4(e.matrixWorld),t.expandByPoint(r)}else if(s.isBufferGeometry){var a=s.attributes.position;if(void 0!==a)for(n=0,i=a.count;n<i;n++)r.fromBufferAttribute(a,n).applyMatrix4(e.matrixWorld),t.expandByPoint(r)}}var t,n,i,r=new a;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new a).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new a;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new a).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new a;return function(t){var n=t||new ne;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new a,new a,new a,new a,new a,new a,new a,new a];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ne.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,n){var i=this.center;void 0!==n?i.copy(n):e.setFromPoints(t).getCenter(i);for(var r=0,s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),i=t||new a;return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new te;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ie.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new a,t=new a;return function(n,i,r){var s=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new a).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new a;return function(t,n){var i=n||new a,r=t.delta(e),s=this.normal.dot(r);if(0!==s){var o=-(t.start.dot(this.normal)+this.constant)/s;if(!(o<0||o>1))return i.copy(r).multiplyScalar(o).add(t.start)}else if(0===this.distanceToPoint(t.start))return i.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new a).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new a,t=new l;return function(n,i){var r=i||t.getNormalMatrix(n),s=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(re.prototype,{set:function(e,t,n,i,r,s){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],m=n[11],f=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-i,u-a,m-h,y-f).normalize(),t[1].setComponents(o+i,u+a,m+h,y+f).normalize(),t[2].setComponents(o+r,u+l,m+d,y+g).normalize(),t[3].setComponents(o-r,u-l,m-d,y-g).normalize(),t[4].setComponents(o-s,u-c,m-p,y-v).normalize(),t[5].setComponents(o+s,u+c,m+p,y+v).normalize(),this},intersectsObject:function(){var e=new ne;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ne;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(){var e=new a,t=new a;return function(n){for(var i=this.planes,r=0;r<6;r++){var s=i[r];e.x=s.normal.x>0?n.min.x:n.max.x,t.x=s.normal.x>0?n.max.x:n.min.x,e.y=s.normal.y>0?n.min.y:n.max.y,t.y=s.normal.y>0?n.max.y:n.min.y,e.z=s.normal.z>0?n.min.z:n.max.z,t.z=s.normal.z>0?n.max.z:n.min.z;var o=s.distanceToPoint(e),a=s.distanceToPoint(t);if(o<0&&a<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),ae.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ae.DefaultOrder="XYZ",Object.defineProperties(ae.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(ae.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=ia.clamp,r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s))):"ZYX"===t?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p))):"XZY"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new s;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new o;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new a(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(le.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var ya=0;ce.DefaultUp=new a(0,1,0),ce.DefaultMatrixAutoUpdate=!0,Object.assign(ce.prototype,i.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new a(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new a(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new a(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new a;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new a(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new a(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new a(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new s;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new s,t=new a;return function(n,i,r){n.isVector3?t.copy(n):t.set(n,i,r),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){var t=e||new a;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new a,t=new a;return function(n){var i=n||new o;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,i,t),i}}(),getWorldRotation:function(){var e=new o;return function(t){var n=t||new ae;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new a,t=new o;return function(n){var i=n||new a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,i),i}}(),getWorldDirection:function(){var e=new o;return function(t){var n=t||new a;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var s={};if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.matrix=this.matrix.toArray(),void 0!==this.geometry&&(s.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var o=[],a=0,l=this.material.length;a<l;a++)o.push(t(e.materials,this.material[a]));s.material=o}else s.material=t(e.materials,this.material);if(this.children.length>0){s.children=[];for(a=0;a<this.children.length;a++)s.children.push(this.children[a].toJSON(e).object)}if(i){var c=n(e.geometries),u=n(e.materials),h=n(e.textures),d=n(e.images);c.length>0&&(r.geometries=c),u.length>0&&(r.materials=u),h.length>0&&(r.textures=h),d.length>0&&(r.images=d)}return r.object=s,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),ue.prototype=Object.assign(Object.create(ce.prototype),{constructor:ue,isCamera:!0,copy:function(e,t){return ce.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new o;return function(t){var n=t||new a;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){ce.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),he.prototype=Object.assign(Object.create(ue.prototype),{constructor:he,isOrthographicCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,s=n+e,o=i+t,a=i-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;s=(r+=u*(this.view.offsetX/l))+u*(this.view.width/l),a=(o-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(de.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var ba=0;Object.assign(pe.prototype,i.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new l).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var s=0,o=r.vertexNormals.length;s<o;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new s;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new s;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new s;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new s;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new s;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,i,r){var s=new de(e,t,i,void 0!==l?[d[e].clone(),d[t].clone(),d[i].clone()]:[],void 0!==c?[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()]:[],r);n.faces.push(s),void 0!==u&&n.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[i].clone()]),void 0!==h&&n.faceVertexUvs[1].push([m[e].clone(),m[t].clone(),m[i].clone()])}var n=this,i=null!==e.index?e.index.array:void 0,s=e.attributes,o=s.position.array,l=void 0!==s.normal?s.normal.array:void 0,c=void 0!==s.color?s.color.array:void 0,u=void 0!==s.uv?s.uv.array:void 0,h=void 0!==s.uv2?s.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],p=[],m=[],f=0,g=0;f<o.length;f+=3,g+=2)n.vertices.push(new a(o[f],o[f+1],o[f+2])),void 0!==l&&d.push(new a(l[f],l[f+1],l[f+2])),void 0!==c&&n.colors.push(new q(c[f],c[f+1],c[f+2])),void 0!==u&&p.push(new r(u[g],u[g+1])),void 0!==h&&m.push(new r(h[g],h[g+1]));var v=e.groups;if(v.length>0)for(f=0;f<v.length;f++)for(var y=v[f],b=y.start,_=(g=b,b+y.count);g<_;g+=3)void 0!==i?t(i[g],i[g+1],i[g+2],y.materialIndex):t(g,g+1,g+2,y.materialIndex);else if(void 0!==i)for(f=0;f<i.length;f+=3)t(i[f],i[f+1],i[f+2]);else for(f=0;f<o.length/3;f+=3)t(f,f+1,f+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new s;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new a,t=new a,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],s=this.vertices[r.a],o=this.vertices[r.b],l=this.vertices[r.c];e.subVectors(l,o),t.subVectors(s,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,i,r,s,o;for(o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new a;if(e){var l,c,u,h=new a,d=new a;for(i=0,r=this.faces.length;i<r;i++)s=this.faces[i],l=this.vertices[s.a],c=this.vertices[s.b],u=this.vertices[s.c],h.subVectors(u,c),d.subVectors(l,c),h.cross(d),o[s.a].add(h),o[s.b].add(h),o[s.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(s=this.faces[i]).a].add(s.normal),o[s.b].add(s.normal),o[s.c].add(s.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var p=(s=this.faces[i]).vertexNormals;3===p.length?(p[0].copy(o[s.a]),p[1].copy(o[s.b]),p[2].copy(o[s.c])):(p[0]=o[s.a].clone(),p[1]=o[s.b].clone(),p[2]=o[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var s=new pe;for(s.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)u=new a,h={a:new a,b:new a,c:new a},o.push(u),l.push(h)}var c=this.morphNormals[e];s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals();var u,h;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],u=c.faceNormals[n],h=c.vertexNormals[n],u.copy(r.normal),h.a.copy(r.vertexNormals[0]),h.b.copy(r.vertexNormals[1]),h.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,i=t.length;n<i;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ne),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,s=this.vertices,o=e.vertices,a=this.faces,c=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0],d=this.colors,p=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new l).getNormalMatrix(t));for(var m=0,f=o.length;m<f;m++){var g=o[m].clone();void 0!==t&&g.applyMatrix4(t),s.push(g)}for(m=0,f=p.length;m<f;m++)d.push(p[m].clone());for(m=0,f=c.length;m<f;m++){var v,y,b,_=c[m],x=_.vertexNormals,w=_.vertexColors;(v=new de(_.a+r,_.b+r,_.c+r)).normal.copy(_.normal),void 0!==i&&v.normal.applyMatrix3(i).normalize();for(var E=0,T=x.length;E<T;E++)y=x[E].clone(),void 0!==i&&y.applyMatrix3(i).normalize(),v.vertexNormals.push(y);v.color.copy(_.color);for(E=0,T=w.length;E<T;E++)b=w[E],v.vertexColors.push(b.clone());v.materialIndex=_.materialIndex+n,a.push(v)}for(m=0,f=h.length;m<f;m++){var S=h[m],k=[];if(void 0!==S){for(E=0,T=S.length;E<T;E++)k.push(S[E].clone());u.push(k)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,s,o,a,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(l[t]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[t]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],s=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(s[p]===s[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var m=d[n];for(this.faces.splice(m,1),o=0,a=this.faceVertexUvs.length;o<a;o++)this.faceVertexUvs[o].splice(m,1)}var f=this.vertices.length-c.length;return this.vertices=c,f},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new a(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,s=this.faceVertexUvs[0],o=this.faceVertexUvs[1];s&&s.length===t&&(i=[]),o&&o.length===t&&(r=[]);for(n=0;n<t;n++){var a=e[n]._id;i&&i.push(s[a]),r&&r.push(o[a])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==m[t]?m[t]:(m[t]=p.length,p.push(e.getHex()),m[t])}function i(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=f.length/2,f.push(e.x,e.y),g[t])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var s=this.parameters;for(var o in s)void 0!==s[o]&&(r[o]=s[o]);return r}for(var a=[],l=0;l<this.vertices.length;l++){var c=this.vertices[l];a.push(c.x,c.y,c.z)}var u=[],h=[],d={},p=[],m={},f=[],g={};for(l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],b=v.normal.length()>0,_=v.vertexNormals.length>0,x=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,b),E=e(E,5,_),E=e(E,6,x),E=e(E,7,w),u.push(E),u.push(v.a,v.b,v.c),u.push(v.materialIndex),y){var T=this.faceVertexUvs[0][l];u.push(i(T[0]),i(T[1]),i(T[2]))}if(b&&u.push(t(v.normal)),_){var S=v.vertexNormals;u.push(t(S[0]),t(S[1]),t(S[2]))}if(x&&u.push(n(v.color)),w){var k=v.vertexColors;u.push(n(k[0]),n(k[1]),n(k[2]))}}return r.data={},r.data.vertices=a,r.data.normals=h,p.length>0&&(r.data.colors=p),f.length>0&&(r.data.uvs=[f]),r.data.faces=u,r},clone:function(){return(new pe).copy(this)},copy:function(e){var t,n,i,r,s,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.vertices;for(t=0,n=a.length;t<n;t++)this.vertices.push(a[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=u.length;i<r;i++){var h=u[i],d=[];for(s=0,o=h.length;s<o;s++){var p=h[s];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var m=e.morphTargets;for(t=0,n=m.length;t<n;t++){var f={};if(f.name=m[t].name,void 0!==m[t].vertices)for(f.vertices=[],i=0,r=m[t].vertices.length;i<r;i++)f.vertices.push(m[t].vertices[i].clone());if(void 0!==m[t].normals)for(f.normals=[],i=0,r=m[t].normals.length;i<r;i++)f.normals.push(m[t].normals[i].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var y=g[t].vertexNormals[i],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)v.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(v)}var _=e.skinWeights;for(t=0,n=_.length;t<n;t++)this.skinWeights.push(_[t].clone());var x=e.skinIndices;for(t=0,n=x.length;t<n;t++)this.skinIndices.push(x[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var T=e.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(me.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(me.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new q),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];t[n++]=s.a,t[n++]=s.b,t[n++]=s.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,s=e.length;i<s;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new r),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new a),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new u),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(fe.prototype=Object.create(me.prototype)).constructor=fe,(ge.prototype=Object.create(me.prototype)).constructor=ge,(ve.prototype=Object.create(me.prototype)).constructor=ve,(ye.prototype=Object.create(me.prototype)).constructor=ye,(be.prototype=Object.create(me.prototype)).constructor=be,(_e.prototype=Object.create(me.prototype)).constructor=_e,(xe.prototype=Object.create(me.prototype)).constructor=xe,(we.prototype=Object.create(me.prototype)).constructor=we,(Ee.prototype=Object.create(me.prototype)).constructor=Ee,Object.assign(Te.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,s=0;s<r.length;s++){var o=r[s];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*s-t.start,n.push(t)),t={start:3*s,materialIndex:i})}void 0!==t&&(t.count=3*s-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,s=e.faceVertexUvs,o=s[0]&&s[0].length>0,a=s[1]&&s[1].length>0,l=e.morphTargets,c=l.length;if(c>0){t=[];for(var u=0;u<c;u++)t[u]=[];this.morphTargets.position=t}var h,d=e.morphNormals,p=d.length;if(p>0){h=[];for(u=0;u<p;u++)h[u]=[];this.morphTargets.normal=h}var m=e.skinIndices,f=e.skinWeights,g=m.length===i.length,v=f.length===i.length;for(u=0;u<n.length;u++){var y=n[u];this.vertices.push(i[y.a],i[y.b],i[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var _=y.normal;this.normals.push(_,_,_)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===o){void 0!==(E=s[0][u])?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new r,new r,new r))}if(!0===a){var E;void 0!==(E=s[1][u])?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new r,new r,new r))}for(var T=0;T<c;T++){var S=l[T].vertices;t[T].push(S[y.a],S[y.b],S[y.c])}for(T=0;T<p;T++){var k=d[T].vertexNormals[u];h[T].push(k.a,k.b,k.c)}g&&this.skinIndices.push(m[y.a],m[y.b],m[y.c]),v&&this.skinWeights.push(f[y.a],f[y.b],f[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var _a=1;Object.assign(ke.prototype,i.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Se(e)>65535?xe:be)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new me(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new l).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new s;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new s;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new s;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new s;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new s;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new we(3*t.vertices.length,3),i=new we(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new we(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new we(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var i;return!0===t.verticesNeedUpdate&&(void 0!==(i=this.attributes.position)&&(i.copyVector3sArray(t.vertices),i.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(i=this.attributes.normal)&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(i=this.attributes.color)&&(i.copyColorsArray(t.colors),i.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(i=this.attributes.uv)&&(i.copyVector2sArray(t.uvs),i.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(i=this.attributes.lineDistance)&&(i.copyArray(t.lineDistances),i.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Te).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new me(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new me(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new me(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new me(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var s=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new me(s,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=new(Se(e.indices)>65535?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new me(o,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var a in e.morphTargets){for(var l=[],c=e.morphTargets[a],u=0,h=c.length;u<h;u++){var d=c[u],p=new we(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[a]=l}if(e.skinIndices.length>0){var m=new we(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new we(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new te,t=new a;return function(){null===this.boundingSphere&&(this.boundingSphere=new ne);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);for(var r=0,s=0,o=n.count;s<o;s++)t.x=n.getX(s),t.y=n.getY(s),t.z=n.getZ(s),r=Math.max(r,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new me(new Float32Array(i.length),3));else for(var r=t.normal.array,s=0,o=r.length;s<o;s++)r[s]=0;var l,c,u,h=t.normal.array,d=new a,p=new a,m=new a,f=new a,g=new a;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y){var _=n[y],x=_.start;for(s=x,o=x+_.count;s<o;s+=3)l=3*v[s+0],c=3*v[s+1],u=3*v[s+2],d.fromArray(i,l),p.fromArray(i,c),m.fromArray(i,u),f.subVectors(m,p),g.subVectors(d,p),f.cross(g),h[l]+=f.x,h[l+1]+=f.y,h[l+2]+=f.z,h[c]+=f.x,h[c+1]+=f.y,h[c+2]+=f.z,h[u]+=f.x,h[u+1]+=f.y,h[u+2]+=f.z}}else for(s=0,o=i.length;s<o;s+=9)d.fromArray(i,s),p.fromArray(i,s+3),m.fromArray(i,s+6),f.subVectors(m,p),g.subVectors(d,p),f.cross(g),h[s]=f.x,h[s+1]=f.y,h[s+2]=f.z,h[s+3]=f.x,h[s+4]=f.y,h[s+5]=f.z,h[s+6]=f.x,h[s+7]=f.y,h[s+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,s=e.attributes[i],o=s.array,a=0,l=s.itemSize*t;a<o.length;a++,l++)r[l]=o[a];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new a;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new ke,t=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],s=r.array,o=r.itemSize,a=new s.constructor(t.length*o),l=0,c=0,u=0,h=t.length;u<h;u++){l=t[u]*o;for(var d=0;d<o;d++)a[c++]=s[l++]}e.addAttribute(i,new me(a,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var s=this.attributes;for(var n in s){var o=s[n];r=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new ke).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var s=e.attributes;for(t in s){var o=s[t];this.addAttribute(t,o.clone())}var a=e.morphAttributes;for(t in a){var l=[],c=a[t];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[t]=l}var u=e.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Ae.prototype=Object.create(pe.prototype)).constructor=Ae,(Ce.prototype=Object.create(ke.prototype)).constructor=Ce,(Me.prototype=Object.create(pe.prototype)).constructor=Me,(Re.prototype=Object.create(ke.prototype)).constructor=Re,(Le.prototype=Object.create(J.prototype)).constructor=Le,Le.prototype.isMeshBasicMaterial=!0,Le.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},(Pe.prototype=Object.create(J.prototype)).constructor=Pe,Pe.prototype.isShaderMaterial=!0,Pe.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ma.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Pe.prototype.toJSON=function(e){var t=J.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Oe.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new a).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new a;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new a;n.subVectors(e,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new a;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new a,t=new a,n=new a;return function(i,r,s,o){e.copy(i).add(r).multiplyScalar(.5),t.copy(r).sub(i).normalize(),n.copy(this.origin).sub(e);var a,l,c,u,h=.5*i.distanceTo(r),d=-this.direction.dot(t),p=n.dot(this.direction),m=-n.dot(t),f=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(a=d*m-p,l=d*p-m,u=h*g,a>=0)if(l>=-u)if(l<=u){var v=1/g;c=(a*=v)*(a+d*(l*=v)+2*p)+l*(d*a+l+2*m)+f}else l=h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;else l=-h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;else l<=-u?c=-(a=Math.max(0,-(-d*h+p)))*a+(l=a>0?-h:Math.min(Math.max(-h,-m),h))*(l+2*m)+f:l<=u?(a=0,c=(l=Math.min(Math.max(-h,-m),h))*(l+2*m)+f):c=-(a=Math.max(0,-(d*h+p)))*a+(l=a>0?h:Math.min(Math.max(-h,-m),h))*(l+2*m)+f;else l=d>0?-h:h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;return s&&s.copy(this.direction).multiplyScalar(a).add(this.origin),o&&o.copy(t).multiplyScalar(l).add(e),c}}(),intersectSphere:function(){var e=new a;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i,s=t.radius*t.radius;if(r>s)return null;var o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,s,o,a,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),u>=0?(o=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||o>i?null:((o>n||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:function(){var e=new a;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new a,t=new a,n=new a,i=new a;return function(r,s,o,a,l){t.subVectors(s,r),n.subVectors(o,r),i.crossVectors(t,n);var c,u=this.direction.dot(i);if(u>0){if(a)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,r);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>u)return null;var p=-c*e.dot(i);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(De.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new a).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new a).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new a;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new a,t=new a;return function(n,i){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var r=t.dot(t),s=t.dot(e)/r;return i&&(s=ia.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t),r=n||new a;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Fe,{normal:function(){var e=new a;return function(t,n,i,r){var s=r||new a;s.subVectors(i,n),e.subVectors(t,n),s.cross(e);var o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new a,t=new a,n=new a;return function(i,r,s,o,l){e.subVectors(o,r),t.subVectors(s,r),n.subVectors(i,r);var c=e.dot(e),u=e.dot(t),h=e.dot(n),d=t.dot(t),p=t.dot(n),m=c*d-u*u,f=l||new a;if(0===m)return f.set(-2,-1,-1);var g=1/m,v=(d*h-u*p)*g,y=(c*p-u*h)*g;return f.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new a;return function(t,n,i,r){var s=Fe.barycoordFromPoint(t,n,i,r,e);return s.x>=0&&s.y>=0&&s.x+s.y<=1}}()}),Object.assign(Fe.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new a,t=new a;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new a).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Fe.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new ie).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Fe.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Fe.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ie,t=[new De,new De,new De],n=new a,i=new a;return function(r,s){var o=s||new a,l=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,n),!0===this.containsPoint(n))o.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var c=0;c<t.length;c++){t[c].closestPointToPoint(n,!0,i);var u=n.distanceToSquared(i);u<l&&(l=u,o.copy(i))}}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Ie.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ie,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ce.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,s=Object.keys(r);if(s.length>0){var o=r[s[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var a=i.morphTargets;if(void 0!==a&&a.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,i,r,s,o){return Fe.barycoordFromPoint(e,t,n,i,y),r.multiplyScalar(y.x),s.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(s).add(o),r.clone()}function t(e,t,n,i,r,s,o,a){if(null===(t.side===Zr?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,t.side!==Jr,a)))return null;_.copy(a),_.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(_);return l<n.near||l>n.far?null:{distance:l,point:_.clone(),object:e}}function n(n,i,r,s,o,a,l,d){c.fromBufferAttribute(s,a),u.fromBufferAttribute(s,l),h.fromBufferAttribute(s,d);var p=t(n,n.material,i,r,c,u,h,b);return p&&(o&&(f.fromBufferAttribute(o,a),g.fromBufferAttribute(o,l),v.fromBufferAttribute(o,d),p.uv=e(b,c,u,h,f,g,v)),p.face=new de(a,l,d,Fe.normal(c,u,h)),p.faceIndex=a),p}var i=new s,o=new Oe,l=new ne,c=new a,u=new a,h=new a,d=new a,p=new a,m=new a,f=new r,g=new r,v=new r,y=new a,b=new a,_=new a;return function(r,s){var a=this.geometry,y=this.material,_=this.matrixWorld;if(void 0!==y&&(null===a.boundingSphere&&a.computeBoundingSphere(),l.copy(a.boundingSphere),l.applyMatrix4(_),!1!==r.ray.intersectsSphere(l)&&(i.getInverse(_),o.copy(r.ray).applyMatrix4(i),null===a.boundingBox||!1!==o.intersectsBox(a.boundingBox)))){var x;if(a.isBufferGeometry){var w,E,T,S,k,A=a.index,C=a.attributes.position,M=a.attributes.uv;if(null!==A)for(S=0,k=A.count;S<k;S+=3)w=A.getX(S),E=A.getX(S+1),T=A.getX(S+2),(x=n(this,r,o,C,M,w,E,T))&&(x.faceIndex=Math.floor(S/3),s.push(x));else if(void 0!==C)for(S=0,k=C.count;S<k;S+=3)(x=n(this,r,o,C,M,w=S,E=S+1,T=S+2))&&(x.index=w,s.push(x))}else if(a.isGeometry){var R,L,P,O,D=Array.isArray(y),F=a.vertices,I=a.faces,N=a.faceVertexUvs[0];N.length>0&&(O=N);for(var B=0,j=I.length;B<j;B++){var z=I[B],U=D?y[z.materialIndex]:y;if(void 0!==U){if(R=F[z.a],L=F[z.b],P=F[z.c],!0===U.morphTargets){var V=a.morphTargets,G=this.morphTargetInfluences;c.set(0,0,0),u.set(0,0,0),h.set(0,0,0);for(var H=0,W=V.length;H<W;H++){var $=G[H];if(0!==$){var q=V[H].vertices;c.addScaledVector(d.subVectors(q[z.a],R),$),u.addScaledVector(p.subVectors(q[z.b],L),$),h.addScaledVector(m.subVectors(q[z.c],P),$)}}c.add(R),u.add(L),h.add(P),R=c,L=u,P=h}if(x=t(this,U,r,o,R,L,P,b)){if(O&&O[B]){var X=O[B];f.copy(X[0]),g.copy(X[1]),v.copy(X[2]),x.uv=e(b,R,L,P,f,g,v)}x.face=z,x.faceIndex=B,s.push(x)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var xa=0;Je.prototype=Object.assign(Object.create(ue.prototype),{constructor:Je,isPerspectiveCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*ia.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*ia.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*ia.RAD2DEG*Math.atan(Math.tan(.5*ia.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*ia.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,s=this.view;if(null!==this.view&&this.view.enabled){var o=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/o,t-=s.offsetY*n/a,i*=s.width/o,n*=s.height/a}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Qe.prototype=Object.assign(Object.create(Je.prototype),{constructor:Qe,isArrayCamera:!0}),nt.prototype.isFogExp2=!0,nt.prototype.clone=function(){return new nt(this.color.getHex(),this.density)},nt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},it.prototype.isFog=!0,it.prototype.clone=function(){return new it(this.color.getHex(),this.near,this.far)},it.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},rt.prototype=Object.assign(Object.create(ce.prototype),{constructor:rt,copy:function(e,t){return ce.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),st.prototype=Object.assign(Object.create(ce.prototype),{constructor:st,isLensFlare:!0,copy:function(e){ce.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,i,r,s){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===s&&(s=1),void 0===r&&(r=new q(16777215)),void 0===i&&(i=ss),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:s,color:r,blending:i})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,i=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;e<n;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+i*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),(ot.prototype=Object.create(J.prototype)).constructor=ot,ot.prototype.isSpriteMaterial=!0,ot.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},at.prototype=Object.assign(Object.create(ce.prototype),{constructor:at,isSprite:!0,raycast:function(){var e=new a,t=new a,n=new a;return function(i,r){t.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var s=n.x*n.y/4;if(!(t.distanceToSquared(e)>s)){var o=i.ray.origin.distanceTo(e);o<i.near||o>i.far||r.push({distance:o,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),lt.prototype=Object.assign(Object.create(ce.prototype),{constructor:lt,copy:function(e){ce.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new a;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var e=new a,t=new a;return function(n){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);i[0].object.visible=!0;for(var s=1,o=i.length;s<o&&r>=i[s].distance;s++)i[s-1].object.visible=!1,i[s].object.visible=!0;for(;s<o;s++)i[s].object.visible=!1}}}(),toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}),Object.assign(ct.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new s;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new s,t=new s;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,s=this.boneTexture,o=0,a=n.length;o<a;o++){var l=n[o]?n[o].matrixWorld:t;e.multiplyMatrices(l,i[o]),e.toArray(r,16*o)}void 0!==s&&(s.needsUpdate=!0)}}(),clone:function(){return new ct(this.bones,this.boneInverses)}}),ut.prototype=Object.assign(Object.create(ce.prototype),{constructor:ut,isBone:!0}),ht.prototype=Object.assign(Object.create(Ie.prototype),{constructor:ht,isSkinnedMesh:!0,initBones:function(){var e,t,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],e=new ut,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.manhattanLength())!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new u,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++)i.x=r.getX(t),i.y=r.getY(t),i.z=r.getZ(t),i.w=r.getW(t),(e=1/i.manhattanLength())!==1/0?i.multiplyScalar(e):i.set(1,0,0,0),r.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(e){Ie.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(dt.prototype=Object.create(J.prototype)).constructor=dt,dt.prototype.isLineBasicMaterial=!0,dt.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},pt.prototype=Object.assign(Object.create(ce.prototype),{constructor:pt,isLine:!0,raycast:function(){var e=new s,t=new Oe,n=new ne;return function(i,r){var s=i.linePrecision,o=s*s,l=this.geometry,c=this.matrixWorld;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var u=new a,h=new a,d=new a,p=new a,m=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var f=l.index,g=l.attributes.position.array;if(null!==f)for(var v=f.array,y=0,b=v.length-1;y<b;y+=m){var _=v[y],x=v[y+1];u.fromArray(g,3*_),h.fromArray(g,3*x);if(!(t.distanceSqToSegment(u,h,p,d)>o)){p.applyMatrix4(this.matrixWorld);(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(y=0,b=g.length/3-1;y<b;y+=m){u.fromArray(g,3*y),h.fromArray(g,3*y+3);if(!(t.distanceSqToSegment(u,h,p,d)>o)){p.applyMatrix4(this.matrixWorld);(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry){var w=l.vertices,E=w.length;for(y=0;y<E-1;y+=m){if(!(t.distanceSqToSegment(w[y],w[y+1],p,d)>o)){p.applyMatrix4(this.matrixWorld);var T;(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mt.prototype=Object.assign(Object.create(pt.prototype),{constructor:mt,isLineSegments:!0}),ft.prototype=Object.assign(Object.create(pt.prototype),{constructor:ft,isLineLoop:!0}),(gt.prototype=Object.create(J.prototype)).constructor=gt,gt.prototype.isPointsMaterial=!0,gt.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},vt.prototype=Object.assign(Object.create(ce.prototype),{constructor:vt,isPoints:!0,raycast:function(){var e=new s,t=new Oe,n=new ne;return function(i,r){function s(e,n){var s=t.distanceSqToPoint(e);if(s<d){var a=t.closestPointToPoint(e);a.applyMatrix4(c);var l=i.ray.origin.distanceTo(a);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(s),point:a.clone(),index:n,face:null,object:o})}}var o=this,l=this.geometry,c=this.matrixWorld,u=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new a;if(l.isBufferGeometry){var m=l.index,f=l.attributes.position.array;if(null!==m)for(var g=m.array,v=0,y=g.length;v<y;v++){var b=g[v];p.fromArray(f,3*b),s(p,b)}else{v=0;for(var _=f.length/3;v<_;v++)p.fromArray(f,3*v),s(p,v)}}else{var x=l.vertices;for(v=0,_=x.length;v<_;v++)s(x[v],v)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yt.prototype=Object.assign(Object.create(ce.prototype),{constructor:yt}),(bt.prototype=Object.create(c.prototype)).constructor=bt,(_t.prototype=Object.create(c.prototype)).constructor=_t,_t.prototype.isCompressedTexture=!0,(xt.prototype=Object.create(c.prototype)).constructor=xt,xt.prototype.isDepthTexture=!0,(wt.prototype=Object.create(ke.prototype)).constructor=wt,(Et.prototype=Object.create(pe.prototype)).constructor=Et,(Tt.prototype=Object.create(ke.prototype)).constructor=Tt,(St.prototype=Object.create(pe.prototype)).constructor=St,(kt.prototype=Object.create(ke.prototype)).constructor=kt,(At.prototype=Object.create(pe.prototype)).constructor=At,(Ct.prototype=Object.create(kt.prototype)).constructor=Ct,(Mt.prototype=Object.create(pe.prototype)).constructor=Mt,(Rt.prototype=Object.create(kt.prototype)).constructor=Rt,(Lt.prototype=Object.create(pe.prototype)).constructor=Lt,(Pt.prototype=Object.create(kt.prototype)).constructor=Pt,(Ot.prototype=Object.create(pe.prototype)).constructor=Ot,(Dt.prototype=Object.create(kt.prototype)).constructor=Dt,(Ft.prototype=Object.create(pe.prototype)).constructor=Ft,(It.prototype=Object.create(ke.prototype)).constructor=It,(Nt.prototype=Object.create(pe.prototype)).constructor=Nt,(Bt.prototype=Object.create(ke.prototype)).constructor=Bt,(jt.prototype=Object.create(pe.prototype)).constructor=jt,(zt.prototype=Object.create(ke.prototype)).constructor=zt;var wa={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},triangulate:function(){function e(e,t,n,i,r,s){var o,a,l,c,u,h,d,p,m;if(a=e[s[t]].x,l=e[s[t]].y,c=e[s[n]].x,u=e[s[n]].y,h=e[s[i]].x,d=e[s[i]].y,(c-a)*(d-l)-(u-l)*(h-a)<=0)return!1;var f,g,v,y,b,_,x,w,E,T,S,k,A,C,M;for(f=h-c,g=d-u,v=a-h,y=l-d,b=c-a,_=u-l,o=0;o<r;o++)if(p=e[s[o]].x,m=e[s[o]].y,!(p===a&&m===l||p===c&&m===u||p===h&&m===d)&&(x=p-a,w=m-l,E=p-c,T=m-u,S=p-h,k=m-d,M=f*T-g*E,A=b*w-_*x,C=v*k-y*S,M>=-Number.EPSILON&&C>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(t,n){var i=t.length;if(i<3)return null;var r,s,o,a=[],l=[],c=[];if(wa.area(t)>0)for(s=0;s<i;s++)l[s]=s;else for(s=0;s<i;s++)l[s]=i-1-s;var u=i,h=2*u;for(s=u-1;u>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:a;if(r=s,u<=r&&(r=0),s=r+1,u<=s&&(s=0),o=s+1,u<=o&&(o=0),e(t,r,s,o,u,l)){var d,p,m,f,g;for(d=l[r],p=l[s],m=l[o],a.push([t[d],t[p],t[m]]),c.push([l[r],l[s],l[o]]),f=s,g=s+1;g<u;f++,g++)l[f]=l[g];h=2*--u}}return n?c:a}}(),triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function i(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function r(e,t,n,r,s){var o=t.x-e.x,a=t.y-e.y,l=r.x-n.x,c=r.y-n.y,u=e.x-n.x,h=e.y-n.y,d=a*l-o*c,p=a*u-o*h;if(Math.abs(d)>Number.EPSILON){var m;if(d>0){if(p<0||p>d)return[];if((m=c*u-l*h)<0||m>d)return[]}else{if(p>0||p<d)return[];if((m=c*u-l*h)>0||m<d)return[]}if(0===m)return!s||0!==p&&p!==d?[e]:[];if(m===d)return!s||0!==p&&p!==d?[t]:[];if(0===p)return[n];if(p===d)return[r];var f=m/d;return[{x:e.x+f*o,y:e.y+f*a}]}if(0!==p||c*u!=l*h)return[];var g=0===o&&0===a,v=0===l&&0===c;if(g&&v)return e.x!==n.x||e.y!==n.y?[]:[e];if(g)return i(n,r,e)?[e]:[];if(v)return i(e,t,n)?[n]:[];var y,b,_,x,w,E,T,S;return 0!==o?(e.x<t.x?(y=e,_=e.x,b=t,x=t.x):(y=t,_=t.x,b=e,x=e.x),n.x<r.x?(w=n,T=n.x,E=r,S=r.x):(w=r,T=r.x,E=n,S=n.x)):(e.y<t.y?(y=e,_=e.y,b=t,x=t.y):(y=t,_=t.y,b=e,x=e.y),n.y<r.y?(w=n,T=n.y,E=r,S=r.y):(w=r,T=r.y,E=n,S=n.y)),_<=T?x<T?[]:x===T?s?[]:[w]:x<=S?[w,b]:[w,E]:_>S?[]:_===S?s?[]:[y]:x<=S?[y,b]:[y,E]}function s(e,t,n,i){var r=t.x-e.x,s=t.y-e.y,o=n.x-e.x,a=n.y-e.y,l=i.x-e.x,c=i.y-e.y,u=r*a-s*o,h=r*c-s*l;if(Math.abs(u)>Number.EPSILON){var d=l*a-c*o;return u>0?h>=0&&d>=0:h>=0||d>=0}return h>0}n(e),t.forEach(n);for(var o,a,l,c,u,h,d={},p=e.concat(),m=0,f=t.length;m<f;m++)Array.prototype.push.apply(p,t[m]);for(o=0,a=p.length;o<a;o++)void 0!==d[u=p[o].x+":"+p[o].y]&&console.warn("THREE.ShapeUtils: Duplicate point",u,o),d[u]=o;var g=function(e,t){function n(e,t){var n=y.length-1,i=e-1;i<0&&(i=n);var r=e+1;r>n&&(r=0);var o=s(y[e],y[i],y[r],a[t]);if(!o)return!1;var l=a.length-1,c=t-1;c<0&&(c=l);var u=t+1;return u>l&&(u=0),!!(o=s(a[t],a[c],a[u],y[e]))}function i(e,t){var n,i;for(n=0;n<y.length;n++)if(i=n+1,i%=y.length,r(e,t,y[n],y[i],!0).length>0)return!0;return!1}function o(e,n){var i,s,o,a;for(i=0;i<b.length;i++)for(s=t[b[i]],o=0;o<s.length;o++)if(a=o+1,a%=s.length,r(e,n,s[o],s[a],!0).length>0)return!0;return!1}for(var a,l,c,u,h,d,p,m,f,g,v,y=e.concat(),b=[],_=[],x=0,w=t.length;x<w;x++)b.push(x);for(var E=0,T=2*b.length;b.length>0;){if(--T<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(c=E;c<y.length;c++){for(u=y[c],l=-1,x=0;x<b.length;x++)if(d=b[x],p=u.x+":"+u.y+":"+d,void 0===_[p]){a=t[d];for(var S=0;S<a.length;S++)if(h=a[S],n(c,S)&&!i(u,h)&&!o(u,h)){l=S,b.splice(x,1),m=y.slice(0,c+1),f=y.slice(c),g=a.slice(l),v=a.slice(0,l+1),y=m.concat(g).concat(v).concat(f),E=c;break}if(l>=0)break;_[p]=!0}if(l>=0)break}}return y}(e,t),v=wa.triangulate(g,!1);for(o=0,a=v.length;o<a;o++)for(c=v[o],l=0;l<3;l++)void 0!==(h=d[u=c[l].x+":"+c[l].y])&&(c[l]=h);return v.concat()},isClockWise:function(e){return wa.area(e)<0}};(Ut.prototype=Object.create(pe.prototype)).constructor=Ut,(Vt.prototype=Object.create(ke.prototype)).constructor=Vt,Vt.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),i=n?Array.prototype.slice.call(n.array):[],r=this.index;return{position:t,uv:i,index:r?Array.prototype.slice.call(r.array):[]}},Vt.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new we(t.arrays.position,3)),this.addAttribute("uv",new we(t.arrays.uv,2))},Vt.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function i(e,t,n){var i,s,o,a=e.x-t.x,l=e.y-t.y,c=n.x-e.x,u=n.y-e.y,h=a*a+l*l,d=a*u-l*c;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(h),m=Math.sqrt(c*c+u*u),f=t.x-l/p,g=t.y+a/p,v=((n.x-u/m-f)*u-(n.y+c/m-g)*c)/(a*u-l*c),y=(i=f+a*v-e.x)*i+(s=g+l*v-e.y)*s;if(y<=2)return new r(i,s);o=Math.sqrt(y/2)}else{var b=!1;a>Number.EPSILON?c>Number.EPSILON&&(b=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(b=!0):Math.sign(l)===Math.sign(u)&&(b=!0),b?(i=-l,s=a,o=Math.sqrt(h)):(i=a,s=l,o=Math.sqrt(h/2))}return new r(i/o,s/o)}function s(e,t){var n,i;for(Y=e.length;--Y>=0;){n=Y,(i=Y-1)<0&&(i=e.length-1);var r=0,s=A+2*T;for(r=0;r<s;r++){var o=$*r,a=$*(r+1);!function(e,t,n,i){c(e),c(t),c(i),c(t),c(n),c(i);var r=v.length/3,s=R.generateSideWallUV(D,v,r-6,r-3,r-2,r-1);u(s[0]),u(s[1]),u(s[3]),u(s[1]),u(s[2]),u(s[3])}(t+n+o,t+i+o,t+i+a,t+n+a)}}}function o(e,t,n){_.push(e),_.push(t),_.push(n)}function l(e,t,n){c(e),c(t),c(n);var i=v.length/3,r=R.generateTopUV(D,v,i-3,i-2,i-1);u(r[0]),u(r[1]),u(r[2])}function c(e){y.push(v.length/3),v.push(_[3*e+0]),v.push(_[3*e+1]),v.push(_[3*e+2])}function u(e){b.push(e.x),b.push(e.y)}var h,d,p,m,f,g=t.arrays?t.arrays:this.getArrays(),v=g.position,y=g.index,b=g.uv,_=[],x=void 0!==t.amount?t.amount:100,w=void 0!==t.bevelThickness?t.bevelThickness:6,E=void 0!==t.bevelSize?t.bevelSize:w-2,T=void 0!==t.bevelSegments?t.bevelSegments:3,S=void 0===t.bevelEnabled||t.bevelEnabled,k=void 0!==t.curveSegments?t.curveSegments:12,A=void 0!==t.steps?t.steps:1,C=t.extrudePath,M=!1,R=void 0!==t.UVGenerator?t.UVGenerator:Ut.WorldUVGenerator;C&&(h=C.getSpacedPoints(A),M=!0,S=!1,d=void 0!==t.frames?t.frames:C.computeFrenetFrames(A,!1),p=new a,m=new a,f=new a),S||(T=0,w=0,E=0);var L,P,O,D=this,F=e.extractPoints(k),I=F.shape,N=F.holes;if(!wa.isClockWise(I))for(I=I.reverse(),P=0,O=N.length;P<O;P++)L=N[P],wa.isClockWise(L)&&(N[P]=L.reverse());var B=wa.triangulateShape(I,N),j=I;for(P=0,O=N.length;P<O;P++)L=N[P],I=I.concat(L);for(var z,U,V,G,H,W,$=I.length,q=B.length,X=[],Y=0,K=j.length,Z=K-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),X[Y]=i(j[Y],j[Z],j[J]);var Q,ee=[],te=X.concat();for(P=0,O=N.length;P<O;P++){for(L=N[P],Q=[],Y=0,Z=(K=L.length)-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),Q[Y]=i(L[Y],L[Z],L[J]);ee.push(Q),te=te.concat(Q)}for(z=0;z<T;z++){for(V=z/T,G=w*Math.cos(V*Math.PI/2),U=E*Math.sin(V*Math.PI/2),Y=0,K=j.length;Y<K;Y++)o((H=n(j[Y],X[Y],U)).x,H.y,-G);for(P=0,O=N.length;P<O;P++)for(L=N[P],Q=ee[P],Y=0,K=L.length;Y<K;Y++)o((H=n(L[Y],Q[Y],U)).x,H.y,-G)}for(U=E,Y=0;Y<$;Y++)H=S?n(I[Y],te[Y],U):I[Y],M?(m.copy(d.normals[0]).multiplyScalar(H.x),p.copy(d.binormals[0]).multiplyScalar(H.y),f.copy(h[0]).add(m).add(p),o(f.x,f.y,f.z)):o(H.x,H.y,0);var ne;for(ne=1;ne<=A;ne++)for(Y=0;Y<$;Y++)H=S?n(I[Y],te[Y],U):I[Y],M?(m.copy(d.normals[ne]).multiplyScalar(H.x),p.copy(d.binormals[ne]).multiplyScalar(H.y),f.copy(h[ne]).add(m).add(p),o(f.x,f.y,f.z)):o(H.x,H.y,x/A*ne);for(z=T-1;z>=0;z--){for(V=z/T,G=w*Math.cos(V*Math.PI/2),U=E*Math.sin(V*Math.PI/2),Y=0,K=j.length;Y<K;Y++)o((H=n(j[Y],X[Y],U)).x,H.y,x+G);for(P=0,O=N.length;P<O;P++)for(L=N[P],Q=ee[P],Y=0,K=L.length;Y<K;Y++)H=n(L[Y],Q[Y],U),M?o(H.x,H.y+h[A-1].y,h[A-1].x+G):o(H.x,H.y,x+G)}!function(){var e=v.length/3;if(S){var n=0,i=$*n;for(Y=0;Y<q;Y++)l((W=B[Y])[2]+i,W[1]+i,W[0]+i);for(i=$*(n=A+2*T),Y=0;Y<q;Y++)l((W=B[Y])[0]+i,W[1]+i,W[2]+i)}else{for(Y=0;Y<q;Y++)l((W=B[Y])[2],W[1],W[0]);for(Y=0;Y<q;Y++)l((W=B[Y])[0]+$*A,W[1]+$*A,W[2]+$*A)}D.addGroup(e,v.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=v.length/3,n=0;for(s(j,n),n+=j.length,P=0,O=N.length;P<O;P++)s(L=N[P],n),n+=L.length;D.addGroup(e,v.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(y),this.addAttribute("position",new we(v,3)),this.addAttribute("uv",new we(t.arrays.uv,2)))},Ut.WorldUVGenerator={generateTopUV:function(e,t,n,i,s){var o=t[3*n],a=t[3*n+1],l=t[3*i],c=t[3*i+1],u=t[3*s],h=t[3*s+1];return[new r(o,a),new r(l,c),new r(u,h)]},generateSideWallUV:function(e,t,n,i,s,o){var a=t[3*n],l=t[3*n+1],c=t[3*n+2],u=t[3*i],h=t[3*i+1],d=t[3*i+2],p=t[3*s],m=t[3*s+1],f=t[3*s+2],g=t[3*o],v=t[3*o+1],y=t[3*o+2];return Math.abs(l-h)<.01?[new r(a,1-c),new r(u,1-d),new r(p,1-f),new r(g,1-y)]:[new r(l,1-c),new r(h,1-d),new r(m,1-f),new r(v,1-y)]}},(Gt.prototype=Object.create(pe.prototype)).constructor=Gt,(Ht.prototype=Object.create(Vt.prototype)).constructor=Ht,(Wt.prototype=Object.create(pe.prototype)).constructor=Wt,($t.prototype=Object.create(ke.prototype)).constructor=$t,(qt.prototype=Object.create(pe.prototype)).constructor=qt,(Xt.prototype=Object.create(ke.prototype)).constructor=Xt,(Yt.prototype=Object.create(pe.prototype)).constructor=Yt,(Kt.prototype=Object.create(ke.prototype)).constructor=Kt,(Zt.prototype=Object.create(pe.prototype)).constructor=Zt,(Jt.prototype=Object.create(ke.prototype)).constructor=Jt,(Qt.prototype=Object.create(ke.prototype)).constructor=Qt,(en.prototype=Object.create(pe.prototype)).constructor=en,(tn.prototype=Object.create(ke.prototype)).constructor=tn,(nn.prototype=Object.create(en.prototype)).constructor=nn,(rn.prototype=Object.create(tn.prototype)).constructor=rn,(sn.prototype=Object.create(pe.prototype)).constructor=sn,(on.prototype=Object.create(ke.prototype)).constructor=on;var Ea=Object.freeze({WireframeGeometry:wt,ParametricGeometry:Et,ParametricBufferGeometry:Tt,TetrahedronGeometry:At,TetrahedronBufferGeometry:Ct,OctahedronGeometry:Mt,OctahedronBufferGeometry:Rt,IcosahedronGeometry:Lt,IcosahedronBufferGeometry:Pt,DodecahedronGeometry:Ot,DodecahedronBufferGeometry:Dt,PolyhedronGeometry:St,PolyhedronBufferGeometry:kt,TubeGeometry:Ft,TubeBufferGeometry:It,TorusKnotGeometry:Nt,TorusKnotBufferGeometry:Bt,TorusGeometry:jt,TorusBufferGeometry:zt,TextGeometry:Gt,TextBufferGeometry:Ht,SphereGeometry:Wt,SphereBufferGeometry:$t,RingGeometry:qt,RingBufferGeometry:Xt,PlaneGeometry:Me,PlaneBufferGeometry:Re,LatheGeometry:Yt,LatheBufferGeometry:Kt,ShapeGeometry:Zt,ShapeBufferGeometry:Jt,ExtrudeGeometry:Ut,ExtrudeBufferGeometry:Vt,EdgesGeometry:Qt,ConeGeometry:nn,ConeBufferGeometry:rn,CylinderGeometry:en,CylinderBufferGeometry:tn,CircleGeometry:sn,CircleBufferGeometry:on,BoxGeometry:Ae,BoxBufferGeometry:Ce});(an.prototype=Object.create(J.prototype)).constructor=an,an.prototype.isShadowMaterial=!0,(ln.prototype=Object.create(Pe.prototype)).constructor=ln,ln.prototype.isRawShaderMaterial=!0,(cn.prototype=Object.create(J.prototype)).constructor=cn,cn.prototype.isMeshStandardMaterial=!0,cn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(un.prototype=Object.create(cn.prototype)).constructor=un,un.prototype.isMeshPhysicalMaterial=!0,un.prototype.copy=function(e){return cn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},(hn.prototype=Object.create(J.prototype)).constructor=hn,hn.prototype.isMeshPhongMaterial=!0,hn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(dn.prototype=Object.create(hn.prototype)).constructor=dn,dn.prototype.isMeshToonMaterial=!0,dn.prototype.copy=function(e){return hn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},(pn.prototype=Object.create(J.prototype)).constructor=pn,pn.prototype.isMeshNormalMaterial=!0,pn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(mn.prototype=Object.create(J.prototype)).constructor=mn,mn.prototype.isMeshLambertMaterial=!0,mn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(fn.prototype=Object.create(dt.prototype)).constructor=fn,fn.prototype.isLineDashedMaterial=!0,fn.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Ta=Object.freeze({ShadowMaterial:an,SpriteMaterial:ot,RawShaderMaterial:ln,ShaderMaterial:Pe,PointsMaterial:gt,MeshPhysicalMaterial:un,MeshStandardMaterial:cn,MeshPhongMaterial:hn,MeshToonMaterial:dn,MeshNormalMaterial:pn,MeshLambertMaterial:mn,MeshDepthMaterial:Q,MeshDistanceMaterial:ee,MeshBasicMaterial:Le,LineDashedMaterial:fn,LineBasicMaterial:dt,Material:J}),Sa={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},ka=new gn,Aa={};Object.assign(vn.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Sa.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(void 0===Aa[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var a=o[1],l=!!o[2],c=o[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);u="blob"===h?new Blob([d.buffer],{type:a}):d.buffer;break;case"document":var m=new DOMParser;u=m.parseFromString(c,a);break;case"json":u=JSON.parse(c);break;default:u=c}window.setTimeout(function(){t&&t(u),r.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},0)}}else{Aa[e]=[],Aa[e].push({onLoad:t,onProgress:n,onError:i});var f=new XMLHttpRequest;f.open("GET",e,!0),f.addEventListener("load",function(t){var n=t.target.response;Sa.add(e,n);var i=Aa[e];if(delete Aa[e],200===this.status){for(var s=0,o=i.length;s<o;s++){(a=i[s]).onLoad&&a.onLoad(n)}r.manager.itemEnd(e)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(s=0,o=i.length;s<o;s++){(a=i[s]).onLoad&&a.onLoad(n)}r.manager.itemEnd(e)}else{for(s=0,o=i.length;s<o;s++){var a;(a=i[s]).onError&&a.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)}},!1),f.addEventListener("progress",function(t){for(var n=Aa[e],i=0,r=n.length;i<r;i++){var s=n[i];s.onProgress&&s.onProgress(t)}},!1),f.addEventListener("error",function(t){var n=Aa[e];delete Aa[e];for(var i=0,s=n.length;i<s;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)},!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return r.manager.itemStart(e),f}Aa[e].push({onLoad:t,onProgress:n,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(yn.prototype,{load:function(e,t,n,i){function r(r){l.load(e[r],function(e){var n=s._parser(e,!0);o[r]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=no),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}var s=this,o=[],a=new _t;a.image=o;var l=new vn(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,h=e.length;u<h;++u)r(u);else l.load(e,function(e){var n=s._parser(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,r=0;r<i;r++){o[r]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[r].mipmaps.push(n.mipmaps[r*n.mipmapCount+l]),o[r].format=n.format,o[r].width=n.width,o[r].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=no),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a},setPath:function(e){return this.path=e,this}}),Object.assign(bn.prototype,{load:function(e,t,n,i){var r=this,s=new p,o=new vn(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var n=r._parser(e);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:Zs,s.wrapT=void 0!==n.wrapT?n.wrapT:Zs,s.magFilter=void 0!==n.magFilter?n.magFilter:no,s.minFilter=void 0!==n.minFilter?n.minFilter:ro,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps),1===n.mipmapCount&&(s.minFilter=no),s.needsUpdate=!0,t&&t(s,n))},n,i),s}}),Object.assign(_n.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Sa.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){Sa.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),o.addEventListener("error",function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(xn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){function r(n){o.load(e[n],function(e){s.images[n]=e,6===++a&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}var s=new m,o=new _n(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,l=0;l<e.length;++l)r(l);return s},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(wn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){var r=new _n(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);var s=new c;return s.image=r.load(e,function(){var n=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);s.format=n?bo:_o,s.needsUpdate=!0,void 0!==t&&t(s)},n,i),s},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),En.prototype=Object.assign(Object.create(ce.prototype),{constructor:En,isLight:!0,copy:function(e){return ce.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Tn.prototype=Object.assign(Object.create(En.prototype),{constructor:Tn,isHemisphereLight:!0,copy:function(e){return En.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Sn.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),kn.prototype=Object.assign(Object.create(Sn.prototype),{constructor:kn,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*ia.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),An.prototype=Object.assign(Object.create(En.prototype),{constructor:An,isSpotLight:!0,copy:function(e){return En.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Cn.prototype=Object.assign(Object.create(En.prototype),{constructor:Cn,isPointLight:!0,copy:function(e){return En.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Mn.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Mn}),Rn.prototype=Object.assign(Object.create(En.prototype),{constructor:Rn,isDirectionalLight:!0,copy:function(e){return En.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ln.prototype=Object.assign(Object.create(En.prototype),{constructor:Ln,isAmbientLight:!0}),Pn.prototype=Object.assign(Object.create(En.prototype),{constructor:Pn,isRectAreaLight:!0,copy:function(e){return En.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=En.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Ca={arraySlice:function(e,t,n){return Ca.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),s=0,o=0;o!==i;++s)for(var a=n[s]*t,l=0;l!==t;++l)r[o++]=e[a+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,s=e[0];void 0!==s&&void 0===s[i];)s=e[r++];if(void 0!==s){var o=s[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=s[i])&&(t.push(s.time),n.push.apply(n,o)),s=e[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{void 0!==(o=s[i])&&(t.push(s.time),o.toArray(n,n.length)),s=e[r++]}while(void 0!==s);else do{void 0!==(o=s[i])&&(t.push(s.time),n.push(o)),s=e[r++]}while(void 0!==s)}}};Object.assign(On.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var s;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(e>=r)break e;var a=t[1];e<a&&(n=2,r=a);for(o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0}for(;n<s;){var l=n+s>>>1;e<t[l]?s=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(On.prototype,{beforeStart_:On.prototype.copySampleValue_,afterEnd_:On.prototype.copySampleValue_}),Dn.prototype=Object.assign(Object.create(On.prototype),{constructor:Dn,DefaultSettings_:{endingStart:Uo,endingEnd:Uo},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,s=e+1,o=i[r],a=i[s];if(void 0===o)switch(this.getSettings_().endingStart){case Vo:r=e,o=2*t-n;break;case Go:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Vo:s=e,a=2*n-t;break;case Go:s=1,a=n+i[1]-i[0];break;default:s=e-1,a=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,g=-h*f+2*h*m-h*p,v=(1+h)*f+(-1.5-2*h)*m+(-.5+h)*p+1,y=(-1-d)*f+(1.5+d)*m+.5*p,b=d*f-d*m,_=0;_!==o;++_)r[_]=g*s[c+_]+v*s[l+_]+y*s[a+_]+b*s[u+_];return r}}),Fn.prototype=Object.assign(Object.create(On.prototype),{constructor:Fn,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=(n-t)/(i-t),u=1-c,h=0;h!==o;++h)r[h]=s[l+h]*u+s[a+h]*c;return r}}),In.prototype=Object.assign(Object.create(On.prototype),{constructor:In,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Ma;Ma={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:jo,InterpolantFactoryMethodDiscrete:function(e){return new In(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Fn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Dn(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Bo:t=this.InterpolantFactoryMethodDiscrete;break;case jo:t=this.InterpolantFactoryMethodLinear;break;case zo:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrackPrototype:",n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Bo;case this.InterpolantFactoryMethodLinear:return jo;case this.InterpolantFactoryMethodSmooth:return zo}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,s=i-1;r!==i&&n[r]<e;)++r;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);var o=this.getValueSize();this.times=Ca.arraySlice(n,r,s),this.values=Ca.arraySlice(this.values,r*o,s*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),e=!1);for(var s=null,o=0;o!==r;o++){var a=n[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,o,a),e=!1;break}if(null!==s&&s>a){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(void 0!==i&&Ca.isTypedArray(i)){o=0;for(var l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,o,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=this.getInterpolation()===zo,r=1,s=e.length-1,o=1;o<s;++o){var a=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(i)a=!0;else for(var c=o*n,u=c-n,h=c+n,d=0;d!==n;++d){var p=t[c+d];if(p!==t[u+d]||p!==t[h+d]){a=!0;break}}if(a){if(o!==r){e[r]=e[o];var m=o*n,f=r*n;for(d=0;d!==n;++d)t[f+d]=t[m+d]}++r}}if(s>0){e[r]=e[s];for(m=s*n,f=r*n,d=0;d!==n;++d)t[f+d]=t[m+d];++r}return r!==e.length&&(this.times=Ca.arraySlice(e,0,r),this.values=Ca.arraySlice(t,0,r*n)),this}},Bn.prototype=Object.assign(Object.create(Ma),{constructor:Bn,ValueTypeName:"vector"}),jn.prototype=Object.assign(Object.create(On.prototype),{constructor:jn,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=(n-t)/(i-t),u=l+a;l!==u;l+=4)o.slerpFlat(r,0,s,l-a,s,l,c);return r}}),zn.prototype=Object.assign(Object.create(Ma),{constructor:zn,ValueTypeName:"quaternion",DefaultInterpolation:jo,InterpolantFactoryMethodLinear:function(e){return new jn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Un.prototype=Object.assign(Object.create(Ma),{constructor:Un,ValueTypeName:"number"}),Vn.prototype=Object.assign(Object.create(Ma),{constructor:Vn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Bo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Gn.prototype=Object.assign(Object.create(Ma),{constructor:Gn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Bo,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Hn.prototype=Object.assign(Object.create(Ma),{constructor:Hn,ValueTypeName:"color"}),Wn.prototype=Ma,Ma.constructor=Wn,Object.assign(Wn,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=Wn._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],i=[];Ca.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ca.convertArray(e.times,Array),values:Ca.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Un;case"vector":case"vector2":case"vector3":case"vector4":return Bn;case"color":return Hn;case"quaternion":return zn;case"bool":case"boolean":return Gn;case"string":return Vn}throw new Error("Unsupported typeName: "+e)}}),Object.assign($n,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,s=n.length;r!==s;++r)t.push(Wn.parse(n[r]).scale(i));return new $n(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t},r=0,s=n.length;r!==s;++r)t.push(Wn.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,s=[],o=0;o<r;o++){var a=[],l=[];a.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=Ca.getKeyframeOrder(a);a=Ca.sortedArray(a,1,c),l=Ca.sortedArray(l,1,c),i||0!==a[0]||(a.push(r),l.push(l[0])),s.push(new Un(".morphTargetInfluences["+t[o].name+"]",a,l).scale(1/n))}return new $n(e,-1,s)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,s=0,o=e.length;s<o;s++){var a=e[s],l=a.name.match(r);if(l&&l.length>1){var c=i[h=l[1]];c||(i[h]=c=[]),c.push(a)}}var u=[];for(var h in i)u.push($n.CreateFromMorphTargetSequence(h,i[h],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var s=[],o=[];Ca.flattenJSON(n,s,o,i),0!==s.length&&r.push(new e(t,s,o))}},i=[],r=e.name||"default",s=e.length||-1,o=e.fps||30,a=e.hierarchy||[],l=0;l<a.length;l++){var c=a[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)u[c[h].morphTargets[d]]=-1;for(var p in u){var m=[],f=[];for(d=0;d!==c[h].morphTargets.length;++d){var g=c[h];m.push(g.time),f.push(g.morphTarget===p?1:0)}i.push(new Un(".morphTargetInfluence["+p+"]",m,f))}s=u.length*(o||1)}else{var v=".bones["+t[l].name+"]";n(Bn,v+".position",c,"pos",i),n(zn,v+".quaternion",c,"rot",i),n(Bn,v+".scale",c,"scl",i)}}if(0===i.length)return null;return new $n(r,s,i)}}),Object.assign($n.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(qn.prototype,{load:function(e,t,n,i){var r=this;new vn(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,i=new Ta[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new r).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),i}}),Object.assign(Xn.prototype,{load:function(e,t,n,i){var r=this;new vn(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new ke,n=e.data.index;if(void 0!==n){var i=new Ra[n.type](n.array);t.setIndex(new me(i,1))}var r=e.data.attributes;for(var s in r){var o=r[s];i=new Ra[o.type](o.array);t.addAttribute(s,new me(i,o.itemSize,o.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(var c=0,u=l.length;c!==u;++c){var h=l[c];t.addGroup(h.start,h.count,h.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var p=new a;void 0!==d.center&&p.fromArray(d.center),t.boundingSphere=new ne(p,d.radius)}return t}});var Ra={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};Yn.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],s=t[n+1];if(r.test(e))return s}return null}},Object.assign(Yn.prototype,{crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:function(){var e={NoBlending:rs,NormalBlending:ss,AdditiveBlending:os,SubtractiveBlending:as,MultiplyBlending:ls,CustomBlending:cs},t=new q,n=new wn,i=new qn;return function(r,s,o){function a(e,t,i,r,a){var c,u=s+e,h=Yn.Handlers.get(u);null!==h?c=h.load(u):(n.setCrossOrigin(o),c=n.load(u)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Ks),1!==t[1]&&(c.wrapT=Ks)),void 0!==i&&c.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(c.wrapS=Ks),"mirror"===r[0]&&(c.wrapS=Js),"repeat"===r[1]&&(c.wrapT=Ks),"mirror"===r[1]&&(c.wrapT=Js)),void 0!==a&&(c.anisotropy=a);var d=ia.generateUUID();return l[d]=c,d}var l={},c={uuid:ia.generateUUID(),type:"MeshLambertMaterial"};for(var u in r){var h=r[u];switch(u){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",u,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=a(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=a(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=a(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=a(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=a(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=a(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=a(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=a(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=a(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=a(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Zr;break;case"doubleSided":c.side=Jr;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[u]=h;break;case"vertexColors":!0===h&&(c.vertexColors=is),"face"===h&&(c.vertexColors=ns);break;default:console.error("THREE.Loader.createMaterial: Unsupported",u,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(l),i.parse(c)}}()}),Object.assign(Kn.prototype,{load:function(e,t,n,i){var r=this,s=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Yn.prototype.extractUrlBase(e),o=new vn(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,function(n){var i=JSON.parse(n),o=i.metadata;if(void 0!==o){var a=o.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var l=r.parse(i,s);t(l.geometry,l.materials)},n,i)},setTexturePath:function(e){this.texturePath=e},parse:function(){return function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var n=new pe;if(function(e,t){function n(e,t){return e&1<<t}var i,s,o,l,c,u,h,d,p,m,f,g,v,y,b,_,x,w,E,T,S,k,A,C,M,R=e.faces,L=e.vertices,P=e.normals,O=e.colors,D=e.scale,F=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&F++;for(i=0;i<F;i++)t.faceVertexUvs[i]=[]}for(l=0,c=L.length;l<c;)(w=new a).x=L[l++]*D,w.y=L[l++]*D,w.z=L[l++]*D,t.vertices.push(w);for(l=0,c=R.length;l<c;)if(m=R[l++],f=n(m,0),g=n(m,1),v=n(m,3),y=n(m,4),b=n(m,5),_=n(m,6),x=n(m,7),f){if(T=new de,T.a=R[l],T.b=R[l+1],T.c=R[l+3],S=new de,S.a=R[l+1],S.b=R[l+2],S.c=R[l+3],l+=4,g&&(p=R[l++],T.materialIndex=p,S.materialIndex=p),o=t.faces.length,v)for(i=0;i<F;i++)for(C=e.uvs[i],t.faceVertexUvs[i][o]=[],t.faceVertexUvs[i][o+1]=[],s=0;s<4;s++)M=new r(C[2*(d=R[l++])],C[2*d+1]),2!==s&&t.faceVertexUvs[i][o].push(M),0!==s&&t.faceVertexUvs[i][o+1].push(M);if(y&&(h=3*R[l++],T.normal.set(P[h++],P[h++],P[h]),S.normal.copy(T.normal)),b)for(i=0;i<4;i++)h=3*R[l++],A=new a(P[h++],P[h++],P[h]),2!==i&&T.vertexNormals.push(A),0!==i&&S.vertexNormals.push(A);if(_&&(k=O[u=R[l++]],T.color.setHex(k),S.color.setHex(k)),x)for(i=0;i<4;i++)k=O[u=R[l++]],2!==i&&T.vertexColors.push(new q(k)),0!==i&&S.vertexColors.push(new q(k));t.faces.push(T),t.faces.push(S)}else{if(E=new de,E.a=R[l++],E.b=R[l++],E.c=R[l++],g&&(p=R[l++],E.materialIndex=p),o=t.faces.length,v)for(i=0;i<F;i++)for(C=e.uvs[i],t.faceVertexUvs[i][o]=[],s=0;s<3;s++)M=new r(C[2*(d=R[l++])],C[2*d+1]),t.faceVertexUvs[i][o].push(M);if(y&&(h=3*R[l++],E.normal.set(P[h++],P[h++],P[h])),b)for(i=0;i<3;i++)h=3*R[l++],A=new a(P[h++],P[h++],P[h]),E.vertexNormals.push(A);if(_&&(u=R[l++],E.color.setHex(O[u])),x)for(i=0;i<3;i++)u=R[l++],E.vertexColors.push(new q(O[u]));t.faces.push(E)}}(e,n),function(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,r=e.skinWeights.length;i<r;i+=n){var s=e.skinWeights[i],o=n>1?e.skinWeights[i+1]:0,a=n>2?e.skinWeights[i+2]:0,l=n>3?e.skinWeights[i+3]:0;t.skinWeights.push(new u(s,o,a,l))}if(e.skinIndices)for(i=0,r=e.skinIndices.length;i<r;i+=n){var c=e.skinIndices[i],h=n>1?e.skinIndices[i+1]:0,d=n>2?e.skinIndices[i+2]:0,p=n>3?e.skinIndices[i+3]:0;t.skinIndices.push(new u(c,h,d,p))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,n),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={},t.morphTargets[i].name=e.morphTargets[i].name,t.morphTargets[i].vertices=[];for(var s=t.morphTargets[i].vertices,o=e.morphTargets[i].vertices,l=0,c=o.length;l<c;l+=3){var u=new a;u.x=o[l]*n,u.y=o[l+1]*n,u.z=o[l+2]*n,s.push(u)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var h=t.faces,d=e.morphColors[0].colors;for(i=0,r=h.length;i<r;i++)h[i].color.fromArray(d,3*i)}}(e,n),function(e,t){var n=[],i=[];void 0!==e.animation&&i.push(e.animation),void 0!==e.animations&&(e.animations.length?i=i.concat(e.animations):i.push(e.animations));for(var r=0;r<i.length;r++){var s=$n.parseAnimation(i[r],t.bones);s&&n.push(s)}if(t.morphTargets){var o=$n.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(o)}n.length>0&&(t.animations=n)}(e,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:n};return{geometry:n,materials:Yn.prototype.initMaterials(e.materials,t,this.crossOrigin)}}}()}),Object.assign(Zn.prototype,{load:function(e,t,n,i){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this;new vn(r.manager).load(e,function(n){var s=null;try{s=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=s.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(s,t):console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.")},n,i)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),i=this.parseImages(e.images,function(){void 0!==t&&t(o)}),r=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,r),o=this.parseObject(e.object,n,s);return e.animations&&(o.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(o),o},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new Kn,i=new Xn,r=0,s=e.length;r<s;r++){var o,a=e[r];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Ea[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Ea[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Ea[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Ea[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Ea[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Ea[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Ea[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Ea[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Ea[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Ea[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Ea[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Ea[a.type](a.vertices,a.indices,a.radius,a.details);break;case"BufferGeometry":o=i.parse(a);break;case"Geometry":o=n.parse(a,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),t[a.uuid]=o}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new qn;i.setTextures(t);for(var r=0,s=e.length;r<s;r++){var o=e[r];if("MultiMaterial"===o.type){for(var a=[],l=0;l<o.materials.length;l++)a.push(i.parse(o.materials[l]));n[o.uuid]=a}else n[o.uuid]=i.parse(o)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=$n.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){function n(e){return i.manager.itemStart(e),s.load(e,function(){i.manager.itemEnd(e)},void 0,function(){i.manager.itemEnd(e),i.manager.itemError(e)})}var i=this,r={};if(void 0!==e&&e.length>0){var s=new _n(new gn(t));s.setCrossOrigin(this.crossOrigin);for(var o=0,a=e.length;o<a;o++){var l=e[o],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;r[l.uuid]=n(c)}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,s=e.length;r<s;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var a=new c(t[o.image]);a.needsUpdate=!0,a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,La)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],Pa),a.wrapT=n(o.wrap[1],Pa)),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,Oa)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,Oa)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),i[o.uuid]=a}return i},parseObject:function(){var e=new s;return function(t,n,i){function r(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];void 0===i[s]&&console.warn("THREE.ObjectLoader: Undefined material",s),t.push(i[s])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}var o;switch(t.type){case"Scene":o=new rt,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new q(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new it(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new nt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Je(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new he(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new Ln(t.color,t.intensity);break;case"DirectionalLight":o=new Rn(t.color,t.intensity);break;case"PointLight":o=new Cn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Pn(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new An(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new Tn(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(t.geometry),l=s(t.material);o=a.bones&&a.bones.length>0?new ht(a,l):new Ie(a,l);break;case"LOD":o=new lt;break;case"Line":o=new pt(r(t.geometry),s(t.material),t.mode);break;case"LineLoop":o=new ft(r(t.geometry),s(t.material));break;case"LineSegments":o=new mt(r(t.geometry),s(t.material));break;case"PointCloud":case"Points":o=new vt(r(t.geometry),s(t.material));break;case"Sprite":o=new at(s(t.material));break;case"Group":o=new yt;break;default:o=new ce}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var c=t.children,u=0;u<c.length;u++)o.add(this.parseObject(c[u],n,i));if("LOD"===t.type)for(var h=t.levels,d=0;d<h.length;d++){var p=h[d],m=o.getObjectByProperty("uuid",p.object);void 0!==m&&o.addLevel(m,p.distance)}return o}}()});var La={UVMapping:Vs,CubeReflectionMapping:Gs,CubeRefractionMapping:Hs,EquirectangularReflectionMapping:Ws,EquirectangularRefractionMapping:$s,SphericalReflectionMapping:qs,CubeUVReflectionMapping:Xs,CubeUVRefractionMapping:Ys},Pa={RepeatWrapping:Ks,ClampToEdgeWrapping:Zs,MirroredRepeatWrapping:Js},Oa={NearestFilter:Qs,NearestMipMapNearestFilter:eo,NearestMipMapLinearFilter:to,LinearFilter:no,LinearMipMapNearestFilter:io,LinearMipMapLinearFilter:ro};Object.assign(ti.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),s=0;for(i.push(0),n=1;n<=e;n++)s+=(t=this.getPoint(n/e)).distanceTo(r),i.push(s),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,s=i.length;n=t||e*i[s-1];for(var o,a=0,l=s-1;a<=l;)if(r=Math.floor(a+(l-a)/2),(o=i[r]-n)<0)a=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(s-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(s-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var i=this.getPoint(t);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,o=new a,l=[],c=[],u=[],h=new a,d=new s;for(n=0;n<=e;n++)i=n/e,l[n]=this.getTangentAt(i),l[n].normalize();c[0]=new a,u[0]=new a;var p=Number.MAX_VALUE,m=Math.abs(l[0].x),f=Math.abs(l[0].y),g=Math.abs(l[0].z);for(m<=p&&(p=m,o.set(1,0,0)),f<=p&&(p=f,o.set(0,1,0)),g<=p&&o.set(0,0,1),h.crossVectors(l[0],o).normalize(),c[0].crossVectors(l[0],h),u[0].crossVectors(l[0],c[0]),n=1;n<=e;n++)c[n]=c[n-1].clone(),u[n]=u[n-1].clone(),h.crossVectors(l[n-1],l[n]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(ia.clamp(l[n-1].dot(l[n]),-1,1)),c[n].applyMatrix4(d.makeRotationAxis(h,r))),u[n].crossVectors(l[n],c[n]);if(!0===t)for(r=Math.acos(ia.clamp(c[0].dot(c[e]),-1,1)),r/=e,l[0].dot(h.crossVectors(c[0],c[e]))>0&&(r=-r),n=1;n<=e;n++)c[n].applyMatrix4(d.makeRotationAxis(l[n],r*n)),u[n].crossVectors(l[n],c[n]);return{tangents:l,normals:c,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),(ni.prototype=Object.create(ti.prototype)).constructor=ni,ni.prototype.isLineCurve=!0,ni.prototype.getPoint=function(e,t){var n=t||new r;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},ni.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},ni.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ni.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ii.prototype=Object.assign(Object.create(ti.prototype),{constructor:ii,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ni(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,s=this.curves[i],o=s.getLength(),a=0===o?0:1-r/o;return s.getPointAt(a)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var s=r[i],o=s&&s.isEllipseCurve?2*e:s&&s.isLineCurve?1:s&&s.isSplineCurve?e*s.points.length:e,a=s.getPoints(o),l=0;l<a.length;l++){var c=a[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){ti.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}}),(ri.prototype=Object.create(ti.prototype)).constructor=ri,ri.prototype.isEllipseCurve=!0,ri.prototype.getPoint=function(e,t){for(var n=t||new r,i=2*Math.PI,s=this.aEndAngle-this.aStartAngle,o=Math.abs(s)<Number.EPSILON;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(s=o?0:i),!0!==this.aClockwise||o||(s===i?s=-i:s-=i);var a=this.aStartAngle+e*s,l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return n.set(l,c)},ri.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},(si.prototype=Object.create(ti.prototype)).constructor=si,si.prototype.isSplineCurve=!0,si.prototype.getPoint=function(e,t){var n=t||new r,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[0===o?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return n.set(Jn(a,l.x,c.x,u.x,h.x),Jn(a,l.y,c.y,u.y,h.y)),n},si.prototype.copy=function(e){ti.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},(oi.prototype=Object.create(ti.prototype)).constructor=oi,oi.prototype.isCubicBezierCurve=!0,oi.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(ei(e,i.x,s.x,o.x,a.x),ei(e,i.y,s.y,o.y,a.y)),n},oi.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},(ai.prototype=Object.create(ti.prototype)).constructor=ai,ai.prototype.isQuadraticBezierCurve=!0,ai.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,s=this.v1,o=this.v2;return n.set(Qn(e,i.x,s.x,o.x),Qn(e,i.y,s.y,o.y)),n},ai.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};var Da=Object.assign(Object.create(ii.prototype),{setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new ni(this.currentPoint.clone(),new r(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var s=new ai(this.currentPoint.clone(),new r(e,t),new r(n,i));this.curves.push(s),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,s,o){var a=new oi(this.currentPoint.clone(),new r(e,t),new r(n,i),new r(s,o));this.curves.push(a),this.currentPoint.set(s,o)},splineThru:function(e){var t=new si([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,s){var o=this.currentPoint.x,a=this.currentPoint.y;this.absarc(e+o,t+a,n,i,r,s)},absarc:function(e,t,n,i,r,s){this.absellipse(e,t,n,n,i,r,s)},ellipse:function(e,t,n,i,r,s,o,a){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,n,i,r,s,o,a)},absellipse:function(e,t,n,i,r,s,o,a){var l=new ri(e,t,n,i,r,s,o,a);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return ii.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this}});li.prototype=Da,Da.constructor=li,ci.prototype=Object.assign(Object.create(Da),{constructor:ci,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){li.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}}),Object.assign(ui.prototype,{moveTo:function(e,t){this.currentPath=new li,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,s){this.currentPath.bezierCurveTo(e,t,n,i,r,s)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],s=new ci;s.curves=r.curves,t.push(s)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,s=0;s<n;r=s++){var o=t[r],a=t[s],l=a.x-o.x,c=a.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[s],l=-l,a=t[r],c=-c),e.y<o.y||e.y>a.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(a.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=a.x)return!0}}return i}var r=wa.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===t)return n(s);var o,a,l,c=[];if(1===s.length)return a=s[0],l=new ci,l.curves=a.curves,c.push(l),c;var u=!r(s[0].getPoints());u=e?!u:u;var h,d=[],p=[],m=[],f=0;p[f]=void 0,m[f]=[];for(var g=0,v=s.length;g<v;g++)o=r(h=(a=s[g]).getPoints()),(o=e?!o:o)?(!u&&p[f]&&f++,p[f]={s:new ci,p:h},p[f].s.curves=a.curves,u&&f++,m[f]=[]):m[f].push({h:a,p:h[0]});if(!p[0])return n(s);if(p.length>1){for(var y=!1,b=[],_=0,x=p.length;_<x;_++)d[_]=[];for(_=0,x=p.length;_<x;_++)for(var w=m[_],E=0;E<w.length;E++){for(var T=w[E],S=!0,k=0;k<p.length;k++)i(T.p,p[k].p)&&(_!==k&&b.push({froms:_,tos:k,hole:E}),S?(S=!1,d[k].push(T)):y=!0);S&&d[_].push(T)}b.length>0&&(y||(m=d))}g=0;for(var A,C=p.length;g<C;g++){l=p[g].s,c.push(l);for(var M=0,R=(A=m[g]).length;M<R;M++)l.holes.push(A[M].h)}return c}}),Object.assign(hi.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);for(var i=this.data,r=function(e){for(var r=String(e).split(""),s=t/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*s,a=0,l=0,c=[],u=0;u<r.length;u++){var h=r[u];if("\n"===h)a=0,l-=o;else{var d=function(e,t,r,s){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,l,c,u,h,d,p,m,f,g,v,y=new ui,b=[];if(o.o)for(var _=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),x=0,w=_.length;x<w;){var E=_[x++];switch(E){case"m":a=_[x++]*t+r,l=_[x++]*t+s,y.moveTo(a,l);break;case"l":a=_[x++]*t+r,l=_[x++]*t+s,y.lineTo(a,l);break;case"q":if(c=_[x++]*t+r,u=_[x++]*t+s,p=_[x++]*t+r,m=_[x++]*t+s,y.quadraticCurveTo(p,m,c,u),v=b[b.length-1]){h=v.x,d=v.y;for(var T=1;T<=n;T++){var S=T/n;Qn(S,h,p,c),Qn(S,d,m,u)}}break;case"b":if(c=_[x++]*t+r,u=_[x++]*t+s,p=_[x++]*t+r,m=_[x++]*t+s,f=_[x++]*t+r,g=_[x++]*t+s,y.bezierCurveTo(p,m,f,g,c,u),v=b[b.length-1]){h=v.x,d=v.y;for(var T=1;T<=n;T++){var S=T/n;ei(S,h,p,f,c),ei(S,d,m,g,u)}}}}return{offsetX:o.ha*t,path:y}}}(h,s,a,l);a+=d.offsetX,c.push(d.path)}}return c}(e),s=[],o=0,a=r.length;o<a;o++)Array.prototype.push.apply(s,r[o].toShapes());return s}}),Object.assign(di.prototype,{load:function(e,t,n,i){var r=this,s=new vn(this.manager);s.setPath(this.path),s.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new hi(e)},setPath:function(e){return this.path=e,this}});var Fa,Ia={getContext:function(){return void 0===Fa&&(Fa=new(window.AudioContext||window.webkitAudioContext)),Fa},setContext:function(e){Fa=e}};Object.assign(pi.prototype,{load:function(e,t,n,i){var r=new vn(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){Ia.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign(mi.prototype,{update:function(){var e,t,n,i,r,o,a,l,c=new s,u=new s;return function(s){if(e!==this||t!==s.focus||n!==s.fov||i!==s.aspect*this.aspect||r!==s.near||o!==s.far||a!==s.zoom||l!==this.eyeSep){e=this,t=s.focus,n=s.fov,i=s.aspect*this.aspect,r=s.near,o=s.far,a=s.zoom;var h,d,p=s.projectionMatrix.clone(),m=(l=this.eyeSep/2)*r/t,f=r*Math.tan(ia.DEG2RAD*n*.5)/a;u.elements[12]=-l,c.elements[12]=l,h=-f*i+m,d=f*i+m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(p),h=-f*i-m,d=f*i-m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(s.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(s.matrixWorld).multiply(c)}}()}),(fi.prototype=Object.create(ce.prototype)).constructor=fi,gi.prototype=Object.assign(Object.create(ce.prototype),{constructor:gi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new a,t=new o,n=new a,i=new a;return function(r){ce.prototype.updateMatrixWorld.call(this,r);var s=this.context.listener,o=this.up;this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),s.positionX?(s.positionX.setValueAtTime(e.x,this.context.currentTime),s.positionY.setValueAtTime(e.y,this.context.currentTime),s.positionZ.setValueAtTime(e.z,this.context.currentTime),s.forwardX.setValueAtTime(i.x,this.context.currentTime),s.forwardY.setValueAtTime(i.y,this.context.currentTime),s.forwardZ.setValueAtTime(i.z,this.context.currentTime),s.upX.setValueAtTime(o.x,this.context.currentTime),s.upY.setValueAtTime(o.y,this.context.currentTime),s.upZ.setValueAtTime(o.z,this.context.currentTime)):(s.setPosition(e.x,e.y,e.z),s.setOrientation(i.x,i.y,i.z,o.x,o.y,o.z))}}()}),vi.prototype=Object.assign(Object.create(ce.prototype),{constructor:vi,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),yi.prototype=Object.assign(Object.create(vi.prototype),{constructor:yi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new a;return function(t){ce.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(bi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(_i.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,s=this.cumulativeWeight;if(0===s){for(var o=0;o!==i;++o)n[r+o]=n[o];s=t}else{var a=t/(s+=t);this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=s},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*t;this._mixBufferRegion(n,i,o,1-r,t)}for(var a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5)for(var s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){o.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var s=1-i,o=0;o!==r;++o){var a=t+o;e[a]=e[a]*s+e[n+o]*i}}}),Object.assign(xi.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(wi,{Composite:xi,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new wi.Composite(e,t,n):new wi(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),t=["material","materials","bones"];return function(n){var i=e.exec(n);if(!i)throw new Error("PropertyBinding: Cannot parse trackName: "+n);var r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){var o=r.nodeName.substring(s+1);-1!==t.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return r}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var i=e.bones[n];if(i.name===t)return i}return null}(e.skeleton);if(n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var s=i(r.children);if(s)return s}return null},r=i(e.children);if(r)return r}return null}}),Object.assign(wi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=wi.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var s=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===s){s=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==s){if(void 0===e[s])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[s]}}var a=e[i];if(void 0!==a){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(wi.prototype,{_getValue_unbound:wi.prototype.getValue,_setValue_unbound:wi.prototype.setValue}),Object.assign(Ei.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],h=u.uuid,d=i[h],p=void 0;if(void 0===d){d=t++,i[h]=d,e.push(u);for(var m=0,f=a;m!==f;++m)o[m].push(new wi(u,r[m],s[m]))}else if(d<n){p=e[d];var g=--n,v=e[g];i[v.uuid]=d,e[d]=v,i[h]=g,e[g]=u;for(m=0,f=a;m!==f;++m){var y=o[m],b=y[g],_=y[d];y[d]=b,void 0===_&&(_=new wi(u,r[m],s[m])),y[g]=_}}else e[d]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,s=0,o=arguments.length;s!==o;++s){var a=arguments[s],l=a.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,h=e[u];n[h.uuid]=c,e[c]=h,n[l]=u,e[u]=a;for(var d=0,p=r;d!==p;++d){var m=i[d],f=m[u],g=m[c];m[c]=f,m[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,s=r.length,o=0,a=arguments.length;o!==a;++o){var l=arguments[o].uuid,c=i[l];if(void 0!==c)if(delete i[l],c<n){var u=--n,h=e[u],d=e[v=--t];i[h.uuid]=c,e[c]=h,i[d.uuid]=u,e[u]=d,e.pop();for(var p=0,m=s;p!==m;++p){var f=(y=r[p])[u],g=y[v];y[c]=f,y[u]=g,y.pop()}}else{var v;i[(d=e[v=--t]).uuid]=c,e[c]=d,e.pop();for(p=0,m=s;p!==m;++p){var y;(y=r[p])[c]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),o.push(t),r.push(u);for(var h=c,d=a.length;h!==d;++h){var p=a[h];u[h]=new wi(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];t[e[o]]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Ti.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,s=r/i,o=i/r;e.warp(1,s,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,s=this._timeScaleInterpolant,o=this.timeScale;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);var a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var s=(e-r)*n;if(s<0||0===n)return;this._startTime=null,t=n*s}t*=this._updateTimeScale(e);var o=this._updateTime(t),a=this._updateWeight(e);if(a>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(i===Fo){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var s=i===No;if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,r+=Math.abs(o);var a=this.repetitions-r;if(a<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===a){var l=e<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(s&&1==(1&r))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=Vo,i.endingEnd=Vo):(i.endingStart=e?this.zeroSlopeAtStart?Vo:Uo:Go,i.endingEnd=t?this.zeroSlopeAtEnd?Vo:Uo:Go)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);var o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=t,o[1]=r+e,a[1]=n,this}}),Object.assign(Si.prototype,i.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,o=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];void 0===c&&(c={},l[a]=c);for(var u=0;u!==r;++u){var h=i[u],d=h.name,p=c[d];if(void 0!==p)s[u]=p;else{if(void 0!==(p=s[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,a,d));continue}var m=t&&t._propertyBindings[u].binding.parsedPath;++(p=new _i(wi.create(n,d,m),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,a,d),s[u]=p}o[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,s=0,o=r.length;s!==o;++s){var a=r[s];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{var o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],s=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=s.length,s.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[r];e:{for(var c in o)break e;delete s[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Fn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?$n.findByName(n,e):e,s=null!==r?r.uuid:e,o=this._actionsByClip[s],a=null;if(void 0!==o){var l=o.actionByRoot[i];if(void 0!==l)return l;a=o.knownActions[0],null===r&&(r=a._clip)}if(null===r)return null;var c=new Ti(this,r,t);return this._bindAction(c,a),this._addInactiveAction(c,s,i),c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?$n.findByName(n,e):e,s=r?r.uuid:e,o=this._actionsByClip[s];return void 0!==o?o.actionByRoot[i]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(i,e,r,s)}var a=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)a[o].apply(s);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var s=r.knownActions,o=0,a=s.length;o!==a;++o){var l=s[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var s=this._bindingsByRootAndName[t];if(void 0!==s)for(var o in s){var a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ki.prototype.clone=function(){return new ki(void 0===this.value.clone?this.value:this.value.clone())},Ai.prototype=Object.assign(Object.create(ke.prototype),{constructor:Ai,isInstancedBufferGeometry:!0,copy:function(e){return ke.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(Ci.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ci.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty(Mi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Mi.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Ri.prototype=Object.assign(Object.create(Mi.prototype),{constructor:Ri,isInstancedInterleavedBuffer:!0,copy:function(e){return Mi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Li.prototype=Object.assign(Object.create(me.prototype),{constructor:Li,isInstancedBufferAttribute:!0,copy:function(e){return me.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Pi.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Di(e,this,n,t),n.sort(Oi),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=e.length;i<r;i++)Di(e[i],this,n,t);return n.sort(Oi),n}}),Object.assign(Fi.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(Ii.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(ia.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(Ni.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),(Bi.prototype=Object.create(ce.prototype)).constructor=Bi,Bi.prototype.isImmediateRenderObject=!0,(ji.prototype=Object.create(mt.prototype)).constructor=ji,ji.prototype.update=function(){var e=new a,t=new a,n=new l;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,s=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var a=o.vertices,l=o.faces,c=0,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0,m=d.vertexNormals.length;p<m;p++){var f=a[d[i[p]]],g=d.vertexNormals[p];e.copy(f).applyMatrix4(r),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(c,e.x,e.y,e.z),c+=1,s.setXYZ(c,t.x,t.y,t.z),c+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(c=0,p=0,m=v.count;p<m;p++)e.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(c,e.x,e.y,e.z),c+=1,s.setXYZ(c,t.x,t.y,t.z),c+=1}s.needsUpdate=!0}}(),(zi.prototype=Object.create(ce.prototype)).constructor=zi,zi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},zi.prototype.update=function(){var e=new a,t=new a;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),(Vi.prototype=Object.create(mt.prototype)).constructor=Vi,Vi.prototype.updateMatrixWorld=function(){var e=new a,t=new s,n=new s;return function(i){var r=this.bones,s=this.geometry,o=s.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,l=0;a<r.length;a++){var c=r[a];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}s.getAttribute("position").needsUpdate=!0,ce.prototype.updateMatrixWorld.call(this,i)}}(),(Gi.prototype=Object.create(Ie.prototype)).constructor=Gi,Gi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Gi.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},(Hi.prototype=Object.create(ce.prototype)).constructor=Hi,Hi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hi.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},(Wi.prototype=Object.create(ce.prototype)).constructor=Wi,Wi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Wi.prototype.update=function(){var e=new a,t=new q,n=new q;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var s=0,o=r.count;s<o;s++){var a=s<o/2?t:n;r.setXYZ(s,a.r,a.g,a.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),($i.prototype=Object.create(mt.prototype)).constructor=$i,(qi.prototype=Object.create(mt.prototype)).constructor=qi,(Xi.prototype=Object.create(mt.prototype)).constructor=Xi,Xi.prototype.update=function(){var e=new a,t=new a,n=new l;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,s=this.object.geometry,o=s.vertices,a=s.faces,l=0,c=0,u=a.length;c<u;c++){var h=a[c],d=h.normal;e.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(i),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),l+=1,r.setXYZ(l,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),(Yi.prototype=Object.create(ce.prototype)).constructor=Yi,Yi.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Yi.prototype.update=function(){var e=new a,t=new a,n=new a;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),(Ki.prototype=Object.create(mt.prototype)).constructor=Ki,Ki.prototype.update=function(){function e(e,s,o,a){i.set(s,o,a).unproject(r);var l=n[e];if(void 0!==l)for(var c=t.getAttribute("position"),u=0,h=l.length;u<h;u++)c.setXYZ(l[u],i.x,i.y,i.z)}var t,n,i=new a,r=new ue;return function(){t=this.geometry,n=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),(Zi.prototype=Object.create(mt.prototype)).constructor=Zi,Zi.prototype.update=function(){var e=new te;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,i=e.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Zi.prototype.setFromObject=function(e){return this.object=e,this.update(),this},(Ji.prototype=Object.create(mt.prototype)).constructor=Ji,Ji.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ce.prototype.updateMatrixWorld.call(this,e))},(Qi.prototype=Object.create(pt.prototype)).constructor=Qi,Qi.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),ce.prototype.updateMatrixWorld.call(this,e)};var Na,Ba;(er.prototype=Object.create(ce.prototype)).constructor=er,er.prototype.setDirection=function(){var e,t=new a;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),er.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},er.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},(tr.prototype=Object.create(mt.prototype)).constructor=tr;var ja=new a,za=new nr,Ua=new nr,Va=new nr;(ir.prototype=Object.create(ti.prototype)).constructor=ir,ir.prototype.isCatmullRomCurve3=!0,ir.prototype.getPoint=function(e,t){var n=t||new a,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e,o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/i.length)+1)*i.length:0===l&&o===r-1&&(o=r-2,l=1);var c,u,h,d;if(this.closed||o>0?c=i[(o-1)%r]:(ja.subVectors(i[0],i[1]).add(i[0]),c=ja),u=i[o%r],h=i[(o+1)%r],this.closed||o+2<r?d=i[(o+2)%r]:(ja.subVectors(i[r-1],i[r-2]).add(i[r-1]),d=ja),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,m=Math.pow(c.distanceToSquared(u),p),f=Math.pow(u.distanceToSquared(h),p),g=Math.pow(h.distanceToSquared(d),p);f<1e-4&&(f=1),m<1e-4&&(m=f),g<1e-4&&(g=f),za.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,m,f,g),Ua.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,m,f,g),Va.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,m,f,g)}else"catmullrom"===this.curveType&&(za.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),Ua.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),Va.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return n.set(za.calc(l),Ua.calc(l),Va.calc(l)),n},ir.prototype.copy=function(e){ti.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},(rr.prototype=Object.create(ti.prototype)).constructor=rr,rr.prototype.isCubicBezierCurve3=!0,rr.prototype.getPoint=function(e,t){var n=t||new a,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(ei(e,i.x,r.x,s.x,o.x),ei(e,i.y,r.y,s.y,o.y),ei(e,i.z,r.z,s.z,o.z)),n},rr.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},(sr.prototype=Object.create(ti.prototype)).constructor=sr,sr.prototype.isQuadraticBezierCurve3=!0,sr.prototype.getPoint=function(e,t){var n=t||new a,i=this.v0,r=this.v1,s=this.v2;return n.set(Qn(e,i.x,r.x,s.x),Qn(e,i.y,r.y,s.y),Qn(e,i.z,r.z,s.z)),n},sr.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},(or.prototype=Object.create(ti.prototype)).constructor=or,or.prototype.isLineCurve3=!0,or.prototype.getPoint=function(e,t){var n=t||new a;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},or.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},or.prototype.copy=function(e){return ti.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},(ar.prototype=Object.create(ri.prototype)).constructor=ar,ar.prototype.isArcCurve=!0;var Ga={createMultiMaterialObject:function(e,t){for(var n=new yt,i=0,r=t.length;i<r;i++)n.add(new Ie(e,t[i]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix((new s).getInverse(n.matrixWorld)),t.remove(e),n.add(e)}},Ha=0,Wa=1;ti.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ti.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ii.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new pe,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new a(r.x,r.y,r.z||0))}return t}}),Object.assign(li.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Cr.prototype=Object.create(ir.prototype),Mr.prototype=Object.create(ir.prototype),Rr.prototype=Object.create(ir.prototype),Object.assign(Rr.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),$i.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Vi.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(X.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),De.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(ia,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ia.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ia.ceilPowerOfTwo(e)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(s.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new a),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}}),ie.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},o.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Oe.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ci.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ut(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Zt(this,e)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(a.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(u.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),pe.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ce.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(ce.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(lt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ct.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(ti.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Je.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(En.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(me.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(ke.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ke.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(ki.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new q}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Qr}}}),Object.defineProperties(hn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Pe.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(tt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(tt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(se.prototype,{cullFace:{get:function(){return this.renderReverseSided?Gr:Vr},set:function(e){var t=e!==Vr;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),vi.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new pi).load(e,function(e){t.setBuffer(e)}),this},bi.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},fi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var $a={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},qa={crossOrigin:void 0,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new wn;r.setCrossOrigin(this.crossOrigin);var s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new xn;r.setCrossOrigin(this.crossOrigin);var s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}},ZvDg:function(e,t,n){"use strict";function i(){return Error("Scroll strategy has already been attached.")}function r(e,t){return t.some(t=>{const n=e.bottom<t.top,i=e.top>t.bottom,r=e.right<t.left,s=e.left>t.right;return n||i||r||s})}function s(e,t){return t.some(t=>{const n=e.top<t.top,i=e.bottom>t.bottom,r=e.left<t.left,s=e.right>t.right;return n||i||r||s})}function o(e){return"string"==typeof e?e:`${e}px`}function a(e,t){return e||new D(t)}function l(e,t){return e||new I(t)}function c(e){return()=>e.scrollStrategies.reposition()}n.d(t,"b",function(){return z}),n.d(t,"d",function(){return I}),n.d(t,"a",function(){return W}),n.d(t,"e",function(){return D}),n.d(t,"c",function(){return E}),n.d(t,"g",function(){return M}),n.d(t,"f",function(){return q}),n.d(t,"m",function(){return a}),n.d(t,"j",function(){return l}),n.d(t,"k",function(){return V}),n.d(t,"l",function(){return c}),n.d(t,"n",function(){return O});var u=n("1GK5"),h=n("UJJe"),d=n("ZDMg"),p=n("7pQ/"),m=n("tOHq"),f=n("9i4M"),g=n("0mJR"),v=n("AdGS"),y=n("KF/P"),b=n("m1U/"),_=n("bVHt"),x=n("IEaL");n.d(t,"i",function(){return h.f}),n.d(t,"h",function(){return h.d});class w{enable(){}disable(){}attach(){}}class E{constructor(e){this.scrollStrategy=new w,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.direction="ltr",e&&Object.keys(e).forEach(t=>this[t]=e[t])}}class T{constructor(e,t,n,i){this.offsetX=n,this.offsetY=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class S{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}S.ctorParameters=(()=>[{type:T},{type:class{},decorators:[{type:u.G}]}]);class k{constructor(e,t){this._scrollDispatcher=e,this._ngZone=t,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw i();this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(0).subscribe(()=>{this._ngZone.run(()=>{this.disable(),this._overlayRef.hasAttached()&&this._overlayRef.detach()})}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class A{constructor(e){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1}attach(){}enable(){if(this._canBeEnabled()){const e=document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=`${-this._previousScrollPosition.left}px`,e.style.top=`${-this._previousScrollPosition.top}px`,e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=document.documentElement,t=document.body,n=e.style.scrollBehavior||"",i=t.style.scrollBehavior||"";this._isEnabled=!1,e.style.left=this._previousHTMLStyles.left,e.style.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),e.style.scrollBehavior=t.style.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.style.scrollBehavior=n,t.style.scrollBehavior=i}}_canBeEnabled(){if(document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class C{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw i();this._overlayRef=e}enable(){if(!this._scrollSubscription){const e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();r(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class M{constructor(e,t,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=(()=>new w),this.close=(()=>new k(this._scrollDispatcher,this._ngZone)),this.block=(()=>new A(this._viewportRuler)),this.reposition=(e=>new C(this._scrollDispatcher,this._viewportRuler,this._ngZone,e))}}M.decorators=[{type:u.v}],M.ctorParameters=(()=>[{type:h.c},{type:h.f},{type:u.F}]);class R{constructor(e,t,n,i,r){this._portalOutlet=e,this._pane=t,this._config=n,this._ngZone=i,this._keyboardDispatcher=r,this._backdropElement=null,this._backdropClick=new f.a,this._attachments=new f.a,this._detachments=new f.a,this._keydownEvents=new f.a,n.scrollStrategy&&n.scrollStrategy.attach(this)}get overlayElement(){return this._pane}attach(e){let t=this._portalOutlet.attach(e);return this._config.positionStrategy&&this._config.positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(m.a)(1)).subscribe(()=>{this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&(Array.isArray(this._config.panelClass)?this._config.panelClass.forEach(e=>this._pane.classList.add(e)):this._pane.classList.add(this._config.panelClass)),this._attachments.next(),this._keyboardDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._config.positionStrategy&&this._config.positionStrategy.detach&&this._config.positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._config.positionStrategy&&this._config.positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._config.positionStrategy&&this._config.positionStrategy.apply()}updateSize(e){this._config=Object.assign({},this._config,e),this._updateElementSize()}setDirection(e){this._config=Object.assign({},this._config,{direction:e}),this._updateElementDirection()}_updateElementDirection(){this._pane.setAttribute("dir",this._config.direction)}_updateElementSize(){(this._config.width||0===this._config.width)&&(this._pane.style.width=o(this._config.width)),(this._config.height||0===this._config.height)&&(this._pane.style.height=o(this._config.height)),(this._config.minWidth||0===this._config.minWidth)&&(this._pane.style.minWidth=o(this._config.minWidth)),(this._config.minHeight||0===this._config.minHeight)&&(this._pane.style.minHeight=o(this._config.minHeight)),(this._config.maxWidth||0===this._config.maxWidth)&&(this._pane.style.maxWidth=o(this._config.maxWidth)),(this._config.maxHeight||0===this._config.maxHeight)&&(this._pane.style.maxHeight=o(this._config.maxHeight))}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._backdropElement.classList.add(this._config.backdropClass),this._pane.parentElement.insertBefore(this._backdropElement,this._pane),this._backdropElement.addEventListener("click",()=>this._backdropClick.next(null)),this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})})}_updateStackingOrder(){this._pane.nextSibling&&this._pane.parentNode.appendChild(this._pane)}detachBackdrop(){let e=this._backdropElement;if(e){let t=()=>{e&&e.parentNode&&e.parentNode.removeChild(e),this._backdropElement==e&&(this._backdropElement=null)};e.classList.remove("cdk-overlay-backdrop-showing"),this._config.backdropClass&&e.classList.remove(this._config.backdropClass),e.addEventListener("transitionend",t),e.style.pointerEvents="none",this._ngZone.runOutsideAngular(()=>{setTimeout(t,500)})}}}class L{constructor(e,t,n,i,r){this._connectedTo=n,this._viewportRuler=i,this._document=r,this._dir="ltr",this._offsetX=0,this._offsetY=0,this.scrollables=[],this._resizeSubscription=g.a.EMPTY,this._preferredPositions=[],this._applied=!1,this._positionLocked=!1,this._onPositionChange=new f.a,this._origin=this._connectedTo.nativeElement,this.withFallbackPosition(e,t)}get _isRtl(){return"rtl"===this._dir}get onPositionChange(){return this._onPositionChange.asObservable()}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._pane=e.overlayElement,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>this.apply())}dispose(){this._applied=!1,this._resizeSubscription.unsubscribe()}detach(){this._applied=!1,this._resizeSubscription.unsubscribe()}apply(){if(this._applied&&this._positionLocked&&this._lastConnectedPosition)return void this.recalculateLastPosition();this._applied=!0;const e=this._pane,t=this._origin.getBoundingClientRect(),n=e.getBoundingClientRect(),i=this._viewportRuler.getViewportSize();let r,s;for(let o of this._preferredPositions){let a=this._getOriginConnectionPoint(t,o),l=this._getOverlayPoint(a,n,i,o);if(l.fitsInViewport)return this._setElementPosition(e,n,l,o),void(this._lastConnectedPosition=o);(!r||r.visibleArea<l.visibleArea)&&(r=l,s=o)}this._setElementPosition(e,n,r,s)}recalculateLastPosition(){if(!this._lastConnectedPosition)return;const e=this._origin.getBoundingClientRect(),t=this._pane.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),i=this._lastConnectedPosition||this._preferredPositions[0];let r=this._getOriginConnectionPoint(e,i),s=this._getOverlayPoint(r,t,n,i);this._setElementPosition(this._pane,t,s,i)}withScrollableContainers(e){this.scrollables=e}withFallbackPosition(e,t,n,i){const r=new T(e,t,n,i);return this._preferredPositions.push(r),this}withDirection(e){return this._dir=e,this}withOffsetX(e){return this._offsetX=e,this}withOffsetY(e){return this._offsetY=e,this}withLockedPosition(e){return this._positionLocked=e,this}withPositions(e){return this._preferredPositions=e.slice(),this}_getStartX(e){return this._isRtl?e.right:e.left}_getEndX(e){return this._isRtl?e.left:e.right}_getOriginConnectionPoint(e,t){const n=this._getStartX(e),i=this._getEndX(e);let r;r="center"==t.originX?n+e.width/2:"start"==t.originX?n:i;let s;return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:s}}_getOverlayPoint(e,t,n,i){let r;r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl?-t.width:0:this._isRtl?0:-t.width;let s;s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height;let o="undefined"==typeof i.offsetX?this._offsetX:i.offsetX,a="undefined"==typeof i.offsetY?this._offsetY:i.offsetY,l=e.x+r+o,c=e.y+s+a,u=0-l,h=l+t.width-n.width,d=0-c,p=c+t.height-n.height,m=this._subtractOverflows(t.width,u,h)*this._subtractOverflows(t.height,d,p);return{x:l,y:c,fitsInViewport:t.width*t.height===m,visibleArea:m}}_getScrollVisibility(e){const t=this._origin.getBoundingClientRect(),n=e.getBoundingClientRect(),i=this.scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:s(t,i),isOriginOutsideView:r(t,i),isOverlayClipped:s(n,i),isOverlayOutsideView:r(n,i)}}_setElementPosition(e,t,n,i){let r,s="bottom"===i.overlayY?"bottom":"top",o="top"===s?n.y:this._document.documentElement.clientHeight-(n.y+t.height),a="left"===(r="rtl"===this._dir?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left")?n.x:this._document.documentElement.clientWidth-(n.x+t.width);["top","bottom","left","right"].forEach(t=>e.style[t]=null),e.style[s]=`${o}px`,e.style[r]=`${a}px`;const l=this._getScrollVisibility(e),c=new S(i,l);this._onPositionChange.next(c)}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}}class P{constructor(e){this._document=e,this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height="",this._wrapper=null}attach(e){this._overlayRef=e}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._width=e,"100%"===e&&this.left("0px"),this}height(e=""){return this._height=e,"100%"===e&&this.top("0px"),this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement;!this._wrapper&&e.parentNode&&(this._wrapper=this._document.createElement("div"),this._wrapper.classList.add("cdk-global-overlay-wrapper"),e.parentNode.insertBefore(this._wrapper,e),this._wrapper.appendChild(e));let t=e.style,n=e.parentNode.style;t.position=this._cssPosition,t.marginTop=this._topOffset,t.marginLeft=this._leftOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,t.width=this._width,t.height=this._height,n.justifyContent=this._justifyContent,n.alignItems=this._alignItems}dispose(){this._wrapper&&this._wrapper.parentNode&&(this._wrapper.parentNode.removeChild(this._wrapper),this._wrapper=null)}}class O{constructor(e,t){this._viewportRuler=e,this._document=t}global(){return new P(this._document)}connectedTo(e,t,n){return new L(t,n,e,this._viewportRuler,this._document)}}O.decorators=[{type:u.v}],O.ctorParameters=(()=>[{type:h.f},{type:void 0,decorators:[{type:u.u,args:[v.b]}]}]);class D{constructor(e){this._document=e,this._attachedOverlays=[]}ngOnDestroy(){this._unsubscribeFromKeydownEvents()}add(e){this._keydownEventSubscription||this._subscribeToKeydownEvents(),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._unsubscribeFromKeydownEvents()}_subscribeToKeydownEvents(){const e=Object(b.a)(this._document.body,"keydown");this._keydownEventSubscription=e.pipe(Object(y.a)(()=>!!this._attachedOverlays.length)).subscribe(e=>{this._selectOverlayFromEvent(e)._keydownEvents.next(e)})}_unsubscribeFromKeydownEvents(){this._keydownEventSubscription&&(this._keydownEventSubscription.unsubscribe(),this._keydownEventSubscription=null)}_selectOverlayFromEvent(e){return this._attachedOverlays.find(t=>t.overlayElement===e.target||t.overlayElement.contains(e.target))||this._attachedOverlays[this._attachedOverlays.length-1]}}D.decorators=[{type:u.v}],D.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.u,args:[v.b]}]}]);const F={provide:D,deps:[[new u.G,new u.S,D],v.b],useFactory:a};class I{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}I.decorators=[{type:u.v}],I.ctorParameters=(()=>[{type:void 0,decorators:[{type:u.u,args:[v.b]}]}]);const N={provide:I,deps:[[new u.G,new u.S,I],v.b],useFactory:l};let B=0,j=new E;class z{constructor(e,t,n,i,r,s,o,a,l){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._appRef=s,this._injector=o,this._ngZone=a,this._document=l}create(e=j){const t=this._createPaneElement(),n=this._createPortalOutlet(t);return new R(n,t,e,this._ngZone,this._keyboardDispatcher)}position(){return this._positionBuilder}_createPaneElement(){const e=this._document.createElement("div");return e.id=`cdk-overlay-${B++}`,e.classList.add("cdk-overlay-pane"),this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return new p.e(e,this._componentFactoryResolver,this._appRef,this._injector)}}z.decorators=[{type:u.v}],z.ctorParameters=(()=>[{type:M},{type:I},{type:u.k},{type:O},{type:D},{type:u.e},{type:u.x},{type:u.F},{type:void 0,decorators:[{type:u.u,args:[v.b]}]}]);const U=[new T({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new T({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new T({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new T({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"})],V=new u.w("cdk-connected-overlay-scroll-strategy"),G={provide:V,deps:[z],useFactory:c};class H{constructor(e){this.elementRef=e}}H.decorators=[{type:u.n,args:[{selector:"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]",exportAs:"cdkOverlayOrigin"}]}],H.ctorParameters=(()=>[{type:u.o}]);class W{constructor(e,t,n,i,r,s){this._overlay=e,this._scrollStrategy=i,this._dir=r,this._document=s,this._hasBackdrop=!1,this._backdropSubscription=g.a.EMPTY,this._positionSubscription=g.a.EMPTY,this._offsetX=0,this._offsetY=0,this.scrollStrategy=this._scrollStrategy(),this.open=!1,this.backdropClick=new u.q,this.positionChange=new u.q,this.attach=new u.q,this.detach=new u.q,this._escapeListener=(e=>{e.keyCode===x.g&&this._detachOverlay()}),this._templatePortal=new p.h(t,n)}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._position.withOffsetX(e)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._position.withOffsetY(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Object(_.b)(e)}get _deprecatedOrigin(){return this.origin}set _deprecatedOrigin(e){this.origin=e}get _deprecatedPositions(){return this.positions}set _deprecatedPositions(e){this.positions=e}get _deprecatedOffsetX(){return this.offsetX}set _deprecatedOffsetX(e){this.offsetX=e}get _deprecatedOffsetY(){return this.offsetY}set _deprecatedOffsetY(e){this.offsetY=e}get _deprecatedWidth(){return this.width}set _deprecatedWidth(e){this.width=e}get _deprecatedHeight(){return this.height}set _deprecatedHeight(e){this.height=e}get _deprecatedMinWidth(){return this.minWidth}set _deprecatedMinWidth(e){this.minWidth=e}get _deprecatedMinHeight(){return this.minHeight}set _deprecatedMinHeight(e){this.minHeight=e}get _deprecatedBackdropClass(){return this.backdropClass}set _deprecatedBackdropClass(e){this.backdropClass=e}get _deprecatedScrollStrategy(){return this.scrollStrategy}set _deprecatedScrollStrategy(e){this.scrollStrategy=e}get _deprecatedOpen(){return this.open}set _deprecatedOpen(e){this.open=e}get _deprecatedHasBackdrop(){return this.hasBackdrop}set _deprecatedHasBackdrop(e){this.hasBackdrop=e}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._destroyOverlay()}ngOnChanges(e){(e.open||e._deprecatedOpen)&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=U),this._overlayRef=this._overlay.create(this._buildConfig())}_buildConfig(){const e=this._position=this._createPositionStrategy(),t=new E({positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),t}_createPositionStrategy(){const e=this.positions[0],t={originX:e.originX,originY:e.originY},n={overlayX:e.overlayX,overlayY:e.overlayY},i=this._overlay.position().connectedTo(this.origin.elementRef,t,n).withOffsetX(this.offsetX).withOffsetY(this.offsetY);return this._handlePositionChanges(i),i}_handlePositionChanges(e){for(let t=1;t<this.positions.length;t++)e.withFallbackPosition({originX:this.positions[t].originX,originY:this.positions[t].originY},{overlayX:this.positions[t].overlayX,overlayY:this.positions[t].overlayY});this._positionSubscription=e.onPositionChange.subscribe(e=>this.positionChange.emit(e))}_attachOverlay(){this._overlayRef||this._createOverlay(),this._position.withDirection(this.dir),this._overlayRef.setDirection(this.dir),this._document.addEventListener("keydown",this._escapeListener),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop&&(this._backdropSubscription=this._overlayRef.backdropClick().subscribe(()=>{this.backdropClick.emit()}))}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe(),this._document.removeEventListener("keydown",this._escapeListener)}_destroyOverlay(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._document.removeEventListener("keydown",this._escapeListener)}}W.decorators=[{type:u.n,args:[{selector:"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]",exportAs:"cdkConnectedOverlay"}]}],W.ctorParameters=(()=>[{type:z},{type:u.T},{type:u.Y},{type:void 0,decorators:[{type:u.u,args:[V]}]},{type:d.c,decorators:[{type:u.G}]},{type:void 0,decorators:[{type:u.G},{type:u.u,args:[v.b]}]}]),W.propDecorators={origin:[{type:u.y,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:u.y,args:["cdkConnectedOverlayPositions"]}],offsetX:[{type:u.y,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:u.y,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:u.y,args:["cdkConnectedOverlayWidth"]}],height:[{type:u.y,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:u.y,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:u.y,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:u.y,args:["cdkConnectedOverlayBackdropClass"]}],scrollStrategy:[{type:u.y,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:u.y,args:["cdkConnectedOverlayOpen"]}],hasBackdrop:[{type:u.y,args:["cdkConnectedOverlayHasBackdrop"]}],_deprecatedOrigin:[{type:u.y,args:["origin"]}],_deprecatedPositions:[{type:u.y,args:["positions"]}],_deprecatedOffsetX:[{type:u.y,args:["offsetX"]}],_deprecatedOffsetY:[{type:u.y,args:["offsetY"]}],_deprecatedWidth:[{type:u.y,args:["width"]}],_deprecatedHeight:[{type:u.y,args:["height"]}],_deprecatedMinWidth:[{type:u.y,args:["minWidth"]}],_deprecatedMinHeight:[{type:u.y,args:["minHeight"]}],_deprecatedBackdropClass:[{type:u.y,args:["backdropClass"]}],_deprecatedScrollStrategy:[{type:u.y,args:["scrollStrategy"]}],_deprecatedOpen:[{type:u.y,args:["open"]}],_deprecatedHasBackdrop:[{type:u.y,args:["hasBackdrop"]}],backdropClick:[{type:u.H}],positionChange:[{type:u.H}],attach:[{type:u.H}],detach:[{type:u.H}]};const $=[z,O,F,h.d,N,G];class q{}q.decorators=[{type:u.C,args:[{imports:[d.a,p.g,h.b],exports:[W,H,h.b],declarations:[W,H],providers:[$,M]}]}],q.ctorParameters=(()=>[]);class X extends I{_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){if(!this._containerElement)return;(this.getFullscreenElement()||document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){document.fullscreenEnabled?document.addEventListener("fullscreenchange",e):document.webkitFullscreenEnabled?document.addEventListener("webkitfullscreenchange",e):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",e):document.msFullscreenEnabled&&document.addEventListener("MSFullscreenChange",e)}getFullscreenElement(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null}}X.decorators=[{type:u.v}],X.ctorParameters=(()=>[])},Zvad:function(e,t){},ZwkM:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},a6y4:function(e,t){},aayJ:function(e,t,n){"use strict";function i(e){return d._38(0,[(e()(),d._15(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null]],null,null,o,_)),d._14(1,49152,null,0,v.v,[],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(e,t){var n=t.component;e(t,1,0,n.selected?"checked":"",n.disabled)},function(e,t){e(t,0,0,"indeterminate"===d._29(t,1).state,"checked"===d._29(t,1).state,d._29(t,1).disabled)})}function r(e){return d._38(2,[(e()(),d._10(16777216,null,null,1,null,i)),d._14(1,16384,null,0,f.g,[d.Y,d.T],{ngIf:[0,"ngIf"]},null),(e()(),d._15(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),d._28(null,0),(e()(),d._15(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),d._14(5,671744,null,0,v.x,[d.o,d.F,g.a,[2,v.m]],{trigger:[0,"trigger"],disabled:[1,"disabled"]},null)],function(e,t){var n=t.component;e(t,1,0,n.multiple);e(t,5,0,n._getHostElement(),n.disabled||n.disableRipple)},function(e,t){e(t,4,0,d._29(t,5).unbounded)})}function s(e){return d._38(2,[(e()(),d._15(0,0,null,null,1,"label",[["class","mat-optgroup-label"]],[[8,"id",0]],null,null,null,null)),(e()(),d._36(1,null,["",""])),d._28(null,0)],null,function(e,t){var n=t.component;e(t,0,0,n._labelId);e(t,1,0,n.label)})}function o(e){return d._38(2,[],null,null)}function a(e){return d._38(2,[d._28(null,0)],null,null)}function l(e){return d._38(2,[d._28(null,0)],null,null)}function c(e){return d._38(2,[(e()(),d._15(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(e()(),d._15(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),d._14(2,671744,null,0,v.x,[d.o,d.F,g.a,[2,v.m]],{trigger:[0,"trigger"],disabled:[1,"disabled"]},null),d._28(null,0),(e()(),d._15(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),d._28(null,1),d._28(null,2)],function(e,t){var n=t.component;e(t,2,0,n._getHostElement(),n._isRippleDisabled())},function(e,t){e(t,1,0,d._29(t,2).unbounded)})}function u(e){return d._38(2,[(e()(),d._15(0,0,null,null,6,"div",[["class","mat-list-item-content"]],[[2,"mat-list-item-content-reverse",null],[2,"mat-list-item-disabled",null]],null,null,null,null)),(e()(),d._15(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),d._14(2,671744,null,0,v.x,[d.o,d.F,g.a,[2,v.m]],{trigger:[0,"trigger"],disabled:[1,"disabled"]},null),(e()(),d._15(3,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null]],null,null,o,_)),d._14(4,49152,[["autocheckbox",4]],0,v.v,[],{state:[0,"state"],disabled:[1,"disabled"]},null),(e()(),d._15(5,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),d._28(null,0)],function(e,t){var n=t.component;e(t,2,0,n._getHostElement(),n._isRippleDisabled());e(t,4,0,n.selected?"checked":"unchecked",n.disabled)},function(e,t){var n=t.component;e(t,0,0,"after"==n.checkboxPosition,n.disabled);e(t,1,0,d._29(t,2).unbounded);e(t,3,0,"indeterminate"===d._29(t,4).state,"checked"===d._29(t,4).state,d._29(t,4).disabled)})}function h(e){return d._38(2,[d._28(null,0)],null,null)}var d=n("1GK5"),p=n("LhFP"),m=n("ZDMg"),f=n("AdGS"),g=n("tksO"),v=n("IMoF"),y=(d._12(v.n,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,m.b,null,[f.b]),d._27(4608,m.c,m.c,[[2,m.b]]),d._27(512,m.a,m.a,[]),d._27(256,v.f,!0,[]),d._27(512,v.n,v.n,[[2,v.f]])])}),d._12(v.A,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,v.h,null,[d.B]),d._27(4608,v.c,v.z,[[2,v.h]]),d._27(512,v.A,v.A,[])])}),d._12(v.r,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,v.h,null,[d.B]),d._27(4608,v.c,v.z,[[2,v.h]]),d._27(512,v.A,v.A,[]),d._27(512,v.r,v.r,[]),d._27(256,v.g,v.k,[])])}),d._12(v.p,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,m.b,null,[f.b]),d._27(4608,m.c,m.c,[[2,m.b]]),d._27(512,m.a,m.a,[]),d._27(256,v.f,!0,[]),d._27(512,v.n,v.n,[[2,v.f]]),d._27(512,v.p,v.p,[])])}),d._12(v.u,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,m.b,null,[f.b]),d._27(4608,m.c,m.c,[[2,m.b]]),d._27(4608,g.a,g.a,[]),d._27(4608,f.i,f.h,[d.B,[2,f.n]]),d._27(512,m.a,m.a,[]),d._27(256,v.f,!0,[]),d._27(512,v.n,v.n,[[2,v.f]]),d._27(512,g.b,g.b,[]),d._27(512,v.y,v.y,[]),d._27(512,f.a,f.a,[]),d._27(512,v.w,v.w,[]),d._27(512,v.u,v.u,[])])}),d._12(v.y,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,m.b,null,[f.b]),d._27(4608,m.c,m.c,[[2,m.b]]),d._27(4608,g.a,g.a,[]),d._27(512,m.a,m.a,[]),d._27(256,v.f,!0,[]),d._27(512,v.n,v.n,[[2,v.f]]),d._27(512,g.b,g.b,[]),d._27(512,v.y,v.y,[])])}),d._12(v.w,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(512,v.w,v.w,[])])}),d._13({encapsulation:2,styles:[],data:{}})),b=(d._11("mat-option",v.t,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,1,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==d._29(e,1)._selectViaInteraction()&&i),"keydown"===t&&(i=!1!==d._29(e,1)._handleKeydown(n)&&i),i},r,y)),d._14(1,49152,null,0,v.t,[d.o,d.h,[2,v.l],[2,v.s]],null,null)],null,function(e,t){e(t,0,0,d._29(t,1)._getTabIndex(),d._29(t,1).selected,d._29(t,1).multiple,d._29(t,1).active,d._29(t,1).id,d._29(t,1).selected.toString(),d._29(t,1).disabled.toString(),d._29(t,1).disabled)})},{value:"value",disabled:"disabled"},{onSelectionChange:"onSelectionChange"},["*"]),d._13({encapsulation:2,styles:[],data:{}})),_=(d._11("mat-optgroup",v.s,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,1,"mat-optgroup",[["class","mat-optgroup"],["role","group"]],[[2,"mat-optgroup-disabled",null],[1,"aria-disabled",0],[1,"aria-labelledby",0]],null,null,s,b)),d._14(1,49152,null,0,v.s,[],null,null)],null,function(e,t){e(t,0,0,d._29(t,1).disabled,d._29(t,1).disabled.toString(),d._29(t,1)._labelId)})},{disabled:"disabled",label:"label"},{},["mat-option"]),d._13({encapsulation:2,styles:[".mat-pseudo-checkbox{width:20px;height:20px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:9px;left:2px;width:16px;opacity:1}.mat-pseudo-checkbox-checked::after{top:5px;left:3px;width:12px;height:5px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1}"],data:{}})),x=(d._11("mat-pseudo-checkbox",v.v,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null]],null,null,o,_)),d._14(1,49152,null,0,v.v,[],null,null)],null,function(e,t){e(t,0,0,"indeterminate"===d._29(t,1).state,"checked"===d._29(t,1).state,d._29(t,1).disabled)})},{state:"state",disabled:"disabled"},{},[]),n("pnCZ"));n.d(t,"a",function(){return E}),t.d=l,n.d(t,"b",function(){return T}),t.c=c;d._12(p.e,[],function(e){return d._26([d._27(512,d.k,d._8,[[8,[]],[3,d.k],d.D]),d._27(6144,m.b,null,[f.b]),d._27(4608,m.c,m.c,[[2,m.b]]),d._27(4608,g.a,g.a,[]),d._27(4608,f.i,f.h,[d.B,[2,f.n]]),d._27(512,m.a,m.a,[]),d._27(256,v.f,!0,[]),d._27(512,v.n,v.n,[[2,v.f]]),d._27(512,v.p,v.p,[]),d._27(512,g.b,g.b,[]),d._27(512,v.y,v.y,[]),d._27(512,v.w,v.w,[]),d._27(512,f.a,f.a,[]),d._27(512,p.e,p.e,[])])});var w=d._13({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-avatar,.mat-list .mat-list-option.mat-list-item-avatar,.mat-nav-list .mat-list-item.mat-list-item-avatar,.mat-nav-list .mat-list-option.mat-list-item-avatar,.mat-selection-list .mat-list-item.mat-list-item-avatar,.mat-selection-list .mat-list-option.mat-list-item-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item .mat-list-text:nth-child(2),.mat-list .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-avatar,.mat-list[dense] .mat-list-option.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-divider{display:block;border-top-style:solid;border-top-width:1px;margin:0}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item-content{cursor:pointer}.mat-nav-list .mat-list-item-content.mat-list-item-focus,.mat-nav-list .mat-list-item-content:hover{outline:0}.mat-list-option:not([disabled]){cursor:pointer}"],data:{}}),E=(d._11("mat-nav-list",p.h,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,1,"mat-nav-list",[["class","mat-nav-list"],["role","navigation"]],null,null,null,a,w)),d._14(1,49152,null,0,p.h,[],null,null)],null,null)},{disableRipple:"disableRipple"},{},["*"]),d._13({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-avatar,.mat-list .mat-list-option.mat-list-item-avatar,.mat-nav-list .mat-list-item.mat-list-item-avatar,.mat-nav-list .mat-list-option.mat-list-item-avatar,.mat-selection-list .mat-list-item.mat-list-item-avatar,.mat-selection-list .mat-list-option.mat-list-item-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item .mat-list-text:nth-child(2),.mat-list .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-avatar,.mat-list[dense] .mat-list-option.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-divider{display:block;border-top-style:solid;border-top-width:1px;margin:0}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item-content{cursor:pointer}.mat-nav-list .mat-list-item-content.mat-list-item-focus,.mat-nav-list .mat-list-item-content:hover{outline:0}.mat-list-option:not([disabled]){cursor:pointer}"],data:{}})),T=(d._11("mat-list",p.b,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,1,"mat-list",[["class","mat-list"]],null,null,null,l,E)),d._14(1,49152,null,0,p.b,[],null,null)],null,null)},{disableRipple:"disableRipple"},{},["*"]),d._13({encapsulation:2,styles:[],data:{}})),S=(d._11("mat-list-item, a[mat-list-item]",p.d,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,3,"mat-list-item",[["class","mat-list-item"]],null,[[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==d._29(e,1)._handleFocus()&&i),"blur"===t&&(i=!1!==d._29(e,1)._handleBlur()&&i),i},c,T)),d._14(1,1097728,null,2,p.d,[d.o,[2,p.h]],null,null),d._34(603979776,1,{_lines:1}),d._34(335544320,2,{_hasAvatar:0})],null,null)},{disableRipple:"disableRipple"},{},["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"]),d._13({encapsulation:2,styles:[],data:{}})),k=(d._11("mat-list-option",p.f,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,2,"mat-list-option",[["class","mat-list-item mat-list-option"],["role","option"],["tabindex","-1"]],[[2,"mat-list-item-disabled",null],[2,"mat-list-item-focus",null],[1,"aria-selected",0],[1,"aria-disabled",0]],[[null,"focus"],[null,"blur"],[null,"click"]],function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==d._29(e,1)._handleFocus()&&i),"blur"===t&&(i=!1!==d._29(e,1)._handleBlur()&&i),"click"===t&&(i=!1!==d._29(e,1)._handleClick()&&i),i},u,S)),d._14(1,1294336,null,1,p.f,[d.o,d.h,[2,p.i]],null,null),d._34(603979776,1,{_lines:1})],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,d._29(t,1).disabled,d._29(t,1)._hasFocus,d._29(t,1).selected.toString(),d._29(t,1).disabled.toString())})},{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",value:"value",disabled:"disabled",selected:"selected"},{selectionChange:"selectionChange"},["*"]),d._13({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{margin:0}.mat-list,.mat-nav-list,.mat-selection-list{padding-top:8px;display:block}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{height:48px;line-height:16px}.mat-list .mat-subheader:first-child,.mat-nav-list .mat-subheader:first-child,.mat-selection-list .mat-subheader:first-child{margin-top:-8px}.mat-list .mat-list-item,.mat-list .mat-list-option,.mat-nav-list .mat-list-item,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-item,.mat-selection-list .mat-list-option{display:block;height:48px}.mat-list .mat-list-item .mat-list-item-content,.mat-list .mat-list-option .mat-list-item-content,.mat-nav-list .mat-list-item .mat-list-item-content,.mat-nav-list .mat-list-option .mat-list-item-content,.mat-selection-list .mat-list-item .mat-list-item-content,.mat-selection-list .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list .mat-list-item .mat-list-item-content-reverse,.mat-list .mat-list-option .mat-list-item-content-reverse,.mat-nav-list .mat-list-item .mat-list-item-content-reverse,.mat-nav-list .mat-list-option .mat-list-item-content-reverse,.mat-selection-list .mat-list-item .mat-list-item-content-reverse,.mat-selection-list .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list .mat-list-item .mat-list-item-ripple,.mat-list .mat-list-option .mat-list-item-ripple,.mat-nav-list .mat-list-item .mat-list-item-ripple,.mat-nav-list .mat-list-option .mat-list-item-ripple,.mat-selection-list .mat-list-item .mat-list-item-ripple,.mat-selection-list .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list .mat-list-item.mat-list-item-avatar,.mat-list .mat-list-option.mat-list-item-avatar,.mat-nav-list .mat-list-item.mat-list-item-avatar,.mat-nav-list .mat-list-option.mat-list-item-avatar,.mat-selection-list .mat-list-item.mat-list-item-avatar,.mat-selection-list .mat-list-option.mat-list-item-avatar{height:56px}.mat-list .mat-list-item.mat-2-line,.mat-list .mat-list-option.mat-2-line,.mat-nav-list .mat-list-item.mat-2-line,.mat-nav-list .mat-list-option.mat-2-line,.mat-selection-list .mat-list-item.mat-2-line,.mat-selection-list .mat-list-option.mat-2-line{height:72px}.mat-list .mat-list-item.mat-3-line,.mat-list .mat-list-option.mat-3-line,.mat-nav-list .mat-list-item.mat-3-line,.mat-nav-list .mat-list-option.mat-3-line,.mat-selection-list .mat-list-item.mat-3-line,.mat-selection-list .mat-list-option.mat-3-line{height:88px}.mat-list .mat-list-item.mat-multi-line,.mat-list .mat-list-option.mat-multi-line,.mat-nav-list .mat-list-item.mat-multi-line,.mat-nav-list .mat-list-option.mat-multi-line,.mat-selection-list .mat-list-item.mat-multi-line,.mat-selection-list .mat-list-option.mat-multi-line{height:auto}.mat-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list .mat-list-item .mat-list-text,.mat-list .mat-list-option .mat-list-text,.mat-nav-list .mat-list-item .mat-list-text,.mat-nav-list .mat-list-option .mat-list-text,.mat-selection-list .mat-list-item .mat-list-text,.mat-selection-list .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list .mat-list-item .mat-list-text>*,.mat-list .mat-list-option .mat-list-text>*,.mat-nav-list .mat-list-item .mat-list-text>*,.mat-nav-list .mat-list-option .mat-list-text>*,.mat-selection-list .mat-list-item .mat-list-text>*,.mat-selection-list .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list .mat-list-item .mat-list-text:empty,.mat-list .mat-list-option .mat-list-text:empty,.mat-nav-list .mat-list-item .mat-list-text:empty,.mat-nav-list .mat-list-option .mat-list-text:empty,.mat-selection-list .mat-list-item .mat-list-text:empty,.mat-selection-list .mat-list-option .mat-list-text:empty{display:none}.mat-list .mat-list-item .mat-list-text:nth-child(2),.mat-list .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list .mat-list-item .mat-list-avatar,.mat-list .mat-list-option .mat-list-avatar,.mat-nav-list .mat-list-item .mat-list-avatar,.mat-nav-list .mat-list-option .mat-list-avatar,.mat-selection-list .mat-list-item .mat-list-avatar,.mat-selection-list .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list .mat-list-item .mat-list-icon,.mat-list .mat-list-option .mat-list-icon,.mat-nav-list .mat-list-item .mat-list-icon,.mat-nav-list .mat-list-option .mat-list-icon,.mat-selection-list .mat-list-item .mat-list-icon,.mat-selection-list .mat-list-option .mat-list-icon{width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list[dense],.mat-nav-list[dense],.mat-selection-list[dense]{padding-top:4px;display:block}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{height:40px;line-height:8px}.mat-list[dense] .mat-subheader:first-child,.mat-nav-list[dense] .mat-subheader:first-child,.mat-selection-list[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list[dense] .mat-list-item,.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-option{display:block;height:40px}.mat-list[dense] .mat-list-item .mat-list-item-content,.mat-list[dense] .mat-list-option .mat-list-item-content,.mat-nav-list[dense] .mat-list-item .mat-list-item-content,.mat-nav-list[dense] .mat-list-option .mat-list-item-content,.mat-selection-list[dense] .mat-list-item .mat-list-item-content,.mat-selection-list[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-nav-list[dense] .mat-list-option .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-item .mat-list-item-content-reverse,.mat-selection-list[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list[dense] .mat-list-item .mat-list-item-ripple,.mat-list[dense] .mat-list-option .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-item .mat-list-item-ripple,.mat-nav-list[dense] .mat-list-option .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-item .mat-list-item-ripple,.mat-selection-list[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list[dense] .mat-list-item.mat-list-item-avatar,.mat-list[dense] .mat-list-option.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-item.mat-list-item-avatar,.mat-nav-list[dense] .mat-list-option.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-item.mat-list-item-avatar,.mat-selection-list[dense] .mat-list-option.mat-list-item-avatar{height:48px}.mat-list[dense] .mat-list-item.mat-2-line,.mat-list[dense] .mat-list-option.mat-2-line,.mat-nav-list[dense] .mat-list-item.mat-2-line,.mat-nav-list[dense] .mat-list-option.mat-2-line,.mat-selection-list[dense] .mat-list-item.mat-2-line,.mat-selection-list[dense] .mat-list-option.mat-2-line{height:60px}.mat-list[dense] .mat-list-item.mat-3-line,.mat-list[dense] .mat-list-option.mat-3-line,.mat-nav-list[dense] .mat-list-item.mat-3-line,.mat-nav-list[dense] .mat-list-option.mat-3-line,.mat-selection-list[dense] .mat-list-item.mat-3-line,.mat-selection-list[dense] .mat-list-option.mat-3-line{height:76px}.mat-list[dense] .mat-list-item.mat-multi-line,.mat-list[dense] .mat-list-option.mat-multi-line,.mat-nav-list[dense] .mat-list-item.mat-multi-line,.mat-nav-list[dense] .mat-list-option.mat-multi-line,.mat-selection-list[dense] .mat-list-item.mat-multi-line,.mat-selection-list[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-nav-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-selection-list[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list[dense] .mat-list-item .mat-list-text,.mat-list[dense] .mat-list-option .mat-list-text,.mat-nav-list[dense] .mat-list-item .mat-list-text,.mat-nav-list[dense] .mat-list-option .mat-list-text,.mat-selection-list[dense] .mat-list-item .mat-list-text,.mat-selection-list[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0 16px}.mat-list[dense] .mat-list-item .mat-list-text>*,.mat-list[dense] .mat-list-option .mat-list-text>*,.mat-nav-list[dense] .mat-list-item .mat-list-text>*,.mat-nav-list[dense] .mat-list-option .mat-list-text>*,.mat-selection-list[dense] .mat-list-item .mat-list-text>*,.mat-selection-list[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list[dense] .mat-list-item .mat-list-text:empty,.mat-list[dense] .mat-list-option .mat-list-text:empty,.mat-nav-list[dense] .mat-list-item .mat-list-text:empty,.mat-nav-list[dense] .mat-list-option .mat-list-text:empty,.mat-selection-list[dense] .mat-list-item .mat-list-text:empty,.mat-selection-list[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-nav-list[dense] .mat-list-option .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-item .mat-list-text:nth-child(2),.mat-selection-list[dense] .mat-list-option .mat-list-text:nth-child(2){padding:0}.mat-list[dense] .mat-list-item .mat-list-avatar,.mat-list[dense] .mat-list-option .mat-list-avatar,.mat-nav-list[dense] .mat-list-item .mat-list-avatar,.mat-nav-list[dense] .mat-list-option .mat-list-avatar,.mat-selection-list[dense] .mat-list-item .mat-list-avatar,.mat-selection-list[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%}.mat-list[dense] .mat-list-item .mat-list-icon,.mat-list[dense] .mat-list-option .mat-list-icon,.mat-nav-list[dense] .mat-list-item .mat-list-icon,.mat-nav-list[dense] .mat-list-option .mat-list-icon,.mat-selection-list[dense] .mat-list-item .mat-list-icon,.mat-selection-list[dense] .mat-list-option .mat-list-icon{width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-divider{display:block;border-top-style:solid;border-top-width:1px;margin:0}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item-content{cursor:pointer}.mat-nav-list .mat-list-item-content.mat-list-item-focus,.mat-nav-list .mat-list-item-content:hover{outline:0}.mat-list-option:not([disabled]){cursor:pointer}"],data:{}}));d._11("mat-selection-list",p.i,function(e){return d._38(0,[(e()(),d._15(0,0,null,null,3,"mat-selection-list",[["class","mat-selection-list"],["role","listbox"]],[[8,"tabIndex",0],[1,"aria-disabled",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==d._29(e,2).focus()&&i),"blur"===t&&(i=!1!==d._29(e,2).onTouched()&&i),"keydown"===t&&(i=!1!==d._29(e,2)._keydown(n)&&i),i},h,k)),d._33(5120,null,x.h,function(e){return[e]},[p.i]),d._14(2,1097728,null,1,p.i,[d.o,[8,null]],null,null),d._34(603979776,1,{options:1})],null,function(e,t){e(t,0,0,d._29(t,2).tabIndex,d._29(t,2).disabled.toString())})},{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},{selectionChange:"selectionChange"},["*"])},bVHt:function(e,t,n){"use strict";function i(e){return null!=e&&"false"!==`${e}`}function r(e,t=0){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function s(e){return Array.isArray(e)?e:[e]}n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return s})},bf6J:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.decorators=[{type:i.j,args:[{encapsulation:i.Z.None,selector:"tree-loading-component",template:'\n    <span *ngIf="!template">loading...</span>\n    <ng-container\n      [ngTemplateOutlet]="template"\n      [ngTemplateOutletContext]="{ $implicit: node }">\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={template:[{type:i.y}],node:[{type:i.y}]},e}()},bwnN:function(e,t,n){"use strict";var i=n("1GK5"),r=n("AdGS"),s=n("163Z"),o=(n("z/pR"),n("/JaN")),a=n("caAJ"),l=n("6IJ/"),c=n("Yali"),u=n("fM0E"),h=n("bf6J"),d=n("zvsF"),p=n("RkpI"),m=n("GOGn"),f=n("xGT6"),g=n("0hEB"),v=n("scoq"),y=n("/OwU"),b=n("eyVo"),_=n("R02D"),x=n("rmua"),w=n("f5Vd"),E=n("NV2o");n("2Asi");n.d(t,"a",function(){return T}),n.d(t,!1,function(){return a.a}),n.d(t,!1,function(){return l.a}),n.d(t,!1,function(){return c.a}),n.d(t,!1,function(){return u.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){return o.a}),n.d(t,!1,function(){return h.a}),n.d(t,!1,function(){return d.a}),n.d(t,!1,function(){return p.a}),n.d(t,!1,function(){return m.a}),n.d(t,!1,function(){return x.a}),n.d(t,!1,function(){return w.a}),n.d(t,!1,function(){return g.a}),n.d(t,!1,function(){return v.a}),n.d(t,!1,function(){return f.a}),n.d(t,!1,function(){return y.a}),n.d(t,!1,function(){return _.a});var T=function(){function e(){}return e.decorators=[{type:i.C,args:[{declarations:[d.a,p.a,m.a,h.a,x.a,w.a,g.a,v.a,f.a,y.a,_.a,b.a,E.a],exports:[d.a,p.a,m.a,h.a,x.a,w.a,g.a,v.a,f.a,y.a,_.a,b.a,E.a],imports:[r.a,s.a],providers:[c.a]}]}],e.ctorParameters=function(){return[]},e}()},cJbR:function(e,t,n){var i;!function(){var n=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){var i=n(2).mergeOpts,r=n(1),s=n(3).Output,o=r.lineBreak,a=r.allLineBreaks;e.exports.Beautifier=function(e,t){function n(){return(C=e.charAt(++R))||""}function r(t){var i="",r=R;return t&&u(),i=e.charAt(R+1)||"",R=r-1,n(),i}function l(t){for(var i=R;n();)if("\\"===C)n();else{if(-1!==t.indexOf(C))break;if("\n"===C)break}return e.substring(i,R+1)}function c(e){var t=R,i=l(e);return R=t-1,n(),i}function u(e){for(var t=0;M.test(r());)n(),"\n"===C&&e&&w&&(I.add_new_line(!0),t++);return b=t,t}function h(){var e="";for(C&&M.test(C)&&(e=C);M.test(n());)e+=C;return e}function d(){var t=R,i="/"===r();for(n();n();){if(!i&&"*"===C&&"/"===r()){n();break}if(i&&"\n"===C)return e.substring(t,R)}return e.substring(t,R)+C}function p(t){return e.substring(R-t.length,R).toLowerCase()===t}function m(){for(var t=0,n=R+1;n<e.length;n++){var i=e.charAt(n);if("{"===i)return!0;if("("===i)t+=1;else if(")"===i){if(0===t)return!1;t-=1}else if(";"===i||"}"===i)return!1}return!1}function f(e){I.just_added_newline()&&I.set_indent(D),I.add_token(e)}function g(e){e&&(I.space_before_token=!0)}function v(){D++}function y(){D>0&&D--}t=i(t=t||{},"css"),e=e||"";var b=0,_=t.indent_size?parseInt(t.indent_size,10):4,x=t.indent_char||" ",w=void 0!==t.preserve_newlines&&t.preserve_newlines,E=void 0===t.selector_separator_newline||t.selector_separator_newline,T=void 0!==t.end_with_newline&&t.end_with_newline,S=void 0===t.newline_between_rules||t.newline_between_rules,k=void 0!==t.space_around_combinator&&t.space_around_combinator;k=k||void 0!==t.space_around_selector_separator&&t.space_around_selector_separator;var A=t.eol?t.eol:"auto";t.indent_with_tabs&&(x="\t",_=1),"auto"===A&&(A="\n",e&&o.test(e||"")&&(A=e.match(o)[0])),A=A.replace(/\\r/,"\r").replace(/\\n/,"\n");var C,M=/^\s+$/,R=-1,L=0,P="",O=0;if((e=e.replace(a,"\n"))&&e.length){for(;" "===e.charAt(O)||"\t"===e.charAt(O);)O+=1;P=e.substring(0,O),e=e.substring(O)}var D,F,I,N=new Array(_+1).join(x);this.beautify=function(){I=new s(N,P),D=0,F=0,R=-1,C=null,L=0;for(var e=!1,t=!1,i=!1,o="",a="";;){var _=h(),x=""!==_,w=-1!==_.indexOf("\n");if(a=o,o=C,!C)break;if("/"===C&&"*"===r()){var O=0===D;(w||O)&&I.add_new_line(),f(d()),I.add_new_line(),O&&I.add_new_line(!0)}else if("/"===C&&"/"===r())w||"{"===a||I.trim(!0),I.space_before_token=!0,f(d()),I.add_new_line();else if("@"===C)if(g(x),"{"===r())f(l("}"));else{f(C);var B=c(": ,;{}()[]/='\"");B.match(/[ :]$/)&&(n(),f(B=l(": ").replace(/\s$/,"")),I.space_before_token=!0),(B=B.replace(/\s$/,""))in this.NESTED_AT_RULE&&(F+=1,B in this.CONDITIONAL_GROUP_RULE&&(i=!0))}else"#"===C&&"{"===r()?(g(x),f(l("}"))):"{"===C?"}"===r(!0)?(u(),n(),I.space_before_token=!0,f("{}"),u(!0)||I.add_new_line(),b<2&&S&&0===D&&I.add_new_line(!0)):(v(),I.space_before_token=!0,f(C),u(!0)||I.add_new_line(),i?(i=!1,e=D>F):e=D>=F):"}"===C?(y(),I.add_new_line(),f(C),e=!1,t=!1,F&&F--,u(!0)||I.add_new_line(),b<2&&S&&0===D&&I.add_new_line(!0)):":"===C?(u(),!e&&!i||p("&")||m()||p("(")?(p(" ")&&(I.space_before_token=!0),":"===r()?(n(),f("::")):f(":")):(f(":"),t||(t=!0,I.space_before_token=!0))):'"'===C||"'"===C?(g(x),f(l(C))):";"===C?(t=!1,f(C),u(!0)||I.add_new_line()):"("===C?p("url")?(f(C),u(),n()&&(")"!==C&&'"'!==C&&"'"!==C?f(l(")")):R--)):(L++,g(x),f(C),u()):")"===C?(f(C),L--):","===C?(f(C),!u(!0)&&E&&!t&&L<1?I.add_new_line():I.space_before_token=!0):(">"===C||"+"===C||"~"===C)&&!t&&L<1?k?(I.space_before_token=!0,f(C),I.space_before_token=!0):(f(C),u(),C&&M.test(C)&&(C="")):"]"===C?f(C):"["===C?(g(x),f(C)):"="===C?(u(),f("="),M.test(C)&&(C="")):"!"===C?(f(" "),f(C)):(g(x),f(C))}return I.get_code(T,A)},this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}},function(e,t){var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",i=new RegExp("["+n+"]"),r=new RegExp("["+n+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&r.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function(e,t){var n,i={};for(n in e)n!==t&&(i[n]=e[n]);if(t in e)for(n in e[t])i[n]=e[t][n];return i}},function(e,t){e.exports.Output=function(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(e){var t=0,n=-1,i=[],r=!0;this.set_indent=function(i){t=e.baseIndentLength+i*e.indent_length,n=i},this.get_character_count=function(){return t},this.is_empty=function(){return r},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(e){i.push(e),t+=e.length,r=!1},this.pop=function(){var e=null;return r||(e=i.pop(),t-=e.length,r=0===i.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)i.pop(),t-=1;r=0===i.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=i.join("")),t}}(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var i=n.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(i+="\n"),"\n"!==t&&(i=i.replace(/[\n]/g,t)),i},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=n.length;e<t;)n[e].remove_indent(),e++},this.trim=function(i){for(i=void 0!==i&&i,this.current_line.trim(e,t);i&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===n.length||n[n.length-2].is_empty())}}},function(e,t,n){var i=n(0).Beautifier;e.exports=function(e,t){return new i(e,t).beautify()}}]);void 0===(i=(function(){return{css_beautify:n}}).apply(t,[]))||(e.exports=i)}()},caAJ:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n("1GK5"),r=n("O+ca"),s=n("6IJ/"),o=n("z/pR"),a=n("Lv9R"),l=n("xrDH"),c=(n.n(l),this&&this.__decorate||function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}),u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=l.first,d=l.last,p=l.compact,m=l.find,f=(l.includes,l.isString),g=l.isFunction,v=function(){function e(){this.options=new o.a,this.eventNames=Object.keys(a.a),this.expandedNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0}return e.prototype.fireEvent=function(e){e.treeModel=this,this.events[e.eventName].emit(e),this.events.event.emit(e)},e.prototype.subscribe=function(e,t){this.events[e].subscribe(t)},e.prototype.getFocusedNode=function(){return this.focusedNode},e.prototype.getActiveNode=function(){return this.activeNodes[0]},e.prototype.getActiveNodes=function(){return this.activeNodes},e.prototype.getVisibleRoots=function(){return this.virtualRoot.visibleChildren},e.prototype.getFirstRoot=function(e){return void 0===e&&(e=!1),h(e?this.getVisibleRoots():this.roots)},e.prototype.getLastRoot=function(e){return void 0===e&&(e=!1),d(e?this.getVisibleRoots():this.roots)},Object.defineProperty(e.prototype,"isFocused",{get:function(){return e.focusedTree===this},enumerable:!0,configurable:!0}),e.prototype.isNodeFocused=function(e){return this.focusedNode===e},e.prototype.isEmptyTree=function(){return this.roots&&0===this.roots.length},Object.defineProperty(e.prototype,"focusedNode",{get:function(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandedNodes",{get:function(){var e=this,t=Object.keys(this.expandedNodeIds).filter(function(t){return e.expandedNodeIds[t]}).map(function(t){return e.getNodeById(t)});return p(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeNodes",{get:function(){var e=this,t=Object.keys(this.activeNodeIds).filter(function(t){return e.activeNodeIds[t]}).map(function(t){return e.getNodeById(t)});return p(t)},enumerable:!0,configurable:!0}),e.prototype.getNodeByPath=function(e,t){if(void 0===t&&(t=null),!e)return null;if(t=t||this.virtualRoot,0===e.length)return t;if(!t.children)return null;var n=e.shift(),i=m(t.children,{id:n});return i?this.getNodeByPath(e,i):null},e.prototype.getNodeById=function(e){var t=e.toString();return this.getNodeBy(function(e){return e.id.toString()===t})},e.prototype.getNodeBy=function(e,t){if(void 0===t&&(t=null),!(t=t||this.virtualRoot).children)return null;var n=m(t.children,e);if(n)return n;for(var i=0,r=t.children;i<r.length;i++){var s=r[i],o=this.getNodeBy(e,s);if(o)return o}},e.prototype.isExpanded=function(e){return this.expandedNodeIds[e.id]},e.prototype.isHidden=function(e){return this.hiddenNodeIds[e.id]},e.prototype.isActive=function(e){return this.activeNodeIds[e.id]},e.prototype.setData=function(e){var t=e.nodes,n=e.options,i=void 0===n?null:n,r=e.events,s=void 0===r?null:r;i&&(this.options=new o.a(i)),s&&(this.events=s),t&&(this.nodes=t),this.update()},e.prototype.update=function(){var e=(t={id:this.options.rootId,virtual:!0},t[this.options.childrenField]=this.nodes,t);this.virtualRoot=new s.a(e,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:a.a.updateData});var t},e.prototype.setFocusedNode=function(e){this.focusedNodeId=e?e.id:null},e.prototype.setFocus=function(t){e.focusedTree=t?this:null},e.prototype.doForAll=function(e){this.roots.forEach(function(t){return t.doForAll(e)})},e.prototype.focusNextNode=function(){var e=this.getFocusedNode(),t=e?e.findNextNode(!0,!0):this.getFirstRoot(!0);t&&t.focus()},e.prototype.focusPreviousNode=function(){var e=this.getFocusedNode(),t=e?e.findPreviousNode(!0):this.getLastRoot(!0);t&&t.focus()},e.prototype.focusDrillDown=function(){var e=this.getFocusedNode();if(e&&e.isCollapsed&&e.hasChildren)e.toggleExpanded();else{var t=e?e.getFirstChild(!0):this.getFirstRoot(!0);t&&t.focus()}},e.prototype.focusDrillUp=function(){var e=this.getFocusedNode();if(e)if(e.isExpanded)e.toggleExpanded();else{var t=e.realParent;t&&t.focus()}},e.prototype.setActiveNode=function(e,t,n){void 0===n&&(n=!1),n?this._setActiveNodeMulti(e,t):this._setActiveNodeSingle(e,t),t?(e.focus(),this.fireEvent({eventName:a.a.activate,node:e})):this.fireEvent({eventName:a.a.deactivate,node:e})},e.prototype.setExpandedNode=function(e,t){this.expandedNodeIds=Object.assign({},this.expandedNodeIds,(n={},n[e.id]=t,n)),this.fireEvent({eventName:a.a.toggleExpanded,node:e,isExpanded:t});var n},e.prototype.expandAll=function(){this.roots.forEach(function(e){return e.expandAll()})},e.prototype.collapseAll=function(){this.roots.forEach(function(e){return e.collapseAll()})},e.prototype.setIsHidden=function(e,t){this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,(n={},n[e.id]=t,n));var n},e.prototype.setHiddenNodeIds=function(e){this.hiddenNodeIds=e.reduce(function(e,t){return Object.assign(t,(n={},n[e]=!0,n));var n},{})},e.prototype.performKeyAction=function(e,t){var n=this.options.actionMapping.keys[t.keyCode];return!!n&&(t.preventDefault(),n(this,e,t),!0)},e.prototype.filterNodes=function(e,t){var n=this;void 0===t&&(t=!0);var i;if(!e)return this.clearFilter();if(f(e))i=function(t){return-1!==t.displayField.toLowerCase().indexOf(e.toLowerCase())};else{if(!g(e))return console.error("Don't know what to do with filter",e),void console.error("Should be either a string or function");i=e}var r={};this.roots.forEach(function(e){return n._filterNode(r,e,i,t)}),this.hiddenNodeIds=r,this.fireEvent({eventName:a.a.changeFilter})},e.prototype.clearFilter=function(){this.hiddenNodeIds={},this.fireEvent({eventName:a.a.changeFilter})},e.prototype.moveNode=function(e,t){var n=e.getIndexInParent(),i=e.parent;if(this._canMoveNode(e,n,t)){var r=i.getField("children");t.parent.getField("children")||t.parent.setField("children",[]);var s=t.parent.getField("children"),o=r.splice(n,1)[0],l=i===t.parent&&t.index>n?t.index-1:t.index;s.splice(l,0,o),i.treeModel.update(),t.parent.treeModel!==i.treeModel&&t.parent.treeModel.update(),this.fireEvent({eventName:a.a.moveNode,node:o,to:{parent:t.parent.data,index:l}})}},e.prototype.copyNode=function(e,t){var n=e.getIndexInParent();if(this._canMoveNode(e,n,t)){t.parent.getField("children")||t.parent.setField("children",[]);var i=t.parent.getField("children"),r=this.options.getNodeClone(e);i.splice(t.index,0,r),e.treeModel.update(),t.parent.treeModel!==e.treeModel&&t.parent.treeModel.update(),this.fireEvent({eventName:a.a.copyNode,node:r,to:{parent:t.parent.data,index:t.index}})}},e.prototype.getState=function(){return{expandedNodeIds:this.expandedNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}},e.prototype.setState=function(e){e&&Object.assign(this,{expandedNodeIds:e.expandedNodeIds||{},activeNodeIds:e.activeNodeIds||{},hiddenNodeIds:e.hiddenNodeIds||{},focusedNodeId:e.focusedNodeId})},e.prototype.subscribeToState=function(e){var t=this;Object(r.b)(function(){return e(t.getState())})},e.prototype._canMoveNode=function(e,t,n){return(e.parent!==n.parent||t!==n.index)&&!n.parent.isDescendantOf(e)},e.prototype._filterNode=function(e,t,n,i){var r=this,s=n(t);return t.children&&t.children.forEach(function(t){r._filterNode(e,t,n,i)&&(s=!0)}),s||(e[t.id]=!0),i&&s&&t.ensureVisible(),s},e.prototype._calculateExpandedNodes=function(e){var t=this;void 0===e&&(e=null),(e=e||this.virtualRoot).data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,(n={},n[e.id]=!0,n))),e.children&&e.children.forEach(function(e){return t._calculateExpandedNodes(e)});var n},e.prototype._setActiveNodeSingle=function(e,t){var n=this;this.activeNodes.filter(function(t){return t!==e}).forEach(function(e){n.fireEvent({eventName:a.a.deactivate,node:e})}),this.activeNodeIds=t?(i={},i[e.id]=!0,i):{};var i},e.prototype._setActiveNodeMulti=function(e,t){this.activeNodeIds=Object.assign({},this.activeNodeIds,(n={},n[e.id]=t,n));var n},e.focusedTree=null,e.decorators=[{type:i.v}],e.ctorParameters=function(){return[]},c([r.g,u("design:type",Array)],e.prototype,"roots",void 0),c([r.g,u("design:type",Object)],e.prototype,"expandedNodeIds",void 0),c([r.g,u("design:type",Object)],e.prototype,"activeNodeIds",void 0),c([r.g,u("design:type",Object)],e.prototype,"hiddenNodeIds",void 0),c([r.g,u("design:type",Object)],e.prototype,"focusedNodeId",void 0),c([r.g,u("design:type",s.a)],e.prototype,"virtualRoot",void 0),c([r.c,u("design:type",Object),u("design:paramtypes",[])],e.prototype,"focusedNode",null),c([r.c,u("design:type",Object),u("design:paramtypes",[])],e.prototype,"expandedNodes",null),c([r.c,u("design:type",Object),u("design:paramtypes",[])],e.prototype,"activeNodes",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],e.prototype,"setData",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"update",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],e.prototype,"setFocusedNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],e.prototype,"setFocus",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],e.prototype,"doForAll",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"focusNextNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"focusPreviousNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"focusDrillDown",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"focusDrillUp",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object,Object,Object]),u("design:returntype",void 0)],e.prototype,"setActiveNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],e.prototype,"setExpandedNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"expandAll",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"collapseAll",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],e.prototype,"setIsHidden",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],e.prototype,"setHiddenNodeIds",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],e.prototype,"filterNodes",null),c([r.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],e.prototype,"clearFilter",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],e.prototype,"moveNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],e.prototype,"copyNode",null),c([r.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],e.prototype,"setState",null),e}()},cn4a:function(e,t,n){"use strict";(function(e){function i(e,t){return _.writeFile("./src/assets/gs-json/"+t,e.toJSON(),e=>{if(e)return console.log("Error writing file: "+t),console.error(e),!1;console.log("File has been created: "+t)}),!0}function r(){return new b.d}function s(){const e=new b.d;return e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,0,0]]),e}function o(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0]]);return e.getGeom().addPolyline(t,!1),e}function a(){const e=new b.d,t=e.getGeom().addPoints([[-7.931049823760986,4.17618989944458,0],[-5.577179908752441,-3.2098400592803955,0],[.898481011390686,-3.6717300415039062,0],[7.178500175476074,-2.0277199745178223,0],[5.293560028076172,1.5589900016784668,0],[7.212399959564209,6.495269775390625,0],[5.317729949951172,10.390199661254883,0]]);return e.getGeom().addPolyline(t,!0),e}function l(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[2],t[6],t[7],t[3]],[t[3],t[7],t[4],t[0]],[t[7],t[6],t[5],t[4]]]),e}function c(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]),n=e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[2],t[6],t[7],t[3]],[t[3],t[7],t[4],t[0]],[t[7],t[6],t[5],t[4]]]),i=e.addEntAttrib("height",b.c.points,b.b.type_num);t.forEach(e=>e.setAttribValue(i,e.getPosition()[2]));const r=e.addTopoAttrib("neighbours",b.c.vertices,b.b.type_str_arr),s=b.a.flatten(n.getVertices());for(const u of s){const e=[];for(const t of u.verticesSharedPoint()[1])t!==u&&e.push(t.getTopoPathStr());u.setAttribValue(r,e)}const o=e.addTopoAttrib("face_type",b.c.faces,b.b.type_str),a=n.getFaces();a[0].setAttribValue(o,"floor"),a[1].setAttribValue(o,"wall"),a[2].setAttribValue(o,"wall"),a[3].setAttribValue(o,"wall"),a[4].setAttribValue(o,"wall"),a[5].setAttribValue(o,"roof");const l=e.addTopoAttrib("horizontal",b.c.edges,b.b.type_bool),c=[];c.push(...a[0].getEdges()),c.push(...a[5].getEdges());for(const u of a.slice(1,5)){const e=u.getEdges();c.push(...[e[1],e[3]])}return c.forEach(e=>e.setAttribValue(l,!0)),e}function u(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[2],t[6],t[7],t[3]],[t[7],t[6],t[5],t[4]]]),e}function h(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[7],t[6],t[5],t[4]]]),e}function d(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[2],t[6],t[7],t[3]],[t[7],t[6],t[5],t[4]]]),e}function p(){const e=new b.d,t=e.getGeom().addPoints([[-.7794438004493713,-1,0],[.22055619955062866,-1,0],[.22055619955062866,-1,3],[-.7794438004493713,-1,3],[-.7794438004493713,1,0],[.22055619955062866,1,0],[.22055619955062866,1,3],[-.7794438004493713,1,3],[1.3269386291503906,-1,0],[2.3269386291503906,-1,0],[2.3269386291503906,-1,3],[1.3269386291503906,-1,3],[1.3269386291503906,1,0],[2.3269386291503906,1,0],[2.3269386291503906,1,3],[1.3269386291503906,1,3]]);return e.getGeom().addPolymesh([[t[1],t[5],t[4],t[0]],[t[2],t[6],t[5],t[1]],[t[3],t[7],t[6],t[2]],[t[0],t[4],t[7],t[3]],[t[5],t[6],t[7],t[4]]]),e.getGeom().addPolymesh([[t[9],t[13],t[12],t[8]],[t[11],t[15],t[14],t[10]],[t[10],t[9],t[8],t[11]],[t[13],t[14],t[15],t[12]]]),e}function m(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,0,0],[11,0,0],[12,0,1],[15,15,0],[15,30,-1],[10,30,1],[10,10,-1],[0,10,0],[0,5,0]]);return e.getGeom().addPolymesh([t]),e}function f(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[5,-5,0],[0,10,0]]);return e.getGeom().addPolymesh([t]),e}function g(){const e=new b.d,t=e.getGeom().addPoints([[-.7794438004493713,-1,0],[.22055619955062866,-1,0],[.22055619955062866,-1,3],[-.7794438004493713,-1,3],[-.7794438004493713,1,0],[.22055619955062866,1,0],[.22055619955062866,1,3],[-.7794438004493713,1,3],[1.3269386291503906,-1,0],[2.3269386291503906,-1,0],[2.3269386291503906,-1,3],[1.3269386291503906,-1,3],[1.3269386291503906,1,0],[2.3269386291503906,1,0],[2.3269386291503906,1,3],[1.3269386291503906,1,3],[1.4623746871948242,-2.6389076709747314,-.31497955322265625],[1.4623746871948242,-2.3732826709747314,-.31497955322265625],[1.4623746871948242,-2.1076576709747314,-.31497955322265625],[1.5453824996948242,-1.9250404834747314,-.31497955322265625],[1.5453824996948242,-2.1906654834747314,-.31497955322265625],[1.5453824996948242,-2.4562904834747314,-.31497955322265625],[-.5512971878051758,-2.6389076709747314,-.31497955322265625],[-.6549032330513,-2.368194580078125,-.31497955322265625],[-.7585092782974243,-2.0974817276000977,-.31497955322265625],[-.7905550003051758,-2.194010019302368,-.31497955322265625],[-.7905550003051758,-2.4838716983795166,-.31497955322265625],[-.8672151565551758,-2.580742120742798,-.31497955322265625],[-.8672151565551758,-2.2908804416656494,-.31497955322265625],[-.8672151565551758,-2.001019239425659,-.31497955322265625],[-.7103590369224548,-2.0080180168151855,-.31497955322265625],[-.6064698696136475,-2.278623104095459,-.31497955322265625],[-.4999831020832062,-2.482268810272217,-.31497955322265625],[-.3953130841255188,-2.211965322494507,-.31497955322265625],[-.2906434237957001,-1.9416617155075073,-.31497955322265625],[-.16018390655517578,-2.073054313659668,-.31497955322265625],[-.16018390655517578,-2.3629159927368164,-.31497955322265625],[-.17405441403388977,-2.6389076709747314,-.31497955322265625],[-.24319171905517578,-2.4181833267211914,-.31497955322265625],[-.24252620339393616,-2.128326177597046,-.31497955322265625],[-.2995643615722656,-2.16054630279541,-.31497955322265625],[-.4040381610393524,-2.430924654006958,-.31497955322265625],[.6552457809448242,-2.2809975147247314,-.31497955322265625],[.5780249238014221,-2.538818597793579,-.31497955322265625],[.3367978632450104,-2.648444652557373,-.31497955322265625],[.5011316537857056,-2.5077075958251953,-.31497955322265625],[.5664176940917969,-2.2479758262634277,-.31497955322265625],[.4481579661369324,-2.014356851577759,-.31497955322265625],[.18578748404979706,-2.028092622756958,-.31497955322265625],[.0865355059504509,-2.272844076156616,-.31497955322265625],[.17117466032505035,-2.5248000621795654,-.31497955322265625],[.2941988706588745,-2.647393226623535,-.31497955322265625],[.06101566553115845,-2.522721767425537,-.31497955322265625],[-.0011052392655983567,-2.259951591491699,-.31497955322265625],[.08764392882585526,-2.006666421890259,-.31497955322265625],[.3368940055370331,-1.9140163660049438,-.31497955322265625],[.5783979296684265,-2.023050546646118,-.31497955322265625],[.8144254684448242,-1.9250404834747314,-.31497955322265625],[1.102770209312439,-1.9299184083938599,-.31497955322265625],[1.2849626541137695,-2.1093807220458984,-.31497955322265625],[1.1502881050109863,-2.2096476554870605,-.31497955322265625],[1.090009331703186,-2.001718044281006,-.31497955322265625],[.8974332809448242,-2.092536687850952,-.31497955322265625],[1.0478017330169678,-2.2305264472961426,-.31497955322265625],[1.0315463542938232,-2.3010170459747314,-.31497955322265625],[.8974332809448242,-2.4554409980773926,-.31497955322265625],[1.0732861757278442,-2.5672106742858887,-.31497955322265625],[1.208114743232727,-2.3706717491149902,-.31497955322265625],[1.2719993591308594,-2.32572603225708,-.31497955322265625],[1.24326753616333,-2.5858538150787354,-.31497955322265625],[.9661754369735718,-2.6389076709747314,-.31497955322265625],[.8144254684448242,-2.5021183490753174,-.31497955322265625],[.8144254684448242,-2.2135796546936035,-.31497955322265625],[2.280245780944824,-1.9250404834747314,-.31497955322265625],[2.280245780944824,-2.193127393722534,-.31497955322265625],[2.2724032402038574,-2.460641384124756,-.31497955322265625],[2.0921428203582764,-2.6389458179473877,-.31497955322265625],[1.833667516708374,-2.6027204990386963,-.31497955322265625],[1.7338590621948242,-2.3665759563446045,-.31497955322265625],[1.7338590621948242,-2.0984888076782227,-.31497955322265625],[1.8168668746948242,-1.9366711378097534,-.31497955322265625],[1.8168668746948242,-2.2047581672668457,-.31497955322265625],[1.8297230005264282,-2.4713997840881348,-.31497955322265625],[2.054230213165283,-2.5724759101867676,-.31497955322265625],[2.197237968444824,-2.378206491470337,-.31497955322265625],[2.197237968444824,-2.110119342803955,-.31497955322265625],[2.872042655944824,-2.4489662647247314,-.31497955322265625],[2.6958096027374268,-2.6418278217315674,-.31497955322265625],[2.422823905944824,-2.6069283485412598,-.31497955322265625],[2.633169174194336,-2.5757405757904053,-.31497955322265625],[2.77113938331604,-2.3934872150421143,-.31497955322265625],[2.520369291305542,-2.2608282566070557,-.31497955322265625],[2.453770875930786,-2.00935697555542,-.31497955322265625],[2.7089829444885254,-1.9171342849731445,-.31497955322265625],[2.7718653678894043,-2.006145715713501,-.31497955322265625],[2.5197558403015137,-2.0665476322174072,-.31497955322265625],[2.695028305053711,-2.251216411590576,-.31497955322265625]]);return e.getGeom().addPolyline([16,17,18,19,20,21].map((e,n)=>t[e]),!1),e.getGeom().addPolyline([22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([42,43,44,45,46,47,48,49,50,51,52,53,54,55,56].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([73,74,75,76,77,78,79,80,81,82,83,84,85].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([86,87,88,89,90,91,92,93,94,95,96].map((e,n)=>t[n]),!1),e.getGeom().addPolymesh([[1,5,4,0],[2,6,5,1],[3,7,6,2],[0,4,7,3],[5,6,7,4]].map((e,n)=>e.map((e,n)=>t[e]))),e.getGeom().addPolymesh([[9,13,12,8],[11,15,14,10],[10,9,8,11],[13,14,15,12]].map((e,n)=>e.map((e,n)=>t[e]))),e}function v(){const e=new b.d,t=e.getGeom().addPoints([[-5,-5,5.2243194580078125],[-3.8888888359069824,-5,5.2243194580078125],[-2.777777671813965,-5,5.2243194580078125],[-1.6666665077209473,-5,5.2243194580078125],[-.5555553436279297,-5,5.2243194580078125],[.5555558204650879,-5,5.2243194580078125],[1.6666669845581055,-5,5.2243194580078125],[2.777778148651123,-5,5.2243194580078125],[3.8888893127441406,-5,5.2243194580078125],[5,-5,5.2243194580078125],[-5,-3.8888888359069824,5.2243194580078125],[-3.8888888359069824,-3.8888888359069824,5.2243194580078125],[-2.777777671813965,-3.8888888359069824,5.2243194580078125],[-1.6666665077209473,-3.8888888359069824,5.2243194580078125],[-.5555553436279297,-3.8888888359069824,5.2243194580078125],[.5555558204650879,-3.8888888359069824,5.2243194580078125],[1.6666669845581055,-3.8888888359069824,5.2243194580078125],[2.777778148651123,-3.8888888359069824,5.2243194580078125],[3.8888893127441406,-3.8888888359069824,5.2243194580078125],[5,-3.8888888359069824,5.2243194580078125],[-5,-2.777777671813965,5.2243194580078125],[-3.8888888359069824,-2.777777671813965,5.2243194580078125],[-2.777777671813965,-2.777777671813965,5.2243194580078125],[-1.6666665077209473,-2.777777671813965,5.2243194580078125],[-.5555553436279297,-2.777777671813965,5.2243194580078125],[.5555558204650879,-2.777777671813965,5.2243194580078125],[1.6666669845581055,-2.777777671813965,5.2243194580078125],[2.777778148651123,-2.777777671813965,5.2243194580078125],[3.8888893127441406,-2.777777671813965,5.2243194580078125],[5,-2.777777671813965,5.2243194580078125],[-5,-1.6666665077209473,5.2243194580078125],[-3.8888888359069824,-1.6666665077209473,5.2243194580078125],[-2.777777671813965,-1.6666665077209473,5.2243194580078125],[-1.6666665077209473,-1.6666665077209473,5.2243194580078125],[-.5555553436279297,-1.6666665077209473,5.2243194580078125],[.5555558204650879,-1.6666665077209473,5.2243194580078125],[1.6666669845581055,-1.6666665077209473,5.2243194580078125],[2.777778148651123,-1.6666665077209473,5.2243194580078125],[3.8888893127441406,-1.6666665077209473,5.2243194580078125],[5,-1.6666665077209473,5.2243194580078125],[-5,-.5555553436279297,5.2243194580078125],[-3.8888888359069824,-.5555553436279297,5.2243194580078125],[-2.777777671813965,-.5555553436279297,5.2243194580078125],[-1.6666665077209473,-.5555553436279297,5.2243194580078125],[-.5555553436279297,-.5555553436279297,5.2243194580078125],[.5555558204650879,-.5555553436279297,5.2243194580078125],[1.6666669845581055,-.5555553436279297,5.2243194580078125],[2.777778148651123,-.5555553436279297,5.2243194580078125],[3.8888893127441406,-.5555553436279297,5.2243194580078125],[5,-.5555553436279297,5.2243194580078125],[-5,.5555558204650879,5.2243194580078125],[-3.8888888359069824,.5555558204650879,5.2243194580078125],[-2.777777671813965,.5555558204650879,5.2243194580078125],[-1.6666665077209473,.5555558204650879,5.2243194580078125],[-.5555553436279297,.5555558204650879,5.2243194580078125],[.5555558204650879,.5555558204650879,5.2243194580078125],[1.6666669845581055,.5555558204650879,5.2243194580078125],[2.777778148651123,.5555558204650879,5.2243194580078125],[3.8888893127441406,.5555558204650879,5.2243194580078125],[5,.5555558204650879,5.2243194580078125],[-5,1.6666669845581055,5.2243194580078125],[-3.8888888359069824,1.6666669845581055,5.2243194580078125],[-2.777777671813965,1.6666669845581055,5.2243194580078125],[-1.6666665077209473,1.6666669845581055,5.2243194580078125],[-.5555553436279297,1.6666669845581055,5.2243194580078125],[.5555558204650879,1.6666669845581055,5.2243194580078125],[1.6666669845581055,1.6666669845581055,5.2243194580078125],[2.777778148651123,1.6666669845581055,5.2243194580078125],[3.8888893127441406,1.6666669845581055,5.2243194580078125],[5,1.6666669845581055,5.2243194580078125],[-5,2.777778148651123,5.2243194580078125],[-3.8888888359069824,2.777778148651123,5.2243194580078125],[-2.777777671813965,2.777778148651123,5.2243194580078125],[-1.6666665077209473,2.777778148651123,5.2243194580078125],[-.5555553436279297,2.777778148651123,5.2243194580078125],[.5555558204650879,2.777778148651123,5.2243194580078125],[1.6666669845581055,2.777778148651123,5.2243194580078125],[2.777778148651123,2.777778148651123,5.2243194580078125],[3.8888893127441406,2.777778148651123,5.2243194580078125],[5,2.777778148651123,5.2243194580078125],[-5,3.8888893127441406,5.2243194580078125],[-3.8888888359069824,3.8888893127441406,5.2243194580078125],[-2.777777671813965,3.8888893127441406,5.2243194580078125],[-1.6666665077209473,3.8888893127441406,5.2243194580078125],[-.5555553436279297,3.8888893127441406,5.2243194580078125],[.5555558204650879,3.8888893127441406,5.2243194580078125],[1.6666669845581055,3.8888893127441406,5.2243194580078125],[2.777778148651123,3.8888893127441406,5.2243194580078125],[3.8888893127441406,3.8888893127441406,5.2243194580078125],[5,3.8888893127441406,5.2243194580078125],[-5,5,5.2243194580078125],[-3.8888888359069824,5,5.2243194580078125],[-2.777777671813965,5,5.2243194580078125],[-1.6666665077209473,5,5.2243194580078125],[-.5555553436279297,5,5.2243194580078125],[.5555558204650879,5,5.2243194580078125],[1.6666669845581055,5,5.2243194580078125],[2.777778148651123,5,5.2243194580078125],[3.8888893127441406,5,5.2243194580078125],[5,5,5.2243194580078125]]);return e.getGeom().addPolymesh([[0,1,11,10],[1,2,12,11],[2,3,13,12],[3,4,14,13],[4,5,15,14],[5,6,16,15],[6,7,17,16],[7,8,18,17],[8,9,19,18],[10,11,21,20],[11,12,22,21],[12,13,23,22],[13,14,24,23],[14,15,25,24],[15,16,26,25],[16,17,27,26],[17,18,28,27],[18,19,29,28],[20,21,31,30],[21,22,32,31],[22,23,33,32],[23,24,34,33],[24,25,35,34],[25,26,36,35],[26,27,37,36],[27,28,38,37],[28,29,39,38],[30,31,41,40],[31,32,42,41],[32,33,43,42],[33,34,44,43],[37,38,48,47],[38,39,49,48],[40,41,51,50],[41,42,52,51],[42,43,53,52],[43,44,54,53],[44,45,55,54],[45,46,56,55],[46,47,57,56],[47,48,58,57],[48,49,59,58],[50,51,61,60],[51,52,62,61],[52,53,63,62],[53,54,64,63],[54,55,65,64],[55,56,66,65],[56,57,67,66],[57,58,68,67],[58,59,69,68],[60,61,71,70],[61,62,72,71],[65,66,76,75],[66,67,77,76],[67,68,78,77],[68,69,79,78],[70,71,81,80],[71,72,82,81],[72,73,83,82],[73,74,84,83],[74,75,85,84],[75,76,86,85],[76,77,87,86],[77,78,88,87],[78,79,89,88],[80,81,91,90],[81,82,92,91],[82,83,93,92],[83,84,94,93],[84,85,95,94],[85,86,96,95],[86,87,97,96],[87,88,98,97],[88,89,99,98]].map((e,n)=>e.map((e,n)=>t[e]))),e}function y(){const e=new b.d,t=e.getGeom().addPoints([[1.5,11682431022563833e-22,-4.371138828673793e-8],[1.4488884210586548,.388229638338089,-4.371138828673793e-8],[1.2990376949310303,.7500008940696716,-4.371138828673793e-8],[1.0606595277786255,1.0606608390808105,-4.371138828673793e-8],[.7499992251396179,1.2990385293960571,-4.371138828673793e-8],[.38822782039642334,1.448888897895813,-4.371138828673793e-8],[-6.97368420787825e-7,1.5,-4.371138828673793e-8],[-.3882291316986084,1.4488885402679443,-4.371138828673793e-8],[-.7500004768371582,1.2990378141403198,-4.371138828673793e-8],[-1.0606608390808105,1.060659646987915,-4.371138828673793e-8],[-1.2990384101867676,.7499994039535522,-4.371138828673793e-8],[-1.448888897895813,.3882279396057129,-4.371138828673793e-8],[-1.5,-5.841215511281916e-7,-4.371138828673793e-8],[-1.4488886594772339,-.3882290720939636,-4.371138828673793e-8],[-1.2990379333496094,-.7500003576278687,-4.371138828673793e-8],[-1.0606598854064941,-1.0606603622436523,-4.371138828673793e-8],[-.7499997615814209,-1.299038290977478,-4.371138828673793e-8],[-.3882283866405487,-1.4488887786865234,-4.371138828673793e-8],[1.1324685544877866e-7,-1.5,-4.371138828673793e-8],[.3882285952568054,-1.4488887786865234,-4.371138828673793e-8],[.7499999403953552,-1.2990381717681885,-4.371138828673793e-8],[1.0606601238250732,-1.0606601238250732,-4.371138828673793e-8],[1.299038052558899,-.75,-4.371138828673793e-8],[1.4488887786865234,-.38822856545448303,-4.371138828673793e-8],[1.43301260471344,11160714166180696e-22,-.25000008940696716],[1.384183645248413,.3708919882774353,-.25000008940696716],[1.2410248517990112,.7165071368217468,-.25000008940696716],[1.0132923126220703,1.0132936239242554,-.25000008940696716],[.7165055871009827,1.241025686264038,-.25000008940696716],[.37089022994041443,1.3841840028762817,-.25000008940696716],[-6.662251621492032e-7,1.43301260471344,-.25000008940696716],[-.3708915114402771,1.384183645248413,-.25000008940696716],[-.7165067195892334,1.2410250902175903,-.25000008940696716],[-1.0132935047149658,1.0132924318313599,-.25000008940696716],[-1.241025686264038,.7165057063102722,-.25000008940696716],[-1.3841840028762817,.370890349149704,-.25000008940696716],[-1.43301260471344,-5.580357083090348e-7,-.25000008940696716],[-1.3841837644577026,-.37089142203330994,-.25000008940696716],[-1.2410250902175903,-.7165066599845886,-.25000008940696716],[-1.013292670249939,-1.0132931470870972,-.25000008940696716],[-.7165060639381409,-1.241025447845459,-.25000008940696716],[-.3708907663822174,-1.3841840028762817,-.25000008940696716],[1.0818944673474107e-7,-1.43301260471344,-.25000008940696716],[.3708910048007965,-1.3841838836669922,-.25000008940696716],[.7165062427520752,-1.2410253286361694,-.25000008940696716],[1.013292908668518,-1.013292908668518,-.25000008940696716],[1.2410253286361694,-.71650630235672,-.25000008940696716],[1.3841838836669922,-.37089094519615173,-.25000008940696716],[1.25,9.735358617035672e-7,-.4330127239227295],[1.207406997680664,.32352471351623535,-.4330127239227295],[1.0825313329696655,.6250007152557373,-.4330127239227295],[.8838829398155212,.883884072303772,-.4330127239227295],[.6249993443489075,1.0825321674346924,-.4330127239227295],[.3235231637954712,1.2074074745178223,-.4330127239227295],[-5.811403411826177e-7,1.25,-.4330127239227295],[-.3235242962837219,1.2074071168899536,-.4330127239227295],[-.6250003576278687,1.082531452178955,-.4330127239227295],[-.8838839530944824,.883882999420166,-.4330127239227295],[-1.0825320482254028,.624999463558197,-.4330127239227295],[-1.2074074745178223,.32352328300476074,-.4330127239227295],[-1.25,-4.867679308517836e-7,-.4330127239227295],[-1.2074072360992432,-.32352420687675476,-.4330127239227295],[-1.0825315713882446,-.6250002980232239,-.4330127239227295],[-.8838832378387451,-.8838837146759033,-.4330127239227295],[-.6249998211860657,-1.0825319290161133,-.4330127239227295],[-.3235236406326294,-1.2074073553085327,-.4330127239227295],[9.437237480369731e-8,-1.25,-.4330127239227295],[.3235238492488861,-1.2074072360992432,-.4330127239227295],[.6249999403953552,-1.0825318098068237,-.4330127239227295],[.8838834762573242,-.8838834762573242,-.4330127239227295],[1.0825316905975342,-.625,-.4330127239227295],[1.2074072360992432,-.3235238194465637,-.4330127239227295],[1,7.788287348375889e-7,-.5],[.9659256339073181,.2588197588920593,-.5],[.8660250902175903,.5000005960464478,-.5],[.707106351852417,.7071072459220886,-.5],[.4999994933605194,.8660256862640381,-.5],[.25881853699684143,.965925931930542,-.5],[-4.649122899991198e-7,1,-.5],[-.25881943106651306,.9659256935119629,-.5],[-.5000002980232239,.8660252094268799,-.5],[-.7071071863174438,.7071064114570618,-.5],[-.8660256266593933,.4999995827674866,-.5],[-.965925931930542,.2588186264038086,-.5],[-1,-3.8941436741879443e-7,-.5],[-.9659257531166077,-.2588193714618683,-.5],[-.8660252690315247,-.5000002384185791,-.5],[-.7071065902709961,-.7071069478988647,-.5],[-.49999985098838806,-.8660255074501038,-.5],[-.25881892442703247,-.9659258723258972,-.5],[7.549790126404332e-8,-1,-.5],[.2588190734386444,-.9659258127212524,-.5],[.4999999701976776,-.866025447845459,-.5],[.7071067690849304,-.7071067690849304,-.5],[.8660253882408142,-.5,-.5],[.9659258127212524,-.258819043636322,-.5],[.7500000596046448,5.841216079716105e-7,-.4330127239227295],[.7244442701339722,.1941148340702057,-.4330127239227295],[.6495188474655151,.3750004768371582,-.4330127239227295],[.5303298234939575,.53033047914505,-.4330127239227295],[.37499964237213135,.6495193243026733,-.4330127239227295],[.19411392509937286,.7244445085525513,-.4330127239227295],[-3.4868423881562194e-7,.7500000596046448,-.4330127239227295],[-.1941145956516266,.7244443297386169,-.4330127239227295],[-.3750002682209015,.6495189666748047,-.4330127239227295],[-.5303304195404053,.5303298234939575,-.4330127239227295],[-.6495192646980286,.3749997019767761,-.4330127239227295],[-.7244445085525513,.19411398470401764,-.4330127239227295],[-.7500000596046448,-2.9206080398580525e-7,-.4330127239227295],[-.7244443893432617,-.194114550948143,-.4330127239227295],[-.6495190262794495,-.3750002086162567,-.4330127239227295],[-.5303300023078918,-.530330240726471,-.4330127239227295],[-.37499991059303284,-.6495192050933838,-.4330127239227295],[-.19411420822143555,-.7244444489479065,-.4330127239227295],[5.662343127710301e-8,-.7500000596046448,-.4330127239227295],[.1941143274307251,-.7244443893432617,-.4330127239227295],[.375,-.649519145488739,-.4330127239227295],[.5303301215171814,-.5303301215171814,-.4330127239227295],[.6495190858840942,-.3750000298023224,-.4330127239227295],[.7244443893432617,-.1941142976284027,-.4330127239227295],[.5669873356819153,4.4158602463539864e-7,-.25000008940696716],[.5476676225662231,.14674752950668335,-.25000008940696716],[.49102526903152466,.2834939956665039,-.25000008940696716],[.4009203612804413,.4009208679199219,-.25000008940696716],[.28349336981773376,.4910255968570709,-.25000008940696716],[.14674682915210724,.5476677417755127,-.25000008940696716],[-2.6359938942732697e-7,.5669873356819153,-.25000008940696716],[-.14674733579158783,.5476676225662231,-.25000008940696716],[-.28349384665489197,.49102532863616943,-.25000008940696716],[-.4009208083152771,.40092039108276367,-.25000008940696716],[-.49102556705474854,.28349342942237854,-.25000008940696716],[-.5476677417755127,.14674688875675201,-.25000008940696716],[-.5669873356819153,-2.2079301231769932e-7,-.25000008940696716],[-.5476676821708679,-.14674730598926544,-.25000008940696716],[-.4910253584384918,-.2834938168525696,-.25000008940696716],[-.40092048048973083,-.40092068910598755,-.25000008940696716],[-.2834935784339905,-.49102550745010376,-.25000008940696716],[-.14674705266952515,-.5476677417755127,-.25000008940696716],[4.2806352240631895e-8,-.5669873356819153,-.25000008940696716],[.1467471420764923,-.5476676821708679,-.25000008940696716],[.28349363803863525,-.491025447845459,-.25000008940696716],[.400920569896698,-.400920569896698,-.25000008940696716],[.4910254180431366,-.28349366784095764,-.25000008940696716],[.5476676821708679,-.14674712717533112,-.25000008940696716],[.5,3.8941436741879443e-7,-1.5099580252808664e-7],[.48296281695365906,.12940987944602966,-1.5099580252808664e-7],[.43301254510879517,.2500002980232239,-1.5099580252808664e-7],[.3535531759262085,.3535536229610443,-1.5099580252808664e-7],[.2499997466802597,.43301284313201904,-1.5099580252808664e-7],[.12940926849842072,.482962965965271,-1.5099580252808664e-7],[-2.324561449995599e-7,.5,-1.5099580252808664e-7],[-.12940971553325653,.48296284675598145,-1.5099580252808664e-7],[-.25000014901161194,.43301260471343994,-1.5099580252808664e-7],[-.3535535931587219,.3535532057285309,-1.5099580252808664e-7],[-.43301281332969666,.2499997913837433,-1.5099580252808664e-7],[-.482962965965271,.1294093132019043,-1.5099580252808664e-7],[-.5,-1.9470718370939721e-7,-1.5099580252808664e-7],[-.48296287655830383,-.12940968573093414,-1.5099580252808664e-7],[-.43301263451576233,-.25000011920928955,-1.5099580252808664e-7],[-.35355329513549805,-.3535534739494324,-1.5099580252808664e-7],[-.24999992549419403,-.4330127537250519,-1.5099580252808664e-7],[-.12940946221351624,-.4829629361629486,-1.5099580252808664e-7],[3.774895063202166e-8,-.5,-1.5099580252808664e-7],[.1294095367193222,-.4829629063606262,-1.5099580252808664e-7],[.2499999850988388,-.4330127239227295,-1.5099580252808664e-7],[.3535533845424652,-.3535533845424652,-1.5099580252808664e-7],[.4330126941204071,-.25,-1.5099580252808664e-7],[.4829629063606262,-.129409521818161,-1.5099580252808664e-7],[.566987156867981,4.415858825268515e-7,.24999982118606567],[.5476674437522888,.14674748480319977,.24999982118606567],[.49102509021759033,.28349390625953674,.24999982118606567],[.40092021226882935,.40092071890830994,.24999982118606567],[.2834932804107666,.491025447845459,.24999982118606567],[.14674678444862366,.5476676225662231,.24999982118606567],[-2.635993041621987e-7,.566987156867981,.24999982118606567],[-.14674729108810425,.5476674437522888,.24999982118606567],[-.2834937572479248,.4910251796245575,.24999982118606567],[-.40092068910598755,.40092024207115173,.24999982118606567],[-.4910254180431366,.2834933400154114,.24999982118606567],[-.5476676225662231,.14674684405326843,.24999982118606567],[-.566987156867981,-2.2079294126342575e-7,.24999982118606567],[-.5476675033569336,-.14674726128578186,.24999982118606567],[-.4910252094268799,-.2834937274456024,.24999982118606567],[-.4009203612804413,-.400920569896698,.24999982118606567],[-.2834934890270233,-.49102532863616943,.24999982118606567],[-.14674700796604156,-.5476675629615784,.24999982118606567],[4.280634158249086e-8,-.566987156867981,.24999982118606567],[.14674709737300873,-.5476675033569336,.24999982118606567],[.2834935486316681,-.49102529883384705,.24999982118606567],[.40092045068740845,-.40092045068740845,.24999982118606567],[.49102526903152466,-.2834935784339905,.24999982118606567],[.5476675033569336,-.14674706757068634,.24999982118606567],[.7499997615814209,5.841213805979351e-7,.43301257491111755],[.7244439721107483,.19411475956439972,.43301257491111755],[.649518609046936,.37500032782554626,.43301257491111755],[.5303295850753784,.530330240726471,.43301257491111755],[.3749994933605194,.6495190858840942,.43301257491111755],[.1941138356924057,.7244442105293274,.43301257491111755],[-3.486840967070748e-7,.7499997615814209,.43301257491111755],[-.19411450624465942,.7244440317153931,.43301257491111755],[-.37500008940696716,.6495187282562256,.43301257491111755],[-.530330240726471,.5303296446800232,.43301257491111755],[-.6495190262794495,.3749995827674866,.43301257491111755],[-.7244442105293274,.19411391019821167,.43301257491111755],[-.7499997615814209,-2.9206069029896753e-7,.43301257491111755],[-.7244440913200378,-.19411446154117584,.43301257491111755],[-.6495187282562256,-.3750000596046448,.43301257491111755],[-.5303297638893127,-.5303300619125366,.43301257491111755],[-.3749997615814209,-.6495189070701599,.43301257491111755],[-.19411413371562958,-.7244441509246826,.43301257491111755],[5.662340640810726e-8,-.7499997615814209,.43301257491111755],[.19411423802375793,-.7244441509246826,.43301257491111755],[.37499985098838806,-.6495189070701599,.43301257491111755],[.5303298830986023,-.5303298830986023,.43301257491111755],[.6495188474655151,-.37499988079071045,.43301257491111755],[.7244441509246826,-.19411422312259674,.43301257491111755],[.9999997019767761,7.788285074639134e-7,.5],[.9659253358840942,.25881966948509216,.5],[.8660248517990112,.5000004172325134,.5],[.7071061134338379,.7071070075035095,.5],[.49999934434890747,.866025447845459,.5],[.25881844758987427,.9659256339073181,.5],[-4.6491214789057267e-7,.9999997019767761,.5],[-.2588193416595459,.965925395488739,.5],[-.5000001192092896,.8660249710083008,.5],[-.7071069478988647,.7071061730384827,.5],[-.8660253882408142,.49999943375587463,.5],[-.9659256339073181,.25881853699684143,.5],[-.9999997019767761,-3.894142537319567e-7,.5],[-.9659254550933838,-.2588192820549011,.5],[-.8660250306129456,-.5000000596046448,.5],[-.707106351852417,-.7071067094802856,.5],[-.4999997019767761,-.8660252690315247,.5],[-.2588188350200653,-.9659255743026733,.5],[7.549787994776125e-8,-.9999997019767761,.5],[.25881898403167725,-.9659255146980286,.5],[.4999998211860657,-.8660252094268799,.5],[.7071065306663513,-.7071065306663513,.5],[.8660251498222351,-.49999985098838806,.5],[.9659255146980286,-.25881895422935486,.5],[1.2499996423721313,9.735356343298918e-7,.43301287293434143],[1.2074066400527954,.3235245943069458,.43301287293434143],[1.0825310945510864,.625000536441803,.43301287293434143],[.8838827013969421,.8838838338851929,.43301287293434143],[.6249991655349731,1.0825318098068237,.43301287293434143],[.32352307438850403,1.2074071168899536,.43301287293434143],[-5.811401706523611e-7,1.2499996423721313,.43301287293434143],[-.32352420687675476,1.207406759262085,.43301287293434143],[-.6250001788139343,1.082531213760376,.43301287293434143],[-.8838837146759033,.8838827610015869,.43301287293434143],[-1.0825316905975342,.6249992847442627,.43301287293434143],[-1.2074071168899536,.3235231935977936,.43301287293434143],[-1.2499996423721313,-4.867678171649459e-7,.43301287293434143],[-1.2074068784713745,-.3235241174697876,.43301287293434143],[-1.0825313329696655,-.6250001192092896,.43301287293434143],[-.883882999420166,-.8838834166526794,.43301287293434143],[-.6249996423721313,-1.0825315713882446,.43301287293434143],[-.32352355122566223,-1.207406997680664,.43301287293434143],[9.437234638198788e-8,-1.2499996423721313,.43301287293434143],[.32352375984191895,-1.2074068784713745,.43301287293434143],[.6249997615814209,-1.082531452178955,.43301287293434143],[.8838832378387451,-.8838832378387451,.43301287293434143],[1.082531452178955,-.6249998211860657,.43301287293434143],[1.2074068784713745,-.32352370023727417,.43301287293434143],[1.4330124855041504,1116071302931232e-21,.25000035762786865],[1.3841835260391235,.3708919584751129,.25000035762786865],[1.0132921934127808,1.0132935047149658,.25000035762786865],[.7165055274963379,1.2410255670547485,.25000035762786865],[.37089020013809204,1.3841838836669922,.25000035762786865],[-6.662251053057844e-7,1.4330124855041504,.25000035762786865],[-.3708914816379547,1.3841835260391235,.25000035762786865],[-.7165066599845886,1.2410249710083008,.25000035762786865],[-1.0132933855056763,1.0132923126220703,.25000035762786865],[-1.2410255670547485,.7165056467056274,.25000035762786865],[-1.3841838836669922,.3708903193473816,.25000035762786865],[-1.4330124855041504,-5.58035651465616e-7,.25000035762786865],[-1.384183645248413,-.37089139223098755,.25000035762786865],[-1.2410249710083008,-.7165066003799438,.25000035762786865],[-1.0132925510406494,-1.0132930278778076,.25000035762786865],[-.7165060043334961,-1.2410253286361694,.25000035762786865],[-.370890736579895,-1.3841838836669922,.25000035762786865],[1.0818943252388635e-7,-1.4330124855041504,.25000035762786865],[.3708909749984741,-1.3841837644577026,.25000035762786865],[.7165061831474304,-1.2410253286361694,.25000035762786865],[1.0132927894592285,-1.0132927894592285,.25000035762786865],[1.2410252094268799,-.7165062427520752,.25000035762786865]]);return e.getGeom().addPolymesh([[0,1,25,24],[1,2,26,25],[2,3,27,26],[3,4,28,27],[4,5,29,28],[5,6,30,29],[6,7,31,30],[7,8,32,31],[8,9,33,32],[9,10,34,33],[10,11,35,34],[11,12,36,35],[12,13,37,36],[13,14,38,37],[14,15,39,38],[15,16,40,39],[16,17,41,40],[17,18,42,41],[18,19,43,42],[19,20,44,43],[20,21,45,44],[21,22,46,45],[22,23,47,46],[23,0,24,47],[24,25,49,48],[25,26,50,49],[26,27,51,50],[27,28,52,51],[28,29,53,52],[29,30,54,53],[30,31,55,54],[31,32,56,55],[32,33,57,56],[33,34,58,57],[34,35,59,58],[35,36,60,59],[36,37,61,60],[37,38,62,61],[38,39,63,62],[39,40,64,63],[40,41,65,64],[41,42,66,65],[42,43,67,66],[43,44,68,67],[44,45,69,68],[45,46,70,69],[46,47,71,70],[47,24,48,71],[48,49,73,72],[49,50,74,73],[50,51,75,74],[51,52,76,75],[52,53,77,76],[53,54,78,77],[54,55,79,78],[55,56,80,79],[56,57,81,80],[57,58,82,81],[58,59,83,82],[59,60,84,83],[60,61,85,84],[61,62,86,85],[62,63,87,86],[63,64,88,87],[64,65,89,88],[65,66,90,89],[66,67,91,90],[67,68,92,91],[68,69,93,92],[69,70,94,93],[70,71,95,94],[71,48,72,95],[72,73,97,96],[73,74,98,97],[74,75,99,98],[75,76,100,99],[76,77,101,100],[77,78,102,101],[78,79,103,102],[79,80,104,103],[80,81,105,104],[81,82,106,105],[82,83,107,106],[83,84,108,107],[84,85,109,108],[85,86,110,109],[86,87,111,110],[87,88,112,111],[88,89,113,112],[89,90,114,113],[90,91,115,114],[91,92,116,115],[92,93,117,116],[93,94,118,117],[94,95,119,118],[95,72,96,119],[96,97,121,120],[97,98,122,121],[98,99,123,122],[99,100,124,123],[100,101,125,124],[101,102,126,125],[102,103,127,126],[103,104,128,127],[104,105,129,128],[105,106,130,129],[106,107,131,130],[107,108,132,131],[108,109,133,132],[109,110,134,133],[110,111,135,134],[111,112,136,135],[112,113,137,136],[113,114,138,137],[114,115,139,138],[115,116,140,139],[116,117,141,140],[117,118,142,141],[118,119,143,142],[119,96,120,143],[120,121,145,144],[121,122,146,145],[122,123,147,146],[123,124,148,147],[124,125,149,148],[125,126,150,149],[126,127,151,150],[127,128,152,151],[128,129,153,152],[129,130,154,153],[130,131,155,154],[131,132,156,155],[132,133,157,156],[133,134,158,157],[134,135,159,158],[135,136,160,159],[136,137,161,160],[137,138,162,161],[138,139,163,162],[139,140,164,163],[140,141,165,164],[141,142,166,165],[142,143,167,166],[143,120,144,167],[144,145,169,168],[145,146,170,169],[146,147,171,170],[147,148,172,171],[148,149,173,172],[149,150,174,173],[150,151,175,174],[151,152,176,175],[152,153,177,176],[153,154,178,177],[154,155,179,178],[155,156,180,179],[156,157,181,180],[157,158,182,181],[158,159,183,182],[159,160,184,183],[160,161,185,184],[161,162,186,185],[162,163,187,186],[163,164,188,187],[164,165,189,188],[165,166,190,189],[166,167,191,190],[167,144,168,191],[168,169,193,192],[169,170,194,193],[170,171,195,194],[171,172,196,195],[172,173,197,196],[173,174,198,197],[174,175,199,198],[175,176,200,199],[176,177,201,200],[177,178,202,201],[178,179,203,202],[179,180,204,203],[180,181,205,204],[181,182,206,205],[182,183,207,206],[183,184,208,207],[184,185,209,208],[185,186,210,209],[186,187,211,210],[187,188,212,211],[188,189,213,212],[189,190,214,213],[190,191,215,214],[191,168,192,215],[192,193,217,216],[193,194,218,217],[194,195,219,218],[195,196,220,219],[196,197,221,220],[197,198,222,221],[198,199,223,222],[199,200,224,223],[200,201,225,224],[201,202,226,225],[202,203,227,226],[203,204,228,227],[204,205,229,228],[205,206,230,229],[206,207,231,230],[207,208,232,231],[208,209,233,232],[209,210,234,233],[210,211,235,234],[211,212,236,235],[212,213,237,236],[213,214,238,237],[214,215,239,238],[215,192,216,239],[216,217,241,240],[217,218,242,241],[218,219,243,242],[219,220,244,243],[220,221,245,244],[221,222,246,245],[222,223,247,246],[223,224,248,247],[224,225,249,248],[225,226,250,249],[226,227,251,250],[227,228,252,251],[228,229,253,252],[229,230,254,253],[230,231,255,254],[231,232,256,255],[232,233,257,256],[233,234,258,257],[234,235,259,258],[235,236,260,259],[236,237,261,260],[237,238,262,261],[238,239,263,262],[239,216,240,263],[240,241,265,264],[243,244,267,266],[244,245,268,267],[245,246,269,268],[246,247,270,269],[247,248,271,270],[248,249,272,271],[249,250,273,272],[250,251,274,273],[251,252,275,274],[252,253,276,275],[253,254,277,276],[254,255,278,277],[255,256,279,278],[256,257,280,279],[257,258,281,280],[258,259,282,281],[259,260,283,282],[260,261,284,283],[261,262,285,284],[264,265,1,0],[266,267,4,3],[267,268,5,4],[268,269,6,5],[269,270,7,6],[270,271,8,7],[271,272,9,8],[272,273,10,9],[273,274,11,10],[274,275,12,11],[275,276,13,12],[276,277,14,13],[277,278,15,14],[278,279,16,15],[279,280,17,16],[280,281,18,17],[281,282,19,18],[282,283,20,19],[283,284,21,20],[284,285,22,21]].map((e,n)=>e.map((e,n)=>t[e]))),e}t.h=r,t.l=s,t.k=o,t.f=a,t.a=l,t.e=c,t.b=u,t.c=h,t.d=d,t.o=p,t.g=m,t.j=f,t.m=g,t.i=v,t.n=y;var b=n("Z6sF"),_=n("z1aO");n.n(_);n.c[n.s]===e&&(i(r(),"model_empty.gs"),i(s(),"model_points.gs"),i(o(),"model_open_polyline.gs"),i(a(),"model_closed_polyline.gs"),i(l(),"model_box.gs"),i(c(),"model_box_with_attribs.gs"),i(u(),"model_box_open1.gs"),i(h(),"model_box_open2.gs"),i(d(),"model_box_open2_disjoint.gs"),i(p(),"model_two_boxes.gs"),i(m(),"model_difficult_polymesh.gs"),i(f(),"model_invalid_polymesh.gs"),i(g(),"model_polylines_boxes.gs"),i(v(),"model_grid.gs"),i(y(),"model_torus.gs"))}).call(t,n("qhgb")(e))},cv3d:function(e,t,n){"use strict";t.a=function(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(s.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof i.a?e[0]:Object(o.a)(t)(new r.a(e,n))};var i=n("05/P"),r=n("sngF"),s=n("oZkc"),o=n("G3Tt")},dGSd:function(e,t,n){"use strict";function i(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._15(1,0,null,null,2,"div",[["class","node-drop-slot"]],null,[[null,"treeDrop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"],[null,"drop"]],function(e,t,n){var i=!0,r=e.component;if("dragover"===t){i=!1!==L._29(e,2).onDragOver(n)&&i}if("dragenter"===t){i=!1!==L._29(e,2).onDragEnter(n)&&i}if("dragleave"===t){i=!1!==L._29(e,2).onDragLeave(n)&&i}if("drop"===t){i=!1!==L._29(e,2).onDrop(n)&&i}if("treeDrop"===t){i=!1!==r.onDrop(n)&&i}return i},null,null)),L._14(2,16384,null,0,P.a,[L.o,L.L,O.a],{treeAllowDrop:[0,"treeAllowDrop"]},{onDropCallback:"treeDrop"}),(e()(),L._36(-1,null,["\n    "])),(e()(),L._36(-1,null,["\n  "]))],function(e,t){var n=t.component;e(t,2,0,n.allowDrop.bind(n))},null)}function r(e){return L._38(0,[(e()(),L._15(0,0,null,null,3,"span",[["class","toggle-children-wrapper"]],[[2,"toggle-children-wrapper-expanded",null],[2,"toggle-children-wrapper-collapsed",null]],[[null,"click"]],function(e,t,n){var i=!0,r=e.component;if("click"===t){i=!1!==r.node.mouseAction("expanderClick",n)&&i}return i},null,null)),(e()(),L._36(-1,null,["\n\n        "])),(e()(),L._15(2,0,null,null,0,"span",[["class","toggle-children"]],null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "]))],null,function(e,t){var n=t.component;e(t,0,0,n.node.isExpanded,n.node.isCollapsed)})}function s(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"span",[["class","toggle-children-placeholder"]],null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "]))],null,null)}function o(e){return L._38(0,[(e()(),L._15(0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "])),(e()(),L._10(16777216,null,null,1,null,r)),L._14(3,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n      "])),(e()(),L._10(16777216,null,null,1,null,s)),L._14(6,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,3,0,n.node.hasChildren);e(t,6,0,!n.node.hasChildren)},null)}function a(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._10(16777216,null,null,2,null,o)),L._14(2,212992,null,0,N.a,[L.T,L.Y,L.L],{mobxAutorun:[0,"mobxAutorun"]},null),L._31(3,{dontDetach:0}),(e()(),L._36(-1,null,["\n  "]))],function(e,t){e(t,2,0,e(t,3,0,!0))},null)}function l(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),L._36(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.node.displayField)})}function c(e){return L._38(0,[(e()(),L._36(-1,null,["\n  "])),(e()(),L._10(16777216,null,null,1,null,l)),L._14(2,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n  "])),(e()(),L._15(4,16777216,null,null,3,null,null,null,null,null,null,null)),L._14(5,540672,null,0,I.k,[L.Y],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),L._31(6,{$implicit:0,node:1,index:2}),(e()(),L._36(-1,null,["\n  "]))],function(e,t){var n=t.component;e(t,2,0,!n.template);e(t,5,0,e(t,6,0,n.node,n.node,n.index),n.template)},null)}function u(e){return L._38(0,[(e()(),L._15(0,0,null,null,13,"div",[["class","node-wrapper"]],[[4,"padding-left",null]],null,null,null,null)),(e()(),L._36(-1,null,["\n        "])),(e()(),L._15(2,0,null,null,1,"tree-node-expander",[],null,null,null,a,j)),L._14(3,49152,null,0,B.a,[],{node:[0,"node"]},null),(e()(),L._36(-1,null,["\n        "])),(e()(),L._15(5,0,null,null,7,"div",[["class","node-content-wrapper"]],[[2,"node-content-wrapper-active",null],[2,"node-content-wrapper-focused",null]],[[null,"click"],[null,"dblclick"],[null,"contextmenu"],[null,"treeDrop"],[null,"treeDropDragOver"],[null,"treeDropDragLeave"],[null,"treeDropDragEnter"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"],[null,"drop"],[null,"dragstart"],[null,"drag"],[null,"dragend"]],function(e,t,n){var i=!0,r=e.component;if("dragover"===t){i=!1!==L._29(e,6).onDragOver(n)&&i}if("dragenter"===t){i=!1!==L._29(e,6).onDragEnter(n)&&i}if("dragleave"===t){i=!1!==L._29(e,6).onDragLeave(n)&&i}if("drop"===t){i=!1!==L._29(e,6).onDrop(n)&&i}if("dragstart"===t){i=!1!==L._29(e,7).onDragStart(n)&&i}if("drag"===t){i=!1!==L._29(e,7).onDrag(n)&&i}if("dragend"===t){i=!1!==L._29(e,7).onDragEnd()&&i}if("click"===t){i=!1!==r.node.mouseAction("click",n)&&i}if("dblclick"===t){i=!1!==r.node.mouseAction("dblClick",n)&&i}if("contextmenu"===t){i=!1!==r.node.mouseAction("contextMenu",n)&&i}if("treeDrop"===t){i=!1!==r.node.onDrop(n)&&i}if("treeDropDragOver"===t){i=!1!==r.node.mouseAction("dragOver",n)&&i}if("treeDropDragLeave"===t){i=!1!==r.node.mouseAction("dragLeave",n)&&i}if("treeDropDragEnter"===t){i=!1!==r.node.mouseAction("dragEnter",n)&&i}return i},null,null)),L._14(6,16384,null,0,P.a,[L.o,L.L,O.a],{treeAllowDrop:[0,"treeAllowDrop"]},{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}),L._14(7,278528,null,0,z.a,[L.o,L.L,O.a],{draggedElement:[0,"draggedElement"],treeDragEnabled:[1,"treeDragEnabled"]},null),(e()(),L._36(-1,null,["\n\n          "])),(e()(),L._15(9,0,null,null,2,"tree-node-content",[],null,null,null,c,V)),L._14(10,49152,null,0,U.a,[],{node:[0,"node"],index:[1,"index"],template:[2,"template"]},null),(e()(),L._36(-1,null,["\n          "])),(e()(),L._36(-1,null,["\n        "])),(e()(),L._36(-1,null,["\n      "]))],function(e,t){var n=t.component;e(t,3,0,n.node);e(t,6,0,n.node.allowDrop);e(t,7,0,n.node,n.node.allowDrag());e(t,10,0,n.node,n.index,n.templates.treeNodeTemplate)},function(e,t){var n=t.component;e(t,0,0,n.node.getNodePadding());e(t,5,0,n.node.isActive,n.node.isFocused)})}function h(e){return L._38(0,[(e()(),L._36(-1,null,["\n      "])),(e()(),L._10(16777216,null,null,1,null,u)),L._14(2,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n      "])),(e()(),L._15(4,16777216,null,null,3,null,null,null,null,null,null,null)),L._14(5,540672,null,0,I.k,[L.Y],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),L._31(6,{$implicit:0,node:1,index:2,templates:3}),(e()(),L._36(-1,null,["\n      "])),(e()(),L._36(-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,2,0,!n.templates.treeNodeWrapperTemplate);e(t,5,0,e(t,6,0,n.node,n.node,n.index,n.templates),n.templates.treeNodeWrapperTemplate)},null)}function d(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),L._36(-1,null,["loading..."]))],null,null)}function p(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._10(16777216,null,null,1,null,d)),L._14(2,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n    "])),(e()(),L._15(4,16777216,null,null,3,null,null,null,null,null,null,null)),L._14(5,540672,null,0,I.k,[L.Y],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),L._31(6,{$implicit:0}),(e()(),L._36(-1,null,["\n    "])),(e()(),L._36(-1,null,["\n  "]))],function(e,t){var n=t.component;e(t,2,0,!n.template);e(t,5,0,e(t,6,0,n.node),n.template)},null)}function m(e){return L._38(0,[(e()(),L._15(0,0,null,null,2,"tree-node-collection",[],null,null,null,S,Q)),L._14(1,245760,null,0,W.a,[],{nodes:[0,"nodes"],treeModel:[1,"treeModel"],templates:[2,"templates"]},null),(e()(),L._36(-1,null,["\n        "]))],function(e,t){var n=t.component;e(t,1,0,n.node.children,n.node.treeModel,n.templates)},null)}function f(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-loading-component",[["class","tree-node-loading"]],[[4,"padding-left",null]],null,null,p,q)),L._14(1,49152,null,0,$.a,[],{template:[0,"template"],node:[1,"node"]},null)],function(e,t){var n=t.component;e(t,1,0,n.templates.loadingTemplate,n.node)},function(e,t){e(t,0,0,t.component.node.getNodePadding())})}function g(e){return L._38(0,[(e()(),L._15(0,0,null,null,7,"div",[],[[2,"tree-children",null],[2,"tree-children-no-padding",null]],null,null,null,null)),(e()(),L._36(-1,null,["\n        "])),(e()(),L._10(16777216,null,null,1,null,m)),L._14(3,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n        "])),(e()(),L._10(16777216,null,null,1,null,f)),L._14(6,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n      "]))],function(e,t){var n=t.component;e(t,3,0,n.node.children);e(t,6,0,!n.node.children)},function(e,t){e(t,0,0,!0,t.component.node.options.levelPadding)})}function v(e){return L._38(0,[(e()(),L._15(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "])),(e()(),L._10(16777216,null,null,1,null,g)),L._14(3,16384,null,0,X.a,[L.L,L.T,L.Y],{animateSpeed:[0,"animateSpeed"],animateAcceleration:[1,"animateAcceleration"],isEnabled:[2,"isEnabled"],isOpen:[3,"isOpen"]},null),(e()(),L._36(-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,3,0,n.node.options.animateExpand,n.node.options.animateAcceleration,n.node.options.animateExpand,n.node.isExpanded)},null)}function y(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._10(16777216,null,null,2,null,v)),L._14(2,212992,null,0,N.a,[L.T,L.Y,L.L],{mobxAutorun:[0,"mobxAutorun"]},null),L._31(3,{dontDetach:0}),(e()(),L._36(-1,null,["\n  "]))],function(e,t){e(t,2,0,e(t,3,0,!0))},null)}function b(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-node-drop-slot",[],null,null,null,i,F)),L._14(1,49152,null,0,D.a,[],{node:[0,"node"],dropIndex:[1,"dropIndex"]},null)],function(e,t){var n=t.component;e(t,1,0,n.node.parent,n.node.index)},null)}function _(e){return L._38(0,[(e()(),L._15(0,0,null,null,13,"div",[],[[8,"className",0],[2,"tree-node",null],[2,"tree-node-expanded",null],[2,"tree-node-collapsed",null],[2,"tree-node-leaf",null],[2,"tree-node-active",null],[2,"tree-node-focused",null]],null,null,null,null)),(e()(),L._36(-1,null,["\n\n        "])),(e()(),L._10(16777216,null,null,1,null,b)),L._14(3,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n\n        "])),(e()(),L._15(5,0,null,null,1,"tree-node-wrapper",[],null,null,null,h,H)),L._14(6,49152,null,0,G.a,[],{node:[0,"node"],index:[1,"index"],templates:[2,"templates"]},null),(e()(),L._36(-1,null,["\n\n        "])),(e()(),L._15(8,0,null,null,1,"tree-node-children",[],null,null,null,y,K)),L._14(9,49152,null,0,Y.a,[],{node:[0,"node"],templates:[1,"templates"]},null),(e()(),L._36(-1,null,["\n        "])),(e()(),L._15(11,0,null,null,1,"tree-node-drop-slot",[],null,null,null,i,F)),L._14(12,49152,null,0,D.a,[],{node:[0,"node"],dropIndex:[1,"dropIndex"]},null),(e()(),L._36(-1,null,["\n      "]))],function(e,t){var n=t.component;e(t,3,0,0===n.index);e(t,6,0,n.node,n.index,n.templates);e(t,9,0,n.node,n.templates);e(t,12,0,n.node.parent,n.node.index+1)},function(e,t){var n=t.component;e(t,0,0,n.node.getClass(),!0,n.node.isExpanded&&n.node.hasChildren,n.node.isCollapsed&&n.node.hasChildren,n.node.isLeaf,n.node.isActive,n.node.isFocused)})}function x(e){return L._38(0,[(e()(),L._15(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "])),(e()(),L._10(16777216,null,null,1,null,_)),L._14(3,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n      "])),(e()(),L._15(5,16777216,null,null,3,null,null,null,null,null,null,null)),L._14(6,540672,null,0,I.k,[L.Y],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),L._31(7,{$implicit:0,node:1,index:2,templates:3}),(e()(),L._36(-1,null,["\n      "])),(e()(),L._36(-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,3,0,!n.templates.treeNodeFullTemplate);e(t,6,0,e(t,7,0,n.node,n.node,n.index,n.templates),n.templates.treeNodeFullTemplate)},null)}function w(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._10(16777216,null,null,2,null,x)),L._14(2,212992,null,0,N.a,[L.T,L.Y,L.L],{mobxAutorun:[0,"mobxAutorun"]},null),L._31(3,{dontDetach:0})],function(e,t){e(t,2,0,e(t,3,0,!0))},null)}function E(e){return L._38(0,[(e()(),L._15(0,0,null,null,2,"tree-node",[],null,null,null,w,J)),L._14(1,49152,null,0,Z.a,[],{node:[0,"node"],index:[1,"index"],templates:[2,"templates"]},null),(e()(),L._36(-1,null,["\n        "]))],function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,t.context.index,n.templates)},null)}function T(e){return L._38(0,[(e()(),L._15(0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "])),(e()(),L._15(2,0,null,null,4,"div",[],[[4,"margin-top",null]],null,null,null,null)),(e()(),L._36(-1,null,["\n        "])),(e()(),L._10(16777216,null,null,1,null,E)),L._14(5,802816,null,0,I.f,[L.Y,L.T,L.z],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),L._36(-1,null,["\n      "])),(e()(),L._36(-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,5,0,n.viewportNodes,n.trackNode)},function(e,t){e(t,2,0,t.component.marginTop)})}function S(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._10(16777216,null,null,2,null,T)),L._14(2,212992,null,0,N.a,[L.T,L.Y,L.L],{mobxAutorun:[0,"mobxAutorun"]},null),L._31(3,{dontDetach:0}),(e()(),L._36(-1,null,["\n  "]))],function(e,t){e(t,2,0,e(t,3,0,!0))},null)}function k(e){return L._38(0,[(e()(),L._15(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),L._36(-1,null,["\n      "])),(e()(),L._15(2,0,null,null,3,"div",[],[[4,"height",null]],null,null,null,null)),(e()(),L._36(-1,null,["\n        "])),L._28(null,0),(e()(),L._36(-1,null,["\n      "])),(e()(),L._36(-1,null,["\n    "]))],null,function(e,t){e(t,2,0,t.component.getTotalHeight())})}function A(e){return L._38(0,[(e()(),L._36(-1,null,["\n    "])),(e()(),L._10(16777216,null,null,2,null,k)),L._14(2,212992,null,0,N.a,[L.T,L.Y,L.L],{mobxAutorun:[0,"mobxAutorun"]},null),L._31(3,{dontDetach:0}),(e()(),L._36(-1,null,["\n  "]))],function(e,t){e(t,2,0,e(t,3,0,!0))},null)}function C(e){return L._38(0,[(e()(),L._15(0,0,null,null,3,"tree-node-collection",[],null,null,null,S,Q)),L._14(1,245760,null,0,W.a,[],{nodes:[0,"nodes"],treeModel:[1,"treeModel"],templates:[2,"templates"]},null),L._31(2,{loadingTemplate:0,treeNodeTemplate:1,treeNodeWrapperTemplate:2,treeNodeFullTemplate:3}),(e()(),L._36(-1,null,["\n        "]))],function(e,t){var n=t.component;e(t,1,0,n.treeModel.roots,n.treeModel,e(t,2,0,n.loadingTemplate,n.treeNodeTemplate,n.treeNodeWrapperTemplate,n.treeNodeFullTemplate))},null)}function M(e){return L._38(0,[(e()(),L._15(0,0,null,null,2,"tree-node-drop-slot",[["class","empty-tree-drop-slot"]],null,null,null,i,F)),L._14(1,49152,null,0,D.a,[],{node:[0,"node"],dropIndex:[1,"dropIndex"]},null),(e()(),L._36(-1,null,["\n        "]))],function(e,t){e(t,1,0,t.component.treeModel.virtualRoot,0)},null)}function R(e){return L._38(0,[L._34(402653184,1,{viewportComponent:0}),(e()(),L._36(-1,null,["\n    "])),(e()(),L._15(2,0,null,null,12,"tree-viewport",[],null,[[null,"scroll"]],function(e,t,n){var i=!0;if("scroll"===t){i=!1!==L._29(e,4).onScroll(n)&&i}return i},A,ie)),L._33(512,null,ee.a,ee.a,[te.a]),L._14(4,4440064,[[1,4],["viewport",4]],0,ne.a,[L.o,ee.a],null,null),(e()(),L._36(-1,0,["\n      "])),(e()(),L._15(6,0,null,0,7,"div",[["class","angular-tree-component"]],[[2,"node-dragging",null],[2,"angular-tree-component-rtl",null]],null,null,null,null)),(e()(),L._36(-1,null,["\n        "])),(e()(),L._10(16777216,null,null,1,null,C)),L._14(9,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n        "])),(e()(),L._10(16777216,null,null,1,null,M)),L._14(12,16384,null,0,I.g,[L.Y,L.T],{ngIf:[0,"ngIf"]},null),(e()(),L._36(-1,null,["\n      "])),(e()(),L._36(-1,0,["\n    "])),(e()(),L._36(-1,null,["\n  "]))],function(e,t){var n=t.component;e(t,4,0);e(t,9,0,n.treeModel.roots);e(t,12,0,n.treeModel.isEmptyTree())},function(e,t){var n=t.component;e(t,6,0,n.treeDraggedElement.isDragging(),n.treeModel.options.rtl)})}var L=n("1GK5"),P=n("rmua"),O=n("Yali"),D=n("xGT6"),F=L._13({encapsulation:2,styles:[],data:{}}),I=(L._11("TreeNodeDropSlot, tree-node-drop-slot",D.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"TreeNodeDropSlot",[],null,null,null,i,F)),L._14(1,49152,null,0,D.a,[],null,null)],null,null)},{node:"node",dropIndex:"dropIndex"},{},[]),n("AdGS")),N=n("8+46"),B=n("0hEB"),j=L._13({encapsulation:2,styles:[],data:{}}),z=(L._11("TreeNodeExpander, tree-node-expander",B.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"TreeNodeExpander",[],null,null,null,a,j)),L._14(1,49152,null,0,B.a,[],null,null)],null,null)},{node:"node"},{},[]),n("f5Vd")),U=n("GOGn"),V=L._13({encapsulation:2,styles:[],data:{}}),G=(L._11("tree-node-content",U.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-node-content",[],null,null,null,c,V)),L._14(1,49152,null,0,U.a,[],null,null)],null,null)},{node:"node",index:"index",template:"template"},{},[]),n("eyVo")),H=L._13({encapsulation:2,styles:[],data:{}}),W=(L._11("tree-node-wrapper",G.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-node-wrapper",[],null,null,null,h,H)),L._14(1,49152,null,0,G.a,[],null,null)],null,null)},{node:"node",index:"index",templates:"templates"},{},[]),n("/OwU")),$=n("bf6J"),q=L._13({encapsulation:2,styles:[],data:{}}),X=(L._11("tree-loading-component",$.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-loading-component",[],null,null,null,p,q)),L._14(1,49152,null,0,$.a,[],null,null)],null,null)},{template:"template",node:"node"},{},[]),n("NV2o")),Y=n("scoq"),K=L._13({encapsulation:2,styles:[],data:{}}),Z=(L._11("tree-node-children",Y.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-node-children",[],null,null,null,y,K)),L._14(1,49152,null,0,Y.a,[],null,null)],null,null)},{node:"node",templates:"templates"},{},[]),n("RkpI")),J=L._13({encapsulation:2,styles:[],data:{}}),Q=(L._11("TreeNode, tree-node",Z.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"TreeNode",[],null,null,null,w,J)),L._14(1,49152,null,0,Z.a,[],null,null)],null,null)},{node:"node",index:"index",templates:"templates"},{},[]),L._13({encapsulation:2,styles:[],data:{}})),ee=(L._11("tree-node-collection",W.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,1,"tree-node-collection",[],null,null,null,S,Q)),L._14(1,245760,null,0,W.a,[],null,null)],function(e,t){e(t,1,0)},null)},{nodes:"nodes",treeModel:"treeModel",templates:"templates"},{},[]),n("fM0E")),te=n("caAJ"),ne=n("R02D"),ie=L._13({encapsulation:2,styles:[],data:{}}),re=(L._11("tree-viewport",ne.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,2,"tree-viewport",[],null,[[null,"scroll"]],function(e,t,n){var i=!0;return"scroll"===t&&(i=!1!==L._29(e,2).onScroll(n)&&i),i},A,ie)),L._33(512,null,ee.a,ee.a,[te.a]),L._14(2,4440064,null,0,ne.a,[L.o,ee.a],null,null)],function(e,t){e(t,2,0)},null)},{},{},["*"]),n("zvsF"));n.d(t,"a",function(){return se}),t.b=R;var se=L._13({encapsulation:2,styles:[],data:{}});L._11("Tree, tree-root",re.a,function(e){return L._38(0,[(e()(),L._15(0,0,null,null,6,"Tree",[],null,[["body","keydown"],["body","mousedown"]],function(e,t,n){var i=!0;return"body:keydown"===t&&(i=!1!==L._29(e,2).onKeydown(n)&&i),"body:mousedown"===t&&(i=!1!==L._29(e,2).onMousedown(n)&&i),i},R,se)),L._33(512,null,te.a,te.a,[]),L._14(2,573440,null,4,re.a,[te.a,O.a,L.L],null,null),L._34(335544320,1,{loadingTemplate:0}),L._34(335544320,2,{treeNodeTemplate:0}),L._34(335544320,3,{treeNodeWrapperTemplate:0}),L._34(335544320,4,{treeNodeFullTemplate:0})],null,null)},{nodes:"nodes",options:"options",focused:"focused",state:"state"},{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},[])},"eQ+q":function(e,t,n){"use strict";const i=n("sngF").a.of;t.a=i},ee21:function(e,t,n){"use strict";(function(e){function t(e,t){return r.writeFile("./src/assets/three/"+t,JSON.stringify(e,null,4),e=>{if(e)return console.log("Error writing file: "+t),console.error(e),!1;console.log("File has been created: "+t)}),!0}var i=n("7TGV"),r=n("z1aO");n.n(r);n.c[n.s]===e&&(t(i.t(i.l()),"model_empty.json"),t(i.t(i.p()),"model_points.json"),t(i.t(i.o()),"model_open_polyline.json"),t(i.t(i.j()),"model_closed_polyline.json"),t(i.t(i.e()),"model_box.json"),t(i.t(i.i()),"model_box_with_attribs.json"),t(i.t(i.f()),"model_box_open1.json"),t(i.t(i.g()),"model_box_open2.json"),t(i.t(i.h()),"model_box_open2_disjoint.json"),t(i.t(i.s()),"model_two_boxes.json"),t(i.t(i.k()),"model_difficult_polymesh.json"),t(i.t(i.n()),"model_invalid_polymesh.json"),t(i.t(i.q()),"model_polylines_boxes.json"),t(i.t(i.m()),"model_grid.json"),t(i.t(i.r()),"model_torus.json"))}).call(t,n("qhgb")(e))},eyVo:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.decorators=[{type:i.j,args:[{selector:"tree-node-wrapper",encapsulation:i.Z.None,styles:[],template:'\n      <div *ngIf="!templates.treeNodeWrapperTemplate" class="node-wrapper" [style.padding-left]="node.getNodePadding()">\n        <tree-node-expander [node]="node"></tree-node-expander>\n        <div class="node-content-wrapper"\n          [class.node-content-wrapper-active]="node.isActive"\n          [class.node-content-wrapper-focused]="node.isFocused"\n          (click)="node.mouseAction(\'click\', $event)"\n          (dblclick)="node.mouseAction(\'dblClick\', $event)"\n          (contextmenu)="node.mouseAction(\'contextMenu\', $event)"\n          (treeDrop)="node.onDrop($event)"\n          (treeDropDragOver)="node.mouseAction(\'dragOver\', $event)"\n          (treeDropDragLeave)="node.mouseAction(\'dragLeave\', $event)"\n          (treeDropDragEnter)="node.mouseAction(\'dragEnter\', $event)"\n          [treeAllowDrop]="node.allowDrop"\n          [treeDrag]="node"\n          [treeDragEnabled]="node.allowDrag()">\n\n          <tree-node-content [node]="node" [index]="index" [template]="templates.treeNodeTemplate">\n          </tree-node-content>\n        </div>\n      </div>\n      <ng-container \n        [ngTemplateOutlet]="templates.treeNodeWrapperTemplate" \n        [ngTemplateOutletContext]="{ $implicit: node, node: node, index: index, templates: templates }">\n      </ng-container>\n    '}]}],e.ctorParameters=function(){return[]},e.propDecorators={node:[{type:i.y}],index:[{type:i.y}],templates:[{type:i.y}]},e}()},f5Vd:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("1GK5"),r=n("Yali"),s=function(){function e(e,t,n){this.el=e,this.renderer=t,this.treeDraggedElement=n}return e.prototype.ngDoCheck=function(){this.renderer.setElementAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")},e.prototype.onDragStart=function(e){e.dataTransfer.setData("text",e.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",e)},e.prototype.onDrag=function(e){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",e)},e.prototype.onDragEnd=function(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)},e.decorators=[{type:i.n,args:[{selector:"[treeDrag]"}]}],e.ctorParameters=function(){return[{type:i.o},{type:i.L},{type:r.a}]},e.propDecorators={draggedElement:[{type:i.y,args:["treeDrag"]}],treeDragEnabled:[{type:i.y}],onDragStart:[{type:i.t,args:["dragstart",["$event"]]}],onDrag:[{type:i.t,args:["drag",["$event"]]}],onDragEnd:[{type:i.t,args:["dragend"]}]},e}()},fM0E:function(e,t,n){"use strict";function i(e,t,n){void 0===n&&(n=0);for(var i=n,r=e.length-1;i!==r;){var s=Math.floor((i+r)/2);t(e[s])?r=s:i=i===s?r:s}return i}n.d(t,"a",function(){return u});var r=n("1GK5"),s=n("O+ca"),o=n("caAJ"),a=n("Lv9R"),l=this&&this.__decorate||function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e){var t=this;this.treeModel=e,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,e.virtualScroll=this,this._dispose=[Object(s.b)(function(){return t.fixScroll()})]}return Object.defineProperty(e.prototype,"y",{get:function(){return 50*this.yBlocks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalHeight",{get:function(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0},enumerable:!0,configurable:!0}),e.prototype.fireEvent=function(e){this.treeModel.fireEvent(e)},e.prototype.init=function(){var e=this,t=this.recalcPositions.bind(this);t(),this._dispose=this._dispose.concat([Object(s.h)(function(){return e.treeModel.roots},t),Object(s.h)(function(){return e.treeModel.expandedNodeIds},t),Object(s.h)(function(){return e.treeModel.hiddenNodeIds},t)]),this.treeModel.subscribe(a.a.loadNodeChildren,t)},e.prototype.isEnabled=function(){return this.treeModel.options.useVirtualScroll},e.prototype._setYBlocks=function(e){this.yBlocks=e},e.prototype.recalcPositions=function(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)},e.prototype._getPositionAfter=function(e,t){var n=this,i=t;return e.forEach(function(e){e.position=i,i=n._getPositionAfterNode(e,i)}),i},e.prototype._getPositionAfterNode=function(e,t){var n=e.getSelfHeight()+t;return e.children&&e.isExpanded&&(n=this._getPositionAfter(e.visibleChildren,n)),e.height=n-t,n},e.prototype.clear=function(){this._dispose.forEach(function(e){return e()})},e.prototype.setViewport=function(e){Object.assign(this,{viewport:e,x:e.scrollLeft,yBlocks:Math.round(e.scrollTop/50),viewportHeight:e.getBoundingClientRect?e.getBoundingClientRect().height:0})},e.prototype.scrollIntoView=function(e,t,n){void 0===n&&(n=!0),(t||e.position<this.y||e.position+e.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=n?e.position-this.viewportHeight/2:e.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/50)))},e.prototype.getViewportNodes=function(e){var t=this;if(!e)return[];var n=e.filter(function(e){return!e.isHidden});if(!this.isEnabled())return n;if(!this.viewportHeight||!n.length)return[];for(var r=i(n,function(e){return e.position+300>t.y||e.position+e.height>t.y}),s=i(n,function(e){return e.position-300>t.y+t.viewportHeight},r),o=[],a=r;a<=s;a++)o.push(n[a]);return o},e.prototype.fixScroll=function(){var e=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>e&&this._setYBlocks(e/50)},e.decorators=[{type:r.v}],e.ctorParameters=function(){return[{type:o.a}]},l([s.g,c("design:type",Object)],e.prototype,"yBlocks",void 0),l([s.g,c("design:type",Object)],e.prototype,"x",void 0),l([s.g,c("design:type",Object)],e.prototype,"viewportHeight",void 0),l([s.c,c("design:type",Object),c("design:paramtypes",[])],e.prototype,"y",null),l([s.c,c("design:type",Object),c("design:paramtypes",[])],e.prototype,"totalHeight",null),l([s.a,c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"_setYBlocks",null),l([s.a,c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],e.prototype,"recalcPositions",null),l([s.a,c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"setViewport",null),l([s.a,c("design:type",Function),c("design:paramtypes",[Object,Object,Object]),c("design:returntype",void 0)],e.prototype,"scrollIntoView",null),e}()},fRUx:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},g2hh:function(e,t,n){"use strict";var i=n("05/P");class r extends i.a{constructor(e,t){super(),this.value=e,this.scheduler=t,this._isScalar=!0,t&&(this._isScalar=!1)}static create(e,t){return new r(e,t)}static dispatch(e){const{done:t,value:n,subscriber:i}=e;t?i.complete():(i.next(n),i.closed||(e.done=!0,this.schedule(e)))}_subscribe(e){const t=this.value,n=this.scheduler;if(n)return n.schedule(r.dispatch,0,{done:!1,value:t,subscriber:e});e.next(t),e.closed||e.complete()}}t.a=r},gXVS:function(e,t,n){"use strict";function i(e){return Error(`Tooltip position "${e}" is invalid.`)}function r(e){return()=>e.scrollStrategies.reposition({scrollThrottle:_})}n.d(t,"d",function(){return k}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return T}),n.d(t,"e",function(){return S});var s=n("3P+V"),o=n("ZvDg"),a=n("tksO"),l=n("AdGS"),c=n("1GK5"),u=n("IMoF"),h=n("FjVW"),d=n("ZDMg"),p=n("bVHt"),m=n("IEaL"),f=n("7pQ/"),g=n("tOHq"),v=n("cv3d"),y=n("UJJe"),b=n("9i4M");const _=20,x="mat-tooltip-panel",w=new c.w("mat-tooltip-scroll-strategy"),E={provide:w,deps:[o.b],useFactory:r};class T{constructor(e,t,n,i,r,s,o,a,l,c){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._scrollStrategy=l,this._dir=c,this._position="below",this._disabled=!1,this.showDelay=0,this.hideDelay=0,this._message="",this._manualListeners=new Map;const u=t.nativeElement;s.IOS?"INPUT"!==u.nodeName&&"TEXTAREA"!==u.nodeName||(u.style.webkitUserSelect=u.style.userSelect=""):(this._manualListeners.set("mouseenter",()=>this.show()),this._manualListeners.set("mouseleave",()=>this.hide()),this._manualListeners.forEach((e,n)=>t.nativeElement.addEventListener(n,e))),a.monitor(u,!1).subscribe(e=>{e?"program"!==e&&r.run(()=>this.show()):r.run(()=>this.hide(0))})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._tooltipInstance&&this._disposeTooltip())}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(p.b)(e),this._disabled&&this.hide(0)}get _positionDeprecated(){return this._position}set _positionDeprecated(e){this._position=e}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=e?`${e}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ariaDescriber.describe(this._elementRef.nativeElement,this.message))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnDestroy(){this._tooltipInstance&&this._disposeTooltip(),this._platform.IOS||(this._manualListeners.forEach((e,t)=>{this._elementRef.nativeElement.removeEventListener(t,e)}),this._manualListeners.clear()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}show(e=this.showDelay){!this.disabled&&this.message&&(this._tooltipInstance||this._createTooltip(),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(this._position,e))}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(e){this._isTooltipVisible()&&e.keyCode===m.g&&(e.stopPropagation(),this.hide(0))}_createTooltip(){const e=this._createOverlay(),t=new f.d(S,this._viewContainerRef);this._tooltipInstance=e.attach(t).instance,Object(v.a)(this._tooltipInstance.afterHidden(),e.detachments()).subscribe(()=>{this._tooltipInstance&&this._disposeTooltip()})}_createOverlay(){const e=this._getOrigin(),t=this._getOverlayPosition(),n=this._overlay.position().connectedTo(this._elementRef,e.main,t.main).withFallbackPosition(e.fallback,t.fallback),i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);n.withScrollableContainers(i),n.onPositionChange.subscribe(e=>{this._tooltipInstance&&(e.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()?this._ngZone.run(()=>this.hide(0)):this._tooltipInstance._setTransformOrigin(e.connectionPair))});const r=new o.c({direction:this._dir?this._dir.value:"ltr",positionStrategy:n,panelClass:x,scrollStrategy:this._scrollStrategy()});return this._overlayRef=this._overlay.create(r),this._overlayRef}_disposeTooltip(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._tooltipInstance=null}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value;let t;if("above"==this.position||"below"==this.position)t={originX:"center",originY:"above"==this.position?"top":"bottom"};else if("left"==this.position||"before"==this.position&&e||"after"==this.position&&!e)t={originX:"start",originY:"center"};else{if(!("right"==this.position||"after"==this.position&&e||"before"==this.position&&!e))throw i(this.position);t={originX:"end",originY:"center"}}const{x:n,y:r}=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:n,originY:r}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value;let t;if("above"==this.position)t={overlayX:"center",overlayY:"bottom"};else if("below"==this.position)t={overlayX:"center",overlayY:"top"};else if("left"==this.position||"before"==this.position&&e||"after"==this.position&&!e)t={overlayX:"end",overlayY:"center"};else{if(!("right"==this.position||"after"==this.position&&e||"before"==this.position&&!e))throw i(this.position);t={overlayX:"start",overlayY:"center"}}const{x:n,y:r}=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:n,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(g.a)(1)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}}T.decorators=[{type:c.n,args:[{selector:"[matTooltip]",exportAs:"matTooltip",host:{"(longpress)":"show()","(keydown)":"_handleKeydown($event)","(touchend)":"hide(1500)"}}]}],T.ctorParameters=(()=>[{type:o.b},{type:c.o},{type:y.c},{type:c.Y},{type:c.F},{type:a.a},{type:s.e},{type:s.h},{type:void 0,decorators:[{type:c.u,args:[w]}]},{type:d.c,decorators:[{type:c.G}]}]),T.propDecorators={position:[{type:c.y,args:["matTooltipPosition"]}],disabled:[{type:c.y,args:["matTooltipDisabled"]}],_positionDeprecated:[{type:c.y,args:["tooltip-position"]}],showDelay:[{type:c.y,args:["matTooltipShowDelay"]}],hideDelay:[{type:c.y,args:["matTooltipHideDelay"]}],message:[{type:c.y,args:["matTooltip"]}],tooltipClass:[{type:c.y,args:["matTooltipClass"]}]};class S{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._transformOrigin="bottom",this._onHide=new b.a}show(e,t){this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._position=e,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._markForCheck()},t)}hide(e){this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._markForCheck()},e)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}_setTransformOrigin(e){const t="X"==("above"===this._position||"below"===this._position?"Y":"X")?e.overlayX:e.overlayY;if("top"===t||"bottom"===t)this._transformOrigin=t;else if("start"===t)this._transformOrigin="left";else{if("end"!==t)throw i(this._position);this._transformOrigin="right"}}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||Promise.resolve().then(()=>this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}S.decorators=[{type:c.j,args:[{selector:"mat-tooltip-component",template:'<div class="mat-tooltip" [ngClass]="tooltipClass" [style.transform-origin]="_transformOrigin" [@state]="_visibility" (@state.start)="_animationStart()" (@state.done)="_animationDone($event)">{{message}}</div>',styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:2px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px}@media screen and (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}"],encapsulation:c.Z.None,preserveWhitespaces:!1,changeDetection:c.g.OnPush,animations:[Object(h.k)("state",[Object(h.h)("initial, void, hidden",Object(h.i)({transform:"scale(0)"})),Object(h.h)("visible",Object(h.i)({transform:"scale(1)"})),Object(h.j)("* => visible",Object(h.e)("150ms cubic-bezier(0.0, 0.0, 0.2, 1)")),Object(h.j)("* => hidden",Object(h.e)("150ms cubic-bezier(0.4, 0.0, 1, 1)"))])],host:{"[style.zoom]":'_visibility === "visible" ? 1 : null',"(body:click)":"this._handleBodyInteraction()","aria-hidden":"true"}}]}],S.ctorParameters=(()=>[{type:c.h}]);class k{}k.decorators=[{type:c.C,args:[{imports:[l.a,o.f,u.n,a.b,s.a],exports:[T,S,u.n],declarations:[T,S],entryComponents:[S],providers:[E,s.b]}]}],k.ctorParameters=(()=>[])},gwp7:function(e,t,n){"use strict";const i={closed:!0,next(e){},error(e){throw e},complete(){}};t.a=i},hzkV:function(e,t,n){"use strict";function i(e){return s._38(0,[(e()(),s._10(0,null,null,0))],null,null)}function r(e){return s._38(0,[s._34(402653184,1,{_portalOutlet:0}),(e()(),s._10(16777216,null,null,1,null,i)),s._14(2,212992,[[1,4]],0,p.c,[s.k,s.Y],{portal:[0,"portal"]},null)],function(e,t){e(t,2,0,"")},null)}n.d(t,"a",function(){return g});var s=n("1GK5"),o=n("6krl"),a=n("AdGS"),l=n("ZDMg"),c=n("tksO"),u=n("UJJe"),h=n("ZvDg"),d=n("3P+V"),p=n("7pQ/"),m=n("IMoF"),f=(s._12(o.e,[],function(e){return s._26([s._27(512,s.k,s._8,[[8,[g]],[3,s.k],s.D]),s._27(4608,a.i,a.h,[s.B,[2,a.n]]),s._27(6144,l.b,null,[a.b]),s._27(4608,l.c,l.c,[[2,l.b]]),s._27(4608,c.a,c.a,[]),s._27(5120,u.c,u.a,[[3,u.c],s.F,c.a]),s._27(5120,u.f,u.e,[[3,u.f],c.a,s.F]),s._27(4608,h.g,h.g,[u.c,u.f,s.F]),s._27(5120,h.d,h.j,[[3,h.d],a.b]),s._27(4608,h.n,h.n,[u.f,a.b]),s._27(5120,h.e,h.m,[[3,h.e],a.b]),s._27(4608,h.b,h.b,[h.g,h.d,s.k,h.n,h.e,s.e,s.x,s.F,a.b]),s._27(5120,h.k,h.l,[h.b]),s._27(4608,d.j,d.j,[c.a]),s._27(4608,d.i,d.i,[d.j,s.F,a.b]),s._27(136192,d.e,d.c,[[3,d.e],a.b]),s._27(5120,d.n,d.m,[[3,d.n],[2,d.k],a.b]),s._27(5120,d.h,d.f,[[3,d.h],s.F,c.a]),s._27(5120,o.a,o.b,[h.b]),s._27(4608,o.c,o.c,[h.b,s.x,[2,a.d],o.a,[3,o.c]]),s._27(512,a.a,a.a,[]),s._27(512,l.a,l.a,[]),s._27(512,p.g,p.g,[]),s._27(512,c.b,c.b,[]),s._27(512,u.b,u.b,[]),s._27(512,h.f,h.f,[]),s._27(512,d.a,d.a,[]),s._27(256,m.f,!0,[]),s._27(512,m.n,m.n,[[2,m.f]]),s._27(512,o.e,o.e,[])])}),s._13({encapsulation:2,styles:[".mat-dialog-container{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:block;padding:24px;border-radius:2px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%}@media screen and (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch;-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:12px 0;display:flex;flex-wrap:wrap}.mat-dialog-actions:last-child{margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"slideDialog",definitions:[{type:0,name:"enter",styles:{type:6,styles:{transform:"none",opacity:1},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0},offset:null},options:void 0},{type:0,name:"exit",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0)",opacity:0},offset:null},options:void 0},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}})),g=s._11("mat-dialog-container",o.d,function(e){return s._38(0,[(e()(),s._15(0,0,null,null,1,"mat-dialog-container",[["class","mat-dialog-container"],["tabindex","-1"]],[[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@slideDialog",0]],[["component","@slideDialog.start"],["component","@slideDialog.done"]],function(e,t,n){var i=!0;return"component:@slideDialog.start"===t&&(i=!1!==s._29(e,1)._onAnimationStart(n)&&i),"component:@slideDialog.done"===t&&(i=!1!==s._29(e,1)._onAnimationDone(n)&&i),i},r,f)),s._14(1,49152,null,0,o.d,[s.o,d.i,s.h,[2,a.b]],null,null)],null,function(e,t){e(t,0,0,null==s._29(t,1)._config?null:s._29(t,1)._config.role,null!=s._29(t,1)._config&&s._29(t,1)._config.ariaLabel?null:s._29(t,1)._ariaLabelledBy,null==s._29(t,1)._config?null:s._29(t,1)._config.ariaLabel,(null==s._29(t,1)._config?null:s._29(t,1)._config.ariaDescribedBy)||null,s._29(t,1)._state)})},{},{},[])},iYlb:function(e,t){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}";e("../lib/dom").importCssString(t.cssText,t.cssClass)})},iiFG:function(e,t){function n(e,t,r){return t instanceof Array?function(e,t,i){for(var r=0,s=t.length;r<s;r++)t[r]=n(e,t[r],i);return t}(e,t,r):t instanceof u?t.length?r.hasOwnProperty(t)?r[t]:r[t]=function(e,t){for(var n=0,r=t.length;n<r;e=e[t[n++].replace(a,i)]);return e}(e,t.split(i)):e:t instanceof Object?function(e,t,i){for(var r in t)t.hasOwnProperty(r)&&(t[r]=n(e,t[r],i));return t}(e,t,r):t}var i="~",r="\\x"+("0"+i.charCodeAt(0).toString(16)).slice(-2),s="\\"+r,o=new RegExp(r,"g"),a=new RegExp(s,"g"),l=new RegExp("(?:^|([^\\\\]))"+s),c=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},u=String;this.stringify=function(e,t,n,a){return JSON.stringify(e,function(e,t,n){var a,l,u=!!t,h=[],d=[e],p=[e],m=[n?i:"[Circular]"],f=e,g=1;return u&&(l="object"==typeof t?function(e,n){return""!==e&&t.indexOf(e)<0?void 0:n}:t),function(e,t){return u&&(t=l.call(this,e,t)),""!==e&&(f!==this&&(a=g-c.call(d,this)-1,g-=a,d.splice(g,d.length),h.splice(g-1,h.length),f=this),"object"==typeof t&&t?(c.call(d,t)<0&&d.push(f=t),g=d.length,(a=c.call(p,t))<0?(a=p.push(t)-1,n?(h.push((""+e).replace(o,r)),m[a]=i+h.join(i)):m[a]=m[0]):t=m[a]):"string"==typeof t&&n&&(t=t.replace(r,s).replace(i,r))),t}}(e,t,!a),n)},this.parse=function(e,t){return JSON.parse(e,function(e){return function(t,o){var a="string"==typeof o;return a&&o.charAt(0)===i?new u(o.slice(1)):(""===t&&(o=n(o,o,{})),a&&(o=o.replace(l,"$1"+i).replace(s,r)),e?e.call(this,t,o):o)}}(t))}},iwAo:function(e,t,n){"use strict";t.a=(e=>e&&"number"==typeof e.length)},jAIh:function(e,t){e.exports.id="ace/mode/css_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/css/csslint",["require","exports","module"],function(acequire,exports,module){function objectToString(o){return Object.prototype.toString.call(o)}function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child;if("object"!=typeof parent)return parent;if(util.isArray(parent))child=[];else if(util.isRegExp(parent))child=RegExp(parent.source,util.getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(util.isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;child=prototype===void 0?Object.create(Object.getPrototypeOf(parent)):Object.create(prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent)child[i]=_clone(parent[i],depth-1);return child}var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return circular===void 0&&(circular=!0),depth===void 0&&(depth=1/0),_clone(parent,depth)}function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,"\\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(""+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error("Event object missing \'type\' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error(\'Expected "\'+pattern+\'" at line \'+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.text},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);\nfor(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\\s+$/.test(text)?this.type="descendant":">"==text?this.type="child":"+"==text?this.type="adjacent-sibling":"~"==text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\(["\']?([^\\)"\']+)["\']?\\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["\'][^"\']*["\']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\\-_\\u0080-\\uFFFF][a-z0-9\\-_\\u0080-\\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\\()?["\']?([^"\']+?)["\']?\\)?$/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()==Tokens.VIEWPORT_SYM)this._viewport();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),"only"!=ident&&"not"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,"auto"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,"_"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=""+component,component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,"not",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part="elementName"==arg.type?new SelectorPart(arg,[],""+arg,line,col):new SelectorPart(null,[arg],""+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=""+property,(this.options.starHack&&"*"==property.hack||this.options.underscoreHack&&"_"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(inFunction),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(inFunction),null===value)break;\nvalues.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null,endChar=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(token=tokenStream.token(),endChar=token.endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found \'"+color+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token \'"+token.value+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'azimuth\'>) but found \'"+part+"\'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,numeric="<number> | <percentage>",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found \'"+part+"\'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,simple="<length> | <percentage> | inherit",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!("/"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'border-radius\'>) but found \'"+part+"\'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | <content-sizing> | none | inherit","max-width":"<length> | <percentage> | <content-sizing> | none | inherit","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y","touch-action":"auto | none | pan-x | pan-y",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | <content-sizing> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\'"\':case"\'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1==tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)\n},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),"\x3c!--"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),"--\x3e"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return"("==reader.peek()?(ident+=reader.read(),"url("==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),"url("==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"==reader.peek()&&"progid"==ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"==c){if("*"!=reader.peek())break;if(temp=this.readComment(c),""===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),":not("==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf("?")&&"-"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if("."!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="\'"==c||\'"\'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"==c){for(;c;){if(comment+=c,comment.length>2&&"*"==c&&"/"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(""+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property \'"+property+"\'.",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):(part=expression.previous(),comma&&","==part?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(""+part.text).toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"==part.type&&"attr"==part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"==part},"<gradient>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"==part.type&&"content"==part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"==part.type},"<length>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:"length"==part.type||"number"==part.type||"integer"==part.type||"0"==part},"<color>":function(part){return"color"==part.type||"transparent"==part},"<number>":function(part){return"number"==part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"==part.type},"<line>":function(part){return"integer"==part.type},"<angle>":function(part){return"angle"==part.type},"<uri>":function(part){return"uri"==part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"==part.type||"0"==part},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<content-sizing>":function(part){return ValidationTypes.isLiteral(part,"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"==part.type&&("rect"==part.name||"inset-rect"==part.name)},"<time>":function(part){return"time"==part.type},"<flex-grow>":function(part){return this["<number>"](part)},"<flex-shrink>":function(part){return this["<number>"](part)},"<width>":function(part){return this["<margin-width>"](part)},"<flex-basis>":function(part){return this["<width>"](part)},"<flex-direction>":function(part){return ValidationTypes.isLiteral(part,"row | row-reverse | column | column-reverse")},"<flex-wrap>":function(part){return ValidationTypes.isLiteral(part,"nowrap | wrap | wrap-reverse")}},complex:{"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&4>=count}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},"<flex>":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,"none | inherit")?result=!0:ValidationTypes.isType(expression,"<flex-grow>")?expression.peek()?ValidationTypes.isType(expression,"<flex-shrink>")?result=expression.peek()?ValidationTypes.isType(expression,"<flex-basis>"):!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=!0),!result)throw part=expression.peek(),new ValidationError("Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found \'"+expression.value.text+"\'.",part.line,part.col);return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var util={isArray:function(ar){return Array.isArray(ar)||"object"==typeof ar&&"[object Array]"===objectToString(ar)},isDate:function(d){return"object"==typeof d&&"[object Date]"===objectToString(d)},isRegExp:function(re){return"object"==typeof re&&"[object RegExp]"===objectToString(re)},getRegExpFlags:function(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}};"object"==typeof module&&(module.exports=clone),clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c};var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={"true":2,"":1,"false":0,2:2,1:1,0:0},rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version="@VERSION@",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});lines=text.replace(/\\n\\r?/g,"$split$").split("$split$"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=clone(ruleset),ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2===this.ruleset[rule.id]?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don\'t use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"class"===modifier.type&&classCount++,classCount>1&&reporter.report("Don\'t use adjoining classes.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don\'t use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report("Using height with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report("Using width with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},boxSizing=!1;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||"border"===name&&"none"==""+event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:"box-sizing"===name&&(boxSizing=!0)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn\'t supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();"box-sizing"===name&&reporter.report("The box-sizing property isn\'t supported in IE6 and IE7.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404\'s in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener("startfontface",function(){fontFaceRule=!0}),parser.addListener("property",function(event){if(fontFaceRule){var propertyName=(""+event.property).toLowerCase(),value=""+event.value;if(line=event.line,col=event.col,"src"===propertyName){var regex=/^\\s?url\\([\'"].+\\.eot\\?.*[\'"]\\)\\s*format\\([\'"]embedded-opentype[\'"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener("endfontface",function(){fontFaceRule=!1,ruleFailed&&reporter.report("@font-face declaration doesn\'t follow the fontspring bulletproof syntax.",line,col,rule)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(" "),i=0,len=prefixed.length;len>i;i++)variations.push("-"+prefixed[i]+"-"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener("startrule",function(){properties=[]}),parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||!0}),parser.addListener("endkeyframes",function(){inKeyFrame=!1}),parser.addListener("property",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&"string"==typeof inKeyFrame&&0===name.text.indexOf("-"+inKeyFrame+"-")||properties.push(name))}),parser.addListener("endrule",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2===actual.length?actual.join(" and "):actual.join(", "),reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn\'t be used with certain display property values.",browsers:"All",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&("string"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!==propertiesToCheck[name])&&reporter.report(msg||name+" can\'t be used with display: "+display+".",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case"inline":reportProperty("height",display),reportProperty("width",display),reportProperty("margin",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);\nbreak;case"inline-block":reportProperty("float",display);break;default:0===display.indexOf("table-")&&(reportProperty("margin",display),reportProperty("margin-left",display),reportProperty("margin-right",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display))}}var properties,rule=this,propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startpage",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endkeyframerule",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endpage",endRule)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)"uri"===value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report("Background image \'"+value.parts[i].uri+"\' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty===name&&properties[name]!==event.value.text||reporter.report("Duplicate property \'"+event.property+"\' found.",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0}),parser.addListener("property",function(){count++}),parser.addListener("endrule",function(event){var selectors=event.selectors;0===count&&reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don\'t support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name])for(;len>i;)"color"===parts[i].type&&("alpha"in parts[i]||"hue"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()===name&&"compat"===lastProperty.colorType||reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)):event.colorType="compat"),i++;lastProperty=event})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"float"===event.property.text.toLowerCase()&&"none"!==event.value.text.toLowerCase()&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("floats",count),count>=10&&reporter.rollupWarn("Too many floats ("+count+"), you\'re probably using them for layout. Consider using a grid system instead.",rule)})}}),CSSLint.addRule({id:"font-faces",name:"Don\'t use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++}),parser.addListener("endstylesheet",function(){count>5&&reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"font-size"==""+event.property&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count),count>=10&&reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var gradients,rule=this;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener("property",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener("endrule",function(event){var missing=[];gradients.moz||missing.push("Firefox 3.6+"),gradients.webkit||missing.push("Webkit (Safari 5+, Chrome)"),gradients.oldWebkit||missing.push("Old Webkit (Safari 4+, Chrome)"),gradients.o||missing.push("Opera 11.1+"),missing.length&&4>missing.length&&reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"id"===modifier.type&&idCount++;1===idCount?reporter.report("Don\'t use IDs in selectors.",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don\'t use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){event.important===!0&&(count++,reporter.report("Use of !important",event.line,event.col,rule))}),parser.addListener("endstylesheet",function(){reporter.stat("important",count),count>=10&&reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"order-alphabetical",name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers:"All",init:function(parser,reporter){var properties,rule=this,startRule=function(){properties=[]};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text,lowerCasePrefixLessName=name.toLowerCase().replace(/^-.*?-/,"");properties.push(lowerCasePrefixLessName)}),parser.addListener("endrule",function(event){var currentProperties=properties.join(","),expectedProperties=properties.sort().join(",");currentProperties!==expectedProperties&&reporter.report("Rule doesn\'t have all its properties in alphabetical ordered.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1===(""+lastRule.selectors).toLowerCase().indexOf(":focus")?reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule):1===lastRule.propCount&&reporter.report("Outlines shouldn\'t be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,"outline"!==name||"none"!=""+value&&"0"!=""+value||(lastRule.outline=!0))}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don\'t use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&"id"===modifier.type?reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule):"class"===modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener("endstylesheet",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1===classes[prop].length&&classes[prop][0].part.elementName&&reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(""+part.elementName)&&j>0&&reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"===modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var count=0;parser.addListener("startrule",function(){count++}),parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>=3800&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>4095&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors",desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.",browsers:"All",init:function(parser,reporter){function startRule(event){var i,len,selector,p,n,pLen,part,part2,type,currentLine,nextLine,selectors=event.selectors;for(i=0,len=selectors.length;len>i;i++)for(selector=selectors[i],p=0,pLen=selector.parts.length;pLen>p;p++)for(n=p+1;pLen>n;n++)part=selector.parts[p],part2=selector.parts[n],type=part.type,currentLine=part.line,nextLine=part2.line,"descendant"===type&&nextLine>currentLine&&reporter.report("newline character found in selector (forgot a comma?)",currentLine,selectors[i].parts[0].col,rule)}var rule=this;parser.addListener("startrule",startRule)}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total===mapping[prop].length&&reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase();propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"*"===property.hack&&reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){function startRule(){textIndent=!1,direction="inherit"}function endRule(){textIndent&&"ltr"!==direction&&reporter.report("Negative text-indent doesn\'t work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase(),value=event.value;"text-indent"===name&&-99>value.parts[0].value?textIndent=event.property:"direction"===name&&"ltr"==""+value&&(direction="ltr")}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"_"===property.hack&&reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(""+part.elementName)){for(j=0;part.modifiers.length>j;j++)if("pseudo"===part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule))}}),parser.addListener("endstylesheet",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+" "+prop+"s");messages.length&&reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],"*"===part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"!==modifier.type||part.elementName&&"*"!==part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report("Standard property \'"+needed+"\' should come after vendor-prefixed property \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report("Missing standard property \'"+needed+"\' to go along with \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don\'t need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&"percentage"!==parts[i].type||0!==parts[i].value||"time"===parts[i].type||reporter.report("Values of 0 shouldn\'t have units specified.",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\"&><]/g,function(match){switch(match){case\'"\':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><checkstyle>\'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return\'<file name="\'+xmlEscape(filename)+\'"><error line="0" column="0" severty="error" message="\'+xmlEscape(message)+\'"></error></file>\'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push(\'<error line="\'+message.line+\'" column="\'+message.col+\'" severity="\'+message.type+\'"\'+\' message="\'+xmlEscape(message.message)+\'" source="\'+generateSource(message.rule)+\'"/>\')}),output.push("</file>")),output.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, \'porcelain\' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?"":filename+": Lint Free!":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+": "+capitalize(message.type)+" - "+message.message+"\\n":filename+": "+"line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+" ("+message.rule.id+")\\n"}),output)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><csslint>\'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><testsuites>\'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(messages.forEach(function(message){var type="warning"===message.type?"error":message.type;message.rollup||(output.push(\'<testcase time="0" name="\'+generateSource(message.rule)+\'">\'),output.push("<"+type+\' message="\'+escapeSpecialCharacters(message.message)+\'"><![CDATA[\'+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">"),output.push("</testcase>"),tests[type]+=1)}),output.unshift(\'<testsuite time="0" tests="\'+messages.length+\'" skipped="0" errors="\'+tests.error+\'" failures="\'+tests.failure+\'" package="net.csslint" name="\'+filename+\'">\'),output.push("</testsuite>")),output.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><lint>\'},endFormat:function(){return"</lint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";if(options=options||{},0===messages.length)return options.quiet?"":"\\n\\ncsslint: No errors in "+filename+".";output="\\n\\ncsslint: There ",output+=1===messages.length?"is 1 problem":"are "+messages.length+" problems",output+=" in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf("\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+"\\n\\n"+shortFilename,message.rollup?(output+="\\n"+(i+1)+": "+message.type,output+="\\n"+message.message):(output+="\\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col,output+="\\n"+message.message,output+="\\n"+message.evidence)}),output}}),module.exports.CSSLint=CSSLint}),ace.define("ace/mode/css_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/css/csslint"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),Mirror=acequire("../worker/mirror").Mirror,CSSLint=acequire("./css/csslint").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules("ids|order-alphabetical"),this.setInfoRules("adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none|vendor-prefix")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|"));\nvar all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();if(!value)return this.sender.emit("annotate",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit("annotate",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?"info":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},jG7V:function(e,t,n){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},s.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(s,r),s.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},s.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";function i(e){return[{token:"comment",regex:/\/\*/,next:[s.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[s.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var r=e("../lib/oop"),s=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*",l=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[s.getStartRule("doc-start"),i("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/[+-]?\d[\d_]*(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+a+")(\\.)(prototype)(\\.)("+a+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[s.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||(function(){var e=a.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}).call(this)),this.embedRules(s,"doc-",[s.getEndRule("no_regex")]),this.normalizeRules()};r.inherits(l,o),t.JavaScriptHighlightRules=l}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,s=e.findMatchingBracket({row:t,column:r});if(!s||s.row==t)return 0;var o=this.$getIndent(e.getLine(s.row));e.replace(new i(t,0,t,r-1),o)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,s=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(o,s),(function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r=e.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,n);if(a=r.match(this.foldingStartMarker)){var s=a.index;if(a[1])return this.openingBracketBlock(e,a[1],n,s);var o=e.getCommentFoldRange(n,s+a[0].length,1);return o&&!o.isMultiLine()&&(i?o=this.getSectionRange(e,n):"all"!=t&&(o=null)),o}if("markbegin"!==t){var a;if(a=r.match(this.foldingStopMarker)){s=a.index+a[0].length;return a[1]?this.closingBracketBlock(e,a[1],n,s):e.getCommentFoldRange(n,s,-1)}}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),s=t,o=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=s)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}a=t}}return new r(s,o,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),s=e.getLength(),o=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<s;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>o)return new r(o,i,n,t.length)}}).call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,i){"use strict";var r=e("../lib/oop"),s=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),s=r.tokens,o=r.state;if(s.length&&"comment"==s[s.length-1].type)return i;if("start"==e||"no_regex"==e){(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n)}else if("doc-start"==e){if("start"==o||"no_regex"==o)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],n("WPNl"),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}).call(h.prototype),t.Mode=h}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),s=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":o,"support.constant":a,"support.type":s,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};i.inherits(p,r),t.CssHighlightRules=p}),ace.define("ace/mode/css_completions",["require","exports","module"],function(e,t,n){"use strict";var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},r=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});i.hasOwnProperty(n)||(i[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){this.completionsDefined||this.defineCompletions();if(!t.getTokenAt(n.row,n.column))return[];if("ruleset"===e){var r=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i)}return[]},this.getPropertyCompletions=function(e,t,n,r){return Object.keys(i).map(function(e){return{caption:e,snippet:e+": $0",meta:"property",score:Number.MAX_VALUE}})},this.getPropertyValueCompletions=function(e,t,n,r){var s=t.getLine(n.row).substr(0,n.column),o=(/([\w\-]+):[^:]*$/.exec(s)||{})[1];if(!o)return[];var a=[];return o in i&&"object"==typeof i[o]&&(a=Object.keys(i[o])),a.map(function(e){return{caption:e,snippet:e,meta:"property value",score:Number.MAX_VALUE}})}}).call(r.prototype),t.CssCompletions=r}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),s=e("../../token_iterator").TokenIterator,o=function(){this.inherit(r),this.add("colon","insertion",function(e,t,n,i,r){if(":"===r){var o=n.getCursorPosition(),a=new s(i,o.row,o.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(o.row);if(":"===c.substring(o.column,o.column+1))return{text:"",selection:[1,1]};if(!c.substring(o.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===o){var a=n.getCursorPosition(),l=new s(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){if(";"===i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r}}}),this.add("semicolon","insertion",function(e,t,n,i,r){if(";"===r){var s=n.getCursorPosition();if(";"===i.doc.getLine(s.row).substring(s.column,s.column+1))return{text:"",selection:[1,1]}}})};i.inherits(o,r),t.CssBehaviour=o}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,i){"use strict";var r=e("../lib/oop"),s=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./css_completions").CssCompletions,u=e("./behaviour/css").CssBehaviour,h=e("./folding/cstyle").FoldMode,d=function(){this.HighlightRules=o,this.$outdent=new a,this.$behaviour=new u,this.$completer=new c,this.foldingRules=new h};r.inherits(d,s),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;if(r.length&&"comment"==r[r.length-1].type)return i;return t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new l(["ace"],n("jAIh"),"Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}).call(d.prototype),t.Mode=d}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,s=function(e){var t="[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===s&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),i.inherits(s,r),t.XmlHighlightRules=s}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),s=e("./css_highlight_rules").CssHighlightRules,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(s,"css-","style"),this.embedTagRules(new o({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,a),t.HtmlHighlightRules=c}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(e,t,n,r,s){if('"'==s||"'"==s){var a=s,l=r.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),u=r.doc.getLine(c.row).substring(c.column,c.column+1),h=new o(r,c.row,c.column),d=h.getCurrentToken();if(u==a&&(i(d,"attribute-value")||i(d,"string")))return{text:"",selection:[1,1]};if(d||(d=h.stepBackward()),!d)return;for(;i(d,"tag-whitespace")||i(d,"whitespace");)d=h.stepBackward();var p=!u||u.match(/\s/);if(i(d,"attribute-equals")&&(p||">"==u)||i(d,"decl-attribute-equals")&&(p||"?"==u))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==s||"'"==s)){if(i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s)return r.end.column++,r}}),this.add("autoclosing","insertion",function(e,t,n,r,s){if(">"==s){var a=n.getSelectionRange().start,l=new o(r,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(i(c,"tag-name")||i(c,"tag-whitespace")||i(c,"attribute-name")||i(c,"attribute-equals")||i(c,"attribute-value")))return;if(i(c,"reference.attribute-value"))return;if(i(c,"attribute-value")){var u=c.value.charAt(0);if('"'==u||"'"==u){var h=c.value.charAt(c.value.length-1),d=l.getCurrentTokenColumn()+c.value.length;if(d>a.column||d==a.column&&u!=h)return}}for(;!i(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var p=l.getCurrentTokenRow(),m=l.getCurrentTokenColumn();if(i(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(p==a.row&&(f=f.substring(0,a.column-m)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,i,r){if("\n"==r){var s=n.getCursorPosition(),a=i.getLine(s.row),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,h=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var d=i.getTokenAt(s.row,s.column+1),p=(a=i.getLine(h),this.$getIndent(a)),m=p+i.getTabString();return d&&"</"===d.value?{text:"\n"+m+"\n"+p,selection:[1,m.length,1,m.length]}:{text:"\n"+m}}}}})});r.inherits(a,s),t.XmlBehaviour=a}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,s=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(s,r),(function(){this.$getMode=function(e){"string"!=typeof e&&(e=e[0]);for(var t in this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var r=this.$getMode(e);return r?r.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}).call(s.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),s=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,l=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=r.mixin({},this.voidElements),t&&r.mixin(this.optionalEndTags,t)};r.inherits(l,o);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),r=new c,s=0;s<n.length;s++){var o=n[s];if(i(o,"tag-open")){if(r.end.column=r.start.column+o.value.length,r.closing=i(o,"end-tag-open"),!(o=n[++s]))return null;for(r.tagName=o.value,r.end.column+=o.value.length,s++;s<n.length;s++)if(o=n[s],r.end.column+=o.value.length,i(o,"tag-close")){r.selfClosing="/>"==o.value;break}return r}if(i(o,"tag-close"))return r.selfClosing="/>"==o.value,r;r.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,r){for(var s=e.getTokens(t),o=0,a=0;a<s.length;a++){var l=s[a];if(!((o+=l.value.length)<r)&&i(l,"end-tag-open")&&(l=s[a+1])&&l.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(i(t,"tag-open"))n.closing=i(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(i(t,"tag-name"))n.tagName=t.value;else if(i(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(i(t,"tag-open"))return n.closing=i(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;i(t,"tag-name")?n.tagName=t.value:i(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return null;var r,o=[];if(i.closing||i.selfClosing){c=new a(e,n,i.end.column);for(var l={row:n,column:i.start.column};r=this._readTagBackward(c);){if(r.selfClosing){if(o.length)continue;return r.start.column+=r.tagName.length+2,r.end.column-=2,s.fromPoints(r.start,r.end)}if(r.closing)o.push(r);else if(this._pop(o,r),0==o.length)return r.start.column+=r.tagName.length+2,r.start.row==r.end.row&&r.start.column<r.end.column&&(r.start.column=r.end.column),s.fromPoints(r.start,l)}}else{var c=new a(e,n,i.start.column),u={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(u.column=i.end.column);r=this._readTagForward(c);){if(r.selfClosing){if(o.length)continue;return r.start.column+=r.tagName.length+2,r.end.column-=2,s.fromPoints(r.start,r.end)}if(r.closing){if(this._pop(o,r),0==o.length)return s.fromPoints(u,r.start)}else o.push(r)}}}}).call(l.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./mixed").FoldMode,s=e("./xml").FoldMode,o=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new s(e,t),{"js-":new o,"css-":new o})};i.inherits(a,r)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}function r(e,t){for(var n=new s(e,t.row,t.column),r=n.getCurrentToken();r&&!i(r,"tag-name");)r=n.stepBackward();if(r)return r.value}var s=e("../token_iterator").TokenIterator,o=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),a={html:{manifest:1},head:{},title:{},base:{href:1,target:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},noscript:{href:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},section:{},nav:{},article:{pubdate:1},aside:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},header:{},footer:{},address:{},main:{},p:{},hr:{},pre:{},blockquote:{cite:1},ol:{start:1,reversed:1},ul:{},li:{value:1},dl:{},dt:{},dd:{},figure:{},figcaption:{},div:{},a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},em:{},strong:{},small:{},s:{},cite:{},q:{cite:1},dfn:{},abbr:{},data:{},time:{datetime:1},code:{},var:{},samp:{},kbd:{},sub:{},sup:{},i:{},b:{},u:{},mark:{},ruby:{},rt:{},rp:{},bdi:{},bdo:{},span:{},br:{},wbr:{},ins:{cite:1,datetime:1},del:{cite:1,datetime:1},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},embed:{src:1,height:1,width:1,type:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},param:{name:1,value:1},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},source:{src:1,type:1,media:1},track:{kind:1,src:1,srclang:1,label:1,default:1},canvas:{width:1,height:1},map:{name:1},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},svg:{},math:{},table:{summary:1},caption:{},colgroup:{span:1},col:{span:1},tbody:{},thead:{},tfoot:{},tr:{},td:{headers:1,rowspan:1,colspan:1},th:{headers:1,rowspan:1,colspan:1,scope:1},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},fieldset:{disabled:1,form:1,name:1},legend:{},label:{form:1,for:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},size:1,src:1,step:1,width:1,files:1,value:1},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},datalist:{},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},output:{for:1,form:1,name:1},progress:{value:1,max:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},details:{open:1},summary:{},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},menu:{type:1,label:1},dialog:{open:1}},l=Object.keys(a),c=function(){};(function(){this.getCompletions=function(e,t,n,r){var s=t.getTokenAt(n.row,n.column);if(!s)return[];if(i(s,"tag-name")||i(s,"tag-open")||i(s,"end-tag-open"))return this.getTagCompletions(e,t,n,r);if(i(s,"tag-whitespace")||i(s,"attribute-name"))return this.getAttributeCompletions(e,t,n,r);if(i(s,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,r);var o=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,r):[]},this.getTagCompletions=function(e,t,n,i){return l.map(function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}})},this.getAttributeCompletions=function(e,t,n,i){var s=r(t,n);if(!s)return[];var l=o;return s in a&&(l=l.concat(Object.keys(a[s]))),l.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}})},this.getAttributeValueCompletions=function(e,t,n,o){var l=r(t,n),c=function(e,t){for(var n=new s(e,t.row,t.column),r=n.getCurrentToken();r&&!i(r,"attribute-name");)r=n.stepBackward();if(r)return r.value}(t,n);if(!l)return[];var u=[];return l in a&&c in a[l]&&"object"==typeof a[l][c]&&(u=Object.keys(a[l][c])),u.map(function(e){return{caption:e,snippet:e,meta:"attribute value",score:Number.MAX_VALUE}})},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map(function(e){return{caption:e,snippet:e,meta:"html entity",score:Number.MAX_VALUE}})}}).call(c.prototype),t.HtmlCompletions=c}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,i){"use strict";var r=e("../lib/oop"),s=e("../lib/lang"),o=e("./text").Mode,a=e("./javascript").Mode,l=e("./css").Mode,c=e("./html_highlight_rules").HtmlHighlightRules,u=e("./behaviour/xml").XmlBehaviour,h=e("./folding/html").FoldMode,d=e("./html_completions").HtmlCompletions,p=e("../worker/worker_client").WorkerClient,m=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=c,this.$behaviour=new u,this.$completer=new d,this.createModeDelegates({"js-":a,"css-":l}),this.foldingRules=new h(this.voidElements,s.arrayToMap(f))};r.inherits(g,o),(function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=s.arrayToMap(m),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==g){var t=new p(["ace"],n("J9Eb"),"Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}).call(g.prototype),t.Mode=g})},jLix:function(e,t,n){"use strict";t.a={e:{}}},joIC:function(e,t,n){"use strict";function i(){}function r(e,t){this.x=e||0,this.y=t||0}function s(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function o(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function a(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function c(e,t,n,i,s,o,a,u,h,d){Object.defineProperty(this,"id",{value:bo++}),this.uuid=yo.generateUUID(),this.name="",this.image=void 0!==e?e:c.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:c.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:xs,this.wrapT=void 0!==i?i:xs,this.magFilter=void 0!==s?s:ks,this.minFilter=void 0!==o?o:Cs,this.anisotropy=void 0!==h?h:1,this.format=void 0!==a?a:Gs,this.type=void 0!==u?u:Ms,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:lo,this.version=0,this.onUpdate=null}function u(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function h(e,t,n){this.uuid=yo.generateUUID(),this.width=e,this.height=t,this.scissor=new u(0,0,e,t),this.scissorTest=!1,this.viewport=new u(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=ks),this.texture=new c(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function d(e,t,n){h.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function p(e,t,n,i,r,s,o,a,l,u,h,d){c.call(this,null,s,o,a,l,u,i,r,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:Es,this.minFilter=void 0!==u?u:Es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function m(e,t,n,i,r,s,o,a,l,u){c.call(this,e=void 0!==e?e:[],t=void 0!==t?t:ps,n,i,r,s,o,a,l,u),this.flipY=!1}function f(){this.seq=[],this.map={}}function g(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,s=wo[r];if(void 0===s&&(s=new Float32Array(r),wo[r]=s),0!==t){i.toArray(s,0);for(var o=1,a=0;o!==t;++o)a+=n,e[o].toArray(s,a)}return s}function v(e,t){var n=Eo[t];void 0===n&&(n=new Int32Array(t),Eo[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function y(e,t){e.uniform1f(this.addr,t)}function b(e,t){e.uniform1i(this.addr,t)}function _(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function x(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function w(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function E(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function T(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(So.set(t.elements),e.uniformMatrix3fv(this.addr,!1,So))}function S(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(To.set(t.elements),e.uniformMatrix4fv(this.addr,!1,To))}function k(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||_o,i)}function A(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||xo,i)}function C(e,t){e.uniform2iv(this.addr,t)}function M(e,t){e.uniform3iv(this.addr,t)}function R(e,t){e.uniform4iv(this.addr,t)}function L(e,t){e.uniform1fv(this.addr,t)}function P(e,t){e.uniform1iv(this.addr,t)}function O(e,t){e.uniform2fv(this.addr,g(t,this.size,2))}function D(e,t){e.uniform3fv(this.addr,g(t,this.size,3))}function F(e,t){e.uniform4fv(this.addr,g(t,this.size,4))}function I(e,t){e.uniformMatrix2fv(this.addr,!1,g(t,this.size,4))}function N(e,t){e.uniformMatrix3fv(this.addr,!1,g(t,this.size,9))}function B(e,t){e.uniformMatrix4fv(this.addr,!1,g(t,this.size,16))}function j(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var s=0;s!==i;++s)n.setTexture2D(t[s]||_o,r[s])}function z(e,t,n){var i=t.length,r=v(n,i);e.uniform1iv(this.addr,r);for(var s=0;s!==i;++s)n.setTextureCube(t[s]||xo,r[s])}function U(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){switch(e){case 5126:return y;case 35664:return _;case 35665:return x;case 35666:return w;case 35674:return E;case 35675:return T;case 35676:return S;case 35678:case 36198:return k;case 35680:return A;case 5124:case 35670:return b;case 35667:case 35671:return C;case 35668:case 35672:return M;case 35669:case 35673:return R}}(t.type)}function V(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return L;case 35664:return O;case 35665:return D;case 35666:return F;case 35674:return I;case 35675:return N;case 35676:return B;case 35678:return j;case 35680:return z;case 5124:case 35670:return P;case 35667:case 35671:return C;case 35668:case 35672:return M;case 35669:case 35673:return R}}(t.type)}function G(e){this.id=e,f.call(this)}function H(e,t){e.seq.push(t),e.map[t.id]=t}function W(e,t,n){var i=e.name,r=i.length;for(ko.lastIndex=0;;){var s=ko.exec(i),o=ko.lastIndex,a=s[1],l="]"===s[2],c=s[3];if(l&&(a|=0),void 0===c||"["===c&&o+2===r){H(n,void 0===c?new U(a,e,t):new V(a,e,t));break}var u=n.map[a];void 0===u&&H(n,u=new G(a)),n=u}}function $(e,t,n){f.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var s=e.getActiveUniform(t,r),o=s.name;W(s,e.getUniformLocation(t,o),this)}}function q(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function X(e,t){this.min=void 0!==e?e:new r(1/0,1/0),this.max=void 0!==t?t:new r(-1/0,-1/0)}function Y(e,t,n,i,s){function o(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),i=new Uint16Array([0,1,2,0,2,3]);l=t.createBuffer(),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),m=t.createTexture(),f=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),u={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")},h=function(e){var n=t.createProgram(),i=t.createShader(t.FRAGMENT_SHADER),r=t.createShader(t.VERTEX_SHADER),o="precision "+s.precision+" float;\n";return t.shaderSource(i,o+e.fragmentShader),t.shaderSource(r,o+e.vertexShader),t.compileShader(i),t.compileShader(r),t.attachShader(n,i),t.attachShader(n,r),t.linkProgram(n),n}(u),d={vertex:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},p={renderType:t.getUniformLocation(h,"renderType"),map:t.getUniformLocation(h,"map"),occlusionMap:t.getUniformLocation(h,"occlusionMap"),opacity:t.getUniformLocation(h,"opacity"),color:t.getUniformLocation(h,"color"),scale:t.getUniformLocation(h,"scale"),rotation:t.getUniformLocation(h,"rotation"),screenPosition:t.getUniformLocation(h,"screenPosition")}}var l,c,u,h,d,p,m,f;this.render=function(e,s,u,g){if(0!==e.length){var v=new a,y=g.w/g.z,b=.5*g.z,_=.5*g.w,x=16/g.w,w=new r(x*y,x),E=new a(1,1,0),T=new r(1,1),S=new X;S.min.set(g.x,g.y),S.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===h&&o(),n.useProgram(h),n.initAttributes(),n.enableAttribute(d.vertex),n.enableAttribute(d.uv),n.disableUnusedAttributes(),t.uniform1i(p.occlusionMap,0),t.uniform1i(p.map,1),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(d.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var k=0,A=e.length;k<A;k++){x=16/g.w,w.set(x*y,x);var C=e[k];if(v.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),v.applyMatrix4(u.matrixWorldInverse),v.applyMatrix4(u.projectionMatrix),E.copy(v),T.x=g.x+E.x*b+b-8,T.y=g.y+E.y*_+_-8,!0===S.containsPoint(T)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,T.x,T.y,16,16,0),t.uniform1i(p.renderType,0),t.uniform2f(p.scale,w.x,w.y),t.uniform3f(p.screenPosition,E.x,E.y,E.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,f),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,T.x,T.y,16,16,0),t.uniform1i(p.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),C.positionScreen.copy(E),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),t.uniform1i(p.renderType,2),n.enable(t.BLEND);for(var M=0,R=C.lensFlares.length;M<R;M++){var L=C.lensFlares[M];L.opacity>.001&&L.scale>.001&&(E.x=L.x,E.y=L.y,E.z=L.z,x=L.size*L.scale/g.w,w.x=x*y,w.y=x,t.uniform3f(p.screenPosition,E.x,E.y,E.z),t.uniform2f(p.scale,w.x,w.y),t.uniform1f(p.rotation,L.rotation),t.uniform1f(p.opacity,L.opacity),t.uniform3f(p.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),i.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function K(e,t,n,i,r,s,o,a,l){c.call(this,e,t,n,i,r,s,o,a,l),this.needsUpdate=!0}function Z(e,t,n,i,r){function s(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);c=t.createBuffer(),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),h=function(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),t.shaderSource(i,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),t.compileShader(n),t.compileShader(i),t.attachShader(e,n),t.attachShader(e,i),t.linkProgram(e),e}(),d={position:t.getAttribLocation(h,"position"),uv:t.getAttribLocation(h,"uv")},p={uvOffset:t.getUniformLocation(h,"uvOffset"),uvScale:t.getUniformLocation(h,"uvScale"),rotation:t.getUniformLocation(h,"rotation"),scale:t.getUniformLocation(h,"scale"),color:t.getUniformLocation(h,"color"),map:t.getUniformLocation(h,"map"),opacity:t.getUniformLocation(h,"opacity"),modelViewMatrix:t.getUniformLocation(h,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(h,"projectionMatrix"),fogType:t.getUniformLocation(h,"fogType"),fogDensity:t.getUniformLocation(h,"fogDensity"),fogNear:t.getUniformLocation(h,"fogNear"),fogFar:t.getUniformLocation(h,"fogFar"),fogColor:t.getUniformLocation(h,"fogColor"),fogDepth:t.getUniformLocation(h,"fogDepth"),alphaTest:t.getUniformLocation(h,"alphaTest")};var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=8,i.height=8;var s=i.getContext("2d");s.fillStyle="white",s.fillRect(0,0,8,8),m=new K(i)}function l(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var c,u,h,d,p,m,f=new a,g=new o,v=new a;this.render=function(r,o,a){if(0!==r.length){void 0===h&&s(),n.useProgram(h),n.initAttributes(),n.enableAttribute(d.position),n.enableAttribute(d.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(d.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.uniformMatrix4fv(p.projectionMatrix,!1,a.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(p.map,0);var y=0,b=0,_=o.fog;_?(t.uniform3f(p.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(t.uniform1f(p.fogNear,_.near),t.uniform1f(p.fogFar,_.far),t.uniform1i(p.fogType,1),y=1,b=1):_.isFogExp2&&(t.uniform1f(p.fogDensity,_.density),t.uniform1i(p.fogType,2),y=2,b=2)):(t.uniform1i(p.fogType,0),y=0,b=0);for(var x=0,w=r.length;x<w;x++){(T=r[x]).modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}r.sort(l);var E=[];for(x=0,w=r.length;x<w;x++){var T,S=(T=r[x]).material;if(!1!==S.visible){T.onBeforeRender(e,o,a,void 0,S,void 0),t.uniform1f(p.alphaTest,S.alphaTest),t.uniformMatrix4fv(p.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(f,g,v),E[0]=v.x,E[1]=v.y;var k=0;o.fog&&S.fog&&(k=b),y!==k&&(t.uniform1i(p.fogType,k),y=k),null!==S.map?(t.uniform2f(p.uvOffset,S.map.offset.x,S.map.offset.y),t.uniform2f(p.uvScale,S.map.repeat.x,S.map.repeat.y)):(t.uniform2f(p.uvOffset,0,0),t.uniform2f(p.uvScale,1,1)),t.uniform1f(p.opacity,S.opacity),t.uniform3f(p.color,S.color.r,S.color.g,S.color.b),t.uniform1f(p.rotation,S.rotation),t.uniform2fv(p.scale,E),n.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst,S.blendEquationAlpha,S.blendSrcAlpha,S.blendDstAlpha,S.premultipliedAlpha),n.buffers.depth.setTest(S.depthTest),n.buffers.depth.setMask(S.depthWrite),n.buffers.color.setMask(S.colorWrite),i.setTexture2D(S.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),T.onAfterRender(e,o,a,void 0,S,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function J(){Object.defineProperty(this,"id",{value:Po++}),this.uuid=yo.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Rr,this.side=Er,this.flatShading=!1,this.vertexColors=kr,this.opacity=1,this.transparent=!1,this.blendSrc=Hr,this.blendDst=Wr,this.blendEquation=Fr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=es,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function Q(e){J.call(this),this.type="MeshDepthMaterial",this.depthPacking=go,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ee(e){J.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new a,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function te(e,t){this.min=void 0!==e?e:new a(1/0,1/0,1/0),this.max=void 0!==t?t:new a(-1/0,-1/0,-1/0)}function ne(e,t){this.center=void 0!==e?e:new a,this.radius=void 0!==t?t:0}function ie(e,t){this.normal=void 0!==e?e:new a(1,0,0),this.constant=void 0!==t?t:0}function re(e,t,n,i,r,s){this.planes=[void 0!==e?e:new ie,void 0!==t?t:new ie,void 0!==n?n:new ie,void 0!==i?i:new ie,void 0!==r?r:new ie,void 0!==s?s:new ie]}function se(e,t,n){function i(t,n,i,r,s,o){var a=t.geometry,l=null,c=b,u=t.customDepthMaterial;if(i&&(c=_,u=t.customDistanceMaterial),u)l=u;else{var h=!1;n.morphTargets&&(a&&a.isBufferGeometry?h=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(h=a.morphTargets&&a.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var d=t.isSkinnedMesh&&n.skinning,p=0;h&&(p|=g),d&&(p|=v),l=c[p]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=l.uuid,f=n.uuid,y=x[m];void 0===y&&(y={},x[m]=y);var w=y[f];void 0===w&&(w=l.clone(),y[f]=w),l=w}l.visible=n.visible,l.wireframe=n.wireframe;var E=n.side;return R.renderSingleSided&&E==Sr&&(E=Er),R.renderReverseSided&&(E===Er?E=Tr:E===Tr&&(E=Er)),l.side=E,l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=s,l.farDistance=o),l}function o(n,r,s,a){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);var c=t.update(n),u=n.material;if(Array.isArray(u))for(var h=c.groups,d=0,p=h.length;d<p;d++){var m=h[d],g=u[m.materialIndex];if(g&&g.visible){var v=i(n,g,a,f,s.near,s.far);e.renderBufferDirect(s,null,c,v,n,m)}}else if(u.visible){v=i(n,u,a,f,s.near,s.far);e.renderBufferDirect(s,null,c,v,n,null)}}for(var y=n.children,b=0,_=y.length;b<_;b++)o(y[b],r,s,a)}}for(var l=new re,c=new s,d=new r,p=new r(n,n),m=new a,f=new a,g=1,v=2,y=1+(g|v),b=new Array(y),_=new Array(y),x={},w=[new a(1,0,0),new a(-1,0,0),new a(0,0,1),new a(0,0,-1),new a(0,1,0),new a(0,-1,0)],E=[new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,1,0),new a(0,0,1),new a(0,0,-1)],T=[new u,new u,new u,new u,new u,new u],S=0;S!==y;++S){var k=0!=(S&g),A=0!=(S&v),C=new Q({depthPacking:vo,morphTargets:k,skinning:A});b[S]=C;var M=new ee({morphTargets:k,skinning:A});_[S]=M}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xr,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,i){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var r=e.context,s=e.state;s.disable(r.BLEND),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var a,u=0,g=t.length;u<g;u++){var v=t[u],y=v.shadow,b=v&&v.isPointLight;if(void 0!==y){var _=y.camera;if(d.copy(y.mapSize),d.min(p),b){var x=d.x,S=d.y;T[0].set(2*x,S,x,S),T[1].set(0,S,x,S),T[2].set(3*x,S,x,S),T[3].set(x,S,x,S),T[4].set(3*x,0,x,S),T[5].set(x,0,x,S),d.x*=4,d.y*=2}if(null===y.map){var k={minFilter:Es,magFilter:Es,format:Gs};y.map=new h(d.x,d.y,k),y.map.texture.name=v.name+".shadowMap",_.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var A=y.map,C=y.matrix;f.setFromMatrixPosition(v.matrixWorld),_.position.copy(f),b?(a=6,C.makeTranslation(-f.x,-f.y,-f.z)):(a=1,m.setFromMatrixPosition(v.target.matrixWorld),_.lookAt(m),_.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(_.projectionMatrix),C.multiply(_.matrixWorldInverse)),e.setRenderTarget(A),e.clear();for(var M=0;M<a;M++){if(b){m.copy(_.position),m.add(w[M]),_.up.copy(E[M]),_.lookAt(m),_.updateMatrixWorld();var L=T[M];s.viewport(L)}c.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),l.setFromMatrix(c),o(n,i,_,b)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}R.needsUpdate=!1}}}function oe(e){var t={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t[e.uuid]},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t[n.uuid];i&&(e.deleteBuffer(i.buffer),delete t[n.uuid])},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t[n.uuid];void 0===r?t[n.uuid]=function(t,n){var i=t.array,r=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,s=e.createBuffer();e.bindBuffer(n,s),e.bufferData(n,i,r),t.onUploadCallback();var o=e.FLOAT;return i instanceof Float32Array?o=e.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=e.UNSIGNED_SHORT:i instanceof Int16Array?o=e.SHORT:i instanceof Uint32Array?o=e.UNSIGNED_INT:i instanceof Int32Array?o=e.INT:i instanceof Int8Array?o=e.BYTE:i instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),{buffer:s,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(n,i):r.version<n.version&&(function(t,n,i){var r=n.array,s=n.updateRange;e.bindBuffer(i,t),!1===n.dynamic?e.bufferData(i,r,e.STATIC_DRAW):-1===s.count?e.bufferSubData(i,0,r):0===s.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,s.offset*r.BYTES_PER_ELEMENT,r.subarray(s.offset,s.offset+s.count)),s.count=-1)}(r.buffer,n,i),r.version=n.version)}}}function ae(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||ae.DefaultOrder}function le(){this.mask=1}function ce(){Object.defineProperty(this,"id",{value:Oo++}),this.uuid=yo.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ce.DefaultUp.clone();var e=new a,t=new ae,n=new o,i=new a(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new s},normalMatrix:{value:new l}}),this.matrix=new s,this.matrixWorld=new s,this.matrixAutoUpdate=ce.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new le,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ue(){ce.call(this),this.type="Camera",this.matrixWorldInverse=new s,this.projectionMatrix=new s}function he(e,t,n,i,r,s){ue.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==s?s:2e3,this.updateProjectionMatrix()}function de(e,t,n,i,r,s){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new a,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new q,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==s?s:0}function pe(){Object.defineProperty(this,"id",{value:Do+=2}),this.uuid=yo.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function me(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=yo.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function fe(e,t,n){me.call(this,new Int8Array(e),t,n)}function ge(e,t,n){me.call(this,new Uint8Array(e),t,n)}function ve(e,t,n){me.call(this,new Uint8ClampedArray(e),t,n)}function ye(e,t,n){me.call(this,new Int16Array(e),t,n)}function be(e,t,n){me.call(this,new Uint16Array(e),t,n)}function _e(e,t,n){me.call(this,new Int32Array(e),t,n)}function xe(e,t,n){me.call(this,new Uint32Array(e),t,n)}function we(e,t,n){me.call(this,new Float32Array(e),t,n)}function Ee(e,t,n){me.call(this,new Float64Array(e),t,n)}function Te(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function ke(){Object.defineProperty(this,"id",{value:Fo+=2}),this.uuid=yo.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ae(e,t,n,i,r,s){pe.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s},this.fromBufferGeometry(new Ce(e,t,n,i,r,s)),this.mergeVertices()}function Ce(e,t,n,i,r,s){function o(e,t,n,i,r,s,o,f,g,v,y){var b,_,x=s/g,w=o/v,E=s/2,T=o/2,S=f/2,k=g+1,A=v+1,C=0,M=0,R=new a;for(_=0;_<A;_++){var L=_*w-T;for(b=0;b<k;b++){var P=b*x-E;R[e]=P*i,R[t]=L*r,R[n]=S,u.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[n]=f>0?1:-1,h.push(R.x,R.y,R.z),d.push(b/g),d.push(1-_/v),C+=1}}for(_=0;_<v;_++)for(b=0;b<g;b++){var O=p+b+k*_,D=p+b+k*(_+1),F=p+(b+1)+k*(_+1),I=p+(b+1)+k*_;c.push(O,D,I),c.push(D,F,I),M+=6}l.addGroup(m,M,y),m+=M,p+=C}ke.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};var l=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1;var c=[],u=[],h=[],d=[],p=0,m=0;o("z","y","x",-1,-1,n,t,e,s=Math.floor(s)||1,r,0),o("z","y","x",1,-1,n,t,-e,s,r,1),o("x","z","y",1,1,e,n,t,i,s,2),o("x","z","y",1,-1,e,n,-t,i,s,3),o("x","y","z",1,-1,e,t,n,i,r,4),o("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(c),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(h,3)),this.addAttribute("uv",new we(d,2))}function Me(e,t,n,i){pe.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Re(e,t,n,i)),this.mergeVertices()}function Re(e,t,n,i){ke.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,s,o=(e=e||1)/2,a=(t=t||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,d=e/l,p=t/c,m=[],f=[],g=[],v=[];for(s=0;s<h;s++){var y=s*p-a;for(r=0;r<u;r++){var b=r*d-o;f.push(b,-y,0),g.push(0,0,1),v.push(r/l),v.push(1-s/c)}}for(s=0;s<c;s++)for(r=0;r<l;r++){var _=r+u*s,x=r+u*(s+1),w=r+1+u*(s+1),E=r+1+u*s;m.push(_,x,E),m.push(x,w,E)}this.setIndex(m),this.addAttribute("position",new we(f,3)),this.addAttribute("normal",new we(g,3)),this.addAttribute("uv",new we(v,2))}function Le(e){J.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ss,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Pe(e){J.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Oe(e,t){this.origin=void 0!==e?e:new a,this.direction=void 0!==t?t:new a}function De(e,t){this.start=void 0!==e?e:new a,this.end=void 0!==t?t:new a}function Fe(e,t,n){this.a=void 0!==e?e:new a,this.b=void 0!==t?t:new a,this.c=void 0!==n?n:new a}function Ie(e,t){ce.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new Le({color:16777215*Math.random()}),this.drawMode=so,this.updateMorphTargets()}function Ne(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Be(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function je(){var e={};return{get:function(t,n){var i=t.id+","+n.id,r=e[i];return void 0===r&&(r=new function(){var e=[],t=0,n=[],i=[];return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(r,s,o,a,l){var c=e[t];void 0===c?(c={id:r.id,object:r,geometry:s,material:o,program:o.program,renderOrder:r.renderOrder,z:a,group:l},e[t]=c):(c.id=r.id,c.object=r,c.geometry=s,c.material=o,c.program=o.program,c.renderOrder=r.renderOrder,c.z=a,c.group=l),(!0===o.transparent?i:n).push(c),t++},sort:function(){n.length>1&&n.sort(Ne),i.length>1&&i.sort(Be)}}},e[i]=r),r},dispose:function(){e={}}}}function ze(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ue(){var e=new function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new a,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new a,direction:new a,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new a,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new a,skyColor:new q,groundColor:new q};break;case"RectAreaLight":n={color:new q,position:new a,halfWidth:new a,halfHeight:new a}}return e[t.id]=n,n}}},t={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new a,i=new s,o=new s;return{setup:function(r,s,a){for(var l=0,c=0,u=0,h=0,d=0,p=0,m=0,f=0,g=a.matrixWorldInverse,v=0,y=r.length;v<y;v++){var b=r[v],_=b.color,x=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=_.r*x,c+=_.g*x,u+=_.b*x;else if(b.isDirectionalLight){if((S=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),S.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(g),S.shadow=b.castShadow,b.castShadow){var T=b.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize}t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=b.shadow.matrix,t.directional[h]=S,h++}else if(b.isSpotLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),S.color.copy(_).multiplyScalar(x),S.distance=w,S.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(g),S.coneCos=Math.cos(b.angle),S.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(T=b.shadow,S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize),t.spotShadowMap[p]=E,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=S,p++;else if(b.isRectAreaLight)(S=e.get(b)).color.copy(_).multiplyScalar(x/(b.width*b.height)),S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),o.identity(),i.copy(b.matrixWorld),i.premultiply(g),o.extractRotation(i),S.halfWidth.set(.5*b.width,0,0),S.halfHeight.set(0,.5*b.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),t.rectArea[m]=S,m++;else if(b.isPointLight)(S=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(g),S.color.copy(b.color).multiplyScalar(b.intensity),S.distance=b.distance,S.decay=0===b.distance?0:b.decay,S.shadow=b.castShadow,b.castShadow&&(T=b.shadow,S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,S.shadowCameraNear=T.camera.near,S.shadowCameraFar=T.camera.far),t.pointShadowMap[d]=E,t.pointShadowMatrix[d]=b.shadow.matrix,t.point[d]=S,d++;else if(b.isHemisphereLight){var S;(S=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),S.skyColor.copy(b.color).multiplyScalar(x),S.groundColor.copy(b.groundColor).multiplyScalar(x),t.hemi[f]=S,f++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=h,t.spot.length=p,t.rectArea.length=m,t.point.length=d,t.hemi.length=f,t.hash=h+","+d+","+p+","+m+","+f+","+s.length},state:t}}function Ve(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),i}function Ge(e){switch(e){case lo:return["Linear","( value )"];case co:return["sRGB","( value )"];case ho:return["RGBE","( value )"];case po:return["RGBM","( value, 7.0 )"];case mo:return["RGBM","( value, 16.0 )"];case fo:return["RGBD","( value, 256.0 )"];case uo:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function He(e,t){var n=Ge(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function We(e){return""!==e}function $e(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function qe(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){var n=Ro[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return qe(n)})}function Xe(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[ i \]/g,"[ "+s+" ]");return r})}function Ye(e,t,n,i,r,s){var o=e.context,a=i.defines,l=r.vertexShader,c=r.fragmentShader,u="SHADOWMAP_TYPE_BASIC";s.shadowMapType===xr?u="SHADOWMAP_TYPE_PCF":s.shadowMapType===wr&&(u="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(s.envMap){switch(i.envMap.mapping){case ps:case ms:h="ENVMAP_TYPE_CUBE";break;case ys:case bs:h="ENVMAP_TYPE_CUBE_UV";break;case fs:case gs:h="ENVMAP_TYPE_EQUIREC";break;case vs:h="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case ms:case gs:d="ENVMAP_MODE_REFRACTION"}switch(i.combine){case ss:p="ENVMAP_BLENDING_MULTIPLY";break;case os:p="ENVMAP_BLENDING_MIX";break;case as:p="ENVMAP_BLENDING_ADD"}}var m,f,g=e.gammaFactor>0?e.gammaFactor:1,v=function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(We).join("\n")}(i.extensions,s,t),y=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(a),b=o.createProgram();i.isRawShaderMaterial?((m=[y].filter(We).join("\n")).length>0&&(m+="\n"),(f=[v,y].filter(We).join("\n")).length>0&&(f+="\n")):(m=["precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,y,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+s.maxBones,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+d:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.displacementMap&&s.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&!1===s.flatShading?"#define USE_MORPHNORMALS":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+s.numClippingPlanes,s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+u:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(We).join("\n"),f=[v,"precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,y,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"","#define GAMMA_FACTOR "+g,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+h:"",s.envMap?"#define "+d:"",s.envMap?"#define "+p:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+s.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(s.numClippingPlanes-s.numClipIntersection),s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+u:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",s.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",s.toneMapping!==ls?"#define TONE_MAPPING":"",s.toneMapping!==ls?Ro.tonemapping_pars_fragment:"",s.toneMapping!==ls?function(e,t){var n;switch(t){case cs:n="Linear";break;case us:n="Reinhard";break;case hs:n="Uncharted2";break;case ds:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.outputEncoding||s.mapEncoding||s.envMapEncoding||s.emissiveMapEncoding?Ro.encodings_pars_fragment:"",s.mapEncoding?He("mapTexelToLinear",s.mapEncoding):"",s.envMapEncoding?He("envMapTexelToLinear",s.envMapEncoding):"",s.emissiveMapEncoding?He("emissiveMapTexelToLinear",s.emissiveMapEncoding):"",s.outputEncoding?function(e,t){var n=Ge(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}("linearToOutputTexel",s.outputEncoding):"",s.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(We).join("\n")),l=$e(l=qe(l),s),c=$e(c=qe(c),s),i.isShaderMaterial||(l=Xe(l),c=Xe(c));var _=m+l,x=f+c,w=Ve(o,o.VERTEX_SHADER,_),E=Ve(o,o.FRAGMENT_SHADER,x);o.attachShader(b,w),o.attachShader(b,E),void 0!==i.index0AttributeName?o.bindAttribLocation(b,0,i.index0AttributeName):!0===s.morphTargets&&o.bindAttribLocation(b,0,"position"),o.linkProgram(b);var T=o.getProgramInfoLog(b),S=o.getShaderInfoLog(w),k=o.getShaderInfoLog(E),A=!0,C=!0;!1===o.getProgramParameter(b,o.LINK_STATUS)?(A=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(b,o.VALIDATE_STATUS),"gl.getProgramInfoLog",T,S,k)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==S&&""!==k||(C=!1),C&&(this.diagnostics={runnable:A,material:i,programLog:T,vertexShader:{log:S,prefix:m},fragmentShader:{log:k,prefix:f}}),o.deleteShader(w),o.deleteShader(E);var M;this.getUniforms=function(){return void 0===M&&(M=new $(o,b,e)),M};var R;return this.getAttributes=function(){return void 0===R&&(R=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}(o,b)),R},this.destroy=function(){o.deleteProgram(b),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Io++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=w,this.fragmentShader=E,this}function Ke(e,t,n){function i(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=lo,n===lo&&t&&(n=uo),n}var r=[],s={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,r,o,a,l,c,u){var h=s[t.type],d=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,r=Math.floor((i-20)/4),s=Math.min(r,t.length);return s<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+s+"."),0):s}(u):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var m=e.getRenderTarget();return{shaderID:h,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:i(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===ys||t.envMap.mapping===bs),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!a,useFog:t.fog,fogExp:a&&a.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Sr,flipSided:t.side===Tr,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var s=0;s<o.length;s++)i.push(n[o[s]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.join()},this.acquireProgram=function(n,i,s,o){for(var a,l=0,c=r.length;l<c;l++){var u=r[l];if(u.code===o){++(a=u).usedTimes;break}}return void 0===a&&(a=new Ye(e,t,o,n,i,s),r.push(a)),a},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Ze(e,t,n,i,r,s,o){function a(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(e.width*n),i.height=Math.floor(e.height*n);return i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e),i}return e}function l(e){return yo.isPowerOfTwo(e.width)&&yo.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&e.minFilter!==Es&&e.minFilter!==ks}function u(t){return t===Es||t===Ts||t===Ss?e.NEAREST:e.LINEAR}function h(t){var n=t.target;n.removeEventListener("dispose",h),function(t){var n=i.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}i.remove(t)}(n),n.isVideoTexture&&delete b[n.id],o.textures--}function d(t){var n=t.target;n.removeEventListener("dispose",d),function(t){var n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var s=0;s<6;s++)e.deleteFramebuffer(n.__webglFramebuffer[s]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[s]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}(n),o.textures--}function p(t,u){var d=i.get(t);if(t.version>0&&d.__version!==t.version){var p=t.image;if(void 0===p)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==p.complete)return void function(t,i,u){void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",h),t.__webglTexture=e.createTexture(),i.isVideoTexture&&(b[i.id]=i),o.textures++);n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment);var d=a(i.image,r.maxTextureSize);(function(e){return e.wrapS!==xs||e.wrapT!==xs||e.minFilter!==Es&&e.minFilter!==ks})(i)&&!1===l(d)&&(d=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=yo.floorPowerOfTwo(e.width),t.height=yo.floorPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}(d));var p=l(d),f=s.convert(i.format),g=s.convert(i.type);m(e.TEXTURE_2D,i,p);var v,_=i.mipmaps;if(i.isDepthTexture){var x=e.DEPTH_COMPONENT;if(i.type===Fs){if(!y)throw new Error("Float Depth Texture only supported in WebGL2.0");x=e.DEPTH_COMPONENT32F}else y&&(x=e.DEPTH_COMPONENT16);i.format===$s&&x===e.DEPTH_COMPONENT&&i.type!==Ps&&i.type!==Ds&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Ps,g=s.convert(i.type)),i.format===qs&&(x=e.DEPTH_STENCIL,i.type!==zs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=zs,g=s.convert(i.type))),n.texImage2D(e.TEXTURE_2D,0,x,d.width,d.height,0,f,g,null)}else if(i.isDataTexture)if(_.length>0&&p){for(var w=0,E=_.length;w<E;w++)v=_[w],n.texImage2D(e.TEXTURE_2D,w,f,v.width,v.height,0,f,g,v.data);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,d.width,d.height,0,f,g,d.data);else if(i.isCompressedTexture)for(var w=0,E=_.length;w<E;w++)v=_[w],i.format!==Gs&&i.format!==Vs?n.getCompressedTextureFormats().indexOf(f)>-1?n.compressedTexImage2D(e.TEXTURE_2D,w,f,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,w,f,v.width,v.height,0,f,g,v.data);else if(_.length>0&&p){for(var w=0,E=_.length;w<E;w++)v=_[w],n.texImage2D(e.TEXTURE_2D,w,f,f,g,v);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,f,g,d);c(i,p)&&e.generateMipmap(e.TEXTURE_2D);t.__version=i.version,i.onUpdate&&i.onUpdate(i)}(d,t,u);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,d.__webglTexture)}function m(n,o,a){var l;if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,s.convert(o.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,s.convert(o.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,s.convert(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,s.convert(o.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o.wrapS===xs&&o.wrapT===xs||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),e.texParameteri(n,e.TEXTURE_MAG_FILTER,u(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,u(o.minFilter)),o.minFilter!==Es&&o.minFilter!==ks&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===Fs&&null===t.get("OES_texture_float_linear"))return;if(o.type===Is&&null===t.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function f(t,r,o,a){var l=s.convert(r.texture.format),c=s.convert(r.texture.type);n.texImage2D(a,0,l,r.width,r.height,0,l,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,a,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function g(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function v(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),p(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===$s)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==qs)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var s=0;s<6;s++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[s]),n.__webglDepthbuffer[s]=e.createRenderbuffer(),g(n.__webglDepthbuffer[s],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),g(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}var y="undefined"!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext,b={};this.setTexture2D=p,this.setTextureCube=function(t,u){var d=i.get(t);if(6===t.image.length)if(t.version>0&&d.__version!==t.version){d.__image__webglTextureCube||(t.addEventListener("dispose",h),d.__image__webglTextureCube=e.createTexture(),o.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,d.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var p=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,g=[],v=0;v<6;v++)g[v]=p||f?f?t.image[v].image:t.image[v]:a(t.image[v],r.maxCubemapSize);var y=l(g[0]),b=s.convert(t.format),_=s.convert(t.type);for(m(e.TEXTURE_CUBE_MAP,t,y),v=0;v<6;v++)if(p)for(var x,w=g[v].mipmaps,E=0,T=w.length;E<T;E++)x=w[E],t.format!==Gs&&t.format!==Vs?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,b,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,b,x.width,x.height,0,b,_,x.data);else f?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,b,g[v].width,g[v].height,0,b,_,g[v].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,b,b,_,g[v]);c(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),d.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_CUBE_MAP,d.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,i.get(t).__webglTexture)},this.setupRenderTarget=function(t){var r=i.get(t),s=i.get(t.texture);t.addEventListener("dispose",d),s.__webglTexture=e.createTexture(),o.textures++;var a=!0===t.isWebGLRenderTargetCube,u=l(t);if(a){r.__webglFramebuffer=[];for(var h=0;h<6;h++)r.__webglFramebuffer[h]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(a){for(n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture),m(e.TEXTURE_CUBE_MAP,t.texture,u),h=0;h<6;h++)f(r.__webglFramebuffer[h],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+h);c(t.texture,u)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,s.__webglTexture),m(e.TEXTURE_2D,t.texture,u),f(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),c(t.texture,u)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&v(t)},this.updateRenderTargetMipmap=function(t){var r=t.texture;if(c(r,l(t))){var s=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=i.get(r).__webglTexture;n.bindTexture(s,o),e.generateMipmap(s),n.bindTexture(s,null)}},this.updateVideoTextures=function(){for(var e in b)b[e].update()}}function Je(e,t,n,i){ue.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Qe(e){Je.call(this),this.cameras=e||[]}function et(e){function t(){if(null!==i&&i.isPresenting){var t=i.getEyeParameters("left"),r=t.renderWidth,s=t.renderHeight;p=e.getPixelRatio(),d=e.getSize(),e.setDrawingBufferSize(2*r,s,1)}else n.enabled&&e.setDrawingBufferSize(d.width,d.height,p)}var n=this,i=null,r=null,o=null;"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData);var a=new s,l=new Je;l.bounds=new u(0,0,.5,1),l.layers.enable(1);var c=new Je;c.bounds=new u(.5,0,.5,1),c.layers.enable(2);var h=new Qe([l,c]);h.layers.enable(1),h.layers.enable(2);var d,p;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e)},this.setPoseTarget=function(e){void 0!==e&&(o=e)},this.getCamera=function(e){if(null===i)return e;i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(r);var t=r.pose,n=null!==o?o:e;if(null!==t.position?n.position.fromArray(t.position):n.position.set(0,0,0),null!==t.orientation&&n.quaternion.fromArray(t.orientation),n.updateMatrixWorld(),!1===i.isPresenting)return e;l.near=e.near,c.near=e.near,l.far=e.far,c.far=e.far,h.matrixWorld.copy(e.matrixWorld),h.matrixWorldInverse.copy(e.matrixWorldInverse),l.matrixWorldInverse.fromArray(r.leftViewMatrix),c.matrixWorldInverse.fromArray(r.rightViewMatrix);var s=n.parent;null!==s&&(a.getInverse(s.matrixWorld),l.matrixWorldInverse.multiply(a),c.matrixWorldInverse.multiply(a)),l.matrixWorld.getInverse(l.matrixWorldInverse),c.matrixWorld.getInverse(c.matrixWorldInverse),l.projectionMatrix.fromArray(r.leftProjectionMatrix),c.projectionMatrix.fromArray(r.rightProjectionMatrix),h.projectionMatrix.copy(l.projectionMatrix);var u=i.getLayers();if(u.length){var d=u[0];null!==d.leftBounds&&4===d.leftBounds.length&&l.bounds.fromArray(d.leftBounds),null!==d.rightBounds&&4===d.rightBounds.length&&c.bounds.fromArray(d.rightBounds)}return h},this.submitFrame=function(){i&&i.isPresenting&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function tt(e){function t(){return null===N?Q:1}function n(){(ye=new function(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=e.getExtension("WEBGL_compressed_texture_etc1");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}(ge)).get("WEBGL_depth_texture"),ye.get("OES_texture_float"),ye.get("OES_texture_float_linear"),ye.get("OES_texture_half_float"),ye.get("OES_texture_half_float_linear"),ye.get("OES_standard_derivatives"),ye.get("OES_element_index_uint"),ye.get("ANGLE_instanced_arrays"),qe=new function(e,t){return{convert:function(n){var i;if(n===_s)return e.REPEAT;if(n===xs)return e.CLAMP_TO_EDGE;if(n===ws)return e.MIRRORED_REPEAT;if(n===Es)return e.NEAREST;if(n===Ts)return e.NEAREST_MIPMAP_NEAREST;if(n===Ss)return e.NEAREST_MIPMAP_LINEAR;if(n===ks)return e.LINEAR;if(n===As)return e.LINEAR_MIPMAP_NEAREST;if(n===Cs)return e.LINEAR_MIPMAP_LINEAR;if(n===Ms)return e.UNSIGNED_BYTE;if(n===Ns)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Bs)return e.UNSIGNED_SHORT_5_5_5_1;if(n===js)return e.UNSIGNED_SHORT_5_6_5;if(n===Rs)return e.BYTE;if(n===Ls)return e.SHORT;if(n===Ps)return e.UNSIGNED_SHORT;if(n===Os)return e.INT;if(n===Ds)return e.UNSIGNED_INT;if(n===Fs)return e.FLOAT;if(n===Is&&null!==(i=t.get("OES_texture_half_float")))return i.HALF_FLOAT_OES;if(n===Us)return e.ALPHA;if(n===Vs)return e.RGB;if(n===Gs)return e.RGBA;if(n===Hs)return e.LUMINANCE;if(n===Ws)return e.LUMINANCE_ALPHA;if(n===$s)return e.DEPTH_COMPONENT;if(n===qs)return e.DEPTH_STENCIL;if(n===Fr)return e.FUNC_ADD;if(n===Ir)return e.FUNC_SUBTRACT;if(n===Nr)return e.FUNC_REVERSE_SUBTRACT;if(n===zr)return e.ZERO;if(n===Ur)return e.ONE;if(n===Vr)return e.SRC_COLOR;if(n===Gr)return e.ONE_MINUS_SRC_COLOR;if(n===Hr)return e.SRC_ALPHA;if(n===Wr)return e.ONE_MINUS_SRC_ALPHA;if(n===$r)return e.DST_ALPHA;if(n===qr)return e.ONE_MINUS_DST_ALPHA;if(n===Xr)return e.DST_COLOR;if(n===Yr)return e.ONE_MINUS_DST_COLOR;if(n===Kr)return e.SRC_ALPHA_SATURATE;if((n===Xs||n===Ys||n===Ks||n===Zs)&&null!==(i=t.get("WEBGL_compressed_texture_s3tc"))){if(n===Xs)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ys)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ks)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Zs)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===Js||n===Qs||n===eo||n===to)&&null!==(i=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===Js)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Qs)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===eo)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===to)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===no&&null!==(i=t.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((n===Br||n===jr)&&null!==(i=t.get("EXT_blend_minmax"))){if(n===Br)return i.MIN_EXT;if(n===jr)return i.MAX_EXT}return n===zs&&null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:0}}}(ge,ye),_e=new function(e,t,n){function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var r,s=void 0!==n.precision?n.precision:"highp",o=i(s);o!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",o,"instead."),s=o);var a=!0===n.logarithmicDepthBuffer,l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),f=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,v=!!t.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:s,logarithmicDepthBuffer:a,maxTextures:l,maxVertexTextures:c,maxTextureSize:u,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:f,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}(ge,ye,e),(we=new function(e,t,n){function i(t,n,i){var r=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<i;o++)e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return s}function r(t){!0!==b[t]&&(e.enable(t),b[t]=!0)}function s(t){!1!==b[t]&&(e.disable(t),b[t]=!1)}function o(t,i,o,a,l,c,u,h){if(t!==Mr?r(e.BLEND):s(e.BLEND),t!==Dr){if(t!==w||h!==M)switch(t){case Lr:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case Pr:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case Or:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}E=null,T=null,S=null,k=null,A=null,C=null}else l=l||i,c=c||o,u=u||a,i===E&&l===k||(e.blendEquationSeparate(n.convert(i),n.convert(l)),E=i,k=l),o===T&&a===S&&c===A&&u===C||(e.blendFuncSeparate(n.convert(o),n.convert(a),n.convert(c),n.convert(u)),T=o,S=a,A=c,C=u);w=t,M=h}function a(t){R!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),R=t)}function l(t){t!==vr?(r(e.CULL_FACE),t!==L&&(t===yr?e.cullFace(e.BACK):t===br?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):s(e.CULL_FACE),L=t}function c(t,n,i){t?(r(e.POLYGON_OFFSET_FILL),O===n&&D===i||(e.polygonOffset(n,i),O=n,D=i)):s(e.POLYGON_OFFSET_FILL)}function h(t){void 0===t&&(t=e.TEXTURE0+F-1),B!==t&&(e.activeTexture(t),B=t)}var d=new function(){var t=!1,n=new u,i=null,r=new u(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,s,o,a){!0===a&&(t*=o,i*=o,s*=o),n.set(t,i,s,o),!1===r.equals(n)&&(e.clearColor(t,i,s,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},p=new function(){var t=!1,n=null,i=null,o=null;return{setTest:function(t){t?r(e.DEPTH_TEST):s(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case Zr:e.depthFunc(e.NEVER);break;case Jr:e.depthFunc(e.ALWAYS);break;case Qr:e.depthFunc(e.LESS);break;case es:e.depthFunc(e.LEQUAL);break;case ts:e.depthFunc(e.EQUAL);break;case ns:e.depthFunc(e.GEQUAL);break;case is:e.depthFunc(e.GREATER);break;case rs:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);i=t}},setLocked:function(e){t=e},setClear:function(t){o!==t&&(e.clearDepth(t),o=t)},reset:function(){t=!1,n=null,i=null,o=null}}},m=new function(){var t=!1,n=null,i=null,o=null,a=null,l=null,c=null,u=null,h=null;return{setTest:function(t){t?r(e.STENCIL_TEST):s(e.STENCIL_TEST)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,r){i===t&&o===n&&a===r||(e.stencilFunc(t,n,r),i=t,o=n,a=r)},setOp:function(t,n,i){l===t&&c===n&&u===i||(e.stencilOp(t,n,i),l=t,c=n,u=i)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,n=null,i=null,o=null,a=null,l=null,c=null,u=null,h=null}}},f=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),v=new Uint8Array(f),y=new Uint8Array(f),b={},_=null,x=null,w=null,E=null,T=null,S=null,k=null,A=null,C=null,M=!1,R=null,L=null,P=null,O=null,D=null,F=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),N=parseFloat(I)>=1,B=null,j={},z=new u,U=new u,V={};return V[e.TEXTURE_2D]=i(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=i(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),d.setClear(0,0,0,1),p.setClear(1),m.setClear(0),r(e.DEPTH_TEST),p.setFunc(es),a(!1),l(yr),r(e.CULL_FACE),r(e.BLEND),o(Rr),{buffers:{color:d,depth:p,stencil:m},initAttributes:function(){for(var e=0,t=g.length;e<t;e++)g[e]=0},enableAttribute:function(n){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),0!==y[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),y[n]=0)},enableAttributeAndDivisor:function(n,i){g[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),y[n]!==i&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,i),y[n]=i)},disableUnusedAttributes:function(){for(var t=0,n=v.length;t!==n;++t)v[t]!==g[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:r,disable:s,getCompressedTextureFormats:function(){if(null===_&&(_=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)_.push(n[i]);return _},useProgram:function(t){return x!==t&&(e.useProgram(t),x=t,!0)},setBlending:o,setMaterial:function(t,n){t.side===Sr?s(e.CULL_FACE):r(e.CULL_FACE);var i=t.side===Tr;n&&(i=!i),a(i),!0===t.transparent?o(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):o(Mr),p.setFunc(t.depthFunc),p.setTest(t.depthTest),p.setMask(t.depthWrite),d.setMask(t.colorWrite),c(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:a,setCullFace:l,setLineWidth:function(t){t!==P&&(N&&e.lineWidth(t),P=t)},setPolygonOffset:c,setScissorTest:function(t){t?r(e.SCISSOR_TEST):s(e.SCISSOR_TEST)},activeTexture:h,bindTexture:function(t,n){null===B&&h();var i=j[B];void 0===i&&(i={type:void 0,texture:void 0},j[B]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||V[t]),i.type=t,i.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);b={},_=null,B=null,j={},x=null,w=null,R=null,L=null,d.reset(),p.reset(),m.reset()}}}(ge,ye,qe)).scissor(H.copy(te).multiplyScalar(Q)),we.viewport(G.copy(ee).multiplyScalar(Q)),Ee=new function(){var e={};return{get:function(t){var n=t.uuid,i=e[n];return void 0===i&&(i={},e[n]=i),i},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}},Te=new Ze(ge,ye,we,Ee,_e,qe,me),Ae=new oe(ge),Me=new function(e,t,n){function i(e){var o=e.target,a=r[o.id];null!==a.index&&t.remove(a.index);for(var l in a.attributes)t.remove(a.attributes[l]);o.removeEventListener("dispose",i),delete r[o.id];var c=s[o.id];c&&(t.remove(c),delete s[o.id]),(c=s[a.id])&&(t.remove(c),delete s[a.id]),n.geometries--}var r={},s={};return{get:function(e,t){var s=r[t.id];return s||(t.addEventListener("dispose",i),t.isBufferGeometry?s=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ke).setFromObject(e)),s=t._bufferGeometry),r[t.id]=s,n.geometries++,s)},update:function(n){var i=n.index,r=n.attributes;null!==i&&t.update(i,e.ELEMENT_ARRAY_BUFFER);for(var s in r)t.update(r[s],e.ARRAY_BUFFER);var o=n.morphAttributes;for(var s in o)for(var a=o[s],l=0,c=a.length;l<c;l++)t.update(a[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var i=s[n.id];if(i)return i;var r=[],o=n.index,a=n.attributes;if(null!==o)for(var l=0,c=(p=o.array).length;l<c;l+=3){var u=p[l+0],h=p[l+1],d=p[l+2];r.push(u,h,h,d,d,u)}else{var p;for(l=0,c=(p=a.position.array).length/3-1;l<c;l+=3)u=l+0,h=l+1,d=l+2,r.push(u,h,h,d,d,u)}return i=new(Se(r)>65535?xe:be)(r,1),t.update(i,e.ELEMENT_ARRAY_BUFFER),s[n.id]=i,i}}}(ge,Ae,me),Oe=new function(e,t){var n={};return{update:function(i){var r=t.frame,s=i.geometry,o=e.get(i,s);return n[o.id]!==r&&(s.isGeometry&&o.updateFromObject(i),e.update(o),n[o.id]=r),o},clear:function(){n={}}}}(Me,fe),Ve=new function(e){var t={},n=new Float32Array(8);return{update:function(i,r,s,o){var a=i.morphTargetInfluences,l=a.length,c=t[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[r.id]=c}var h=s.morphTargets&&r.morphAttributes.position,d=s.morphNormals&&r.morphAttributes.normal;for(u=0;u<l;u++)0!==(p=c[u])[1]&&(h&&r.removeAttribute("morphTarget"+u),d&&r.removeAttribute("morphNormal"+u));for(u=0;u<l;u++)(p=c[u])[0]=u,p[1]=a[u];for(c.sort(ze),u=0;u<8;u++){var p;if(p=c[u]){var m=p[0],f=p[1];if(f){h&&r.addAttribute("morphTarget"+u,h[m]),d&&r.addAttribute("morphNormal"+u,d[m]),n[u]=f;continue}}n[u]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}(ge),Fe=new Ke(F,ye,_e),De=new Ue,Ne=new je,Be=new function(e,t,n,i){function r(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}var s,o,a,l=new q(0),c=0;return{getClearColor:function(){return l},setClearColor:function(e,t){l.set(e),r(l,c=void 0!==t?t:1)},getClearAlpha:function(){return c},setClearAlpha:function(e){r(l,c=e)},render:function(t,i,u,h){var d=i.background;null===d?r(l,c):d&&d.isColor&&(r(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&d.isCubeTexture?(void 0===a&&((a=new Ie(new Ce(1,1,1),new Pe({uniforms:Lo.cube.uniforms,vertexShader:Lo.cube.vertexShader,fragmentShader:Lo.cube.fragmentShader,side:Tr,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(a.geometry)),a.material.uniforms.tCube.value=d,t.push(a,a.geometry,a.material,0,null)):d&&d.isTexture&&(void 0===s&&(s=new he(-1,1,1,-1,0,1),o=new Ie(new Re(2,2),new Le({depthTest:!1,depthWrite:!1,fog:!1})),n.update(o.geometry)),o.material.map=d,e.renderBufferDirect(s,null,o.geometry,o.material,o,null))}}}(F,we,Me,A),Ge=new function(e,t,n){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.calls++,n.vertices+=r,i===e.TRIANGLES?n.faces+=r/3:i===e.POINTS&&(n.points+=r)},this.renderInstances=function(r,s,o){var a=t.get("ANGLE_instanced_arrays");if(null!==a){var l=r.attributes.position;l.isInterleavedBufferAttribute?(o=l.data.count,a.drawArraysInstancedANGLE(i,0,o,r.maxInstancedCount)):a.drawArraysInstancedANGLE(i,s,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,i===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:i===e.POINTS&&(n.points+=r.maxInstancedCount*o)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}(ge,ye,fe),He=new function(e,t,n){var i,r,s;this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,s=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*s),n.calls++,n.vertices+=o,i===e.TRIANGLES?n.faces+=o/3:i===e.POINTS&&(n.points+=o)},this.renderInstances=function(o,a,l){var c=t.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(i,l,r,a*s,o.maxInstancedCount),n.calls++,n.vertices+=l*o.maxInstancedCount,i===e.TRIANGLES?n.faces+=o.maxInstancedCount*l/3:i===e.POINTS&&(n.points+=o.maxInstancedCount*l)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}(ge,ye,fe),We=new Y(F,ge,we,Te,_e),$e=new Z(F,ge,we,Te,_e),F.info.programs=Fe.programs,F.context=ge,F.capabilities=_e,F.extensions=ye,F.properties=Ee,F.renderLists=Ne,F.state=we}function i(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1,n()}function o(e){var t=e.target;t.removeEventListener("dispose",o),function(e){c(e),Ee.remove(e)}(t)}function c(e){var t=Ee.get(e).program;e.program=void 0,void 0!==t&&Fe.releaseProgram(t)}function h(e){null!==Qe&&Qe(e);var t=Xe.getDevice();t&&t.isPresenting?t.requestAnimationFrame(h):window.requestAnimationFrame(h)}function d(e,t,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isLight)R.push(e),e.castShadow&&L.push(e);else if(e.isSprite)e.frustumCulled&&!ae.intersectsSprite(e)||O.push(e);else if(e.isLensFlare)D.push(e);else if(e.isImmediateRenderObject)n&&pe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(de),P.push(e,null,e.material,pe.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||ae.intersectsObject(e))){n&&pe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(de);var i=Oe.update(e),r=e.material;if(Array.isArray(r))for(var s=i.groups,o=0,a=s.length;o<a;o++){var l=s[o],c=r[l.materialIndex];c&&c.visible&&P.push(e,i,c,pe.z,l)}else r.visible&&P.push(e,i,r,pe.z,null)}var u=e.children;for(o=0,a=u.length;o<a;o++)d(u[o],t,n)}}function m(e,t,n,i){for(var r=0,s=e.length;r<s;r++){var o=e[r],a=o.object,l=o.geometry,c=void 0===i?o.material:i,u=o.group;if(n.isArrayCamera){V=n;for(var h=n.cameras,d=0,p=h.length;d<p;d++){var m=h[d];if(a.layers.test(m.layers)){var g=m.bounds,v=g.x*K,y=g.y*J,b=g.z*K,_=g.w*J;we.viewport(G.set(v,y,b,_).multiplyScalar(Q)),f(a,t,m,l,c,u)}}}else V=null,f(a,t,n,l,c,u)}}function f(e,t,n,i,r,s){if(e.onBeforeRender(F,t,n,i,r,s),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=e.isMesh&&e.matrixWorld.determinant()<0;we.setMaterial(r,o);var a=v(n,t.fog,r,e);z="",function(e,t,n){e.render(function(e){F.renderBufferImmediate(e,t,n)})}(e,a,r)}else F.renderBufferDirect(n,t.fog,i,r,e,s);e.onAfterRender(F,t,n,i,r,s)}function g(e,t,n){var i=Ee.get(e),r=Fe.getParameters(e,De.state,L,t,le.numPlanes,le.numIntersection,n),s=Fe.getProgramCode(e,r),a=i.program,l=!0;if(void 0===a)e.addEventListener("dispose",o);else if(a.code!==s)c(e);else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var u=Lo[r.shaderID];i.shader={name:e.type,uniforms:Mo.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader),a=Fe.acquireProgram(e,i.shader,r,s),i.program=a,e.program=a}var h=a.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<F.maxMorphTargets;d++)h["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(d=0;d<F.maxMorphNormals;d++)h["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=le.numPlanes,i.numIntersection=le.numIntersection,p.clippingPlanes=le.uniform),i.fog=t,i.lightsHash=De.state.hash,e.lights&&(p.ambientLightColor.value=De.state.ambient,p.directionalLights.value=De.state.directional,p.spotLights.value=De.state.spot,p.rectAreaLights.value=De.state.rectArea,p.pointLights.value=De.state.point,p.hemisphereLights.value=De.state.hemi,p.directionalShadowMap.value=De.state.directionalShadowMap,p.directionalShadowMatrix.value=De.state.directionalShadowMatrix,p.spotShadowMap.value=De.state.spotShadowMap,p.spotShadowMatrix.value=De.state.spotShadowMatrix,p.pointShadowMap.value=De.state.pointShadowMap,p.pointShadowMatrix.value=De.state.pointShadowMatrix);var m=i.program.getUniforms(),f=$.seqWithValue(m.seq,p);i.uniformsList=f}function v(e,t,n,i){X=0;var r=Ee.get(n);if(ce&&(ue||e!==U)){var s=e===U&&n.id===j;le.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,s)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:n.lights&&r.lightsHash!==De.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===le.numPlanes&&r.numIntersection===le.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(g(n,t,i),n.needsUpdate=!1);var o=!1,a=!1,l=!1,c=r.program,u=c.getUniforms(),h=r.shader.uniforms;if(we.useProgram(c.program)&&(o=!0,a=!0,l=!0),n.id!==j&&(j=n.id,a=!0),o||e!==U){if(u.setValue(ge,"projectionMatrix",e.projectionMatrix),_e.logarithmicDepthBuffer&&u.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==(V||e)&&(U=V||e,a=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var d=u.map.cameraPosition;void 0!==d&&d.setValue(ge,pe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&u.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){u.setOptional(ge,i,"bindMatrix"),u.setOptional(ge,i,"bindMatrixInverse");var m=i.skeleton;if(m){var f=m.bones;if(_e.floatVertexTextures){if(void 0===m.boneTexture){var v=Math.sqrt(4*f.length);v=yo.ceilPowerOfTwo(v),v=Math.max(v,4);var x=new Float32Array(v*v*4);x.set(m.boneMatrices);var w=new p(x,v,v,Gs,Fs);m.boneMatrices=x,m.boneTexture=w,m.boneTextureSize=v}u.setValue(ge,"boneTexture",m.boneTexture),u.setValue(ge,"boneTextureSize",m.boneTextureSize)}else u.setOptional(ge,m,"boneMatrices")}}return a&&(u.setValue(ge,"toneMappingExposure",F.toneMappingExposure),u.setValue(ge,"toneMappingWhitePoint",F.toneMappingWhitePoint),n.lights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(h,l),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(h,t),n.isMeshBasicMaterial?y(h,n):n.isMeshLambertMaterial?(y(h,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(h,n)):n.isMeshPhongMaterial?(y(h,n),n.isMeshToonMaterial?function(e,t){b(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(h,n):b(h,n)):n.isMeshStandardMaterial?(y(h,n),n.isMeshPhysicalMaterial?function(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,_(e,t)}(h,n):_(h,n)):n.isMeshDepthMaterial?(y(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isMeshDistanceMaterial?(y(h,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(h,n)):n.isMeshNormalMaterial?(y(h,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(h,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(h,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(h,n)):n.isPointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*Q,e.scale.value=.5*J,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,i=t.map.repeat,r=t.map.rotation,s=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,s.x,s.y)}e.uvTransform.value.copy(t.map.matrix)}}(h,n):n.isShadowMaterial&&(h.color.value=n.color,h.opacity.value=n.opacity),void 0!==h.ltcMat&&(h.ltcMat.value=Co.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=Co.LTC_MAG_TEXTURE),$.upload(ge,r.uniformsList,h,F)),u.setValue(ge,"modelViewMatrix",i.modelViewMatrix),u.setValue(ge,"normalMatrix",i.normalMatrix),u.setValue(ge,"modelMatrix",i.matrixWorld),c}function y(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var i=n.offset,r=n.repeat,s=n.rotation,o=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,s,o.x,o.y)}e.uvTransform.value.copy(n.matrix)}}function b(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function _(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}console.log("THREE.WebGLRenderer",gr);var x=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),w=void 0!==e.context?e.context:null,E=void 0!==e.alpha&&e.alpha,T=void 0===e.depth||e.depth,S=void 0===e.stencil||e.stencil,k=void 0!==e.antialias&&e.antialias,A=void 0===e.premultipliedAlpha||e.premultipliedAlpha,C=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,M=void 0!==e.powerPreference?e.powerPreference:"default",R=[],L=[],P=null,O=[],D=[];this.domElement=x,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=cs,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var F=this,I=!1,N=null,B=null,j=-1,z="",U=null,V=null,G=new u,H=new u,W=null,X=0,K=x.width,J=x.height,Q=1,ee=new u(0,0,K,J),te=new u(0,0,K,J),ne=!1,ae=new re,le=new function(){function e(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function t(e,t,i,r){var s=null!==e?e.length:0,o=null;if(0!==s){if(o=u.value,!0!==r||null===o){var l=i+4*s,h=t.matrixWorldInverse;c.getNormalMatrix(h),(null===o||o.length<l)&&(o=new Float32Array(l));for(var d=0,p=i;d!==s;++d,p+=4)a.copy(e[d]).applyMatrix4(h,c),a.normal.toArray(o,p),o[p+3]=a.constant}u.value=o,u.needsUpdate=!0}return n.numPlanes=s,o}var n=this,i=null,r=0,s=!1,o=!1,a=new ie,c=new l,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,o){var a=0!==e.length||n||0!==r||s;return s=n,i=t(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,t(null)},this.endShadows=function(){o=!1,e()},this.setState=function(n,a,l,c,h,d){if(!s||null===n||0===n.length||o&&!l)o?t(null):e();else{var p=o?0:r,m=4*p,f=h.clippingState||null;u.value=f,f=t(n,c,m,d);for(var g=0;g!==m;++g)f[g]=i[g];h.clippingState=f,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}},ce=!1,ue=!1,de=new s,pe=new a,me={geometries:0,textures:0},fe={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:fe,memory:me,programs:null};var ge;try{var ve={alpha:E,depth:T,stencil:S,antialias:k,premultipliedAlpha:A,preserveDrawingBuffer:C,powerPreference:M};if(x.addEventListener("webglcontextlost",i,!1),x.addEventListener("webglcontextrestored",r,!1),null===(ge=w||x.getContext("webgl",ve)||x.getContext("experimental-webgl",ve)))throw null!==x.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}var ye,_e,we,Ee,Te,Ae,Me,Oe,De,Fe,Ne,Be,Ve,Ge,He,We,$e,qe;n();var Xe=new et(F);this.vr=Xe;var Ye=new se(F,Oe,_e.maxTextureSize);this.shadowMap=Ye,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){var e=ye.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ye.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(e){void 0!==e&&(Q=e,this.setSize(K,J,!1))},this.getSize=function(){return{width:K,height:J}},this.setSize=function(e,t,n){var i=Xe.getDevice();i&&i.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(K=e,J=t,x.width=e*Q,x.height=t*Q,!1!==n&&(x.style.width=e+"px",x.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:K*Q,height:J*Q}},this.setDrawingBufferSize=function(e,t,n){K=e,J=t,Q=n,x.width=e*n,x.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,i){ee.set(e,J-t-i,n,i),we.viewport(G.copy(ee).multiplyScalar(Q))},this.setScissor=function(e,t,n,i){te.set(e,J-t-i,n,i),we.scissor(H.copy(te).multiplyScalar(Q))},this.setScissorTest=function(e){we.setScissorTest(ne=e)},this.getClearColor=function(){return Be.getClearColor()},this.setClearColor=function(){Be.setClearColor.apply(Be,arguments)},this.getClearAlpha=function(){return Be.getClearAlpha()},this.setClearAlpha=function(){Be.setClearAlpha.apply(Be,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=ge.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=ge.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=ge.STENCIL_BUFFER_BIT),ge.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){x.removeEventListener("webglcontextlost",i,!1),x.removeEventListener("webglcontextrestored",r,!1),Ne.dispose(),Xe.dispose()},this.renderBufferImmediate=function(e,t,n){we.initAttributes();var i=Ee.get(e);e.hasPositions&&!i.position&&(i.position=ge.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=ge.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=ge.createBuffer()),e.hasColors&&!i.color&&(i.color=ge.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(ge.bindBuffer(ge.ARRAY_BUFFER,i.position),ge.bufferData(ge.ARRAY_BUFFER,e.positionArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.position),ge.vertexAttribPointer(r.position,3,ge.FLOAT,!1,0,0)),e.hasNormals){if(ge.bindBuffer(ge.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var s=0,o=3*e.count;s<o;s+=9){var a=e.normalArray,l=(a[s+0]+a[s+3]+a[s+6])/3,c=(a[s+1]+a[s+4]+a[s+7])/3,u=(a[s+2]+a[s+5]+a[s+8])/3;a[s+0]=l,a[s+1]=c,a[s+2]=u,a[s+3]=l,a[s+4]=c,a[s+5]=u,a[s+6]=l,a[s+7]=c,a[s+8]=u}ge.bufferData(ge.ARRAY_BUFFER,e.normalArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.normal),ge.vertexAttribPointer(r.normal,3,ge.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(ge.bindBuffer(ge.ARRAY_BUFFER,i.uv),ge.bufferData(ge.ARRAY_BUFFER,e.uvArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.uv),ge.vertexAttribPointer(r.uv,2,ge.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==kr&&(ge.bindBuffer(ge.ARRAY_BUFFER,i.color),ge.bufferData(ge.ARRAY_BUFFER,e.colorArray,ge.DYNAMIC_DRAW),we.enableAttribute(r.color),ge.vertexAttribPointer(r.color,3,ge.FLOAT,!1,0,0)),we.disableUnusedAttributes(),ge.drawArrays(ge.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,i,r,s,o){var a=s.isMesh&&s.matrixWorld.determinant()<0;we.setMaterial(r,a);var l=v(e,n,r,s),c=i.id+"_"+l.id+"_"+(!0===r.wireframe),u=!1;c!==z&&(z=c,u=!0),s.morphTargetInfluences&&(Ve.update(s,i,r,l),u=!0);var h=i.index,d=i.attributes.position,p=1;!0===r.wireframe&&(h=Me.getWireframeAttribute(i),p=2);var m,f=Ge;null!==h&&(m=Ae.get(h),(f=He).setIndex(m)),u&&(!function(e,t,n,i){if(n&&n.isInstancedBufferGeometry&&null===ye.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===i&&(i=0),we.initAttributes();var r=n.attributes,s=t.getAttributes(),o=e.defaultAttributeValues;for(var a in s){var l=s[a];if(l>=0){var c=r[a];if(void 0!==c){var u=c.normalized,h=c.itemSize,d=Ae.get(c);if(void 0===d)continue;var p=d.buffer,m=d.type,f=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,v=g.stride,y=c.offset;g&&g.isInstancedInterleavedBuffer?(we.enableAttributeAndDivisor(l,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):we.enableAttribute(l),ge.bindBuffer(ge.ARRAY_BUFFER,p),ge.vertexAttribPointer(l,h,m,u,v*f,(i*v+y)*f)}else c.isInstancedBufferAttribute?(we.enableAttributeAndDivisor(l,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):we.enableAttribute(l),ge.bindBuffer(ge.ARRAY_BUFFER,p),ge.vertexAttribPointer(l,h,m,u,0,i*h*f)}else if(void 0!==o){var b=o[a];if(void 0!==b)switch(b.length){case 2:ge.vertexAttrib2fv(l,b);break;case 3:ge.vertexAttrib3fv(l,b);break;case 4:ge.vertexAttrib4fv(l,b);break;default:ge.vertexAttrib1fv(l,b)}}}}we.disableUnusedAttributes()}}(r,l,i),null!==h&&ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,m.buffer));var g=0;null!==h?g=h.count:void 0!==d&&(g=d.count);var y=i.drawRange.start*p,b=i.drawRange.count*p,_=null!==o?o.start*p:0,x=null!==o?o.count*p:1/0,w=Math.max(y,_),E=Math.min(g,y+b,_+x)-1,T=Math.max(0,E-w+1);if(0!==T){if(s.isMesh)if(!0===r.wireframe)we.setLineWidth(r.wireframeLinewidth*t()),f.setMode(ge.LINES);else switch(s.drawMode){case so:f.setMode(ge.TRIANGLES);break;case oo:f.setMode(ge.TRIANGLE_STRIP);break;case ao:f.setMode(ge.TRIANGLE_FAN)}else if(s.isLine){var S=r.linewidth;void 0===S&&(S=1),we.setLineWidth(S*t()),s.isLineSegments?f.setMode(ge.LINES):s.isLineLoop?f.setMode(ge.LINE_LOOP):f.setMode(ge.LINE_STRIP)}else s.isPoints&&f.setMode(ge.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&f.renderInstances(i,w,T):f.render(w,T)}},this.compile=function(e,t){R.length=0,L.length=0,e.traverse(function(e){e.isLight&&(R.push(e),e.castShadow&&L.push(e))}),De.setup(R,L,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)g(t.material[n],e.fog,t);else g(t.material,e.fog,t)})};var Je=!1,Qe=null;this.animate=function(e){Qe=e,function(){if(!Je){var e=Xe.getDevice();e&&e.isPresenting?e.requestAnimationFrame(h):window.requestAnimationFrame(h),Je=!0}}()},this.render=function(e,t,n,i){if(t&&t.isCamera){if(!I){z="",j=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),Xe.enabled&&(t=Xe.getCamera(t)),de.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ae.setFromMatrix(de),R.length=0,L.length=0,O.length=0,D.length=0,ue=this.localClippingEnabled,ce=le.init(this.clippingPlanes,ue,t),(P=Ne.get(e,t)).init(),d(e,t,F.sortObjects),!0===F.sortObjects&&P.sort(),Te.updateVideoTextures(),ce&&le.beginShadows(),Ye.render(L,e,t),De.setup(R,L,t),ce&&le.endShadows(),fe.frame++,fe.calls=0,fe.vertices=0,fe.faces=0,fe.points=0,void 0===n&&(n=null),this.setRenderTarget(n),Be.render(P,e,t,i);var r=P.opaque,s=P.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;r.length&&m(r,e,t,o),s.length&&m(s,e,t,o)}else r.length&&m(r,e,t),s.length&&m(s,e,t);$e.render(O,e,t),We.render(D,e,t,G),n&&Te.updateRenderTargetMipmap(n),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1),Xe.enabled&&Xe.submitFrame()}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(e,t){we.setCullFace(e),we.setFlipSided(t===_r)},this.allocTextureUnit=function(){var e=X;return e>=_e.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+_e.maxTextures),X+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Te.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),Te.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Te.setTextureCube(t,n):Te.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return N},this.setRenderTarget=function(e){N=e,e&&void 0===Ee.get(e).__webglFramebuffer&&Te.setupRenderTarget(e);var t=null,n=!1;if(e){var i=Ee.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=i[e.activeCubeFace],n=!0):t=i,G.copy(e.viewport),H.copy(e.scissor),W=e.scissorTest}else G.copy(ee).multiplyScalar(Q),H.copy(te).multiplyScalar(Q),W=ne;if(B!==t&&(ge.bindFramebuffer(ge.FRAMEBUFFER,t),B=t),we.viewport(G),we.scissor(H),we.setScissorTest(W),n){var r=Ee.get(e.texture);ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,r,s){if(e&&e.isWebGLRenderTarget){var o=Ee.get(e).__webglFramebuffer;if(o){var a=!1;o!==B&&(ge.bindFramebuffer(ge.FRAMEBUFFER,o),a=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==Gs&&qe.convert(c)!==ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===Ms||qe.convert(u)===ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_TYPE)||u===Fs&&(ye.get("OES_texture_float")||ye.get("WEBGL_color_buffer_float"))||u===Is&&ye.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ge.checkFramebufferStatus(ge.FRAMEBUFFER)===ge.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&ge.readPixels(t,n,i,r,qe.convert(c),qe.convert(u),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&ge.bindFramebuffer(ge.FRAMEBUFFER,B)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function nt(e,t){this.name="",this.color=new q(e),this.density=void 0!==t?t:25e-5}function it(e,t,n){this.name="",this.color=new q(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function rt(){ce.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function st(e,t,n,i,r){ce.call(this),this.lensFlares=[],this.positionScreen=new a,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,i,r)}function ot(e){J.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function at(e){ce.call(this),this.type="Sprite",this.material=void 0!==e?e:new ot}function lt(){ce.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ct(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new s)}}function ut(){ce.call(this),this.type="Bone"}function ht(e,t){Ie.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new s,this.bindMatrixInverse=new s;var n=new ct(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function dt(e){J.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function pt(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new mt(e,t);ce.call(this),this.type="Line",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new dt({color:16777215*Math.random()})}function mt(e,t){pt.call(this,e,t),this.type="LineSegments"}function ft(e,t){pt.call(this,e,t),this.type="LineLoop"}function gt(e){J.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function vt(e,t){ce.call(this),this.type="Points",this.geometry=void 0!==e?e:new ke,this.material=void 0!==t?t:new gt({color:16777215*Math.random()})}function yt(){ce.call(this),this.type="Group"}function bt(e,t,n,i,r,s,o,a,l){function u(){e.removeEventListener("loadeddata",u,!1),h.needsUpdate=!0}c.call(this,e,t,n,i,r,s,o,a,l),this.generateMipmaps=!1;var h=this;e.addEventListener("loadeddata",u,!1)}function _t(e,t,n,i,r,s,o,a,l,u,h,d){c.call(this,null,s,o,a,l,u,i,r,h,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function xt(e,t,n,i,r,s,o,a,l,u){if((u=void 0!==u?u:$s)!==$s&&u!==qs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===$s&&(n=Ps),void 0===n&&u===qs&&(n=zs),c.call(this,null,i,r,s,o,a,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Es,this.minFilter=void 0!==a?a:Es,this.flipY=!1,this.generateMipmaps=!1}function wt(e){ke.call(this),this.type="WireframeGeometry";var t,n,i,r,s,o,l,c,u,h,d=[],p=[0,0],m={},f=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,i=g.length;t<i;t++){var v=g[t];for(n=0;n<3;n++)l=v[f[n]],c=v[f[(n+1)%3]],p[0]=Math.min(l,c),p[1]=Math.max(l,c),void 0===m[u=p[0]+","+p[1]]&&(m[u]={index1:p[0],index2:p[1]})}for(u in m)o=m[u],h=e.vertices[o.index1],d.push(h.x,h.y,h.z),h=e.vertices[o.index2],d.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,b,_,x,w,E,T;if(h=new a,null!==e.index){for(y=e.attributes.position,b=e.index,0===(_=e.groups).length&&(_=[{start:0,count:b.count,materialIndex:0}]),r=0,s=_.length;r<s;++r)for(t=w=(x=_[r]).start,i=w+x.count;t<i;t+=3)for(n=0;n<3;n++)l=b.getX(t+n),c=b.getX(t+(n+1)%3),p[0]=Math.min(l,c),p[1]=Math.max(l,c),void 0===m[u=p[0]+","+p[1]]&&(m[u]={index1:p[0],index2:p[1]});for(u in m)o=m[u],h.fromBufferAttribute(y,o.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,o.index2),d.push(h.x,h.y,h.z)}else for(t=0,i=(y=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)E=3*t+n,h.fromBufferAttribute(y,E),d.push(h.x,h.y,h.z),T=3*t+(n+1)%3,h.fromBufferAttribute(y,T),d.push(h.x,h.y,h.z)}this.addAttribute("position",new we(d,3))}function Et(e,t,n){pe.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Tt(e,t,n)),this.mergeVertices()}function Tt(e,t,n){ke.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,s=[],o=[],l=[],c=[],u=new a,h=new a,d=new a,p=new a,m=new a,f=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var v=r/t;h=e(v,g,h),o.push(h.x,h.y,h.z),v-1e-5>=0?(d=e(v-1e-5,g,d),p.subVectors(h,d)):(d=e(v+1e-5,g,d),p.subVectors(d,h)),g-1e-5>=0?(d=e(v,g-1e-5,d),m.subVectors(h,d)):(d=e(v,g+1e-5,d),m.subVectors(d,h)),u.crossVectors(p,m).normalize(),l.push(u.x,u.y,u.z),c.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var y=i*f+r,b=i*f+r+1,_=(i+1)*f+r+1,x=(i+1)*f+r;s.push(y,b,x),s.push(b,_,x)}this.setIndex(s),this.addAttribute("position",new we(o,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(c,2))}function St(e,t,n,i){pe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new kt(e,t,n,i)),this.mergeVertices()}function kt(e,t,n,i){function s(e){u.push(e.x,e.y,e.z)}function o(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function l(e,t,n,i){i<0&&1===e.x&&(h[t]=e.x-1),0===n.x&&0===n.z&&(h[t]=i/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}ke.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var u=[],h=[];!function(e){for(var n=new a,i=new a,r=new a,l=0;l<t.length;l+=3)o(t[l+0],n),o(t[l+1],i),o(t[l+2],r),function(e,t,n,i){var r,o,a=Math.pow(2,i),l=[];for(r=0;r<=a;r++){l[r]=[];var c=e.clone().lerp(n,r/a),u=t.clone().lerp(n,r/a),h=a-r;for(o=0;o<=h;o++)l[r][o]=0===o&&r===a?c:c.clone().lerp(u,o/h)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var d=Math.floor(o/2);o%2==0?(s(l[r][d+1]),s(l[r+1][d]),s(l[r][d])):(s(l[r][d+1]),s(l[r+1][d+1]),s(l[r+1][d]))}}(n,i,r,e)}(i=i||0),function(e){for(var t=new a,n=0;n<u.length;n+=3)t.x=u[n+0],t.y=u[n+1],t.z=u[n+2],t.normalize().multiplyScalar(e),u[n+0]=t.x,u[n+1]=t.y,u[n+2]=t.z}(n),function(){for(var e=new a,t=0;t<u.length;t+=3){e.x=u[t+0],e.y=u[t+1],e.z=u[t+2];var n=c(e)/2/Math.PI+.5,i=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;h.push(n,1-i)}!function(){for(var e=new a,t=new a,n=new a,i=new a,s=new r,o=new r,d=new r,p=0,m=0;p<u.length;p+=9,m+=6){e.set(u[p+0],u[p+1],u[p+2]),t.set(u[p+3],u[p+4],u[p+5]),n.set(u[p+6],u[p+7],u[p+8]),s.set(h[m+0],h[m+1]),o.set(h[m+2],h[m+3]),d.set(h[m+4],h[m+5]),i.copy(e).add(t).add(n).divideScalar(3);var f=c(i);l(s,m+0,e,f),l(o,m+2,t,f),l(d,m+4,n,f)}}(),function(){for(var e=0;e<h.length;e+=6){var t=h[e+0],n=h[e+2],i=h[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(h[e+0]+=1),n<.2&&(h[e+2]+=1),i<.2&&(h[e+4]+=1))}}()}(),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(u.slice(),3)),this.addAttribute("uv",new we(h,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function At(e,t){pe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ct(e,t)),this.mergeVertices()}function Ct(e,t){kt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Mt(e,t){pe.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rt(e,t)),this.mergeVertices()}function Rt(e,t){kt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Lt(e,t){pe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Pt(e,t)),this.mergeVertices()}function Pt(e,t){var n=(1+Math.sqrt(5))/2;kt.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ot(e,t){pe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Dt(e,t)),this.mergeVertices()}function Dt(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;kt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ft(e,t,n,i,r,s){pe.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new It(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function It(e,t,n,i,s){function o(r){m=e.getPointAt(r/t,m);var s=l.normals[r],o=l.binormals[r];for(u=0;u<=i;u++){var a=u/i*Math.PI*2,c=Math.sin(a),p=-Math.cos(a);d.x=p*s.x+c*o.x,d.y=p*s.y+c*o.y,d.z=p*s.z+c*o.z,d.normalize(),g.push(d.x,d.y,d.z),h.x=m.x+n*d.x,h.y=m.y+n*d.y,h.z=m.z+n*d.z,f.push(h.x,h.y,h.z)}}ke.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s},t=t||64,n=n||1,i=i||8,s=s||!1;var l=e.computeFrenetFrames(t,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var c,u,h=new a,d=new a,p=new r,m=new a,f=[],g=[],v=[],y=[];!function(){for(c=0;c<t;c++)o(c);o(!1===s?t:0),function(){for(c=0;c<=t;c++)for(u=0;u<=i;u++)p.x=c/t,p.y=u/i,v.push(p.x,p.y)}(),function(){for(u=1;u<=t;u++)for(c=1;c<=i;c++){var e=(i+1)*(u-1)+(c-1),n=(i+1)*u+(c-1),r=(i+1)*u+c,s=(i+1)*(u-1)+c;y.push(e,n,s),y.push(n,r,s)}}()}(),this.setIndex(y),this.addAttribute("position",new we(f,3)),this.addAttribute("normal",new we(g,3)),this.addAttribute("uv",new we(v,2))}function Nt(e,t,n,i,r,s,o){pe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Bt(e,t,n,i,r,s)),this.mergeVertices()}function Bt(e,t,n,i,r,s){function o(e,t,n,i,r){var s=Math.cos(e),o=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(a)*.5}ke.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;var l,c,u=[],h=[],d=[],p=[],m=new a,f=new a,g=new a,v=new a,y=new a,b=new a,_=new a;for(l=0;l<=n;++l){var x=l/n*r*Math.PI*2;for(o(x,r,s,e,g),o(x+.01,r,s,e,v),b.subVectors(v,g),_.addVectors(v,g),y.crossVectors(b,_),_.crossVectors(y,b),y.normalize(),_.normalize(),c=0;c<=i;++c){var w=c/i*Math.PI*2,E=-t*Math.cos(w),T=t*Math.sin(w);m.x=g.x+(E*_.x+T*y.x),m.y=g.y+(E*_.y+T*y.y),m.z=g.z+(E*_.z+T*y.z),h.push(m.x,m.y,m.z),f.subVectors(m,g).normalize(),d.push(f.x,f.y,f.z),p.push(l/n),p.push(c/i)}}for(c=1;c<=n;c++)for(l=1;l<=i;l++){var S=(i+1)*(c-1)+(l-1),k=(i+1)*c+(l-1),A=(i+1)*c+l,C=(i+1)*(c-1)+l;u.push(S,k,C),u.push(k,A,C)}this.setIndex(u),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(d,3)),this.addAttribute("uv",new we(p,2))}function jt(e,t,n,i,r){pe.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new zt(e,t,n,i,r)),this.mergeVertices()}function zt(e,t,n,i,r){ke.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var s,o,l=[],c=[],u=[],h=[],d=new a,p=new a,m=new a;for(s=0;s<=n;s++)for(o=0;o<=i;o++){var f=o/i*r,g=s/n*Math.PI*2;p.x=(e+t*Math.cos(g))*Math.cos(f),p.y=(e+t*Math.cos(g))*Math.sin(f),p.z=t*Math.sin(g),c.push(p.x,p.y,p.z),d.x=e*Math.cos(f),d.y=e*Math.sin(f),m.subVectors(p,d).normalize(),u.push(m.x,m.y,m.z),h.push(o/i),h.push(s/n)}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var v=(i+1)*s+o-1,y=(i+1)*(s-1)+o-1,b=(i+1)*(s-1)+o,_=(i+1)*s+o;l.push(v,y,_),l.push(y,b,_)}this.setIndex(l),this.addAttribute("position",new we(c,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(h,2))}function Ut(e,t,n,i,r){var s,o;if(r===function(e,t,n,i){for(var r=0,s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)o=Qt(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=Qt(s,e[s],e[s+1],o);return o&&Yt(o,o.next)&&(en(o),o=o.next),o}function Vt(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Yt(i,i.next)&&0!==Xt(i.prev,i,i.next))i=i.next;else{if(en(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Gt(e,t,n,i,r,s,o){if(e){!o&&s&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=$t(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,s,o,a,l,c=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1)}(r)}(e,i,r,s);for(var a,l,c=e;e.prev!==e.next;)if(a=e.prev,l=e.next,s?function(e,t,n,i){var r=e.prev,s=e,o=e.next;if(Xt(r,s,o)>=0)return!1;var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=$t(a,l,t,n,i),d=$t(c,u,t,n,i),p=e.nextZ;for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&qt(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}p=e.prevZ;for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&qt(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,i,r,s):function(e){var t=e.prev,n=e,i=e.next;if(Xt(t,n,i)>=0)return!1;var r=e.next.next;for(;r!==e.prev;){if(qt(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Xt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),en(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?Gt(e=function(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!Yt(r,s)&&Kt(r,i,i.next,s)&&Zt(r,s)&&Zt(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),en(i),en(i.next),i=e=s),i=i.next}while(i!==e);return i}(e,t,n),t,n,i,r,s,2):2===o&&function(e,t,n,i,r,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Kt(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&Zt(e,t)&&Zt(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}(o,a)){var l=Jt(o,a);return o=Vt(o,o.next),l=Vt(l,l.next),Gt(o,t,n,i,r,s),void Gt(l,t,n,i,r,s)}a=a.next}o=o.next}while(o!==e)}(e,t,n,i,r,s):Gt(Vt(e),t,n,i,r,s,1);break}}}function Ht(e,t,n,i){var r,s,o,a=[];for(r=0,s=t.length;r<s;r++)(o=Ut(e,t[r]*i,r<s-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),a.push(function(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}(o));for(a.sort(Wt),r=0;r<a.length;r++)!function(e,t){if(t=function(e,t){var n,i=t,r=e.x,s=e.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>o){if(o=a,a===r){if(s===i.y)return i;if(s===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&qt(s<h?r:o,s,u,h,s<h?o:r,s,i.x,i.y)&&((l=Math.abs(s-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&Zt(i,e)&&(n=i,d=l),i=i.next;return n}(e,t)){var n=Jt(t,e);Vt(n,n.next)}}(a[r],n),n=Vt(n,n.next);return n}function Wt(e,t){return e.x-t.x}function $t(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function qt(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function Xt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Yt(e,t){return e.x===t.x&&e.y===t.y}function Kt(e,t,n,i){return!!(Yt(e,t)&&Yt(n,i)||Yt(e,i)&&Yt(n,t))||Xt(e,t,n)>0!=Xt(e,t,i)>0&&Xt(n,i,e)>0!=Xt(n,i,t)>0}function Zt(e,t){return Xt(e.prev,e,e.next)<0?Xt(e,t,e.next)>=0&&Xt(e,e.prev,t)>=0:Xt(e,t,e.prev)<0||Xt(e,e.next,t)<0}function Jt(e,t){var n=new tn(e.i,e.x,e.y),i=new tn(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Qt(e,t,n,i){var r=new tn(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function en(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function tn(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nn(e,t){pe.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new rn(e,t)),this.mergeVertices()}function rn(e,t){"undefined"!=typeof e&&(ke.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function sn(e,t){pe.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new on(e,t)),this.mergeVertices()}function on(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new pe;var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),rn.call(this,i,t),this.type="TextBufferGeometry"}function an(e,t,n,i,r,s,o){pe.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new ln(e,t,n,i,r,s,o)),this.mergeVertices()}function ln(e,t,n,i,r,s,o){ke.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var l,c,u=(s=void 0!==s?s:0)+(o=void 0!==o?o:Math.PI),h=0,d=[],p=new a,m=new a,f=[],g=[],v=[],y=[];for(c=0;c<=n;c++){var b=[],_=c/n;for(l=0;l<=t;l++){var x=l/t;p.x=-e*Math.cos(i+x*r)*Math.sin(s+_*o),p.y=e*Math.cos(s+_*o),p.z=e*Math.sin(i+x*r)*Math.sin(s+_*o),g.push(p.x,p.y,p.z),m.set(p.x,p.y,p.z).normalize(),v.push(m.x,m.y,m.z),y.push(x,1-_),b.push(h++)}d.push(b)}for(c=0;c<n;c++)for(l=0;l<t;l++){var w=d[c][l+1],E=d[c][l],T=d[c+1][l],S=d[c+1][l+1];(0!==c||s>0)&&f.push(w,E,S),(c!==n-1||u<Math.PI)&&f.push(E,T,S)}this.setIndex(f),this.addAttribute("position",new we(g,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(y,2))}function cn(e,t,n,i,r,s){pe.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new un(e,t,n,i,r,s)),this.mergeVertices()}function un(e,t,n,i,s,o){ke.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:o},e=e||.5,t=t||1,s=void 0!==s?s:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var l,c,u,h=[],d=[],p=[],m=[],f=e,g=(t-e)/(i=void 0!==i?Math.max(1,i):1),v=new a,y=new r;for(c=0;c<=i;c++){for(u=0;u<=n;u++)l=s+u/n*o,v.x=f*Math.cos(l),v.y=f*Math.sin(l),d.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,m.push(y.x,y.y);f+=g}for(c=0;c<i;c++){var b=c*(n+1);for(u=0;u<n;u++){var _=l=u+b,x=l+n+1,w=l+n+2,E=l+1;h.push(_,x,E),h.push(x,w,E)}}this.setIndex(h),this.addAttribute("position",new we(d,3)),this.addAttribute("normal",new we(p,3)),this.addAttribute("uv",new we(m,2))}function hn(e,t,n,i){pe.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new dn(e,t,n,i)),this.mergeVertices()}function dn(e,t,n,i){ke.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=yo.clamp(i,0,2*Math.PI);var s,o,l,c=[],u=[],h=[],d=1/t,p=new a,m=new r;for(o=0;o<=t;o++){var f=n+o*d*i,g=Math.sin(f),v=Math.cos(f);for(l=0;l<=e.length-1;l++)p.x=e[l].x*g,p.y=e[l].y,p.z=e[l].x*v,u.push(p.x,p.y,p.z),m.x=o/t,m.y=l/(e.length-1),h.push(m.x,m.y)}for(o=0;o<t;o++)for(l=0;l<e.length-1;l++){var y=s=l+o*e.length,b=s+e.length,_=s+e.length+1,x=s+1;c.push(y,b,x),c.push(b,_,x)}if(this.setIndex(c),this.addAttribute("position",new we(u,3)),this.addAttribute("uv",new we(h,2)),this.computeVertexNormals(),i===2*Math.PI){var w=this.attributes.normal.array,E=new a,T=new a,S=new a;for(s=t*e.length*3,o=0,l=0;o<e.length;o++,l+=3)E.x=w[l+0],E.y=w[l+1],E.z=w[l+2],T.x=w[s+l+0],T.y=w[s+l+1],T.z=w[s+l+2],S.addVectors(E,T).normalize(),w[l+0]=w[s+l+0]=S.x,w[l+1]=w[s+l+1]=S.y,w[l+2]=w[s+l+2]=S.z}}function pn(e,t){pe.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new mn(e,t)),this.mergeVertices()}function mn(e,t){function n(e){var n,a,c,u=r.length/3,h=e.extractPoints(t),d=h.shape,p=h.holes;if(!1===Bo.isClockWise(d))for(d=d.reverse(),n=0,a=p.length;n<a;n++)c=p[n],!0===Bo.isClockWise(c)&&(p[n]=c.reverse());var m=Bo.triangulateShape(d,p);for(n=0,a=p.length;n<a;n++)c=p[n],d=d.concat(c);for(n=0,a=d.length;n<a;n++){var f=d[n];r.push(f.x,f.y,0),s.push(0,0,1),o.push(f.x,f.y)}for(n=0,a=m.length;n<a;n++){var g=m[n],v=g[0]+u,y=g[1]+u,b=g[2]+u;i.push(v,y,b),l+=3}}ke.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],r=[],s=[],o=[],a=0,l=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.addAttribute("position",new we(r,3)),this.addAttribute("normal",new we(s,3)),this.addAttribute("uv",new we(o,2))}function fn(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function gn(e,t){ke.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,s,o=[],a=Math.cos(yo.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(s=new pe).fromBufferGeometry(e):s=e.clone(),s.mergeVertices(),s.computeFaceNormals();for(var h=s.vertices,d=s.faces,p=0,m=d.length;p<m;p++)for(var f=d[p],g=0;g<3;g++)n=f[u[g]],i=f[u[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===c[r=l[0]+","+l[1]]?c[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[r].face2=p;for(r in c){var v=c[r];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=a){var y=h[v.index1];o.push(y.x,y.y,y.z),y=h[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new we(o,3))}function vn(e,t,n,i,r,s,o,a){pe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new yn(e,t,n,i,r,s,o,a)),this.mergeVertices()}function yn(e,t,n,i,s,o,l,c){function u(n){var s,o,u,v=new r,_=new a,x=0,w=!0===n?e:t,E=!0===n?1:-1;for(o=g,s=1;s<=i;s++)p.push(0,y*E,0),m.push(0,E,0),f.push(.5,.5),g++;for(u=g,s=0;s<=i;s++){var T=s/i*c+l,S=Math.cos(T),k=Math.sin(T);_.x=w*k,_.y=y*E,_.z=w*S,p.push(_.x,_.y,_.z),m.push(0,E,0),v.x=.5*S+.5,v.y=.5*k*E+.5,f.push(v.x,v.y),g++}for(s=0;s<i;s++){var A=o+s,C=u+s;!0===n?d.push(C,C+1,A):d.push(C+1,C,A),x+=3}h.addGroup(b,x,!0===n?1:2),b+=x}ke.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};var h=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,s=Math.floor(s)||1,o=void 0!==o&&o,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var d=[],p=[],m=[],f=[],g=0,v=[],y=n/2,b=0;!function(){var r,o,u=new a,_=new a,x=0,w=(t-e)/n;for(o=0;o<=s;o++){var E=[],T=o/s,S=T*(t-e)+e;for(r=0;r<=i;r++){var k=r/i,A=k*c+l,C=Math.sin(A),M=Math.cos(A);_.x=S*C,_.y=-T*n+y,_.z=S*M,p.push(_.x,_.y,_.z),u.set(C,w,M).normalize(),m.push(u.x,u.y,u.z),f.push(k,1-T),E.push(g++)}v.push(E)}for(r=0;r<i;r++)for(o=0;o<s;o++){var R=v[o][r],L=v[o+1][r],P=v[o+1][r+1],O=v[o][r+1];d.push(R,L,O),d.push(L,P,O),x+=6}h.addGroup(b,x,0),b+=x}(),!1===o&&(e>0&&u(!0),t>0&&u(!1)),this.setIndex(d),this.addAttribute("position",new we(p,3)),this.addAttribute("normal",new we(m,3)),this.addAttribute("uv",new we(f,2))}function bn(e,t,n,i,r,s,o){vn.call(this,0,e,t,n,i,r,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function _n(e,t,n,i,r,s,o){yn.call(this,0,e,t,n,i,r,s,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function xn(e,t,n,i){pe.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new wn(e,t,n,i)),this.mergeVertices()}function wn(e,t,n,i){ke.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var s,o,l=[],c=[],u=[],h=[],d=new a,p=new r;for(c.push(0,0,0),u.push(0,0,1),h.push(.5,.5),o=0,s=3;o<=t;o++,s+=3){var m=n+o/t*i;d.x=e*Math.cos(m),d.y=e*Math.sin(m),c.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(c[s]/e+1)/2,p.y=(c[s+1]/e+1)/2,h.push(p.x,p.y)}for(s=1;s<=t;s++)l.push(s,s+1,0);this.setIndex(l),this.addAttribute("position",new we(c,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(h,2))}function En(e){J.call(this),this.type="ShadowMaterial",this.color=new q(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Tn(e){Pe.call(this,e),this.type="RawShaderMaterial"}function Sn(e){J.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kn(e){Sn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function An(e){J.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ss,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Cn(e){An.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Mn(e){J.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Rn(e){J.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ss,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ln(e){dt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Pn(e,t,n){var i=this,r=!1,s=0,o=0,a=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,s,o),r=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,o),s===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this}}function On(e){this.manager=void 0!==e?e:Vo}function Dn(e){this.manager=void 0!==e?e:Vo,this._parser=null}function Fn(e){this.manager=void 0!==e?e:Vo}function In(e){this.manager=void 0!==e?e:Vo}function Nn(e){this.manager=void 0!==e?e:Vo}function Bn(){this.type="Curve",this.arcLengthDivisions=200}function jn(e,t,n,i,r,s,o,a){Bn.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function zn(e,t,n,i,r,s){jn.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}function Un(){function e(e,s,o,a){t=e,n=o,i=-3*e+3*s-2*o-a,r=2*e-2*s+o+a}var t=0,n=0,i=0,r=0;return{initCatmullRom:function(t,n,i,r,s){e(n,i,s*(i-t),s*(r-n))},initNonuniformCatmullRom:function(t,n,i,r,s,o,a){var l=(n-t)/s-(i-t)/(s+o)+(i-n)/o,c=(i-n)/o-(r-n)/(o+a)+(r-i)/a;e(n,i,l*=o,c*=o)},calc:function(e){var s=e*e;return t+n*e+i*s+r*(s*e)}}}function Vn(e,t,n,i){Bn.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Gn(e,t,n,i,r){var s=.5*(i-t),o=.5*(r-n),a=e*e;return(2*n-2*i+s+o)*(e*a)+(-3*n+3*i-2*s-o)*a+s*e+n}function Hn(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Wn(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function $n(e,t,n,i){Bn.call(this),this.type="CubicBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r,this.v3=i||new r}function qn(e,t,n,i){Bn.call(this),this.type="CubicBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a,this.v3=i||new a}function Xn(e,t){Bn.call(this),this.type="LineCurve",this.v1=e||new r,this.v2=t||new r}function Yn(e,t){Bn.call(this),this.type="LineCurve3",this.v1=e||new a,this.v2=t||new a}function Kn(e,t,n){Bn.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r}function Zn(e,t,n){Bn.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new a,this.v1=t||new a,this.v2=n||new a}function Jn(e){Bn.call(this),this.type="SplineCurve",this.points=e||[]}function Qn(){Bn.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ei(e){Qn.call(this),this.type="Path",this.currentPoint=new r,e&&this.setFromPoints(e)}function ti(e){ei.call(this,e),this.uuid=yo.generateUUID(),this.type="Shape",this.holes=[]}function ni(e,t){ce.call(this),this.type="Light",this.color=new q(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function ii(e,t,n){ni.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ce.DefaultUp),this.updateMatrix(),this.groundColor=new q(t)}function ri(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new s}function si(){ri.call(this,new Je(50,1,.5,500))}function oi(e,t,n,i,r,s){ni.call(this,e,t),this.type="SpotLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new si}function ai(e,t,n,i){ni.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new ri(new Je(90,1,.5,500))}function li(){ri.call(this,new he(-5,5,5,-5,.5,500))}function ci(e,t){ni.call(this,e,t),this.type="DirectionalLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,this.shadow=new li}function ui(e,t){ni.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function hi(e,t,n,i){ni.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function di(e,t,n,i){wi.call(this,e,t,n,i)}function pi(e,t,n){wi.call(this,e,t,n)}function mi(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function fi(e,t,n,i){mi.call(this,e,t,n,i)}function gi(e,t,n,i){wi.call(this,e,t,n,i)}function vi(e,t,n,i){wi.call(this,e,t,n,i)}function yi(e,t,n,i){wi.call(this,e,t,n,i)}function bi(e,t,n,i){mi.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _i(e,t,n,i){mi.call(this,e,t,n,i)}function xi(e,t,n,i){mi.call(this,e,t,n,i)}function wi(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yo.convertArray(t,this.TimeBufferType),this.values=Yo.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function Ei(e,t,n,i){wi.call(this,e,t,n,i)}function Ti(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=yo.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Si(e){this.manager=void 0!==e?e:Vo,this.textures={}}function ki(e){this.manager=void 0!==e?e:Vo}function Ai(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Ci(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Vo,this.withCredentials=!1}function Mi(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Vo,this.options=void 0}function Ri(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function Li(e){this.type="Font",this.data=e}function Pi(e){this.manager=void 0!==e?e:Vo}function Oi(e,t,n){ce.call(this),this.type="CubeCamera";var i=new Je(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new a(1,0,0)),this.add(i);var r=new Je(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new a(-1,0,0)),this.add(r);var s=new Je(90,1,e,t);s.up.set(0,0,1),s.lookAt(new a(0,1,0)),this.add(s);var o=new Je(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new a(0,-1,0)),this.add(o);var l=new Je(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new a(0,0,1)),this.add(l);var c=new Je(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new a(0,0,-1)),this.add(c);var u={format:Vs,magFilter:ks,minFilter:ks};this.renderTarget=new d(n,n,u),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,a=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,i,n),n.activeCubeFace=1,e.render(t,r,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,o,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=a,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,s=0;s<6;s++)r.activeCubeFace=s,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function Di(){ce.call(this),this.type="AudioListener",this.context=na.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Fi(e){ce.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ii(e){Fi.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ni(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Bi(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function ji(e,t,n){var i=n||zi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function zi(e,t,n){this.path=t,this.parsedPath=n||zi.parseTrackName(t),this.node=zi.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ui(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,s=new Array(r),o={endingStart:ro,endingEnd:ro},a=0;a!==r;++a){var l=i[a].createInterpolant(null);s[a]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=io,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Vi(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Gi(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Hi(){ke.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Wi(e,t,n,i){this.uuid=yo.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function $i(e,t){this.uuid=yo.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function qi(e,t,n){$i.call(this,e,t),this.meshPerAttribute=n||1}function Xi(e,t,n){me.call(this,e,t),this.meshPerAttribute=n||1}function Yi(e,t){return e.distance-t.distance}function Ki(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,s=0,o=r.length;s<o;s++)Ki(r[s],t,n,!0)}function Zi(e){ce.call(this),this.material=e,this.render=function(){}}function Ji(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=3*a.faces.length:a&&a.isBufferGeometry&&(o=a.attributes.normal.count);var l=new ke,c=new we(2*o*3,3);l.addAttribute("position",c),mt.call(this,l,new dt({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function Qi(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new ke,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,s=1;r<32;r++,s++){var o=r/32*Math.PI*2,a=s/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}n.addAttribute("position",new we(i,3));var l=new dt({fog:!1});this.cone=new mt(n,l),this.add(this.cone),this.update()}function er(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,er(e.children[n]));return t}function tr(e){for(var t=er(e),n=new ke,i=[],r=[],s=new q(0,0,1),o=new q(0,1,0),a=0;a<t.length;a++){var l=t[a];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new we(i,3)),n.addAttribute("color",new we(r,3));var c=new dt({vertexColors:Cr,depthTest:!1,depthWrite:!1,transparent:!0});mt.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function nr(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new ln(t,4,2),r=new Le({wireframe:!0,fog:!1});Ie.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ir(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new dt({fog:!1}),i=new ke;i.addAttribute("position",new me(new Float32Array(15),3)),this.line=new pt(i,n),this.add(this.line),this.update()}function rr(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Rt(t);i.rotateY(.5*Math.PI),this.material=new Le({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Cr);var r=i.getAttribute("position"),s=new Float32Array(3*r.count);i.addAttribute("color",new me(s,3)),this.add(new Ie(i,this.material)),this.update()}function sr(e,t,n,i){e=e||10,t=t||10,n=new q(void 0!==n?n:4473924),i=new q(void 0!==i?i:8947848);for(var r=t/2,s=e/t,o=e/2,a=[],l=[],c=0,u=0,h=-o;c<=t;c++,h+=s){a.push(-o,0,h,o,0,h),a.push(h,0,-o,h,0,o);var d=c===r?n:i;d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3}var p=new ke;p.addAttribute("position",new we(a,3)),p.addAttribute("color",new we(l,3));var m=new dt({vertexColors:Cr});mt.call(this,p,m)}function or(e,t,n,i,r,s){e=e||10,t=t||16,n=n||8,i=i||64,r=new q(void 0!==r?r:4473924),s=new q(void 0!==s?s:8947848);var o,a,l,c,u,h,d,p=[],m=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),o=Math.sin(l)*e,a=Math.cos(l)*e,p.push(0,0,0),p.push(o,0,a),d=1&c?r:s,m.push(d.r,d.g,d.b),m.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:s,h=e-e/n*c,u=0;u<i;u++)l=u/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),m.push(d.r,d.g,d.b),l=(u+1)/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),m.push(d.r,d.g,d.b);var f=new ke;f.addAttribute("position",new we(p,3)),f.addAttribute("color",new we(m,3));var g=new dt({vertexColors:Cr});mt.call(this,f,g)}function ar(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new ke,c=new we(2*o*3,3);l.addAttribute("position",c),mt.call(this,l,new dt({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function lr(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new ke;i.addAttribute("position",new we([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new dt({fog:!1});this.lightPlane=new pt(i,r),this.add(this.lightPlane),(i=new ke).addAttribute("position",new we([0,0,0,0,0,1],3)),this.targetLine=new pt(i,r),this.add(this.targetLine),this.update()}function cr(e){function t(e,t,i){n(e,i),n(t,i)}function n(e,t){s.push(0,0,0),o.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(s.length/3-1)}var i=new ke,r=new dt({color:16777215,vertexColors:Ar}),s=[],o=[],a={},l=new q(16755200),c=new q(16711680),u=new q(43775),h=new q(16777215),d=new q(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",u),t("u2","u3",u),t("u3","u1",u),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),i.addAttribute("position",new we(s,3)),i.addAttribute("color",new we(o,3)),mt.call(this,i,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function ur(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new ke;r.setIndex(new me(n,1)),r.addAttribute("position",new me(i,3)),mt.call(this,r,new dt({color:t})),this.matrixAutoUpdate=!1,this.update()}function hr(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new ke;r.setIndex(new me(i,1)),r.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),mt.call(this,r,new dt({color:n})),this.geometry.computeBoundingSphere()}function dr(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new ke;r.addAttribute("position",new we([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),pt.call(this,r,new dt({color:i}));var s=new ke;s.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new Ie(s,new Le({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function pr(e,t,n,i,r,s){ce.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===s&&(s=.2*r),void 0===ia&&((ia=new ke).addAttribute("position",new we([0,0,0,0,1,0],3)),(ra=new yn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new pt(ia,new dt({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ie(ra,new Le({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}function mr(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new ke;n.addAttribute("position",new we(t,3)),n.addAttribute("color",new we([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new dt({vertexColors:Cr});mt.call(this,n,i)}function fr(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Vn.call(this,e),this.type="catmullrom"}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(i.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});var gr="89",vr=0,yr=1,br=2,_r=0,xr=1,wr=2,Er=0,Tr=1,Sr=2,kr=0,Ar=1,Cr=2,Mr=0,Rr=1,Lr=2,Pr=3,Or=4,Dr=5,Fr=100,Ir=101,Nr=102,Br=103,jr=104,zr=200,Ur=201,Vr=202,Gr=203,Hr=204,Wr=205,$r=206,qr=207,Xr=208,Yr=209,Kr=210,Zr=0,Jr=1,Qr=2,es=3,ts=4,ns=5,is=6,rs=7,ss=0,os=1,as=2,ls=0,cs=1,us=2,hs=3,ds=4,ps=301,ms=302,fs=303,gs=304,vs=305,ys=306,bs=307,_s=1e3,xs=1001,ws=1002,Es=1003,Ts=1004,Ss=1005,ks=1006,As=1007,Cs=1008,Ms=1009,Rs=1010,Ls=1011,Ps=1012,Os=1013,Ds=1014,Fs=1015,Is=1016,Ns=1017,Bs=1018,js=1019,zs=1020,Us=1021,Vs=1022,Gs=1023,Hs=1024,Ws=1025,$s=1026,qs=1027,Xs=2001,Ys=2002,Ks=2003,Zs=2004,Js=2100,Qs=2101,eo=2102,to=2103,no=2151,io=2201,ro=2400,so=0,oo=1,ao=2,lo=3e3,co=3001,uo=3007,ho=3002,po=3004,mo=3005,fo=3006,go=3200,vo=3201,yo={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16).toUpperCase();return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&i|128]+e[i>>8&255]+"-"+e[i>>16&255]+e[i>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*yo.DEG2RAD},radToDeg:function(e){return e*yo.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new r,t=new r;return function(n,i){return e.set(n,n),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}}),Object.assign(s.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,s,o,a,l,c,u,h,d,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new s).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new a;return function(t){var n=this.elements,i=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),s=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){var h=s*c,d=s*u,p=o*c,m=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=d+p*l,t[5]=h-m*l,t[9]=-o*a,t[2]=m-h*l,t[6]=p+d*l,t[10]=s*a}else if("YXZ"===e.order){var f=a*c,g=a*u,v=l*c,y=l*u;t[0]=f+y*o,t[4]=v*o-g,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-o,t[2]=g*o-v,t[6]=y+f*o,t[10]=s*a}else if("ZXY"===e.order){f=a*c,g=a*u,v=l*c,y=l*u;t[0]=f-y*o,t[4]=-s*u,t[8]=v+g*o,t[1]=g+v*o,t[5]=s*c,t[9]=y-f*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if("ZYX"===e.order){h=s*c,d=s*u,p=o*c,m=o*u;t[0]=a*c,t[4]=p*l-d,t[8]=h*l+m,t[1]=a*u,t[5]=m*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*a,t[10]=s*a}else if("YZX"===e.order){var b=s*a,_=s*l,x=o*a,w=o*l;t[0]=a*c,t[4]=w-b*u,t[8]=x*u+_,t[1]=u,t[5]=s*c,t[9]=-o*c,t[2]=-l*c,t[6]=_*u+x,t[10]=b-w*u}else if("XZY"===e.order){b=s*a,_=s*l,x=o*a,w=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=b*u+w,t[5]=s*c,t[9]=_*u-x,t[2]=x*u-_,t[6]=o*c,t[10]=w*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,s=e._w,o=n+n,a=i+i,l=r+r,c=n*o,u=n*a,h=n*l,d=i*a,p=i*l,m=r*l,f=s*o,g=s*a,v=s*l;return t[0]=1-(d+m),t[4]=u-v,t[8]=h+g,t[1]=u+v,t[5]=1-(c+m),t[9]=p-f,t[2]=h-g,t[6]=p+f,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new a,t=new a,n=new a;return function(i,r,s){var o=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(s,n),0===e.lengthSq()&&(1===Math.abs(s.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(s,n)),e.normalize(),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],x=i[0],w=i[4],E=i[8],T=i[12],S=i[1],k=i[5],A=i[9],C=i[13],M=i[2],R=i[6],L=i[10],P=i[14],O=i[3],D=i[7],F=i[11],I=i[15];return r[0]=s*x+o*S+a*M+l*O,r[4]=s*w+o*k+a*R+l*D,r[8]=s*E+o*A+a*L+l*F,r[12]=s*T+o*C+a*P+l*I,r[1]=c*x+u*S+h*M+d*O,r[5]=c*w+u*k+h*R+d*D,r[9]=c*E+u*A+h*L+d*F,r[13]=c*T+u*C+h*P+d*I,r[2]=p*x+m*S+f*M+g*O,r[6]=p*w+m*k+f*R+g*D,r[10]=p*E+m*A+f*L+g*F,r[14]=p*T+m*C+f*P+g*I,r[3]=v*x+y*S+b*M+_*O,r[7]=v*w+y*k+b*R+_*D,r[11]=v*E+y*A+b*L+_*F,r[15]=v*T+y*C+b*P+_*I,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*a*u-i*l*u-r*o*h+n*l*h+i*o*d-n*a*d)+e[7]*(+t*a*d-t*l*h+r*s*h-i*s*d+i*l*c-r*a*c)+e[11]*(+t*l*u-t*o*d-r*s*u+n*s*d+r*o*c-n*l*c)+e[15]*(-i*o*c-t*a*u+t*o*h+i*s*u-n*s*h+n*a*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],p=i[9],m=i[10],f=i[11],g=i[12],v=i[13],y=i[14],b=i[15],_=p*y*h-v*m*h+v*u*f-c*y*f-p*u*b+c*m*b,x=g*m*h-d*y*h-g*u*f+l*y*f+d*u*b-l*m*b,w=d*v*h-g*p*h+g*c*f-l*v*f-d*c*b+l*p*b,E=g*p*u-d*v*u-g*c*m+l*v*m+d*c*y-l*p*y,T=r*_+s*x+o*w+a*E;if(0===T){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var k=1/T;return n[0]=_*k,n[1]=(v*m*a-p*y*a-v*o*f+s*y*f+p*o*b-s*m*b)*k,n[2]=(c*y*a-v*u*a+v*o*h-s*y*h-c*o*b+s*u*b)*k,n[3]=(p*u*a-c*m*a-p*o*h+s*m*h+c*o*f-s*u*f)*k,n[4]=x*k,n[5]=(d*y*a-g*m*a+g*o*f-r*y*f-d*o*b+r*m*b)*k,n[6]=(g*u*a-l*y*a-g*o*h+r*y*h+l*o*b-r*u*b)*k,n[7]=(l*m*a-d*u*a+d*o*h-r*m*h-l*o*f+r*u*f)*k,n[8]=w*k,n[9]=(g*p*a-d*v*a-g*s*f+r*v*f+d*s*b-r*p*b)*k,n[10]=(l*v*a-g*c*a+g*s*h-r*v*h-l*s*b+r*c*b)*k,n[11]=(d*c*a-l*p*a-d*s*h+r*p*h+l*s*f-r*c*f)*k,n[12]=E*k,n[13]=(d*v*o-g*p*o+g*s*m-r*v*m-d*s*y+r*p*y)*k,n[14]=(g*c*o-l*v*o-g*s*u+r*v*u+l*s*y-r*c*y)*k,n[15]=(l*p*o-d*c*o+d*s*u-r*p*u-l*s*m+r*c*m)*k,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,o=e.y,a=e.z,l=r*s,c=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,c*o+n,c*a-i*s,0,l*a-i*o,c*a+i*s,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new a,t=new s;return function(n,i,r){var s=this.elements,o=e.set(s[0],s[1],s[2]).length(),a=e.set(s[4],s[5],s[6]).length(),l=e.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),n.x=s[12],n.y=s[13],n.z=s[14],t.copy(this);var c=1/o,u=1/a,h=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=u,t.elements[5]*=u,t.elements[6]*=u,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,i.setFromRotationMatrix(t),r.x=o,r.y=a,r.z=l,this}}(),makePerspective:function(e,t,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(s+r)/(s-r),d=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){var o=this.elements,a=1/(t-e),l=1/(n-i),c=1/(s-r),u=(t+e)*a,h=(n+i)*l,d=(s+r)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(o,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,o){var a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[s+0],d=r[s+1],p=r[s+2],m=r[s+3];if(u!==m||a!==h||l!==d||c!==p){var f=1-o,g=a*h+l*d+c*p+u*m,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,g*v);f=Math.sin(f*_)/b,o=Math.sin(o*_)/b}var x=o*v;if(a=a*f+h*x,l=l*f+d*x,c=c*f+p*x,u=u*f+m*x,f===1-o){var w=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=w,l*=w,c*=w,u*=w}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(o.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(o.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,s=e.order,o=Math.cos,a=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),h=a(n/2),d=a(i/2),p=a(r/2);return"XYZ"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"YXZ"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"ZXY"===s?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"ZYX"===s?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"YZX"===s?(this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p):"XZY"===s&&(this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=i+a+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-l)*t,this._y=(s-c)*t,this._z=(o-r)*t):i>a&&i>h?(t=2*Math.sqrt(1+i-a-h),this._w=(u-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(s+c)/t):a>h?(t=2*Math.sqrt(1+a-i-h),this._w=(s-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+h-i-a),this._w=(o-r)/t,this._x=(s+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new a;return function(n,i){return void 0===t&&(t=new a),(e=n.dot(i)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,s=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+s*o+i*l-r*a,this._y=i*c+s*a+r*o-n*l,this._z=r*c+s*l+n*a-i*o,this._w=s*c-n*o-i*a-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,s=this._w,o=s*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;var a=Math.sqrt(1-o*o);if(Math.abs(a)<.001)return this._w=.5*(s+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(a,o),c=Math.sin((1-t)*l)/a,u=Math.sin(t*l)/a;return this._w=s*c+this._w*u,this._x=n*c+this._x*u,this._y=i*c+this._y*u,this._z=r*c+this._z*u,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(a.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new o;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new o;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*n,c=a*n+o*t-r*i,u=a*i+r*n-s*t,h=-r*t-s*n-o*i;return this.x=l*a+h*-r+c*-o-u*-s,this.y=c*a+h*-s+u*-r-l*-o,this.z=u*a+h*-o+l*-s-c*-r,this},project:function(){var e=new s;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new s;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new a,t=new a;return function(n,i){return e.set(n,n,n),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new a;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new a;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(yo.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,s,o,a,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new a;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],v=i[1],y=i[4],b=i[7],_=i[2],x=i[5],w=i[8];return r[0]=s*m+o*v+a*_,r[3]=s*f+o*y+a*x,r[6]=s*g+o*b+a*w,r[1]=l*m+c*v+u*_,r[4]=l*f+c*y+u*x,r[7]=l*g+c*b+u*w,r[2]=h*m+d*v+p*_,r[5]=h*f+d*y+p*x,r[8]=h*g+d*b+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*s*c-t*o*l-n*r*c+n*o*a+i*r*l-i*s*a},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],p=d*l-c*h,m=c*u-d*a,f=h*a-l*u,g=r*p+s*m+o*f;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(o*h-d*s)*y,i[2]=(c*s-o*l)*y,i[3]=m*y,i[4]=(d*r-o*u)*y,i[5]=(o*a-c*r)*y,i[6]=f*y,i[7]=(s*u-h*r)*y,i[8]=(l*r-s*a)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,o){var a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*s+l*o)+s+e,-i*l,i*a,-i*(-l*s+a*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*s+n*l,i[6]=t*o+n*c,i[1]=-n*r+t*a,i[4]=-n*s+t*l,i[7]=-n*o+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var bo=0;c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=300,c.prototype=Object.assign(Object.create(i.prototype),{constructor:c,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=yo.generateUUID()),t||void 0!==e.images[i.uuid]||(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _s:e.x=e.x-Math.floor(e.x);break;case xs:e.x=e.x<0?0:1;break;case ws:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case _s:e.y=e.y-Math.floor(e.y);break;case xs:e.y=e.y<0?0:1;break;case ws:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(c.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(u.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,s=e.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],d=s[2],p=s[6],m=s[10];if(Math.abs(a-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var f=(o+1)/2,g=(u+1)/2,v=(m+1)/2,y=(a+c)/4,b=(l+d)/4,_=(h+p)/4;return f>g&&f>v?f<.01?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(f)),r=b/n):g>v?g<.01?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(g)),r=_/i):v<.01?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(v)),i=_/r),this.set(n,i,r,t),this}var x=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-a)*(c-a));return Math.abs(x)<.001&&(x=1),this.x=(p-h)/x,this.y=(l-d)/x,this.z=(c-a)/x,this.w=Math.acos((o+u+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,i){return void 0===e&&(e=new u,t=new u),e.set(n,n,n,n),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),h.prototype=Object.assign(Object.create(i.prototype),{constructor:h,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(d.prototype=Object.create(h.prototype)).constructor=d,d.prototype.isWebGLRenderTargetCube=!0,(p.prototype=Object.create(c.prototype)).constructor=p,p.prototype.isDataTexture=!0,(m.prototype=Object.create(c.prototype)).constructor=m,m.prototype.isCubeTexture=!0,Object.defineProperty(m.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var _o=new c,xo=new m,wo=[],Eo=[],To=new Float32Array(16),So=new Float32Array(9);G.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var s=n[i];s.setValue(e,t[s.id])}};var ko=/([\w\d_]+)(\])?(\[|\.)?/g;$.prototype.setValue=function(e,t,n){var i=this.map[t];void 0!==i&&i.setValue(e,n,this.renderer)},$.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},$.upload=function(e,t,n,i){for(var r=0,s=t.length;r!==s;++r){var o=t[r],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,i)}},$.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var s=e[i];s.id in t&&n.push(s)}return n};var Ao={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(q.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){if(t=yo.euclideanModulo(t,1),n=yo.clamp(n,0,1),i=yo.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=e(s,r,t+1/3),this.g=e(s,r,t),this.b=e(s,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],s=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var o=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(o,a,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(e&&e.length>0){var u;void 0!==(u=Ao[e])?this.setHex(u):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,i=e||{h:0,s:0,l:0},r=this.r,s=this.g,o=this.b,a=Math.max(r,s,o),l=Math.min(r,s,o),c=(l+a)/2;if(l===a)t=0,n=0;else{var u=a-l;switch(n=c<=.5?u/(a+l):u/(2-a-l),a){case r:t=(s-o)/u+(s<o?6:0);break;case s:t=(o-r)/u+2;break;case o:t=(r-s)/u+4}t/=6}return i.h=t,i.s=n,i.l=c,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Co={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}}},Mo={merge:function(e){for(var t={},n=0;n<e.length;n++){var i=this.clone(e[n]);for(var r in i)t[r]=i[r]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var i in e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}},Ro={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},Lo={basic:{uniforms:Mo.merge([Co.common,Co.specularmap,Co.envmap,Co.aomap,Co.lightmap,Co.fog]),vertexShader:Ro.meshbasic_vert,fragmentShader:Ro.meshbasic_frag},lambert:{uniforms:Mo.merge([Co.common,Co.specularmap,Co.envmap,Co.aomap,Co.lightmap,Co.emissivemap,Co.fog,Co.lights,{emissive:{value:new q(0)}}]),vertexShader:Ro.meshlambert_vert,fragmentShader:Ro.meshlambert_frag},phong:{uniforms:Mo.merge([Co.common,Co.specularmap,Co.envmap,Co.aomap,Co.lightmap,Co.emissivemap,Co.bumpmap,Co.normalmap,Co.displacementmap,Co.gradientmap,Co.fog,Co.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:Ro.meshphong_vert,fragmentShader:Ro.meshphong_frag},standard:{uniforms:Mo.merge([Co.common,Co.envmap,Co.aomap,Co.lightmap,Co.emissivemap,Co.bumpmap,Co.normalmap,Co.displacementmap,Co.roughnessmap,Co.metalnessmap,Co.fog,Co.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ro.meshphysical_vert,fragmentShader:Ro.meshphysical_frag},points:{uniforms:Mo.merge([Co.points,Co.fog]),vertexShader:Ro.points_vert,fragmentShader:Ro.points_frag},dashed:{uniforms:Mo.merge([Co.common,Co.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ro.linedashed_vert,fragmentShader:Ro.linedashed_frag},depth:{uniforms:Mo.merge([Co.common,Co.displacementmap]),vertexShader:Ro.depth_vert,fragmentShader:Ro.depth_frag},normal:{uniforms:Mo.merge([Co.common,Co.bumpmap,Co.normalmap,Co.displacementmap,{opacity:{value:1}}]),vertexShader:Ro.normal_vert,fragmentShader:Ro.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ro.cube_vert,fragmentShader:Ro.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ro.equirect_vert,fragmentShader:Ro.equirect_frag},distanceRGBA:{uniforms:Mo.merge([Co.common,Co.displacementmap,{referencePosition:{value:new a},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ro.distanceRGBA_vert,fragmentShader:Ro.distanceRGBA_frag},shadow:{uniforms:Mo.merge([Co.lights,Co.fog,{color:{value:new q(0)},opacity:{value:1}}]),vertexShader:Ro.shadow_vert,fragmentShader:Ro.shadow_frag}};Lo.physical={uniforms:Mo.merge([Lo.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ro.meshphysical_vert,fragmentShader:Ro.meshphysical_frag},Object.assign(X.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new r;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new r).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new r).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new r;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),(K.prototype=Object.create(c.prototype)).constructor=K;var Po=0;J.prototype=Object.assign(Object.create(i.prototype),{constructor:J,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rr&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==Er&&(i.side=this.side),this.vertexColors!==kr&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=t(e.textures),s=t(e.images);r.length>0&&(i.textures=r),s.length>0&&(i.images=s)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Q.prototype=Object.create(J.prototype)).constructor=Q,Q.prototype.isMeshDepthMaterial=!0,Q.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},(ee.prototype=Object.create(J.prototype)).constructor=ee,ee.prototype.isMeshDistanceMaterial=!0,ee.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.length;a<l;a+=3){var c=e[a],u=e[a+1],h=e[a+2];c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.count;a<l;a++){var c=e.getX(a),u=e.getY(a),h=e.getZ(a);c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>s&&(s=u),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new a;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new a;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var s=e.geometry;if(void 0!==s)if(s.isGeometry){var o=s.vertices;for(n=0,i=o.length;n<i;n++)r.copy(o[n]),r.applyMatrix4(e.matrixWorld),t.expandByPoint(r)}else if(s.isBufferGeometry){var a=s.attributes.position;if(void 0!==a)for(n=0,i=a.count;n<i;n++)r.fromBufferAttribute(a,n).applyMatrix4(e.matrixWorld),t.expandByPoint(r)}}var t,n,i,r=new a;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new a).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new a;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new a).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new a;return function(t){var n=t||new ne;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new a,new a,new a,new a,new a,new a,new a,new a];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ne.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,n){var i=this.center;void 0!==n?i.copy(n):e.setFromPoints(t).getCenter(i);for(var r=0,s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),i=t||new a;return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new te;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ie.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new a,t=new a;return function(n,i,r){var s=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new a).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new a;return function(t,n){var i=n||new a,r=t.delta(e),s=this.normal.dot(r);if(0!==s){var o=-(t.start.dot(this.normal)+this.constant)/s;if(!(o<0||o>1))return i.copy(r).multiplyScalar(o).add(t.start)}else if(0===this.distanceToPoint(t.start))return i.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new a).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new a,t=new l;return function(n,i){var r=i||t.getNormalMatrix(n),s=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(re.prototype,{set:function(e,t,n,i,r,s){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],m=n[11],f=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-i,u-a,m-h,y-f).normalize(),t[1].setComponents(o+i,u+a,m+h,y+f).normalize(),t[2].setComponents(o+r,u+l,m+d,y+g).normalize(),t[3].setComponents(o-r,u-l,m-d,y-g).normalize(),t[4].setComponents(o-s,u-c,m-p,y-v).normalize(),t[5].setComponents(o+s,u+c,m+p,y+v).normalize(),this},intersectsObject:function(){var e=new ne;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ne;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(){var e=new a,t=new a;return function(n){for(var i=this.planes,r=0;r<6;r++){var s=i[r];e.x=s.normal.x>0?n.min.x:n.max.x,t.x=s.normal.x>0?n.max.x:n.min.x,e.y=s.normal.y>0?n.min.y:n.max.y,t.y=s.normal.y>0?n.max.y:n.min.y,e.z=s.normal.z>0?n.min.z:n.max.z,t.z=s.normal.z>0?n.max.z:n.min.z;var o=s.distanceToPoint(e),a=s.distanceToPoint(t);if(o<0&&a<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),ae.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ae.DefaultOrder="XYZ",Object.defineProperties(ae.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(ae.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=yo.clamp,r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s))):"ZYX"===t?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p))):"XZY"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new s;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new o;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new a(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(le.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Oo=0;ce.DefaultUp=new a(0,1,0),ce.DefaultMatrixAutoUpdate=!0,ce.prototype=Object.assign(Object.create(i.prototype),{constructor:ce,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new o;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new a(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new a(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new a(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new a;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new a(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new a(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new a(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new s;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new s,t=new a;return function(n,i,r){n.isVector3?t.copy(n):t.set(n,i,r),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){var t=e||new a;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new a,t=new a;return function(n){var i=n||new o;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,i,t),i}}(),getWorldRotation:function(){var e=new o;return function(t){var n=t||new ae;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new a,t=new o;return function(n){var i=n||new a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,i),i}}(),getWorldDirection:function(){var e=new o;return function(t){var n=t||new a;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}var i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var s={};if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.matrix=this.matrix.toArray(),void 0!==this.geometry){s.geometry=t(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var l=0,c=a.length;l<c;l++){var u=a[l];t(e.shapes,u)}else t(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(l=0,c=this.material.length;l<c;l++)h.push(t(e.materials,this.material[l]));s.material=h}else s.material=t(e.materials,this.material);if(this.children.length>0){s.children=[];for(l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(i){var d=n(e.geometries),p=n(e.materials),m=n(e.textures),f=n(e.images);a=n(e.shapes);d.length>0&&(r.geometries=d),p.length>0&&(r.materials=p),m.length>0&&(r.textures=m),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=s,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),ue.prototype=Object.assign(Object.create(ce.prototype),{constructor:ue,isCamera:!0,copy:function(e,t){return ce.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new o;return function(t){var n=t||new a;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){ce.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),he.prototype=Object.assign(Object.create(ue.prototype),{constructor:he,isOrthographicCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,s=n+e,o=i+t,a=i-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;s=(r+=u*(this.view.offsetX/l))+u*(this.view.width/l),a=(o-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(de.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Do=0;pe.prototype=Object.assign(Object.create(i.prototype),{constructor:pe,isGeometry:!0,applyMatrix:function(e){for(var t=(new l).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var s=0,o=r.vertexNormals.length;s<o;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new s;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new s;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new s;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new s;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new s;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,i,r){var s=new de(e,t,i,void 0!==l?[d[e].clone(),d[t].clone(),d[i].clone()]:[],void 0!==c?[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()]:[],r);n.faces.push(s),void 0!==u&&n.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[i].clone()]),void 0!==h&&n.faceVertexUvs[1].push([m[e].clone(),m[t].clone(),m[i].clone()])}var n=this,i=null!==e.index?e.index.array:void 0,s=e.attributes,o=s.position.array,l=void 0!==s.normal?s.normal.array:void 0,c=void 0!==s.color?s.color.array:void 0,u=void 0!==s.uv?s.uv.array:void 0,h=void 0!==s.uv2?s.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],p=[],m=[],f=0,g=0;f<o.length;f+=3,g+=2)n.vertices.push(new a(o[f],o[f+1],o[f+2])),void 0!==l&&d.push(new a(l[f],l[f+1],l[f+2])),void 0!==c&&n.colors.push(new q(c[f],c[f+1],c[f+2])),void 0!==u&&p.push(new r(u[g],u[g+1])),void 0!==h&&m.push(new r(h[g],h[g+1]));var v=e.groups;if(v.length>0)for(f=0;f<v.length;f++)for(var y=v[f],b=y.start,_=(g=b,b+y.count);g<_;g+=3)void 0!==i?t(i[g],i[g+1],i[g+2],y.materialIndex):t(g,g+1,g+2,y.materialIndex);else if(void 0!==i)for(f=0;f<i.length;f+=3)t(i[f],i[f+1],i[f+2]);else for(f=0;f<o.length/3;f+=3)t(f,f+1,f+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new s;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new a,t=new a,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],s=this.vertices[r.a],o=this.vertices[r.b],l=this.vertices[r.c];e.subVectors(l,o),t.subVectors(s,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,i,r,s,o;for(o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new a;if(e){var l,c,u,h=new a,d=new a;for(i=0,r=this.faces.length;i<r;i++)s=this.faces[i],l=this.vertices[s.a],c=this.vertices[s.b],u=this.vertices[s.c],h.subVectors(u,c),d.subVectors(l,c),h.cross(d),o[s.a].add(h),o[s.b].add(h),o[s.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(s=this.faces[i]).a].add(s.normal),o[s.b].add(s.normal),o[s.c].add(s.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var p=(s=this.faces[i]).vertexNormals;3===p.length?(p[0].copy(o[s.a]),p[1].copy(o[s.b]),p[2].copy(o[s.c])):(p[0]=o[s.a].clone(),p[1]=o[s.b].clone(),p[2]=o[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var s=new pe;for(s.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)u=new a,h={a:new a,b:new a,c:new a},o.push(u),l.push(h)}var c=this.morphNormals[e];s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals();var u,h;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],u=c.faceNormals[n],h=c.vertexNormals[n],u.copy(r.normal),h.a.copy(r.vertexNormals[0]),h.b.copy(r.vertexNormals[1]),h.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,i=t.length;n<i;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ne),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,s=this.vertices,o=e.vertices,a=this.faces,c=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0],d=this.colors,p=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new l).getNormalMatrix(t));for(var m=0,f=o.length;m<f;m++){var g=o[m].clone();void 0!==t&&g.applyMatrix4(t),s.push(g)}for(m=0,f=p.length;m<f;m++)d.push(p[m].clone());for(m=0,f=c.length;m<f;m++){var v,y,b,_=c[m],x=_.vertexNormals,w=_.vertexColors;(v=new de(_.a+r,_.b+r,_.c+r)).normal.copy(_.normal),void 0!==i&&v.normal.applyMatrix3(i).normalize();for(var E=0,T=x.length;E<T;E++)y=x[E].clone(),void 0!==i&&y.applyMatrix3(i).normalize(),v.vertexNormals.push(y);v.color.copy(_.color);for(E=0,T=w.length;E<T;E++)b=w[E],v.vertexColors.push(b.clone());v.materialIndex=_.materialIndex+n,a.push(v)}for(m=0,f=h.length;m<f;m++){var S=h[m],k=[];if(void 0!==S){for(E=0,T=S.length;E<T;E++)k.push(S[E].clone());u.push(k)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,s,o,a,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(l[t]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[t]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],s=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(s[p]===s[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var m=d[n];for(this.faces.splice(m,1),o=0,a=this.faceVertexUvs.length;o<a;o++)this.faceVertexUvs[o].splice(m,1)}var f=this.vertices.length-c.length;return this.vertices=c,f},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new a(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,s=this.faceVertexUvs[0],o=this.faceVertexUvs[1];s&&s.length===t&&(i=[]),o&&o.length===t&&(r=[]);for(n=0;n<t;n++){var a=e[n]._id;i&&i.push(s[a]),r&&r.push(o[a])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==m[t]?m[t]:(m[t]=p.length,p.push(e.getHex()),m[t])}function i(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=f.length/2,f.push(e.x,e.y),g[t])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var s=this.parameters;for(var o in s)void 0!==s[o]&&(r[o]=s[o]);return r}for(var a=[],l=0;l<this.vertices.length;l++){var c=this.vertices[l];a.push(c.x,c.y,c.z)}var u=[],h=[],d={},p=[],m={},f=[],g={};for(l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],b=v.normal.length()>0,_=v.vertexNormals.length>0,x=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,b),E=e(E,5,_),E=e(E,6,x),E=e(E,7,w),u.push(E),u.push(v.a,v.b,v.c),u.push(v.materialIndex),y){var T=this.faceVertexUvs[0][l];u.push(i(T[0]),i(T[1]),i(T[2]))}if(b&&u.push(t(v.normal)),_){var S=v.vertexNormals;u.push(t(S[0]),t(S[1]),t(S[2]))}if(x&&u.push(n(v.color)),w){var k=v.vertexColors;u.push(n(k[0]),n(k[1]),n(k[2]))}}return r.data={},r.data.vertices=a,r.data.normals=h,p.length>0&&(r.data.colors=p),f.length>0&&(r.data.uvs=[f]),r.data.faces=u,r},clone:function(){return(new pe).copy(this)},copy:function(e){var t,n,i,r,s,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.vertices;for(t=0,n=a.length;t<n;t++)this.vertices.push(a[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=u.length;i<r;i++){var h=u[i],d=[];for(s=0,o=h.length;s<o;s++){var p=h[s];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var m=e.morphTargets;for(t=0,n=m.length;t<n;t++){var f={};if(f.name=m[t].name,void 0!==m[t].vertices)for(f.vertices=[],i=0,r=m[t].vertices.length;i<r;i++)f.vertices.push(m[t].vertices[i].clone());if(void 0!==m[t].normals)for(f.normals=[],i=0,r=m[t].normals.length;i<r;i++)f.normals.push(m[t].normals[i].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var y=g[t].vertexNormals[i],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)v.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(v)}var _=e.skinWeights;for(t=0,n=_.length;t<n;t++)this.skinWeights.push(_[t].clone());var x=e.skinIndices;for(t=0,n=x.length;t<n;t++)this.skinIndices.push(x[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var T=e.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(me.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(me.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new q),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];t[n++]=s.a,t[n++]=s.b,t[n++]=s.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,s=e.length;i<s;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new r),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new a),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new u),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(fe.prototype=Object.create(me.prototype)).constructor=fe,(ge.prototype=Object.create(me.prototype)).constructor=ge,(ve.prototype=Object.create(me.prototype)).constructor=ve,(ye.prototype=Object.create(me.prototype)).constructor=ye,(be.prototype=Object.create(me.prototype)).constructor=be,(_e.prototype=Object.create(me.prototype)).constructor=_e,(xe.prototype=Object.create(me.prototype)).constructor=xe,(we.prototype=Object.create(me.prototype)).constructor=we,(Ee.prototype=Object.create(me.prototype)).constructor=Ee,Object.assign(Te.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,s=0;s<r.length;s++){var o=r[s];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*s-t.start,n.push(t)),t={start:3*s,materialIndex:i})}void 0!==t&&(t.count=3*s-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,s=e.faceVertexUvs,o=s[0]&&s[0].length>0,a=s[1]&&s[1].length>0,l=e.morphTargets,c=l.length;if(c>0){t=[];for(var u=0;u<c;u++)t[u]=[];this.morphTargets.position=t}var h,d=e.morphNormals,p=d.length;if(p>0){h=[];for(u=0;u<p;u++)h[u]=[];this.morphTargets.normal=h}var m=e.skinIndices,f=e.skinWeights,g=m.length===i.length,v=f.length===i.length;for(u=0;u<n.length;u++){var y=n[u];this.vertices.push(i[y.a],i[y.b],i[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var _=y.normal;this.normals.push(_,_,_)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===o){void 0!==(E=s[0][u])?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new r,new r,new r))}if(!0===a){var E;void 0!==(E=s[1][u])?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new r,new r,new r))}for(var T=0;T<c;T++){var S=l[T].vertices;t[T].push(S[y.a],S[y.b],S[y.c])}for(T=0;T<p;T++){var k=d[T].vertexNormals[u];h[T].push(k.a,k.b,k.c)}g&&this.skinIndices.push(m[y.a],m[y.b],m[y.c]),v&&this.skinWeights.push(f[y.a],f[y.b],f[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Fo=1;ke.prototype=Object.assign(Object.create(i.prototype),{constructor:ke,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Se(e)>65535?xe:be)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new me(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new l).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new s;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new s;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new s;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new s;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new s;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new we(3*t.vertices.length,3),i=new we(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new we(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new we(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var i;return!0===t.verticesNeedUpdate&&(void 0!==(i=this.attributes.position)&&(i.copyVector3sArray(t.vertices),i.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(i=this.attributes.normal)&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(i=this.attributes.color)&&(i.copyColorsArray(t.colors),i.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(i=this.attributes.uv)&&(i.copyVector2sArray(t.uvs),i.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(i=this.attributes.lineDistance)&&(i.copyArray(t.lineDistances),i.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Te).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new me(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new me(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new me(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new me(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var s=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new me(s,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=new(Se(e.indices)>65535?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new me(o,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var a in e.morphTargets){for(var l=[],c=e.morphTargets[a],u=0,h=c.length;u<h;u++){var d=c[u],p=new we(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[a]=l}if(e.skinIndices.length>0){var m=new we(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new we(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new te,t=new a;return function(){null===this.boundingSphere&&(this.boundingSphere=new ne);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);for(var r=0,s=0,o=n.count;s<o;s++)t.x=n.getX(s),t.y=n.getY(s),t.z=n.getZ(s),r=Math.max(r,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new me(new Float32Array(i.length),3));else for(var r=t.normal.array,s=0,o=r.length;s<o;s++)r[s]=0;var l,c,u,h=t.normal.array,d=new a,p=new a,m=new a,f=new a,g=new a;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y){var _=n[y],x=_.start;for(s=x,o=x+_.count;s<o;s+=3)l=3*v[s+0],c=3*v[s+1],u=3*v[s+2],d.fromArray(i,l),p.fromArray(i,c),m.fromArray(i,u),f.subVectors(m,p),g.subVectors(d,p),f.cross(g),h[l]+=f.x,h[l+1]+=f.y,h[l+2]+=f.z,h[c]+=f.x,h[c+1]+=f.y,h[c+2]+=f.z,h[u]+=f.x,h[u+1]+=f.y,h[u+2]+=f.z}}else for(s=0,o=i.length;s<o;s+=9)d.fromArray(i,s),p.fromArray(i,s+3),m.fromArray(i,s+6),f.subVectors(m,p),g.subVectors(d,p),f.cross(g),h[s]=f.x,h[s+1]=f.y,h[s+2]=f.z,h[s+3]=f.x,h[s+4]=f.y,h[s+5]=f.z,h[s+6]=f.x,h[s+7]=f.y,h[s+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,s=e.attributes[i],o=s.array,a=0,l=s.itemSize*t;a<o.length;a++,l++)r[l]=o[a];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new a;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new ke,t=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],s=r.array,o=r.itemSize,a=new s.constructor(t.length*o),l=0,c=0,u=0,h=t.length;u<h;u++){l=t[u]*o;for(var d=0;d<o;d++)a[c++]=s[l++]}e.addAttribute(i,new me(a,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var s=this.attributes;for(var n in s){var o=s[n];r=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new ke).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var s=e.attributes;for(t in s){var o=s[t];this.addAttribute(t,o.clone())}var a=e.morphAttributes;for(t in a){var l=[],c=a[t];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[t]=l}var u=e.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Ae.prototype=Object.create(pe.prototype)).constructor=Ae,(Ce.prototype=Object.create(ke.prototype)).constructor=Ce,(Me.prototype=Object.create(pe.prototype)).constructor=Me,(Re.prototype=Object.create(ke.prototype)).constructor=Re,(Le.prototype=Object.create(J.prototype)).constructor=Le,Le.prototype.isMeshBasicMaterial=!0,Le.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},(Pe.prototype=Object.create(J.prototype)).constructor=Pe,Pe.prototype.isShaderMaterial=!0,Pe.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Mo.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Pe.prototype.toJSON=function(e){var t=J.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Oe.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new a).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new a;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new a;n.subVectors(e,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new a;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new a,t=new a,n=new a;return function(i,r,s,o){e.copy(i).add(r).multiplyScalar(.5),t.copy(r).sub(i).normalize(),n.copy(this.origin).sub(e);var a,l,c,u,h=.5*i.distanceTo(r),d=-this.direction.dot(t),p=n.dot(this.direction),m=-n.dot(t),f=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(a=d*m-p,l=d*p-m,u=h*g,a>=0)if(l>=-u)if(l<=u){var v=1/g;c=(a*=v)*(a+d*(l*=v)+2*p)+l*(d*a+l+2*m)+f}else l=h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;else l=-h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;else l<=-u?c=-(a=Math.max(0,-(-d*h+p)))*a+(l=a>0?-h:Math.min(Math.max(-h,-m),h))*(l+2*m)+f:l<=u?(a=0,c=(l=Math.min(Math.max(-h,-m),h))*(l+2*m)+f):c=-(a=Math.max(0,-(d*h+p)))*a+(l=a>0?h:Math.min(Math.max(-h,-m),h))*(l+2*m)+f;else l=d>0?-h:h,c=-(a=Math.max(0,-(d*l+p)))*a+l*(l+2*m)+f;return s&&s.copy(this.direction).multiplyScalar(a).add(this.origin),o&&o.copy(t).multiplyScalar(l).add(e),c}}(),intersectSphere:function(){var e=new a;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i,s=t.radius*t.radius;if(r>s)return null;var o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,s,o,a,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),u>=0?(o=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||o>i?null:((o>n||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:function(){var e=new a;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new a,t=new a,n=new a,i=new a;return function(r,s,o,a,l){t.subVectors(s,r),n.subVectors(o,r),i.crossVectors(t,n);var c,u=this.direction.dot(i);if(u>0){if(a)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,r);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>u)return null;var p=-c*e.dot(i);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(De.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new a).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new a).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new a;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new a,t=new a;return function(n,i){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var r=t.dot(t),s=t.dot(e)/r;return i&&(s=yo.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t),r=n||new a;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Fe,{normal:function(){var e=new a;return function(t,n,i,r){var s=r||new a;s.subVectors(i,n),e.subVectors(t,n),s.cross(e);var o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new a,t=new a,n=new a;return function(i,r,s,o,l){e.subVectors(o,r),t.subVectors(s,r),n.subVectors(i,r);var c=e.dot(e),u=e.dot(t),h=e.dot(n),d=t.dot(t),p=t.dot(n),m=c*d-u*u,f=l||new a;if(0===m)return f.set(-2,-1,-1);var g=1/m,v=(d*h-u*p)*g,y=(c*p-u*h)*g;return f.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new a;return function(t,n,i,r){var s=Fe.barycoordFromPoint(t,n,i,r,e);return s.x>=0&&s.y>=0&&s.x+s.y<=1}}()}),Object.assign(Fe.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new a,t=new a;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new a).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Fe.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new ie).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Fe.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Fe.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ie,t=[new De,new De,new De],n=new a,i=new a;return function(r,s){var o=s||new a,l=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,n),!0===this.containsPoint(n))o.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var c=0;c<t.length;c++){t[c].closestPointToPoint(n,!0,i);var u=n.distanceToSquared(i);u<l&&(l=u,o.copy(i))}}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Ie.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ie,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ce.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,s=Object.keys(r);if(s.length>0){var o=r[s[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var a=i.morphTargets;if(void 0!==a&&a.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,i,r,s,o){return Fe.barycoordFromPoint(e,t,n,i,y),r.multiplyScalar(y.x),s.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(s).add(o),r.clone()}function t(e,t,n,i,r,s,o,a){if(null===(t.side===Tr?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,t.side!==Sr,a)))return null;_.copy(a),_.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(_);return l<n.near||l>n.far?null:{distance:l,point:_.clone(),object:e}}function n(n,i,r,s,o,a,l,d){c.fromBufferAttribute(s,a),u.fromBufferAttribute(s,l),h.fromBufferAttribute(s,d);var p=t(n,n.material,i,r,c,u,h,b);return p&&(o&&(f.fromBufferAttribute(o,a),g.fromBufferAttribute(o,l),v.fromBufferAttribute(o,d),p.uv=e(b,c,u,h,f,g,v)),p.face=new de(a,l,d,Fe.normal(c,u,h)),p.faceIndex=a),p}var i=new s,o=new Oe,l=new ne,c=new a,u=new a,h=new a,d=new a,p=new a,m=new a,f=new r,g=new r,v=new r,y=new a,b=new a,_=new a;return function(r,s){var a=this.geometry,y=this.material,_=this.matrixWorld;if(void 0!==y&&(null===a.boundingSphere&&a.computeBoundingSphere(),l.copy(a.boundingSphere),l.applyMatrix4(_),!1!==r.ray.intersectsSphere(l)&&(i.getInverse(_),o.copy(r.ray).applyMatrix4(i),null===a.boundingBox||!1!==o.intersectsBox(a.boundingBox)))){var x;if(a.isBufferGeometry){var w,E,T,S,k,A=a.index,C=a.attributes.position,M=a.attributes.uv;if(null!==A)for(S=0,k=A.count;S<k;S+=3)w=A.getX(S),E=A.getX(S+1),T=A.getX(S+2),(x=n(this,r,o,C,M,w,E,T))&&(x.faceIndex=Math.floor(S/3),s.push(x));else if(void 0!==C)for(S=0,k=C.count;S<k;S+=3)(x=n(this,r,o,C,M,w=S,E=S+1,T=S+2))&&(x.index=w,s.push(x))}else if(a.isGeometry){var R,L,P,O,D=Array.isArray(y),F=a.vertices,I=a.faces,N=a.faceVertexUvs[0];N.length>0&&(O=N);for(var B=0,j=I.length;B<j;B++){var z=I[B],U=D?y[z.materialIndex]:y;if(void 0!==U){if(R=F[z.a],L=F[z.b],P=F[z.c],!0===U.morphTargets){var V=a.morphTargets,G=this.morphTargetInfluences;c.set(0,0,0),u.set(0,0,0),h.set(0,0,0);for(var H=0,W=V.length;H<W;H++){var $=G[H];if(0!==$){var q=V[H].vertices;c.addScaledVector(d.subVectors(q[z.a],R),$),u.addScaledVector(p.subVectors(q[z.b],L),$),h.addScaledVector(m.subVectors(q[z.c],P),$)}}c.add(R),u.add(L),h.add(P),R=c,L=u,P=h}if(x=t(this,U,r,o,R,L,P,b)){if(O&&O[B]){var X=O[B];f.copy(X[0]),g.copy(X[1]),v.copy(X[2]),x.uv=e(b,R,L,P,f,g,v)}x.face=z,x.faceIndex=B,s.push(x)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Io=0;Je.prototype=Object.assign(Object.create(ue.prototype),{constructor:Je,isPerspectiveCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*yo.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*yo.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*yo.RAD2DEG*Math.atan(Math.tan(.5*yo.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*yo.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,s=this.view;if(null!==this.view&&this.view.enabled){var o=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/o,t-=s.offsetY*n/a,i*=s.width/o,n*=s.height/a}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Qe.prototype=Object.assign(Object.create(Je.prototype),{constructor:Qe,isArrayCamera:!0}),nt.prototype.isFogExp2=!0,nt.prototype.clone=function(){return new nt(this.color.getHex(),this.density)},nt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},it.prototype.isFog=!0,it.prototype.clone=function(){return new it(this.color.getHex(),this.near,this.far)},it.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},rt.prototype=Object.assign(Object.create(ce.prototype),{constructor:rt,copy:function(e,t){return ce.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),st.prototype=Object.assign(Object.create(ce.prototype),{constructor:st,isLensFlare:!0,copy:function(e){ce.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,i,r,s){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===s&&(s=1),void 0===r&&(r=new q(16777215)),void 0===i&&(i=Rr),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:s,color:r,blending:i})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,i=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;e<n;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+i*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),(ot.prototype=Object.create(J.prototype)).constructor=ot,ot.prototype.isSpriteMaterial=!0,ot.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},at.prototype=Object.assign(Object.create(ce.prototype),{constructor:at,isSprite:!0,raycast:function(){var e=new a,t=new a,n=new a;return function(i,r){t.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var s=n.x*n.y/4;if(!(t.distanceToSquared(e)>s)){var o=i.ray.origin.distanceTo(e);o<i.near||o>i.far||r.push({distance:o,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),lt.prototype=Object.assign(Object.create(ce.prototype),{constructor:lt,copy:function(e){ce.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new a;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var e=new a,t=new a;return function(n){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);i[0].object.visible=!0;for(var s=1,o=i.length;s<o&&r>=i[s].distance;s++)i[s-1].object.visible=!1,i[s].object.visible=!0;for(;s<o;s++)i[s].object.visible=!1}}}(),toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}),Object.assign(ct.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new s;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new s,t=new s;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,s=this.boneTexture,o=0,a=n.length;o<a;o++){var l=n[o]?n[o].matrixWorld:t;e.multiplyMatrices(l,i[o]),e.toArray(r,16*o)}void 0!==s&&(s.needsUpdate=!0)}}(),clone:function(){return new ct(this.bones,this.boneInverses)}}),ut.prototype=Object.assign(Object.create(ce.prototype),{constructor:ut,isBone:!0}),ht.prototype=Object.assign(Object.create(Ie.prototype),{constructor:ht,isSkinnedMesh:!0,initBones:function(){var e,t,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],e=new ut,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.manhattanLength())!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new u,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++)i.x=r.getX(t),i.y=r.getY(t),i.z=r.getZ(t),i.w=r.getW(t),(e=1/i.manhattanLength())!==1/0?i.multiplyScalar(e):i.set(1,0,0,0),r.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(e){Ie.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(dt.prototype=Object.create(J.prototype)).constructor=dt,dt.prototype.isLineBasicMaterial=!0,dt.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},pt.prototype=Object.assign(Object.create(ce.prototype),{constructor:pt,isLine:!0,raycast:function(){var e=new s,t=new Oe,n=new ne;return function(i,r){var s=i.linePrecision,o=s*s,l=this.geometry,c=this.matrixWorld;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var u=new a,h=new a,d=new a,p=new a,m=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var f=l.index,g=l.attributes.position.array;if(null!==f)for(var v=f.array,y=0,b=v.length-1;y<b;y+=m){var _=v[y],x=v[y+1];u.fromArray(g,3*_),h.fromArray(g,3*x);if(!(t.distanceSqToSegment(u,h,p,d)>o)){p.applyMatrix4(this.matrixWorld);(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(y=0,b=g.length/3-1;y<b;y+=m){u.fromArray(g,3*y),h.fromArray(g,3*y+3);if(!(t.distanceSqToSegment(u,h,p,d)>o)){p.applyMatrix4(this.matrixWorld);(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry){var w=l.vertices,E=w.length;for(y=0;y<E-1;y+=m){if(!(t.distanceSqToSegment(w[y],w[y+1],p,d)>o)){p.applyMatrix4(this.matrixWorld);var T;(T=i.ray.origin.distanceTo(p))<i.near||T>i.far||r.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mt.prototype=Object.assign(Object.create(pt.prototype),{constructor:mt,isLineSegments:!0}),ft.prototype=Object.assign(Object.create(pt.prototype),{constructor:ft,isLineLoop:!0}),(gt.prototype=Object.create(J.prototype)).constructor=gt,gt.prototype.isPointsMaterial=!0,gt.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},vt.prototype=Object.assign(Object.create(ce.prototype),{constructor:vt,isPoints:!0,raycast:function(){var e=new s,t=new Oe,n=new ne;return function(i,r){function s(e,n){var s=t.distanceSqToPoint(e);if(s<d){var a=t.closestPointToPoint(e);a.applyMatrix4(c);var l=i.ray.origin.distanceTo(a);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(s),point:a.clone(),index:n,face:null,object:o})}}var o=this,l=this.geometry,c=this.matrixWorld,u=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==i.ray.intersectsSphere(n)){e.getInverse(c),t.copy(i.ray).applyMatrix4(e);var h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new a;if(l.isBufferGeometry){var m=l.index,f=l.attributes.position.array;if(null!==m)for(var g=m.array,v=0,y=g.length;v<y;v++){var b=g[v];p.fromArray(f,3*b),s(p,b)}else{v=0;for(var _=f.length/3;v<_;v++)p.fromArray(f,3*v),s(p,v)}}else{var x=l.vertices;for(v=0,_=x.length;v<_;v++)s(x[v],v)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yt.prototype=Object.assign(Object.create(ce.prototype),{constructor:yt,isGroup:!0}),bt.prototype=Object.assign(Object.create(c.prototype),{constructor:bt,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(_t.prototype=Object.create(c.prototype)).constructor=_t,_t.prototype.isCompressedTexture=!0,(xt.prototype=Object.create(c.prototype)).constructor=xt,xt.prototype.isDepthTexture=!0,(wt.prototype=Object.create(ke.prototype)).constructor=wt,(Et.prototype=Object.create(pe.prototype)).constructor=Et,(Tt.prototype=Object.create(ke.prototype)).constructor=Tt,(St.prototype=Object.create(pe.prototype)).constructor=St,(kt.prototype=Object.create(ke.prototype)).constructor=kt,(At.prototype=Object.create(pe.prototype)).constructor=At,(Ct.prototype=Object.create(kt.prototype)).constructor=Ct,(Mt.prototype=Object.create(pe.prototype)).constructor=Mt,(Rt.prototype=Object.create(kt.prototype)).constructor=Rt,(Lt.prototype=Object.create(pe.prototype)).constructor=Lt,(Pt.prototype=Object.create(kt.prototype)).constructor=Pt,(Ot.prototype=Object.create(pe.prototype)).constructor=Ot,(Dt.prototype=Object.create(kt.prototype)).constructor=Dt,(Ft.prototype=Object.create(pe.prototype)).constructor=Ft,(It.prototype=Object.create(ke.prototype)).constructor=It,(Nt.prototype=Object.create(pe.prototype)).constructor=Nt,(Bt.prototype=Object.create(ke.prototype)).constructor=Bt,(jt.prototype=Object.create(pe.prototype)).constructor=jt,(zt.prototype=Object.create(ke.prototype)).constructor=zt;var No=function(e,t,n){n=n||2;var i=t&&t.length,r=i?t[0]*n:e.length,s=Ut(e,0,r,n,!0),o=[];if(!s)return o;var a,l,c,u,h,d,p;if(i&&(s=Ht(e,t,s,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(var m=n;m<r;m+=n)h=e[m],d=e[m+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=0!==(p=Math.max(c-a,u-l))?1/p:0}return Gt(s,o,n,a,l,p),o},Bo={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return Bo.area(e)<0},triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function i(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var r=[],s=[],o=[];n(e),i(r,e);var a=e.length;for(t.forEach(n),c=0;c<t.length;c++)s.push(a),a+=t[c].length,i(r,t[c]);for(var l=No(r,s),c=0;c<l.length;c+=3)o.push(l.slice(c,c+3));return o}};(nn.prototype=Object.create(pe.prototype)).constructor=nn,(rn.prototype=Object.create(ke.prototype)).constructor=rn,rn.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),i=n?Array.prototype.slice.call(n.array):[],r=this.index;return{position:t,uv:i,index:r?Array.prototype.slice.call(r.array):[]}},rn.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new we(t.arrays.position,3)),this.addAttribute("uv",new we(t.arrays.uv,2))},rn.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function i(e,t,n){var i,s,o,a=e.x-t.x,l=e.y-t.y,c=n.x-e.x,u=n.y-e.y,h=a*a+l*l,d=a*u-l*c;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(h),m=Math.sqrt(c*c+u*u),f=t.x-l/p,g=t.y+a/p,v=((n.x-u/m-f)*u-(n.y+c/m-g)*c)/(a*u-l*c),y=(i=f+a*v-e.x)*i+(s=g+l*v-e.y)*s;if(y<=2)return new r(i,s);o=Math.sqrt(y/2)}else{var b=!1;a>Number.EPSILON?c>Number.EPSILON&&(b=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(b=!0):Math.sign(l)===Math.sign(u)&&(b=!0),b?(i=-l,s=a,o=Math.sqrt(h)):(i=a,s=l,o=Math.sqrt(h/2))}return new r(i/o,s/o)}function s(e,t){var n,i;for(Y=e.length;--Y>=0;){n=Y,(i=Y-1)<0&&(i=e.length-1);var r=0,s=A+2*T;for(r=0;r<s;r++){var o=$*r,a=$*(r+1);!function(e,t,n,i){c(e),c(t),c(i),c(t),c(n),c(i);var r=v.length/3,s=R.generateSideWallUV(D,v,r-6,r-3,r-2,r-1);u(s[0]),u(s[1]),u(s[3]),u(s[1]),u(s[2]),u(s[3])}(t+n+o,t+i+o,t+i+a,t+n+a)}}}function o(e,t,n){_.push(e),_.push(t),_.push(n)}function l(e,t,n){c(e),c(t),c(n);var i=v.length/3,r=R.generateTopUV(D,v,i-3,i-2,i-1);u(r[0]),u(r[1]),u(r[2])}function c(e){y.push(v.length/3),v.push(_[3*e+0]),v.push(_[3*e+1]),v.push(_[3*e+2])}function u(e){b.push(e.x),b.push(e.y)}var h,d,p,m,f,g=t.arrays?t.arrays:this.getArrays(),v=g.position,y=g.index,b=g.uv,_=[],x=void 0!==t.amount?t.amount:100,w=void 0!==t.bevelThickness?t.bevelThickness:6,E=void 0!==t.bevelSize?t.bevelSize:w-2,T=void 0!==t.bevelSegments?t.bevelSegments:3,S=void 0===t.bevelEnabled||t.bevelEnabled,k=void 0!==t.curveSegments?t.curveSegments:12,A=void 0!==t.steps?t.steps:1,C=t.extrudePath,M=!1,R=void 0!==t.UVGenerator?t.UVGenerator:nn.WorldUVGenerator;C&&(h=C.getSpacedPoints(A),M=!0,S=!1,d=void 0!==t.frames?t.frames:C.computeFrenetFrames(A,!1),p=new a,m=new a,f=new a),S||(T=0,w=0,E=0);var L,P,O,D=this,F=e.extractPoints(k),I=F.shape,N=F.holes;if(!Bo.isClockWise(I))for(I=I.reverse(),P=0,O=N.length;P<O;P++)L=N[P],Bo.isClockWise(L)&&(N[P]=L.reverse());var B=Bo.triangulateShape(I,N),j=I;for(P=0,O=N.length;P<O;P++)L=N[P],I=I.concat(L);for(var z,U,V,G,H,W,$=I.length,q=B.length,X=[],Y=0,K=j.length,Z=K-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),X[Y]=i(j[Y],j[Z],j[J]);var Q,ee=[],te=X.concat();for(P=0,O=N.length;P<O;P++){for(L=N[P],Q=[],Y=0,Z=(K=L.length)-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),Q[Y]=i(L[Y],L[Z],L[J]);ee.push(Q),te=te.concat(Q)}for(z=0;z<T;z++){for(V=z/T,G=w*Math.cos(V*Math.PI/2),U=E*Math.sin(V*Math.PI/2),Y=0,K=j.length;Y<K;Y++)o((H=n(j[Y],X[Y],U)).x,H.y,-G);for(P=0,O=N.length;P<O;P++)for(L=N[P],Q=ee[P],Y=0,K=L.length;Y<K;Y++)o((H=n(L[Y],Q[Y],U)).x,H.y,-G)}for(U=E,Y=0;Y<$;Y++)H=S?n(I[Y],te[Y],U):I[Y],M?(m.copy(d.normals[0]).multiplyScalar(H.x),p.copy(d.binormals[0]).multiplyScalar(H.y),f.copy(h[0]).add(m).add(p),o(f.x,f.y,f.z)):o(H.x,H.y,0);var ne;for(ne=1;ne<=A;ne++)for(Y=0;Y<$;Y++)H=S?n(I[Y],te[Y],U):I[Y],M?(m.copy(d.normals[ne]).multiplyScalar(H.x),p.copy(d.binormals[ne]).multiplyScalar(H.y),f.copy(h[ne]).add(m).add(p),o(f.x,f.y,f.z)):o(H.x,H.y,x/A*ne);for(z=T-1;z>=0;z--){for(V=z/T,G=w*Math.cos(V*Math.PI/2),U=E*Math.sin(V*Math.PI/2),Y=0,K=j.length;Y<K;Y++)o((H=n(j[Y],X[Y],U)).x,H.y,x+G);for(P=0,O=N.length;P<O;P++)for(L=N[P],Q=ee[P],Y=0,K=L.length;Y<K;Y++)H=n(L[Y],Q[Y],U),M?o(H.x,H.y+h[A-1].y,h[A-1].x+G):o(H.x,H.y,x+G)}!function(){var e=v.length/3;if(S){var n=0,i=$*n;for(Y=0;Y<q;Y++)l((W=B[Y])[2]+i,W[1]+i,W[0]+i);for(i=$*(n=A+2*T),Y=0;Y<q;Y++)l((W=B[Y])[0]+i,W[1]+i,W[2]+i)}else{for(Y=0;Y<q;Y++)l((W=B[Y])[2],W[1],W[0]);for(Y=0;Y<q;Y++)l((W=B[Y])[0]+$*A,W[1]+$*A,W[2]+$*A)}D.addGroup(e,v.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=v.length/3,n=0;for(s(j,n),n+=j.length,P=0,O=N.length;P<O;P++)s(L=N[P],n),n+=L.length;D.addGroup(e,v.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(y),this.addAttribute("position",new we(v,3)),this.addAttribute("uv",new we(b,2)))},nn.WorldUVGenerator={generateTopUV:function(e,t,n,i,s){var o=t[3*n],a=t[3*n+1],l=t[3*i],c=t[3*i+1],u=t[3*s],h=t[3*s+1];return[new r(o,a),new r(l,c),new r(u,h)]},generateSideWallUV:function(e,t,n,i,s,o){var a=t[3*n],l=t[3*n+1],c=t[3*n+2],u=t[3*i],h=t[3*i+1],d=t[3*i+2],p=t[3*s],m=t[3*s+1],f=t[3*s+2],g=t[3*o],v=t[3*o+1],y=t[3*o+2];return Math.abs(l-h)<.01?[new r(a,1-c),new r(u,1-d),new r(p,1-f),new r(g,1-y)]:[new r(l,1-c),new r(h,1-d),new r(m,1-f),new r(v,1-y)]}},(sn.prototype=Object.create(pe.prototype)).constructor=sn,(on.prototype=Object.create(rn.prototype)).constructor=on,(an.prototype=Object.create(pe.prototype)).constructor=an,(ln.prototype=Object.create(ke.prototype)).constructor=ln,(cn.prototype=Object.create(pe.prototype)).constructor=cn,(un.prototype=Object.create(ke.prototype)).constructor=un,(hn.prototype=Object.create(pe.prototype)).constructor=hn,(dn.prototype=Object.create(ke.prototype)).constructor=dn,(pn.prototype=Object.create(pe.prototype)).constructor=pn,pn.prototype.toJSON=function(){var e=pe.prototype.toJSON.call(this);return fn(this.parameters.shapes,e)},(mn.prototype=Object.create(ke.prototype)).constructor=mn,mn.prototype.toJSON=function(){var e=ke.prototype.toJSON.call(this);return fn(this.parameters.shapes,e)},(gn.prototype=Object.create(ke.prototype)).constructor=gn,(vn.prototype=Object.create(pe.prototype)).constructor=vn,(yn.prototype=Object.create(ke.prototype)).constructor=yn,(bn.prototype=Object.create(vn.prototype)).constructor=bn,(_n.prototype=Object.create(yn.prototype)).constructor=_n,(xn.prototype=Object.create(pe.prototype)).constructor=xn,(wn.prototype=Object.create(ke.prototype)).constructor=wn;var jo=Object.freeze({WireframeGeometry:wt,ParametricGeometry:Et,ParametricBufferGeometry:Tt,TetrahedronGeometry:At,TetrahedronBufferGeometry:Ct,OctahedronGeometry:Mt,OctahedronBufferGeometry:Rt,IcosahedronGeometry:Lt,IcosahedronBufferGeometry:Pt,DodecahedronGeometry:Ot,DodecahedronBufferGeometry:Dt,PolyhedronGeometry:St,PolyhedronBufferGeometry:kt,TubeGeometry:Ft,TubeBufferGeometry:It,TorusKnotGeometry:Nt,TorusKnotBufferGeometry:Bt,TorusGeometry:jt,TorusBufferGeometry:zt,TextGeometry:sn,TextBufferGeometry:on,SphereGeometry:an,SphereBufferGeometry:ln,RingGeometry:cn,RingBufferGeometry:un,PlaneGeometry:Me,PlaneBufferGeometry:Re,LatheGeometry:hn,LatheBufferGeometry:dn,ShapeGeometry:pn,ShapeBufferGeometry:mn,ExtrudeGeometry:nn,ExtrudeBufferGeometry:rn,EdgesGeometry:gn,ConeGeometry:bn,ConeBufferGeometry:_n,CylinderGeometry:vn,CylinderBufferGeometry:yn,CircleGeometry:xn,CircleBufferGeometry:wn,BoxGeometry:Ae,BoxBufferGeometry:Ce});(En.prototype=Object.create(J.prototype)).constructor=En,En.prototype.isShadowMaterial=!0,(Tn.prototype=Object.create(Pe.prototype)).constructor=Tn,Tn.prototype.isRawShaderMaterial=!0,(Sn.prototype=Object.create(J.prototype)).constructor=Sn,Sn.prototype.isMeshStandardMaterial=!0,Sn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(kn.prototype=Object.create(Sn.prototype)).constructor=kn,kn.prototype.isMeshPhysicalMaterial=!0,kn.prototype.copy=function(e){return Sn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},(An.prototype=Object.create(J.prototype)).constructor=An,An.prototype.isMeshPhongMaterial=!0,An.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(Cn.prototype=Object.create(An.prototype)).constructor=Cn,Cn.prototype.isMeshToonMaterial=!0,Cn.prototype.copy=function(e){return An.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},(Mn.prototype=Object.create(J.prototype)).constructor=Mn,Mn.prototype.isMeshNormalMaterial=!0,Mn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(Rn.prototype=Object.create(J.prototype)).constructor=Rn,Rn.prototype.isMeshLambertMaterial=!0,Rn.prototype.copy=function(e){return J.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(Ln.prototype=Object.create(dt.prototype)).constructor=Ln,Ln.prototype.isLineDashedMaterial=!0,Ln.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var zo=Object.freeze({ShadowMaterial:En,SpriteMaterial:ot,RawShaderMaterial:Tn,ShaderMaterial:Pe,PointsMaterial:gt,MeshPhysicalMaterial:kn,MeshStandardMaterial:Sn,MeshPhongMaterial:An,MeshToonMaterial:Cn,MeshNormalMaterial:Mn,MeshLambertMaterial:Rn,MeshDepthMaterial:Q,MeshDistanceMaterial:ee,MeshBasicMaterial:Le,LineDashedMaterial:Ln,LineBasicMaterial:dt,Material:J}),Uo={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Vo=new Pn,Go={};Object.assign(On.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Uo.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(void 0===Go[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var a=o[1],l=!!o[2],c=o[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);u="blob"===h?new Blob([d.buffer],{type:a}):d.buffer;break;case"document":var m=new DOMParser;u=m.parseFromString(c,a);break;case"json":u=JSON.parse(c);break;default:u=c}window.setTimeout(function(){t&&t(u),r.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},0)}}else{Go[e]=[],Go[e].push({onLoad:t,onProgress:n,onError:i});var f=new XMLHttpRequest;f.open("GET",e,!0),f.addEventListener("load",function(t){var n=this.response;Uo.add(e,n);var i=Go[e];if(delete Go[e],200===this.status){for(var s=0,o=i.length;s<o;s++){(a=i[s]).onLoad&&a.onLoad(n)}r.manager.itemEnd(e)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(s=0,o=i.length;s<o;s++){(a=i[s]).onLoad&&a.onLoad(n)}r.manager.itemEnd(e)}else{for(s=0,o=i.length;s<o;s++){var a;(a=i[s]).onError&&a.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)}},!1),f.addEventListener("progress",function(t){for(var n=Go[e],i=0,r=n.length;i<r;i++){var s=n[i];s.onProgress&&s.onProgress(t)}},!1),f.addEventListener("error",function(t){var n=Go[e];delete Go[e];for(var i=0,s=n.length;i<s;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemEnd(e),r.manager.itemError(e)},!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return r.manager.itemStart(e),f}Go[e].push({onLoad:t,onProgress:n,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign((function(e){this.manager=void 0!==e?e:Vo,this._parser=null}).prototype,{load:function(e,t,n,i){function r(r){l.load(e[r],function(e){var n=s._parser(e,!0);o[r]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=ks),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}var s=this,o=[],a=new _t;a.image=o;var l=new On(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,h=e.length;u<h;++u)r(u);else l.load(e,function(e){var n=s._parser(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,r=0;r<i;r++){o[r]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[r].mipmaps.push(n.mipmaps[r*n.mipmapCount+l]),o[r].format=n.format,o[r].width=n.width,o[r].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=ks),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a},setPath:function(e){return this.path=e,this}}),Object.assign(Dn.prototype,{load:function(e,t,n,i){var r=this,s=new p,o=new On(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var n=r._parser(e);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:xs,s.wrapT=void 0!==n.wrapT?n.wrapT:xs,s.magFilter=void 0!==n.magFilter?n.magFilter:ks,s.minFilter=void 0!==n.minFilter?n.minFilter:Cs,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps),1===n.mipmapCount&&(s.minFilter=ks),s.needsUpdate=!0,t&&t(s,n))},n,i),s}}),Object.assign(Fn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Uo.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){Uo.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),o.addEventListener("error",function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(In.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){function r(n){o.load(e[n],function(e){s.images[n]=e,6===++a&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}var s=new m,o=new Fn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,l=0;l<e.length;++l)r(l);return s},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Nn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,i){var r=new c,s=new Fn(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(n){r.image=n;var i=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?Vs:Gs,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Bn.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),s=0;for(i.push(0),n=1;n<=e;n++)s+=(t=this.getPoint(n/e)).distanceTo(r),i.push(s),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,s=i.length;n=t||e*i[s-1];for(var o,a=0,l=s-1;a<=l;)if(r=Math.floor(a+(l-a)/2),(o=i[r]-n)<0)a=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(s-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(s-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var i=this.getPoint(t);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,o=new a,l=[],c=[],u=[],h=new a,d=new s;for(n=0;n<=e;n++)i=n/e,l[n]=this.getTangentAt(i),l[n].normalize();c[0]=new a,u[0]=new a;var p=Number.MAX_VALUE,m=Math.abs(l[0].x),f=Math.abs(l[0].y),g=Math.abs(l[0].z);for(m<=p&&(p=m,o.set(1,0,0)),f<=p&&(p=f,o.set(0,1,0)),g<=p&&o.set(0,0,1),h.crossVectors(l[0],o).normalize(),c[0].crossVectors(l[0],h),u[0].crossVectors(l[0],c[0]),n=1;n<=e;n++)c[n]=c[n-1].clone(),u[n]=u[n-1].clone(),h.crossVectors(l[n-1],l[n]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(yo.clamp(l[n-1].dot(l[n]),-1,1)),c[n].applyMatrix4(d.makeRotationAxis(h,r))),u[n].crossVectors(l[n],c[n]);if(!0===t)for(r=Math.acos(yo.clamp(c[0].dot(c[e]),-1,1)),r/=e,l[0].dot(h.crossVectors(c[0],c[e]))>0&&(r=-r),n=1;n<=e;n++)c[n].applyMatrix4(d.makeRotationAxis(l[n],r*n)),u[n].crossVectors(l[n],c[n]);return{tangents:l,normals:c,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),(jn.prototype=Object.create(Bn.prototype)).constructor=jn,jn.prototype.isEllipseCurve=!0,jn.prototype.getPoint=function(e,t){for(var n=t||new r,i=2*Math.PI,s=this.aEndAngle-this.aStartAngle,o=Math.abs(s)<Number.EPSILON;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(s=o?0:i),!0!==this.aClockwise||o||(s===i?s=-i:s-=i);var a=this.aStartAngle+e*s,l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return n.set(l,c)},jn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},jn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},jn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},(zn.prototype=Object.create(jn.prototype)).constructor=zn,zn.prototype.isArcCurve=!0;var Ho=new a,Wo=new Un,$o=new Un,qo=new Un;(Vn.prototype=Object.create(Bn.prototype)).constructor=Vn,Vn.prototype.isCatmullRomCurve3=!0,Vn.prototype.getPoint=function(e,t){var n=t||new a,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e,o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/i.length)+1)*i.length:0===l&&o===r-1&&(o=r-2,l=1);var c,u,h,d;if(this.closed||o>0?c=i[(o-1)%r]:(Ho.subVectors(i[0],i[1]).add(i[0]),c=Ho),u=i[o%r],h=i[(o+1)%r],this.closed||o+2<r?d=i[(o+2)%r]:(Ho.subVectors(i[r-1],i[r-2]).add(i[r-1]),d=Ho),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,m=Math.pow(c.distanceToSquared(u),p),f=Math.pow(u.distanceToSquared(h),p),g=Math.pow(h.distanceToSquared(d),p);f<1e-4&&(f=1),m<1e-4&&(m=f),g<1e-4&&(g=f),Wo.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,m,f,g),$o.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,m,f,g),qo.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,m,f,g)}else"catmullrom"===this.curveType&&(Wo.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),$o.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),qo.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return n.set(Wo.calc(l),$o.calc(l),qo.calc(l)),n},Vn.prototype.copy=function(e){Bn.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Vn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Vn.prototype.fromJSON=function(e){Bn.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new a).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},($n.prototype=Object.create(Bn.prototype)).constructor=$n,$n.prototype.isCubicBezierCurve=!0,$n.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(Wn(e,i.x,s.x,o.x,a.x),Wn(e,i.y,s.y,o.y,a.y)),n},$n.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},$n.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},$n.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(qn.prototype=Object.create(Bn.prototype)).constructor=qn,qn.prototype.isCubicBezierCurve3=!0,qn.prototype.getPoint=function(e,t){var n=t||new a,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(Wn(e,i.x,r.x,s.x,o.x),Wn(e,i.y,r.y,s.y,o.y),Wn(e,i.z,r.z,s.z,o.z)),n},qn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},qn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},qn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(Xn.prototype=Object.create(Bn.prototype)).constructor=Xn,Xn.prototype.isLineCurve=!0,Xn.prototype.getPoint=function(e,t){var n=t||new r;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Xn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Xn.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Xn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Xn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Xn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Yn.prototype=Object.create(Bn.prototype)).constructor=Yn,Yn.prototype.isLineCurve3=!0,Yn.prototype.getPoint=function(e,t){var n=t||new a;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Yn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Yn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Yn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Yn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Kn.prototype=Object.create(Bn.prototype)).constructor=Kn,Kn.prototype.isQuadraticBezierCurve=!0,Kn.prototype.getPoint=function(e,t){var n=t||new r,i=this.v0,s=this.v1,o=this.v2;return n.set(Hn(e,i.x,s.x,o.x),Hn(e,i.y,s.y,o.y)),n},Kn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Kn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Kn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Zn.prototype=Object.create(Bn.prototype)).constructor=Zn,Zn.prototype.isQuadraticBezierCurve3=!0,Zn.prototype.getPoint=function(e,t){var n=t||new a,i=this.v0,r=this.v1,s=this.v2;return n.set(Hn(e,i.x,r.x,s.x),Hn(e,i.y,r.y,s.y),Hn(e,i.z,r.z,s.z)),n},Zn.prototype.copy=function(e){return Bn.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Zn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Zn.prototype.fromJSON=function(e){return Bn.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(Jn.prototype=Object.create(Bn.prototype)).constructor=Jn,Jn.prototype.isSplineCurve=!0,Jn.prototype.getPoint=function(e,t){var n=t||new r,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[0===o?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return n.set(Gn(a,l.x,c.x,u.x,h.x),Gn(a,l.y,c.y,u.y,h.y)),n},Jn.prototype.copy=function(e){Bn.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},Jn.prototype.toJSON=function(){var e=Bn.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},Jn.prototype.fromJSON=function(e){Bn.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new r).fromArray(i))}return this};var Xo=Object.freeze({ArcCurve:zn,CatmullRomCurve3:Vn,CubicBezierCurve:$n,CubicBezierCurve3:qn,EllipseCurve:jn,LineCurve:Xn,LineCurve3:Yn,QuadraticBezierCurve:Kn,QuadraticBezierCurve3:Zn,SplineCurve:Jn});Qn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Qn,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Xn(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,s=this.curves[i],o=s.getLength(),a=0===o?0:1-r/o;return s.getPointAt(a)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var s=r[i],o=s&&s.isEllipseCurve?2*e:s&&s.isLineCurve?1:s&&s.isSplineCurve?e*s.points.length:e,a=s.getPoints(o),l=0;l<a.length;l++){var c=a[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Bn.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Bn.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Bn.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new Xo[i.type]).fromJSON(i))}return this}}),ei.prototype=Object.assign(Object.create(Qn.prototype),{constructor:ei,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Xn(this.currentPoint.clone(),new r(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var s=new Kn(this.currentPoint.clone(),new r(e,t),new r(n,i));this.curves.push(s),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,s,o){var a=new $n(this.currentPoint.clone(),new r(e,t),new r(n,i),new r(s,o));this.curves.push(a),this.currentPoint.set(s,o)},splineThru:function(e){var t=new Jn([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,s){var o=this.currentPoint.x,a=this.currentPoint.y;this.absarc(e+o,t+a,n,i,r,s)},absarc:function(e,t,n,i,r,s){this.absellipse(e,t,n,n,i,r,s)},ellipse:function(e,t,n,i,r,s,o,a){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,n,i,r,s,o,a)},absellipse:function(e,t,n,i,r,s,o,a){var l=new jn(e,t,n,i,r,s,o,a);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return Qn.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Qn.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Qn.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),ti.prototype=Object.assign(Object.create(ei.prototype),{constructor:ti,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ei.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=ei.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){ei.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new ei).fromJSON(i))}return this}}),ni.prototype=Object.assign(Object.create(ce.prototype),{constructor:ni,isLight:!0,copy:function(e){return ce.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),ii.prototype=Object.assign(Object.create(ni.prototype),{constructor:ii,isHemisphereLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(ri.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),si.prototype=Object.assign(Object.create(ri.prototype),{constructor:si,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*yo.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),oi.prototype=Object.assign(Object.create(ni.prototype),{constructor:oi,isSpotLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ai.prototype=Object.assign(Object.create(ni.prototype),{constructor:ai,isPointLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),li.prototype=Object.assign(Object.create(ri.prototype),{constructor:li}),ci.prototype=Object.assign(Object.create(ni.prototype),{constructor:ci,isDirectionalLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ui.prototype=Object.assign(Object.create(ni.prototype),{constructor:ui,isAmbientLight:!0}),hi.prototype=Object.assign(Object.create(ni.prototype),{constructor:hi,isRectAreaLight:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ni.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),di.prototype=Object.assign(Object.create(wi.prototype),{constructor:di,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),pi.prototype=Object.assign(Object.create(wi.prototype),{constructor:pi,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(mi.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var s;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(e>=r)break e;var a=t[1];e<a&&(n=2,r=a);for(o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0}for(;n<s;){var l=n+s>>>1;e<t[l]?s=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(mi.prototype,{beforeStart_:mi.prototype.copySampleValue_,afterEnd_:mi.prototype.copySampleValue_}),fi.prototype=Object.assign(Object.create(mi.prototype),{constructor:fi,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=(n-t)/(i-t),u=l+a;l!==u;l+=4)o.slerpFlat(r,0,s,l-a,s,l,c);return r}}),gi.prototype=Object.assign(Object.create(wi.prototype),{constructor:gi,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new fi(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),vi.prototype=Object.assign(Object.create(wi.prototype),{constructor:vi,ValueTypeName:"color"}),yi.prototype=Object.assign(Object.create(wi.prototype),{constructor:yi,ValueTypeName:"number"}),bi.prototype=Object.assign(Object.create(mi.prototype),{constructor:bi,DefaultSettings_:{endingStart:ro,endingEnd:ro},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,s=e+1,o=i[r],a=i[s];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:s=e,a=2*n-t;break;case 2402:s=1,a=n+i[1]-i[0];break;default:s=e-1,a=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,g=-h*f+2*h*m-h*p,v=(1+h)*f+(-1.5-2*h)*m+(-.5+h)*p+1,y=(-1-d)*f+(1.5+d)*m+.5*p,b=d*f-d*m,_=0;_!==o;++_)r[_]=g*s[c+_]+v*s[l+_]+y*s[a+_]+b*s[u+_];return r}}),_i.prototype=Object.assign(Object.create(mi.prototype),{constructor:_i,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=(n-t)/(i-t),u=1-c,h=0;h!==o;++h)r[h]=s[l+h]*u+s[a+h]*c;return r}}),xi.prototype=Object.assign(Object.create(mi.prototype),{constructor:xi,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Yo={arraySlice:function(e,t,n){return Yo.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),s=0,o=0;o!==i;++s)for(var a=n[s]*t,l=0;l!==t;++l)r[o++]=e[a+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,s=e[0];void 0!==s&&void 0===s[i];)s=e[r++];if(void 0!==s){var o=s[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=s[i])&&(t.push(s.time),n.push.apply(n,o)),s=e[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{void 0!==(o=s[i])&&(t.push(s.time),o.toArray(n,n.length)),s=e[r++]}while(void 0!==s);else do{void 0!==(o=s[i])&&(t.push(s.time),n.push(o)),s=e[r++]}while(void 0!==s)}}};Object.assign(wi,{parse:function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=wi._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],i=[];Yo.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Yo.convertArray(e.times,Array),values:Yo.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yi;case"vector":case"vector2":case"vector3":case"vector4":return Ei;case"color":return vi;case"quaternion":return gi;case"bool":case"boolean":return pi;case"string":return di}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}}),Object.assign(wi.prototype,{constructor:wi,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new xi(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new _i(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new bi(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,s=i-1;r!==i&&n[r]<e;)++r;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);var o=this.getValueSize();this.times=Yo.arraySlice(n,r,s),this.values=Yo.arraySlice(this.values,r*o,s*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var s=null,o=0;o!==r;o++){var a=n[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==s&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(void 0!==i&&Yo.isTypedArray(i)){o=0;for(var l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,s=e.length-1,o=1;o<s;++o){var a=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(i)a=!0;else for(var c=o*n,u=c-n,h=c+n,d=0;d!==n;++d){var p=t[c+d];if(p!==t[u+d]||p!==t[h+d]){a=!0;break}}if(a){if(o!==r){e[r]=e[o];var m=o*n,f=r*n;for(d=0;d!==n;++d)t[f+d]=t[m+d]}++r}}if(s>0){e[r]=e[s];for(m=s*n,f=r*n,d=0;d!==n;++d)t[f+d]=t[m+d];++r}return r!==e.length&&(this.times=Yo.arraySlice(e,0,r),this.values=Yo.arraySlice(t,0,r*n)),this}}),Ei.prototype=Object.assign(Object.create(wi.prototype),{constructor:Ei,ValueTypeName:"vector"}),Object.assign(Ti,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,s=n.length;r!==s;++r)t.push(wi.parse(n[r]).scale(i));return new Ti(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t},r=0,s=n.length;r!==s;++r)t.push(wi.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,s=[],o=0;o<r;o++){var a=[],l=[];a.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=Yo.getKeyframeOrder(a);a=Yo.sortedArray(a,1,c),l=Yo.sortedArray(l,1,c),i||0!==a[0]||(a.push(r),l.push(l[0])),s.push(new yi(".morphTargetInfluences["+t[o].name+"]",a,l).scale(1/n))}return new Ti(e,-1,s)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,s=0,o=e.length;s<o;s++){var a=e[s],l=a.name.match(r);if(l&&l.length>1){var c=i[h=l[1]];c||(i[h]=c=[]),c.push(a)}}var u=[];for(var h in i)u.push(Ti.CreateFromMorphTargetSequence(h,i[h],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var s=[],o=[];Yo.flattenJSON(n,s,o,i),0!==s.length&&r.push(new e(t,s,o))}},i=[],r=e.name||"default",s=e.length||-1,o=e.fps||30,a=e.hierarchy||[],l=0;l<a.length;l++){var c=a[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)u[c[h].morphTargets[d]]=-1;for(var p in u){var m=[],f=[];for(d=0;d!==c[h].morphTargets.length;++d){var g=c[h];m.push(g.time),f.push(g.morphTarget===p?1:0)}i.push(new yi(".morphTargetInfluence["+p+"]",m,f))}s=u.length*(o||1)}else{var v=".bones["+t[l].name+"]";n(Ei,v+".position",c,"pos",i),n(gi,v+".quaternion",c,"rot",i),n(Ei,v+".scale",c,"scl",i)}}if(0===i.length)return null;return new Ti(r,s,i)}}),Object.assign(Ti.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(Si.prototype,{load:function(e,t,n,i){var r=this;new On(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,i=new zo[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new r).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),i}}),Object.assign(ki.prototype,{load:function(e,t,n,i){var r=this;new On(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new ke,n=e.data.index;if(void 0!==n){var i=new Ko[n.type](n.array);t.setIndex(new me(i,1))}var r=e.data.attributes;for(var s in r){var o=r[s];i=new Ko[o.type](o.array);t.addAttribute(s,new me(i,o.itemSize,o.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(var c=0,u=l.length;c!==u;++c){var h=l[c];t.addGroup(h.start,h.count,h.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var p=new a;void 0!==d.center&&p.fromArray(d.center),t.boundingSphere=new ne(p,d.radius)}return t}});var Ko={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};Ai.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],s=t[n+1];if(r.test(e))return s}return null}},Object.assign(Ai.prototype,{crossOrigin:void 0,initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:function(){var e={NoBlending:Mr,NormalBlending:Rr,AdditiveBlending:Lr,SubtractiveBlending:Pr,MultiplyBlending:Or,CustomBlending:Dr},t=new q,n=new Nn,i=new Si;return function(r,s,o){function a(e,t,i,r,a){var c,u=s+e,h=Ai.Handlers.get(u);null!==h?c=h.load(u):(n.setCrossOrigin(o),c=n.load(u)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=_s),1!==t[1]&&(c.wrapT=_s)),void 0!==i&&c.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(c.wrapS=_s),"mirror"===r[0]&&(c.wrapS=ws),"repeat"===r[1]&&(c.wrapT=_s),"mirror"===r[1]&&(c.wrapT=ws)),void 0!==a&&(c.anisotropy=a);var d=yo.generateUUID();return l[d]=c,d}var l={},c={uuid:yo.generateUUID(),type:"MeshLambertMaterial"};for(var u in r){var h=r[u];switch(u){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",u,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=a(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=a(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=a(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=a(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=a(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=a(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=a(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=a(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=a(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=a(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Tr;break;case"doubleSided":c.side=Sr;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[u]=h;break;case"vertexColors":!0===h&&(c.vertexColors=Cr),"face"===h&&(c.vertexColors=Ar);break;default:console.error("THREE.Loader.createMaterial: Unsupported",u,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(l),i.parse(c)}}()});var Zo=function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")};Object.assign(Ci.prototype,{load:function(e,t,n,i){var r=this,s=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Zo(e),o=new On(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,function(n){var i=JSON.parse(n),o=i.metadata;if(void 0!==o){var a=o.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var l=r.parse(i,s);t(l.geometry,l.materials)},n,i)},setTexturePath:function(e){this.texturePath=e},parse:function(){return function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var n=new pe;if(function(e,t){function n(e,t){return e&1<<t}var i,s,o,l,c,u,h,d,p,m,f,g,v,y,b,_,x,w,E,T,S,k,A,C,M,R=e.faces,L=e.vertices,P=e.normals,O=e.colors,D=e.scale,F=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&F++;for(i=0;i<F;i++)t.faceVertexUvs[i]=[]}for(l=0,c=L.length;l<c;)(w=new a).x=L[l++]*D,w.y=L[l++]*D,w.z=L[l++]*D,t.vertices.push(w);for(l=0,c=R.length;l<c;)if(m=R[l++],f=n(m,0),g=n(m,1),v=n(m,3),y=n(m,4),b=n(m,5),_=n(m,6),x=n(m,7),f){if(T=new de,T.a=R[l],T.b=R[l+1],T.c=R[l+3],S=new de,S.a=R[l+1],S.b=R[l+2],S.c=R[l+3],l+=4,g&&(p=R[l++],T.materialIndex=p,S.materialIndex=p),o=t.faces.length,v)for(i=0;i<F;i++)for(C=e.uvs[i],t.faceVertexUvs[i][o]=[],t.faceVertexUvs[i][o+1]=[],s=0;s<4;s++)M=new r(C[2*(d=R[l++])],C[2*d+1]),2!==s&&t.faceVertexUvs[i][o].push(M),0!==s&&t.faceVertexUvs[i][o+1].push(M);if(y&&(h=3*R[l++],T.normal.set(P[h++],P[h++],P[h]),S.normal.copy(T.normal)),b)for(i=0;i<4;i++)h=3*R[l++],A=new a(P[h++],P[h++],P[h]),2!==i&&T.vertexNormals.push(A),0!==i&&S.vertexNormals.push(A);if(_&&(k=O[u=R[l++]],T.color.setHex(k),S.color.setHex(k)),x)for(i=0;i<4;i++)k=O[u=R[l++]],2!==i&&T.vertexColors.push(new q(k)),0!==i&&S.vertexColors.push(new q(k));t.faces.push(T),t.faces.push(S)}else{if(E=new de,E.a=R[l++],E.b=R[l++],E.c=R[l++],g&&(p=R[l++],E.materialIndex=p),o=t.faces.length,v)for(i=0;i<F;i++)for(C=e.uvs[i],t.faceVertexUvs[i][o]=[],s=0;s<3;s++)M=new r(C[2*(d=R[l++])],C[2*d+1]),t.faceVertexUvs[i][o].push(M);if(y&&(h=3*R[l++],E.normal.set(P[h++],P[h++],P[h])),b)for(i=0;i<3;i++)h=3*R[l++],A=new a(P[h++],P[h++],P[h]),E.vertexNormals.push(A);if(_&&(u=R[l++],E.color.setHex(O[u])),x)for(i=0;i<3;i++)u=R[l++],E.vertexColors.push(new q(O[u]));t.faces.push(E)}}(e,n),function(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,r=e.skinWeights.length;i<r;i+=n){var s=e.skinWeights[i],o=n>1?e.skinWeights[i+1]:0,a=n>2?e.skinWeights[i+2]:0,l=n>3?e.skinWeights[i+3]:0;t.skinWeights.push(new u(s,o,a,l))}if(e.skinIndices)for(i=0,r=e.skinIndices.length;i<r;i+=n){var c=e.skinIndices[i],h=n>1?e.skinIndices[i+1]:0,d=n>2?e.skinIndices[i+2]:0,p=n>3?e.skinIndices[i+3]:0;t.skinIndices.push(new u(c,h,d,p))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,n),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={},t.morphTargets[i].name=e.morphTargets[i].name,t.morphTargets[i].vertices=[];for(var s=t.morphTargets[i].vertices,o=e.morphTargets[i].vertices,l=0,c=o.length;l<c;l+=3){var u=new a;u.x=o[l]*n,u.y=o[l+1]*n,u.z=o[l+2]*n,s.push(u)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var h=t.faces,d=e.morphColors[0].colors;for(i=0,r=h.length;i<r;i++)h[i].color.fromArray(d,3*i)}}(e,n),function(e,t){var n=[],i=[];void 0!==e.animation&&i.push(e.animation),void 0!==e.animations&&(e.animations.length?i=i.concat(e.animations):i.push(e.animations));for(var r=0;r<i.length;r++){var s=Ti.parseAnimation(i[r],t.bones);s&&n.push(s)}if(t.morphTargets){var o=Ti.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(o)}n.length>0&&(t.animations=n)}(e,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:n};return{geometry:n,materials:Ai.prototype.initMaterials(e.materials,t,this.crossOrigin)}}}()}),Object.assign((function(e){this.manager=void 0!==e?e:Vo,this.texturePath=""}).prototype,{load:function(e,t,n,i){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this;new On(r.manager).load(e,function(n){var s=null;try{s=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=s.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(s,t):console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.")},n,i)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),s=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new ti).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new Ci,r=new ki,s=0,o=e.length;s<o;s++){var a,l=e[s];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new jo[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new jo[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new jo[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new jo[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new jo[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new jo[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new jo[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new jo[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new jo[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new jo[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new jo[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new jo[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":var c=[];for(s=0,o=l.shapes.length;s<o;s++){var u=t[l.shapes[s]];c.push(u)}a=new jo[l.type](c,l.curveSegments);break;case"BufferGeometry":a=r.parse(l);break;case"Geometry":a=i.parse(l,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}a.uuid=l.uuid,void 0!==l.name&&(a.name=l.name),n[l.uuid]=a}return n},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new Si;i.setTextures(t);for(var r=0,s=e.length;r<s;r++){var o=e[r];if("MultiMaterial"===o.type){for(var a=[],l=0;l<o.materials.length;l++)a.push(i.parse(o.materials[l]));n[o.uuid]=a}else n[o.uuid]=i.parse(o)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=Ti.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){function n(e){return i.manager.itemStart(e),s.load(e,function(){i.manager.itemEnd(e)},void 0,function(){i.manager.itemEnd(e),i.manager.itemError(e)})}var i=this,r={};if(void 0!==e&&e.length>0){var s=new Fn(new Pn(t));s.setCrossOrigin(this.crossOrigin);for(var o=0,a=e.length;o<a;o++){var l=e[o],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;r[l.uuid]=n(c)}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,s=e.length;r<s;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var a=new c(t[o.image]);a.needsUpdate=!0,a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,Jo)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],Qo),a.wrapT=n(o.wrap[1],Qo)),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,ea)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,ea)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),i[o.uuid]=a}return i},parseObject:function(){var e=new s;return function(t,n,i){function r(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];void 0===i[s]&&console.warn("THREE.ObjectLoader: Undefined material",s),t.push(i[s])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}var o;switch(t.type){case"Scene":o=new rt,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new q(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new it(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new nt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Je(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new he(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new ui(t.color,t.intensity);break;case"DirectionalLight":o=new ci(t.color,t.intensity);break;case"PointLight":o=new ai(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new hi(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new oi(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new ii(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(t.geometry),l=s(t.material);o=a.bones&&a.bones.length>0?new ht(a,l):new Ie(a,l);break;case"LOD":o=new lt;break;case"Line":o=new pt(r(t.geometry),s(t.material),t.mode);break;case"LineLoop":o=new ft(r(t.geometry),s(t.material));break;case"LineSegments":o=new mt(r(t.geometry),s(t.material));break;case"PointCloud":case"Points":o=new vt(r(t.geometry),s(t.material));break;case"Sprite":o=new at(s(t.material));break;case"Group":o=new yt;break;default:o=new ce}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var c=t.children,u=0;u<c.length;u++)o.add(this.parseObject(c[u],n,i));if("LOD"===t.type)for(var h=t.levels,d=0;d<h.length;d++){var p=h[d],m=o.getObjectByProperty("uuid",p.object);void 0!==m&&o.addLevel(m,p.distance)}return o}}()});var Jo={UVMapping:300,CubeReflectionMapping:ps,CubeRefractionMapping:ms,EquirectangularReflectionMapping:fs,EquirectangularRefractionMapping:gs,SphericalReflectionMapping:vs,CubeUVReflectionMapping:ys,CubeUVRefractionMapping:bs},Qo={RepeatWrapping:_s,ClampToEdgeWrapping:xs,MirroredRepeatWrapping:ws},ea={NearestFilter:Es,NearestMipMapNearestFilter:Ts,NearestMipMapLinearFilter:Ss,LinearFilter:ks,LinearMipMapNearestFilter:As,LinearMipMapLinearFilter:Cs};Mi.prototype={constructor:Mi,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var r=this,s=Uo.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(n){Uo.add(e,n),t&&t(n),r.manager.itemEnd(e)}).catch(function(t){i&&i(t),r.manager.itemEnd(e),r.manager.itemError(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Ri.prototype,{moveTo:function(e,t){this.currentPath=new ei,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,s){this.currentPath.bezierCurveTo(e,t,n,i,r,s)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],s=new ti;s.curves=r.curves,t.push(s)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,s=0;s<n;r=s++){var o=t[r],a=t[s],l=a.x-o.x,c=a.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[s],l=-l,a=t[r],c=-c),e.y<o.y||e.y>a.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(a.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=a.x)return!0}}return i}var r=Bo.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===t)return n(s);var o,a,l,c=[];if(1===s.length)return a=s[0],l=new ti,l.curves=a.curves,c.push(l),c;var u=!r(s[0].getPoints());u=e?!u:u;var h,d=[],p=[],m=[],f=0;p[f]=void 0,m[f]=[];for(var g=0,v=s.length;g<v;g++)o=r(h=(a=s[g]).getPoints()),(o=e?!o:o)?(!u&&p[f]&&f++,p[f]={s:new ti,p:h},p[f].s.curves=a.curves,u&&f++,m[f]=[]):m[f].push({h:a,p:h[0]});if(!p[0])return n(s);if(p.length>1){for(var y=!1,b=[],_=0,x=p.length;_<x;_++)d[_]=[];for(_=0,x=p.length;_<x;_++)for(var w=m[_],E=0;E<w.length;E++){for(var T=w[E],S=!0,k=0;k<p.length;k++)i(T.p,p[k].p)&&(_!==k&&b.push({froms:_,tos:k,hole:E}),S?(S=!1,d[k].push(T)):y=!0);S&&d[_].push(T)}b.length>0&&(y||(m=d))}g=0;for(var A,C=p.length;g<C;g++){l=p[g].s,c.push(l);for(var M=0,R=(A=m[g]).length;M<R;M++)l.holes.push(A[M].h)}return c}}),Object.assign(Li.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);for(var i=this.data,r=function(e){for(var n=String(e).split(""),r=t/i.resolution,s=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,o=0,a=0,l=[],c=0;c<n.length;c++){var u=n[c];if("\n"===u)o=0,a-=s;else{var h=function(e,t,n,r){var s=i.glyphs[e]||i.glyphs["?"];if(s){var o,a,l,c,u,h,d,p,m,f=new Ri,g=[];if(s.o)for(var v=s._cachedOutline||(s._cachedOutline=s.o.split(" ")),y=0,b=v.length;y<b;){var _=v[y++];switch(_){case"m":o=v[y++]*t+n,a=v[y++]*t+r,f.moveTo(o,a);break;case"l":o=v[y++]*t+n,a=v[y++]*t+r,f.lineTo(o,a);break;case"q":l=v[y++]*t+n,c=v[y++]*t+r,u=v[y++]*t+n,h=v[y++]*t+r,f.quadraticCurveTo(u,h,l,c),(m=g[g.length-1])&&(m.x,m.y);break;case"b":l=v[y++]*t+n,c=v[y++]*t+r,u=v[y++]*t+n,h=v[y++]*t+r,d=v[y++]*t+n,p=v[y++]*t+r,f.bezierCurveTo(u,h,d,p,l,c),(m=g[g.length-1])&&(m.x,m.y)}}return{offsetX:s.ha*t,path:f}}}(u,r,o,a);o+=h.offsetX,l.push(h.path)}}return l}(e),s=[],o=0,a=r.length;o<a;o++)Array.prototype.push.apply(s,r[o].toShapes());return s}}),Object.assign((function(e){this.manager=void 0!==e?e:Vo}).prototype,{load:function(e,t,n,i){var r=this,s=new On(this.manager);s.setPath(this.path),s.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new Li(e)},setPath:function(e){return this.path=e,this}});var ta,na={getContext:function(){return void 0===ta&&(ta=new(window.AudioContext||window.webkitAudioContext)),ta},setContext:function(e){ta=e}};Object.assign(Pi.prototype,{load:function(e,t,n,i){var r=new On(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){na.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Je,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Je,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}).prototype,{update:function(){var e,t,n,i,r,o,a,l,c=new s,u=new s;return function(s){if(e!==this||t!==s.focus||n!==s.fov||i!==s.aspect*this.aspect||r!==s.near||o!==s.far||a!==s.zoom||l!==this.eyeSep){e=this,t=s.focus,n=s.fov,i=s.aspect*this.aspect,r=s.near,o=s.far,a=s.zoom;var h,d,p=s.projectionMatrix.clone(),m=(l=this.eyeSep/2)*r/t,f=r*Math.tan(yo.DEG2RAD*n*.5)/a;u.elements[12]=-l,c.elements[12]=l,h=-f*i+m,d=f*i+m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(p),h=-f*i-m,d=f*i-m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(s.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(s.matrixWorld).multiply(c)}}()}),(Oi.prototype=Object.create(ce.prototype)).constructor=Oi,Di.prototype=Object.assign(Object.create(ce.prototype),{constructor:Di,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new a,t=new o,n=new a,i=new a;return function(r){ce.prototype.updateMatrixWorld.call(this,r);var s=this.context.listener,o=this.up;this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),s.positionX?(s.positionX.setValueAtTime(e.x,this.context.currentTime),s.positionY.setValueAtTime(e.y,this.context.currentTime),s.positionZ.setValueAtTime(e.z,this.context.currentTime),s.forwardX.setValueAtTime(i.x,this.context.currentTime),s.forwardY.setValueAtTime(i.y,this.context.currentTime),s.forwardZ.setValueAtTime(i.z,this.context.currentTime),s.upX.setValueAtTime(o.x,this.context.currentTime),s.upY.setValueAtTime(o.y,this.context.currentTime),s.upZ.setValueAtTime(o.z,this.context.currentTime)):(s.setPosition(e.x,e.y,e.z),s.setOrientation(i.x,i.y,i.z,o.x,o.y,o.z))}}()}),Fi.prototype=Object.assign(Object.create(ce.prototype),{constructor:Fi,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Ii.prototype=Object.assign(Object.create(Fi.prototype),{constructor:Ii,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new a;return function(t){ce.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Ni.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Bi.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,s=this.cumulativeWeight;if(0===s){for(var o=0;o!==i;++o)n[r+o]=n[o];s=t}else{var a=t/(s+=t);this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=s},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*t;this._mixBufferRegion(n,i,o,1-r,t)}for(var a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5)for(var s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){o.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var s=1-i,o=0;o!==r;++o){var a=t+o;e[a]=e[a]*s+e[n+o]*i}}}),Object.assign(ji.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(zi,{Composite:ji,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new zi.Composite(e,t,n):new zi(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),t=["material","materials","bones"];return function(n){var i=e.exec(n);if(!i)throw new Error("PropertyBinding: Cannot parse trackName: "+n);var r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){var o=r.nodeName.substring(s+1);-1!==t.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return r}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var i=e.bones[n];if(i.name===t)return i}return null}(e.skeleton);if(n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var s=i(r.children);if(s)return s}return null},r=i(e.children);if(r)return r}return null}}),Object.assign(zi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=zi.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var s=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===s){s=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==s){if(void 0===e[s])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[s]}}var a=e[i];if(void 0!==a){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(zi.prototype,{_getValue_unbound:zi.prototype.getValue,_setValue_unbound:zi.prototype.setValue}),Object.assign((function(){this.uuid=yo.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],h=u.uuid,d=i[h],p=void 0;if(void 0===d){d=t++,i[h]=d,e.push(u);for(var m=0,f=a;m!==f;++m)o[m].push(new zi(u,r[m],s[m]))}else if(d<n){p=e[d];var g=--n,v=e[g];i[v.uuid]=d,e[d]=v,i[h]=g,e[g]=u;for(m=0,f=a;m!==f;++m){var y=o[m],b=y[g],_=y[d];y[d]=b,void 0===_&&(_=new zi(u,r[m],s[m])),y[g]=_}}else e[d]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,s=0,o=arguments.length;s!==o;++s){var a=arguments[s],l=a.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,h=e[u];n[h.uuid]=c,e[c]=h,n[l]=u,e[u]=a;for(var d=0,p=r;d!==p;++d){var m=i[d],f=m[u],g=m[c];m[c]=f,m[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,s=r.length,o=0,a=arguments.length;o!==a;++o){var l=arguments[o].uuid,c=i[l];if(void 0!==c)if(delete i[l],c<n){var u=--n,h=e[u],d=e[v=--t];i[h.uuid]=c,e[c]=h,i[d.uuid]=u,e[u]=d,e.pop();for(var p=0,m=s;p!==m;++p){var f=(y=r[p])[u],g=y[v];y[c]=f,y[u]=g,y.pop()}}else{var v;i[(d=e[v=--t]).uuid]=c,e[c]=d,e.pop();for(p=0,m=s;p!==m;++p){var y;(y=r[p])[c]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),o.push(t),r.push(u);for(var h=c,d=a.length;h!==d;++h){var p=a[h];u[h]=new zi(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];t[e[o]]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Ui.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,s=r/i,o=i/r;e.warp(1,s,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,s=this._timeScaleInterpolant,o=this.timeScale;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);var a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var s=(e-r)*n;if(s<0||0===n)return;this._startTime=null,t=n*s}t*=this._updateTimeScale(e);var o=this._updateTime(t),a=this._updateWeight(e);if(a>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var s=2202===i;if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,r+=Math.abs(o);var a=this.repetitions-r;if(a<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===a){var l=e<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(s&&1==(1&r))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:ro:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:ro:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);var o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=t,o[1]=r+e,a[1]=n,this}}),Vi.prototype=Object.assign(Object.create(i.prototype),{constructor:Vi,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,o=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];void 0===c&&(c={},l[a]=c);for(var u=0;u!==r;++u){var h=i[u],d=h.name,p=c[d];if(void 0!==p)s[u]=p;else{if(void 0!==(p=s[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,a,d));continue}var m=t&&t._propertyBindings[u].binding.parsedPath;++(p=new Bi(zi.create(n,d,m),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,a,d),s[u]=p}o[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,s=0,o=r.length;s!==o;++s){var a=r[s];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{var o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],s=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=s.length,s.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[r];e:{for(var c in o)break e;delete s[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new _i(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Ti.findByName(n,e):e,s=null!==r?r.uuid:e,o=this._actionsByClip[s],a=null;if(void 0!==o){var l=o.actionByRoot[i];if(void 0!==l)return l;a=o.knownActions[0],null===r&&(r=a._clip)}if(null===r)return null;var c=new Ui(this,r,t);return this._bindAction(c,a),this._addInactiveAction(c,s,i),c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Ti.findByName(n,e):e,s=r?r.uuid:e,o=this._actionsByClip[s];return void 0!==o?o.actionByRoot[i]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(i,e,r,s)}var a=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)a[o].apply(s);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var s=r.knownActions,o=0,a=s.length;o!==a;++o){var l=s[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var s=this._bindingsByRootAndName[t];if(void 0!==s)for(var o in s){var a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Gi.prototype.clone=function(){return new Gi(void 0===this.value.clone?this.value:this.value.clone())},Hi.prototype=Object.assign(Object.create(ke.prototype),{constructor:Hi,isInstancedBufferGeometry:!0,copy:function(e){return ke.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(Wi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Wi.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty($i.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign($i.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),qi.prototype=Object.assign(Object.create($i.prototype),{constructor:qi,isInstancedInterleavedBuffer:!0,copy:function(e){return $i.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Xi.prototype=Object.assign(Object.create(me.prototype),{constructor:Xi,isInstancedBufferAttribute:!0,copy:function(e){return me.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign((function(e,t,n,i){this.ray=new Oe(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}).prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Ki(e,this,n,t),n.sort(Yi),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=e.length;i<r;i++)Ki(e[i],this,n,t);return n.sort(Yi),n}}),Object.assign((function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}).prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign((function(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}).prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(yo.clamp(e.y/this.radius,-1,1))),this}}),Object.assign((function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}).prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),(Zi.prototype=Object.create(ce.prototype)).constructor=Zi,Zi.prototype.isImmediateRenderObject=!0,(Ji.prototype=Object.create(mt.prototype)).constructor=Ji,Ji.prototype.update=function(){var e=new a,t=new a,n=new l;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,s=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var a=o.vertices,l=o.faces,c=0,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0,m=d.vertexNormals.length;p<m;p++){var f=a[d[i[p]]],g=d.vertexNormals[p];e.copy(f).applyMatrix4(r),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(c,e.x,e.y,e.z),c+=1,s.setXYZ(c,t.x,t.y,t.z),c+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(c=0,p=0,m=v.count;p<m;p++)e.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(c,e.x,e.y,e.z),c+=1,s.setXYZ(c,t.x,t.y,t.z),c+=1}s.needsUpdate=!0}}(),(Qi.prototype=Object.create(ce.prototype)).constructor=Qi,Qi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Qi.prototype.update=function(){var e=new a,t=new a;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),(tr.prototype=Object.create(mt.prototype)).constructor=tr,tr.prototype.updateMatrixWorld=function(){var e=new a,t=new s,n=new s;return function(i){var r=this.bones,s=this.geometry,o=s.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,l=0;a<r.length;a++){var c=r[a];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}s.getAttribute("position").needsUpdate=!0,ce.prototype.updateMatrixWorld.call(this,i)}}(),(nr.prototype=Object.create(Ie.prototype)).constructor=nr,nr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},nr.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},(ir.prototype=Object.create(ce.prototype)).constructor=ir,ir.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ir.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},(rr.prototype=Object.create(ce.prototype)).constructor=rr,rr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},rr.prototype.update=function(){var e=new a,t=new q,n=new q;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var s=0,o=r.count;s<o;s++){var a=s<o/2?t:n;r.setXYZ(s,a.r,a.g,a.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),(sr.prototype=Object.create(mt.prototype)).constructor=sr,(or.prototype=Object.create(mt.prototype)).constructor=or,(ar.prototype=Object.create(mt.prototype)).constructor=ar,ar.prototype.update=function(){var e=new a,t=new a,n=new l;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,s=this.object.geometry,o=s.vertices,a=s.faces,l=0,c=0,u=a.length;c<u;c++){var h=a[c],d=h.normal;e.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(i),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),l+=1,r.setXYZ(l,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),(lr.prototype=Object.create(ce.prototype)).constructor=lr,lr.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},lr.prototype.update=function(){var e=new a,t=new a,n=new a;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),(cr.prototype=Object.create(mt.prototype)).constructor=cr,cr.prototype.update=function(){function e(e,s,o,a){i.set(s,o,a).unproject(r);var l=n[e];if(void 0!==l)for(var c=t.getAttribute("position"),u=0,h=l.length;u<h;u++)c.setXYZ(l[u],i.x,i.y,i.z)}var t,n,i=new a,r=new ue;return function(){t=this.geometry,n=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),(ur.prototype=Object.create(mt.prototype)).constructor=ur,ur.prototype.update=function(){var e=new te;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,i=e.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),ur.prototype.setFromObject=function(e){return this.object=e,this.update(),this},(hr.prototype=Object.create(mt.prototype)).constructor=hr,hr.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ce.prototype.updateMatrixWorld.call(this,e))},(dr.prototype=Object.create(pt.prototype)).constructor=dr,dr.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),ce.prototype.updateMatrixWorld.call(this,e)};var ia,ra;(pr.prototype=Object.create(ce.prototype)).constructor=pr,pr.prototype.setDirection=function(){var e,t=new a;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),pr.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},pr.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},(mr.prototype=Object.create(mt.prototype)).constructor=mr;Bn.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Bn.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Qn.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new pe,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new a(r.x,r.y,r.z||0))}return t}}),Object.assign(ei.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),(function(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Vn.call(this,e),this.type="catmullrom",this.closed=!0}).prototype=Object.create(Vn.prototype),(function(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Vn.call(this,e),this.type="catmullrom"}).prototype=Object.create(Vn.prototype),fr.prototype=Object.create(Vn.prototype),Object.assign(fr.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),sr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},tr.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ai.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Zo(e)}}),Object.assign(X.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),De.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(yo,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),yo.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),yo.ceilPowerOfTwo(e)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(s.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new a),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}}),ie.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},o.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Oe.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ti.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new nn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new pn(this,e)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(a.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(u.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),pe.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ce.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(ce.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(lt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ct.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Bn.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Je.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ni.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(me.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(ke.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ke.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Gi.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new q}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(An.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Pe.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(tt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(tt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(se.prototype,{cullFace:{get:function(){return this.renderReverseSided?br:yr},set:function(e){var t=e!==yr;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.assign(et.prototype,{getStandingMatrix:function(){console.warn("THREE.WebVRManager: .getStandingMatrix() has been removed.")}}),Object.defineProperties(et.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Fi.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Pi).load(e,function(e){t.setBuffer(e)}),this},Ni.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Oi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)}},liuP:function(e,t,n){"use strict";(function(e){function t(e,t){return r.writeFile("./src/assets/three/"+t,JSON.stringify(e,null,4),e=>{if(e)return console.log("Error writing file: "+t),console.error(e),!1;console.log("File has been created: "+t)}),!0}var i=n("Z6sF"),r=n("z1aO");n.n(r);n.c[n.s]===e&&(t(i.t(i.l()),"model_empty.json"),t(i.t(i.p()),"model_points.json"),t(i.t(i.o()),"model_open_polyline.json"),t(i.t(i.j()),"model_closed_polyline.json"),t(i.t(i.e()),"model_box.json"),t(i.t(i.i()),"model_box_with_attribs.json"),t(i.t(i.f()),"model_box_open1.json"),t(i.t(i.g()),"model_box_open2.json"),t(i.t(i.h()),"model_box_open2_disjoint.json"),t(i.t(i.s()),"model_two_boxes.json"),t(i.t(i.k()),"model_difficult_polymesh.json"),t(i.t(i.n()),"model_invalid_polymesh.json"),t(i.t(i.q()),"model_polylines_boxes.json"),t(i.t(i.m()),"model_grid.json"),t(i.t(i.r()),"model_torus.json"))}).call(t,n("qhgb")(e))},"m1U/":function(e,t,n){"use strict";var i=n("05/P"),r=n("CLKv"),s=n("GcAb"),o=n("jLix"),a=n("0mJR");const l=Object.prototype.toString;class c extends i.a{constructor(e,t,n,i){super(),this.sourceObj=e,this.eventName=t,this.selector=n,this.options=i}static create(e,t,n,i){return Object(s.a)(n)&&(i=n,n=void 0),new c(e,t,i,n)}static setupSubscription(e,t,n,i,r){let s;if(function(e){return!!e&&"[object NodeList]"===l.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===l.call(e)}(e))for(let o=0,a=e.length;o<a;o++)c.setupSubscription(e[o],t,n,i,r);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,n,r),s=(()=>i.removeEventListener(t,n))}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,n),s=(()=>i.off(t,n))}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");{const i=e;e.addListener(t,n),s=(()=>i.removeListener(t,n))}}i.add(new a.a(s))}_subscribe(e){const t=this.sourceObj,n=this.eventName,i=this.options,s=this.selector;let a=s?(...t)=>{let n=Object(r.a)(s)(...t);n===o.a?e.error(o.a.e):e.next(n)}:t=>e.next(t);c.setupSubscription(t,n,a,e,i)}}const u=c.create;t.a=u},nTP9:function(e,t,n){"use strict";function i(e){return e||new a}n.d(t,"c",function(){return a}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i});var r=n("9i4M"),s=n("1GK5");class o{constructor(e=!1,t,n=!0){this._isMulti=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.onChange=this._emitChanges?new r.a:null,t&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._isMulti&&this._selected&&this._selected.sort(e)}_emitChangeEvent(){if(this._selected=null,this._selectedToEmit.length||this._deselectedToEmit.length){const e=new class{constructor(e,t){this.added=e,this.removed=t}}(this._selectedToEmit,this._deselectedToEmit);this.onChange&&this.onChange.next(e),this._deselectedToEmit=[],this._selectedToEmit=[]}}_markSelected(e){this.isSelected(e)||(this._isMulti||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){if(e.length>1&&!this._isMulti)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}class a{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}}a.decorators=[{type:s.v}],a.ctorParameters=(()=>[]);const l={provide:a,deps:[[new s.G,new s.S,a]],useFactory:i}},o1Kc:function(e,t,n){"use strict";function i(){return function(e){return e.lift(new class{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new class extends a.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}(e))}}function r(){return new s.a}var s=n("9i4M"),o=n("05/P"),a=n("WJ2g"),l=n("0mJR");const c=class extends o.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new l.a).add(this.source.subscribe(new class extends s.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}(this.getSubject(),this))),e.closed?(this._connection=null,e=l.a.EMPTY):this._connection=e),e}refCount(){return i()(this)}}.prototype,u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};t.a=function(){return e=>i()(function(e,t){return function(n){let i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new class{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(e);return r.add(t.subscribe(i)),r}}(i,t));const r=Object.create(n,u);return r.source=n,r.subjectFactory=i,r}}(r)(e))}},oZkc:function(e,t,n){"use strict";t.a=function(e){return e&&"function"==typeof e.schedule}},pnCZ:function(e,t,n){"use strict";function i(e){return null==e||0===e.length}function r(e){return null!=e}function s(e){const t=Object(C._21)(e)?R(e):e;if(!Object(C._20)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function o(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function a(e){return e.validate?t=>e.validate(t):e}function l(e){return e.validate?t=>e.validate(t):e}function c(){throw new Error("unimplemented")}function u(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}function h(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}function d(e,t){return[...t.path,e]}function p(e,t){e||v(t,"Cannot find control with"),t.valueAccessor||v(t,"No value accessor for form control with"),e.validator=B.compose([e.validator,t.validator]),e.asyncValidator=B.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&m(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&m(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function m(e,t){t.viewToModelUpdate(e._pendingValue),e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),e._pendingChange=!1}function f(e,t){null==e&&v(t,"Cannot find control with"),e.validator=B.compose([e.validator,t.validator]),e.asyncValidator=B.composeAsync([e.asyncValidator,t.asyncValidator])}function g(e){return v(e,"There is no FormControl instance attached to form control element with")}function v(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function y(e){return null!=e?B.compose(e.map(a)):null}function b(e){return null!=e?B.composeAsync(e.map(l)):null}function _(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(C._24)(t,n.currentValue)}function x(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function w(e,t){if(!t)return null;let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{t.constructor===H?n=t:!function(e){return se.some(t=>e.constructor===t)}(t)?(r&&v(e,"More than one custom value accessor matches form control with"),r=t):(i&&v(e,"More than one built-in value accessor matches form control with"),i=t)}),r||(i||(n||(v(e,"No valid value accessor for form control with"),null)))}function E(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function T(e){const t=k(e)?e.validators:e;return Array.isArray(t)?y(t):t||null}function S(e,t){const n=k(t)?t.asyncValidators:e;return Array.isArray(n)?b(n):n||null}function k(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function A(e){return!(e instanceof Fe||e instanceof Oe||e instanceof Ne)}var C=n("1GK5"),M=n("7377");const R=n("Hb/P").a.create;var L=n("NwoR"),P=n("PXDV");n.d(t,"c",function(){return D}),n.d(t,"h",function(){return j}),n.d(t,"a",function(){return G}),n.d(t,"d",function(){return H}),n.d(t,"i",function(){return q}),n.d(t,"j",function(){return ce}),n.d(t,"k",function(){return ue}),n.d(t,"l",function(){return xe}),n.d(t,"m",function(){return Ce}),n.d(t,"e",function(){return Oe}),n.d(t,"n",function(){return te}),n.d(t,"b",function(){return Ge}),n.d(t,"o",function(){return Ve}),n.d(t,"g",function(){return F}),n.d(t,"p",function(){return B}),n.d(t,"f",function(){return rt}),n.d(t,"q",function(){return it}),n.d(t,"r",function(){return Qe}),n.d(t,"s",function(){return Y}),n.d(t,"t",function(){return re});class O{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class D extends O{get formDirective(){return null}get path(){return null}}const F=new C.w("NgValidators"),I=new C.w("NgAsyncValidators"),N=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class B{static min(e){return t=>{if(i(t.value)||i(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(i(t.value)||i(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return i(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return N.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(i(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return B.nullValidator;let t,n;return"string"==typeof e?(n=`^${e}$`,t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(i(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(r);return 0==t.length?null:function(e){return o(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(r);return 0==t.length?null:function(e){const n=function(e,t){return t.map(t=>t(e))}(e,t).map(s);return L.a.call(Object(M.a)(n),o)}}}const j=new C.w("NgValueAccessor"),z={provide:j,useExisting:Object(C._3)(()=>U),multi:!0};class U{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}U.decorators=[{type:C.n,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[z]}]}],U.ctorParameters=(()=>[{type:C.M},{type:C.o}]);const V={provide:j,useExisting:Object(C._3)(()=>H),multi:!0},G=new C.w("CompositionEventMode");class H{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(P.s)()?Object(P.s)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}H.decorators=[{type:C.n,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[V]}]}],H.ctorParameters=(()=>[{type:C.M},{type:C.o},{type:void 0,decorators:[{type:C.G},{type:C.u,args:[G]}]}]);const W={provide:j,useExisting:Object(C._3)(()=>$),multi:!0};class ${constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}$.decorators=[{type:C.n,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[W]}]}],$.ctorParameters=(()=>[{type:C.M},{type:C.o}]);class q extends O{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return c()}get asyncValidator(){return c()}}const X={provide:j,useExisting:Object(C._3)(()=>K),multi:!0};class Y{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)}}Y.decorators=[{type:C.v}],Y.ctorParameters=(()=>[]);class K{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(q),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=(()=>{e(this.value),this._registry.select(this)})}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}K.decorators=[{type:C.n,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[X]}]}],K.ctorParameters=(()=>[{type:C.M},{type:C.o},{type:Y},{type:C.x}]),K.propDecorators={name:[{type:C.y}],formControlName:[{type:C.y}],value:[{type:C.y}]};const Z={provide:j,useExisting:Object(C._3)(()=>J),multi:!0};class J{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}J.decorators=[{type:C.n,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Z]}]}],J.ctorParameters=(()=>[{type:C.M},{type:C.o}]);const Q={provide:j,useExisting:Object(C._3)(()=>ee),multi:!0};class ee{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=C._24}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=u(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=(t=>{this.value=this._getOptionValue(t),e(this.value)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}ee.decorators=[{type:C.n,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Q]}]}],ee.ctorParameters=(()=>[{type:C.M},{type:C.o}]),ee.propDecorators={compareWith:[{type:C.y}]};class te{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(u(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}te.decorators=[{type:C.n,args:[{selector:"option"}]}],te.ctorParameters=(()=>[{type:C.o},{type:C.M},{type:ee,decorators:[{type:C.G},{type:C.r}]}]),te.propDecorators={ngValue:[{type:C.y,args:["ngValue"]}],value:[{type:C.y,args:["value"]}]};const ne={provide:j,useExisting:Object(C._3)(()=>ie),multi:!0};class ie{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=C._24}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;let t;if(Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=((e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)})}else t=((e,t)=>{e._setSelected(!1)});this._optionMap.forEach(t)}registerOnChange(e){this.onChange=(t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}ie.decorators=[{type:C.n,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ne]}]}],ie.ctorParameters=(()=>[{type:C.M},{type:C.o}]),ie.propDecorators={compareWith:[{type:C.y}]};class re{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(h(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(h(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}re.decorators=[{type:C.n,args:[{selector:"option"}]}],re.ctorParameters=(()=>[{type:C.o},{type:C.M},{type:ie,decorators:[{type:C.G},{type:C.r}]}]),re.propDecorators={ngValue:[{type:C.y,args:["ngValue"]}],value:[{type:C.y,args:["value"]}]};const se=[U,J,$,ee,ie,K];class oe extends D{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return d(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return y(this._validators)}get asyncValidator(){return b(this._asyncValidators)}_checkParentType(){}}class ae{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const le={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class ce extends ae{constructor(e){super(e)}}ce.decorators=[{type:C.n,args:[{selector:"[formControlName],[ngModel],[formControl]",host:le}]}],ce.ctorParameters=(()=>[{type:q,decorators:[{type:C.R}]}]);class ue extends ae{constructor(e){super(e)}}ue.decorators=[{type:C.n,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:le}]}],ue.ctorParameters=(()=>[{type:D,decorators:[{type:C.R}]}]);const he="VALID",de="INVALID",pe="PENDING",me="DISABLED";class fe{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===he}get invalid(){return this.status===de}get pending(){return this.status==pe}get disabled(){return this.status===me}get enabled(){return this.status!==me}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=T(e)}setAsyncValidators(e){this.asyncValidator=S(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pe,this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){this.status=me,this.errors=null,this._forEachChild(e=>{e.disable({onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(!!e.onlySelf),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){this.status=he,this._forEachChild(e=>{e.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(!!e.onlySelf),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==he&&this.status!==pe||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?me:he}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pe;const t=s(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof ve?e.controls[t]||null:e instanceof ye?e.at(t)||null:null,e))}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new C.q,this.statusChanges=new C.q}_calculateStatus(){return this._allControlsDisabled()?me:this.errors?de:this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(de)?de:he}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){k(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}}class ge extends fe{constructor(e=null,t,n){super(T(t),S(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ve extends fe{constructor(e,t,n){super(T(t),S(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ge?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ye extends fe{constructor(e,t,n){super(T(t),S(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this.controls.map(e=>e instanceof ge?e.value:e.getRawValue())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const be={provide:D,useExisting:Object(C._3)(()=>xe)},_e=Promise.resolve(null);class xe extends D{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new C.q,this.form=new ve({},y(e),b(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_e.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),p(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_e.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),E(this._directives,e)})}addFormGroup(e){_e.then(()=>{const t=this._findContainer(e.path),n=new ve({});f(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_e.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){_e.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,x(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}xe.decorators=[{type:C.n,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[be],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],xe.ctorParameters=(()=>[{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]}]),xe.propDecorators={options:[{type:C.y,args:["ngFormOptions"]}]};const we={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Ee{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${we.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${we.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${we.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${we.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${we.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${we.ngModelGroup}`)}}const Te={provide:D,useExisting:Object(C._3)(()=>Se)};class Se extends oe{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Se||this._parent instanceof xe||Ee.modelGroupParentException()}}Se.decorators=[{type:C.n,args:[{selector:"[ngModelGroup]",providers:[Te],exportAs:"ngModelGroup"}]}],Se.ctorParameters=(()=>[{type:D,decorators:[{type:C.r},{type:C.S}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]}]),Se.propDecorators={name:[{type:C.y,args:["ngModelGroup"]}]};const ke={provide:q,useExisting:Object(C._3)(()=>Ce)},Ae=Promise.resolve(null);class Ce extends q{constructor(e,t,n,i){super(),this.control=new ge,this._registered=!1,this.update=new C.q,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=w(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?d(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return y(this._rawValidators)}get asyncValidator(){return b(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){p(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Se)&&this._parent instanceof oe?Ee.formGroupNameException():this._parent instanceof Se||this._parent instanceof xe||Ee.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ee.missingNameException()}_updateValue(e){Ae.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Ae.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}Ce.decorators=[{type:C.n,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[ke],exportAs:"ngModel"}]}],Ce.ctorParameters=(()=>[{type:D,decorators:[{type:C.G},{type:C.r}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[j]}]}]),Ce.propDecorators={name:[{type:C.y}],isDisabled:[{type:C.y,args:["disabled"]}],model:[{type:C.y,args:["ngModel"]}],options:[{type:C.y,args:["ngModelOptions"]}],update:[{type:C.H,args:["ngModelChange"]}]};class Me{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${we.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${we.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${we.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${we.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${we.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${we.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}}const Re={provide:q,useExisting:Object(C._3)(()=>Le)};class Le extends q{constructor(e,t,n){super(),this.update=new C.q,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=w(this,n)}set isDisabled(e){Me.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(p(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),_(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return y(this._rawValidators)}get asyncValidator(){return b(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}Le.decorators=[{type:C.n,args:[{selector:"[formControl]",providers:[Re],exportAs:"ngForm"}]}],Le.ctorParameters=(()=>[{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[j]}]}]),Le.propDecorators={form:[{type:C.y,args:["formControl"]}],model:[{type:C.y,args:["ngModel"]}],update:[{type:C.H,args:["ngModelChange"]}],isDisabled:[{type:C.y,args:["disabled"]}]};const Pe={provide:D,useExisting:Object(C._3)(()=>Oe)};class Oe extends D{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new C.q}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return p(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){E(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);f(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);f(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,x(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(!function(e,t){t.valueAccessor.registerOnChange(()=>g(t)),t.valueAccessor.registerOnTouched(()=>g(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&p(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=y(this._validators);this.form.validator=B.compose([this.form.validator,e]);const t=b(this._asyncValidators);this.form.asyncValidator=B.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Me.missingFormException()}}Oe.decorators=[{type:C.n,args:[{selector:"[formGroup]",providers:[Pe],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Oe.ctorParameters=(()=>[{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]}]),Oe.propDecorators={form:[{type:C.y,args:["formGroup"]}],ngSubmit:[{type:C.H}]};const De={provide:D,useExisting:Object(C._3)(()=>Fe)};class Fe extends oe{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){A(this._parent)&&Me.groupParentException()}}Fe.decorators=[{type:C.n,args:[{selector:"[formGroupName]",providers:[De]}]}],Fe.ctorParameters=(()=>[{type:D,decorators:[{type:C.G},{type:C.r},{type:C.S}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]}]),Fe.propDecorators={name:[{type:C.y,args:["formGroupName"]}]};const Ie={provide:D,useExisting:Object(C._3)(()=>Ne)};class Ne extends D{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return d(this.name,this._parent)}get validator(){return y(this._validators)}get asyncValidator(){return b(this._asyncValidators)}_checkParentType(){A(this._parent)&&Me.arrayParentException()}}Ne.decorators=[{type:C.n,args:[{selector:"[formArrayName]",providers:[Ie]}]}],Ne.ctorParameters=(()=>[{type:D,decorators:[{type:C.G},{type:C.r},{type:C.S}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]}]),Ne.propDecorators={name:[{type:C.y,args:["formArrayName"]}]};const Be={provide:q,useExisting:Object(C._3)(()=>je)};class je extends q{constructor(e,t,n,i){super(),this._added=!1,this.update=new C.q,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=w(this,i)}set isDisabled(e){Me.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),_(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return d(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return y(this._rawValidators)}get asyncValidator(){return b(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Fe)&&this._parent instanceof oe?Me.ngModelGroupException():this._parent instanceof Fe||this._parent instanceof Oe||this._parent instanceof Ne||Me.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}je.decorators=[{type:C.n,args:[{selector:"[formControlName]",providers:[Be]}]}],je.ctorParameters=(()=>[{type:D,decorators:[{type:C.G},{type:C.r},{type:C.S}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[F]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[I]}]},{type:Array,decorators:[{type:C.G},{type:C.R},{type:C.u,args:[j]}]}]),je.propDecorators={name:[{type:C.y,args:["formControlName"]}],model:[{type:C.y,args:["ngModel"]}],update:[{type:C.H,args:["ngModelChange"]}],isDisabled:[{type:C.y,args:["disabled"]}]};const ze={provide:F,useExisting:Object(C._3)(()=>Ve),multi:!0},Ue={provide:F,useExisting:Object(C._3)(()=>Ge),multi:!0};class Ve{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?B.required(e):null}registerOnValidatorChange(e){this._onChange=e}}Ve.decorators=[{type:C.n,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[ze],host:{"[attr.required]":'required ? "" : null'}}]}],Ve.ctorParameters=(()=>[]),Ve.propDecorators={required:[{type:C.y}]};class Ge extends Ve{validate(e){return this.required?B.requiredTrue(e):null}}Ge.decorators=[{type:C.n,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[Ue],host:{"[attr.required]":'required ? "" : null'}}]}],Ge.ctorParameters=(()=>[]);const He={provide:F,useExisting:Object(C._3)(()=>We),multi:!0};class We{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?B.email(e):null}registerOnValidatorChange(e){this._onChange=e}}We.decorators=[{type:C.n,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[He]}]}],We.ctorParameters=(()=>[]),We.propDecorators={email:[{type:C.y}]};const $e={provide:F,useExisting:Object(C._3)(()=>qe),multi:!0};class qe{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=B.minLength(parseInt(this.minlength,10))}}qe.decorators=[{type:C.n,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[$e],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],qe.ctorParameters=(()=>[]),qe.propDecorators={minlength:[{type:C.y}]};const Xe={provide:F,useExisting:Object(C._3)(()=>Ye),multi:!0};class Ye{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=B.maxLength(parseInt(this.maxlength,10))}}Ye.decorators=[{type:C.n,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Xe],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],Ye.ctorParameters=(()=>[]),Ye.propDecorators={maxlength:[{type:C.y}]};const Ke={provide:F,useExisting:Object(C._3)(()=>Ze),multi:!0};class Ze{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=B.pattern(this.pattern)}}Ze.decorators=[{type:C.n,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Ke],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],Ze.ctorParameters=(()=>[]),Ze.propDecorators={pattern:[{type:C.y}]};class Je{group(e,t=null){const n=this._reduceControls(e),i=null!=t?t.validator:null,r=null!=t?t.asyncValidator:null;return new ve(n,i,r)}control(e,t,n){return new ge(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new ye(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){if(e instanceof ge||e instanceof ve||e instanceof ye)return e;if(Array.isArray(e)){const t=e[0],n=e.length>1?e[1]:null,i=e.length>2?e[2]:null;return this.control(t,n,i)}return this.control(e)}}Je.decorators=[{type:C.v}],Je.ctorParameters=(()=>[]);new C.V("5.1.2");class Qe{}Qe.decorators=[{type:C.n,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],Qe.ctorParameters=(()=>[]);const et=[Qe,te,re,H,$,J,U,ee,ie,K,ce,ue,Ve,qe,Ye,Ze,Ge,We],tt=[Ce,Se,xe],nt=[Le,Oe,je,Fe,Ne];class it{}it.decorators=[{type:C.C,args:[{declarations:et,exports:et}]}],it.ctorParameters=(()=>[]);class rt{}rt.decorators=[{type:C.C,args:[{declarations:tt,providers:[Y],exports:[it,tt]}]}],rt.ctorParameters=(()=>[]);class st{}st.decorators=[{type:C.C,args:[{declarations:[nt],providers:[Je,Y],exports:[it,nt]}]}],st.ctorParameters=(()=>[])},q3rK:function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f});var i=n("tksO"),r=n("AdGS"),s=n("1GK5"),o=n("Y9GW"),a=n("m1U/"),l=n("ZAeO"),c=n("t3RF"),u=n("9i4M"),h=n("bVHt"),d=n("pnCZ"),p=n("IMoF");class m{constructor(e,t,n){this._elementRef=e,this._platform=t,this._ngZone=n,this._destroyed=new u.a}get minRows(){return this._minRows}set minRows(e){this._minRows=e,this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=e,this._setMaxHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;e&&this._setTextareaStyle("minHeight",e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;e&&this._setTextareaStyle("maxHeight",e)}ngAfterViewInit(){this._platform.isBrowser&&(this.resizeToFitContent(),this._ngZone&&this._ngZone.runOutsideAngular(()=>{Object(a.a)(window,"resize").pipe(Object(l.a)(16),Object(c.a)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_setTextareaStyle(e,t){this._elementRef.nativeElement.style[e]=t}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._elementRef.nativeElement,t=e.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",e.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,e.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const t=this._elementRef.nativeElement,n=t.value;if(n===this._previousValue&&!e)return;const i=t.placeholder;t.style.height="auto",t.style.overflow="hidden",t.placeholder="",t.style.height=`${t.scrollHeight}px`,t.style.overflow="",t.placeholder=i,this._previousValue=n}}m.decorators=[{type:s.n,args:[{selector:"textarea[mat-autosize], textarea[matTextareaAutosize]",exportAs:"matTextareaAutosize",host:{class:"mat-autosize",rows:"1"}}]}],m.ctorParameters=(()=>[{type:s.o},{type:i.a},{type:s.F}]),m.propDecorators={minRows:[{type:s.y,args:["matAutosizeMinRows"]}],maxRows:[{type:s.y,args:["matAutosizeMaxRows"]}]};const f=new s.w("MAT_INPUT_VALUE_ACCESSOR"),g=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let v=0;const y=Object(p.F)(class{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}});class b extends y{constructor(e,t,n,r,s,o,a){super(o,r,s,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._type="text",this._disabled=!1,this._required=!1,this._uid=`mat-input-${v++}`,this._readonly=!1,this.focused=!1,this._isServer=!1,this.stateChanges=new u.a,this.controlType="mat-input",this.placeholder="",this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Object(i.c)().has(e)),this._inputValueAccessor=a||this._elementRef.nativeElement,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}),this._isServer=!this._platform.isBrowser}get disabled(){return this.ngControl?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Object(h.b)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Object(h.b)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea()&&Object(i.c)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Object(h.b)(e)}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}ngDoCheck(){this.ngControl?this.updateErrorState():this._dirtyCheckNativeValue()}focus(){this._elementRef.nativeElement.focus()}_focusChanged(e){e===this.focused||this.readonly||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){if(g.indexOf(this._type)>-1)throw function(e){return Error(`Input type "${e}" isn't supported by matInput.`)}(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}_isTextarea(){let e=this._elementRef.nativeElement,t=this._platform.isBrowser?e.nodeName:e.name;return!!t&&"textarea"===t.toLowerCase()}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()}get shouldLabelFloat(){return this.focused||!this.empty}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus()}}b.decorators=[{type:s.n,args:[{selector:"input[matInput], textarea[matInput]",exportAs:"matInput",host:{class:"mat-input-element mat-form-field-autofill-control","[class.mat-input-server]":"_isServer","[attr.id]":"id","[placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","[readonly]":"readonly","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-invalid]":"errorState","[attr.aria-required]":"required.toString()","(blur)":"_focusChanged(false)","(focus)":"_focusChanged(true)","(input)":"_onInput()"},providers:[{provide:o.b,useExisting:b}]}]}],b.ctorParameters=(()=>[{type:s.o},{type:i.a},{type:d.i,decorators:[{type:s.G},{type:s.R}]},{type:d.l,decorators:[{type:s.G}]},{type:d.e,decorators:[{type:s.G}]},{type:p.d},{type:void 0,decorators:[{type:s.G},{type:s.R},{type:s.u,args:[f]}]}]),b.propDecorators={disabled:[{type:s.y}],id:[{type:s.y}],placeholder:[{type:s.y}],required:[{type:s.y}],type:[{type:s.y}],errorStateMatcher:[{type:s.y}],value:[{type:s.y}],readonly:[{type:s.y}]};class _{}_.decorators=[{type:s.C,args:[{declarations:[b,m],imports:[r.a,o.c,i.b],exports:[o.c,b,m],providers:[p.d]}]}],_.ctorParameters=(()=>[])},qhgb:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},rhNu:function(e,t,n){"use strict";t.a=function(e,t,n=Number.POSITIVE_INFINITY){return function(s){return"number"==typeof t&&(n=t,t=null),s.lift(new class{constructor(e,t,n=Number.POSITIVE_INFINITY){this.project=e,this.resultSelector=t,this.concurrent=n}call(e,t){return t.subscribe(new class extends r.a{constructor(e,t,n,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){this.add(Object(i.a)(this,e,t,n))}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()}notifyNext(e,t,n,i,r){this.resultSelector?this._notifyResultSelector(e,t,n,i):this.destination.next(t)}_notifyResultSelector(e,t,n,i){let r;try{r=this.resultSelector(e,t,n,i)}catch(e){return void this.destination.error(e)}this.destination.next(r)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(e,this.project,this.resultSelector,this.concurrent))}}(e,t,n))}};var i=n("t0Wy"),r=n("7wpj")},rmua:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("1GK5"),r=n("Yali"),s="is-dragging-over-disabled",o=function(){function e(e,t,n){this.el=e,this.renderer=t,this.treeDraggedElement=n,this.onDropCallback=new i.q,this.onDragOverCallback=new i.q,this.onDragLeaveCallback=new i.q,this.onDragEnterCallback=new i.q,this._allowDrop=function(e,t){return!0}}return Object.defineProperty(e.prototype,"treeAllowDrop",{set:function(e){e instanceof Function?this._allowDrop=e:this._allowDrop=function(t,n){return e}},enumerable:!0,configurable:!0}),e.prototype.allowDrop=function(e){return this._allowDrop(this.treeDraggedElement.get(),e)},e.prototype.onDragOver=function(e){if(!this.allowDrop(e))return this.addDisabledClass();this.onDragOverCallback.emit({event:e,element:this.treeDraggedElement.get()}),e.preventDefault(),this.addClass()},e.prototype.onDragEnter=function(e){this.allowDrop(e)&&this.onDragEnterCallback.emit({event:e,element:this.treeDraggedElement.get()})},e.prototype.onDragLeave=function(e){if(!this.allowDrop(e))return this.removeDisabledClass();this.onDragLeaveCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.removeClass()},e.prototype.onDrop=function(e){this.allowDrop(e)&&(e.preventDefault(),this.onDropCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.removeClass(),this.treeDraggedElement.set(null))},e.prototype.addClass=function(){this.renderer.setElementClass(this.el.nativeElement,"is-dragging-over",!0)},e.prototype.removeClass=function(){this.renderer.setElementClass(this.el.nativeElement,"is-dragging-over",!1)},e.prototype.addDisabledClass=function(){this.renderer.setElementClass(this.el.nativeElement,s,!0)},e.prototype.removeDisabledClass=function(){this.renderer.setElementClass(this.el.nativeElement,s,!1)},e.decorators=[{type:i.n,args:[{selector:"[treeDrop]"}]}],e.ctorParameters=function(){return[{type:i.o},{type:i.L},{type:r.a}]},e.propDecorators={onDropCallback:[{type:i.H,args:["treeDrop"]}],onDragOverCallback:[{type:i.H,args:["treeDropDragOver"]}],onDragLeaveCallback:[{type:i.H,args:["treeDropDragLeave"]}],onDragEnterCallback:[{type:i.H,args:["treeDropDragEnter"]}],treeAllowDrop:[{type:i.y}],onDragOver:[{type:i.t,args:["dragover",["$event"]]}],onDragEnter:[{type:i.t,args:["dragenter",["$event"]]}],onDragLeave:[{type:i.t,args:["dragleave",["$event"]]}],onDrop:[{type:i.t,args:["drop",["$event"]]}]},e}()},scoq:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.decorators=[{type:i.j,args:[{selector:"tree-node-children",encapsulation:i.Z.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div [class.tree-children]="true"\n          [class.tree-children-no-padding]="node.options.levelPadding"\n          *treeAnimateOpen="\n            node.isExpanded;\n            speed:node.options.animateExpand;\n            acceleration:node.options.animateAcceleration;\n            enabled:node.options.animateExpand">\n        <tree-node-collection\n          *ngIf="node.children"\n          [nodes]="node.children"\n          [templates]="templates"\n          [treeModel]="node.treeModel">\n        </tree-node-collection>\n        <tree-loading-component\n          [style.padding-left]="node.getNodePadding()"\n          class="tree-node-loading"\n          *ngIf="!node.children"\n          [template]="templates.loadingTemplate"\n          [node]="node"\n        ></tree-loading-component>\n      </div>\n    </ng-container>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={node:[{type:i.y}],templates:[{type:i.y}]},e}()},sngF:function(e,t,n){"use strict";var i=n("05/P"),r=n("g2hh"),s=n("P6aB"),o=n("oZkc");class a extends i.a{constructor(e,t){super(),this.array=e,this.scheduler=t,t||1!==e.length||(this._isScalar=!0,this.value=e[0])}static create(e,t){return new a(e,t)}static of(...e){let t=e[e.length-1];Object(o.a)(t)?e.pop():t=null;const n=e.length;return n>1?new a(e,t):1===n?new r.a(e[0],t):new s.a(t)}static dispatch(e){const{array:t,index:n,count:i,subscriber:r}=e;n>=i?r.complete():(r.next(t[n]),r.closed||(e.index=n+1,this.schedule(e)))}_subscribe(e){const t=this.array,n=t.length,i=this.scheduler;if(i)return i.schedule(a.dispatch,0,{array:t,index:0,count:n,subscriber:e});for(let r=0;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}t.a=a},t0Wy:function(e,t,n){"use strict";var i=n("2K0D"),r=n("iwAo"),s=n("2mbX"),o=n("tiL7"),a=n("05/P"),l=n("Lq4y"),c=n("WJ2g");class u extends c.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var h=n("CdVW");t.a=function(e,t,n,c){let d=new u(e,n,c);if(d.closed)return null;if(t instanceof a.a)return t._isScalar?(d.next(t.value),d.complete(),null):(d.syncErrorThrowable=!0,t.subscribe(d));if(Object(r.a)(t)){for(let e=0,n=t.length;e<n&&!d.closed;e++)d.next(t[e]);d.closed||d.complete()}else{if(Object(s.a)(t))return t.then(e=>{d.closed||(d.next(e),d.complete())},e=>d.error(e)).then(null,e=>{i.a.setTimeout(()=>{throw e})}),d;if(t&&"function"==typeof t[l.a]){const e=t[l.a]();for(;;){let t=e.next();if(t.done){d.complete();break}if(d.next(t.value),d.closed)break}}else if(t&&"function"==typeof t[h.a]){const i=t[h.a]();if("function"==typeof i.subscribe)return i.subscribe(new u(e,n,c));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{const e=`You provided ${Object(o.a)(t)?"an invalid object":`'${t}'`} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(e))}}return null}},t3RF:function(e,t,n){"use strict";t.a=function(e){return t=>t.lift(new class{constructor(e){this.notifier=e}call(e,t){return t.subscribe(new class extends i.a{constructor(e,t){super(e),this.notifier=t,this.add(Object(r.a)(this,t))}notifyNext(e,t,n,i,r){this.complete()}notifyComplete(){}}(e,this.notifier))}}(e))};var i=n("7wpj"),r=n("t0Wy")},tOHq:function(e,t,n){"use strict";var i=n("WJ2g");class r extends Error{constructor(){const e=super("argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}}var s=n("P6aB");t.a=function(e){return t=>0===e?new s.a:t.lift(new class{constructor(e){if(this.total=e,this.total<0)throw new r}call(e,t){return t.subscribe(new class extends i.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}(e,this.total))}}(e))}},tiL7:function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},tksO:function(e,t,n){"use strict";function i(){if(null==l&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>l=!0}))}finally{l=l||!1}return l}function r(){if(c)return c;if("object"!=typeof document||!document)return c=new Set(u);let e=document.createElement("input");return c=new Set(u.filter(t=>(e.setAttribute("type",t),e.type===t)))}n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return h});var s=n("1GK5");const o="undefined"!=typeof Intl&&Intl.v8BreakIterator;class a{constructor(){this.isBrowser="object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!o)&&!!CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}a.decorators=[{type:s.v}],a.ctorParameters=(()=>[]);let l,c;const u=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];class h{}h.decorators=[{type:s.C,args:[{providers:[a]}]}],h.ctorParameters=(()=>[])},v3xz:function(e,t,n){"use strict";function i(e){return o._38(0,[(e()(),o._15(0,0,null,null,1,"split-gutter",[],null,[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var i=!0,r=e.component;if("mousedown"===t){i=!1!==r.startDragging(n,2*e.parent.context.index+1,e.parent.context.index+1)&&i}if("touchstart"===t){i=!1!==r.startDragging(n,2*e.parent.context.index+1,e.parent.context.index+1)&&i}return i},null,null)),o._14(1,16384,null,0,a.d,[o.o,o.M],{order:[0,"order"],direction:[1,"direction"],useTransition:[2,"useTransition"],size:[3,"size"],color:[4,"color"],imageH:[5,"imageH"],imageV:[6,"imageV"],disabled:[7,"disabled"]},null)],function(e,t){var n=t.component;e(t,1,0,2*t.parent.context.index+1,n.direction,n.useTransition,n.gutterSize,n.gutterColor,n.gutterImageH,n.gutterImageV,n.disabled)},null)}function r(e){return o._38(0,[(e()(),o._36(-1,null,["\n            "])),(e()(),o._10(16777216,null,null,1,null,i)),o._14(2,16384,null,0,l.g,[o.Y,o.T],{ngIf:[0,"ngIf"]},null),(e()(),o._36(-1,null,["\n        "]))],function(e,t){e(t,2,0,!1===t.context.last)},null)}function s(e){return o._38(2,[(e()(),o._36(-1,null,["\n        "])),o._28(null,0),(e()(),o._36(-1,null,["\n        "])),(e()(),o._10(16777216,null,null,1,null,r)),o._14(4,802816,null,0,l.f,[o.Y,o.T,o.z],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.component.displayedAreas)},null)}n.d(t,"a",function(){return c}),t.b=s;var o=n("1GK5"),a=n("Kiz6"),l=n("AdGS"),c=(o._12(a.a,[],function(e){return o._26([o._27(512,o.k,o._8,[[8,[]],[3,o.k],o.D]),o._27(4608,l.i,l.h,[o.B,[2,l.n]]),o._27(512,l.a,l.a,[]),o._27(512,a.a,a.a,[])])}),o._13({encapsulation:0,styles:["[_nghost-%COMP%] {\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: flex-start;\n            align-items: stretch;\n            overflow: hidden;\n            \n            width: 100%;\n            height: 100%;   \n        }\n\n        split-gutter[_ngcontent-%COMP%] {\n            flex-grow: 0;\n            flex-shrink: 0;\n            background-position: center center;\n            background-repeat: no-repeat;\n        }"],data:{}}));o._11("split",a.c,function(e){return o._38(0,[(e()(),o._15(0,0,null,null,1,"split",[],[[4,"flex-direction",null],[4,"width",null],[4,"height",null],[4,"min-width",null],[4,"min-height",null]],null,null,s,c)),o._14(1,4374528,null,0,a.c,[o.o,o.h,o.M],null,null)],null,function(e,t){e(t,0,0,o._29(t,1).cssFlexdirection,o._29(t,1).cssWidth,o._29(t,1).cssHeight,o._29(t,1).cssMinwidth,o._29(t,1).cssMinheight)})},{direction:"direction",useTransition:"useTransition",disabled:"disabled",width:"width",height:"height",gutterSize:"gutterSize",gutterColor:"gutterColor",gutterImageH:"gutterImageH",gutterImageV:"gutterImageV",dir:"dir"},{dragStart:"dragStart",dragProgress:"dragProgress",dragEnd:"dragEnd",gutterClick:"gutterClick",transitionEnd:"transitionEnd"},["*"])},vVQ5:function(e,t,n){"use strict";var i=n("2K0D"),r=n("0mJR");class s extends r.a{constructor(e,t){super()}schedule(e,t=0){return this}}class o{constructor(e,t=o.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}o.now=Date.now?Date.now:()=>+new Date;const a=new class extends o{constructor(){super(...arguments),this.actions=[],this.active=!1,this.scheduled=void 0}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}(class extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e,this.pending=!0;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return i.a.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;i.a.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}});t.a=a},waJ0:function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return _}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return E}),n.d(t,"g",function(){return T});var i=n("AdGS"),r=n("1GK5"),s=n("nTP9"),o=n("3bUk"),a=n("3P+V"),l=n("bVHt"),c=n("FjVW"),u=n("IMoF"),h=n("9i4M"),d=n("IEaL"),p=n("KF/P"),m=n("cv3d"),f=n("0mJR");class g extends o.a{constructor(){super(...arguments),this._hideToggle=!1,this.displayMode="default"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Object(l.b)(e)}}g.decorators=[{type:r.n,args:[{selector:"mat-accordion",exportAs:"matAccordion",host:{class:"mat-accordion"}}]}],g.ctorParameters=(()=>[]),g.propDecorators={hideToggle:[{type:r.y}],displayMode:[{type:r.y}]};const v="225ms cubic-bezier(0.4,0.0,0.2,1)";class y extends o.b{constructor(e,t,n){super(e,t,n)}}y.decorators=[{type:r.j,args:[{template:"",encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush}]}],y.ctorParameters=(()=>[{type:g},{type:r.h},{type:s.c}]);const b=Object(u.E)(y);class _ extends b{constructor(e,t,n){super(e,t,n),this._hideToggle=!1,this._inputChanges=new h.a,this.accordion=e}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Object(l.b)(e)}_getHideToggle(){return this.accordion?this.accordion.hideToggle:this.hideToggle}_hasSpacing(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}_getExpandedState(){return this.expanded?"expanded":"collapsed"}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}}_.decorators=[{type:r.j,args:[{styles:[".mat-expansion-panel{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);box-sizing:content-box;display:block;margin:0;transition:margin 225ms cubic-bezier(.4,0,.2,1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-expanded .mat-expansion-panel-content{overflow:visible}.mat-expansion-panel-content,.mat-expansion-panel-content.ng-animating{overflow:hidden}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion .mat-expansion-panel-spacing:first-child{margin-top:0}.mat-accordion .mat-expansion-panel-spacing:last-child{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button{margin-left:0;margin-right:8px}"],selector:"mat-expansion-panel",exportAs:"matExpansionPanel",template:'<ng-content select="mat-expansion-panel-header"></ng-content><div [class.mat-expanded]="expanded" class="mat-expansion-panel-content" [@bodyExpansion]="_getExpandedState()" [id]="id"><div class="mat-expansion-panel-body"><ng-content></ng-content></div><ng-content select="mat-action-row"></ng-content></div>',encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush,inputs:["disabled","expanded"],outputs:["opened","closed"],host:{class:"mat-expansion-panel","[class.mat-expanded]":"expanded","[class.mat-expansion-panel-spacing]":"_hasSpacing()"},providers:[{provide:b,useExisting:Object(r._3)(()=>_)}],animations:[Object(c.k)("bodyExpansion",[Object(c.h)("collapsed",Object(c.i)({height:"0px",visibility:"hidden"})),Object(c.h)("expanded",Object(c.i)({height:"*",visibility:"visible"})),Object(c.j)("expanded <=> collapsed",Object(c.e)(v))])]}]}],_.ctorParameters=(()=>[{type:g,decorators:[{type:r.G},{type:r.r}]},{type:r.h},{type:s.c}]),_.propDecorators={hideToggle:[{type:r.y}]};class x{}x.decorators=[{type:r.n,args:[{selector:"mat-action-row",host:{class:"mat-action-row"}}]}],x.ctorParameters=(()=>[]);class w{constructor(e,t,n,i){this.panel=e,this._element=t,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=f.a.EMPTY,this._parentChangeSubscription=Object(m.a)(e.opened,e.closed,e._inputChanges.pipe(Object(p.a)(e=>!(!e.hideToggle&&!e.disabled)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.monitor(t.nativeElement,!1)}_toggle(){this.panel.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keyup(e){switch(e.keyCode){case d.n:case d.f:e.preventDefault(),this._toggle();break;default:return}}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element.nativeElement)}}w.decorators=[{type:r.j,args:[{selector:"mat-expansion-panel-header",styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],template:'<span class="mat-content"><ng-content select="mat-panel-title"></ng-content><ng-content select="mat-panel-description"></ng-content><ng-content></ng-content></span><span [@indicatorRotate]="_getExpandedState()" *ngIf="_showToggle()" class="mat-expansion-indicator"></span>',encapsulation:r.Z.None,preserveWhitespaces:!1,changeDetection:r.g.OnPush,host:{class:"mat-expansion-panel-header",role:"button","[attr.tabindex]":"panel.disabled ? -1 : 0","[attr.aria-controls]":"_getPanelId()","[attr.aria-expanded]":"_isExpanded()","[attr.aria-disabled]":"panel.disabled","[class.mat-expanded]":"_isExpanded()","(click)":"_toggle()","(keyup)":"_keyup($event)","[@expansionHeight]":"{\n        value: _getExpandedState(),\n        params: {\n          collapsedHeight: collapsedHeight,\n          expandedHeight: expandedHeight\n        }\n    }"},animations:[Object(c.k)("indicatorRotate",[Object(c.h)("collapsed",Object(c.i)({transform:"rotate(0deg)"})),Object(c.h)("expanded",Object(c.i)({transform:"rotate(180deg)"})),Object(c.j)("expanded <=> collapsed",Object(c.e)(v))]),Object(c.k)("expansionHeight",[Object(c.h)("collapsed",Object(c.i)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(c.h)("expanded",Object(c.i)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(c.j)("expanded <=> collapsed",Object(c.e)(v))])]}]}],w.ctorParameters=(()=>[{type:_,decorators:[{type:r.r}]},{type:r.o},{type:a.h},{type:r.h}]),w.propDecorators={expandedHeight:[{type:r.y}],collapsedHeight:[{type:r.y}]};class E{}E.decorators=[{type:r.n,args:[{selector:"mat-panel-description",host:{class:"mat-expansion-panel-header-description"}}]}],E.ctorParameters=(()=>[]);class T{}T.decorators=[{type:r.n,args:[{selector:"mat-panel-title",host:{class:"mat-expansion-panel-header-title"}}]}],T.ctorParameters=(()=>[]);class S{}S.decorators=[{type:r.C,args:[{imports:[i.a,a.a,o.c],exports:[g,_,x,w,T,E],declarations:[y,g,_,x,w,T,E],providers:[s.b]}]}],S.ctorParameters=(()=>[])},wdH2:function(e,t,n){"use strict";n.d(t,"b",function(){return x}),n.d(t,"a",function(){return _});var i=n("3P+V"),r=n("ZDMg"),s=n("AdGS"),o=n("1GK5"),a=n("IMoF"),l=n("PXDV"),c=n("bVHt"),u=n("IEaL"),h=n("pnCZ"),d=n("0mJR");const p=30,m=7,f=7,g=10,v={provide:h.h,useExisting:Object(o._3)(()=>_),multi:!0};class y{}const b=Object(a.G)(Object(a.C)(Object(a.E)(class{constructor(e){this._elementRef=e}}),"accent"));class _ extends b{constructor(e,t,n,i,r){super(e),this._focusMonitor=t,this._changeDetectorRef=n,this._dir=i,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new o.q,this.input=new o.q,this.onTouched=(()=>{}),this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=(()=>{}),this._dirChangeSubscription=d.a.EMPTY,this.tabIndex=parseInt(r)||0}get invert(){return this._invert}set invert(e){this._invert=Object(c.b)(e)}get max(){return this._max}set max(e){this._max=Object(c.c)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=Object(c.c)(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=Object(c.c)(e,this._step),this._step%1!=0&&(this._roundLabelTo=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Object(c.b)(e)}get _thumbLabelDeprecated(){return this._thumbLabel}set _thumbLabelDeprecated(e){this._thumbLabel=e}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?Object(c.c)(e,this._tickInterval):0}get _tickIntervalDeprecated(){return this.tickInterval}set _tickIntervalDeprecated(e){this.tickInterval=e}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){e!==this._value&&(this._value=Object(c.c)(e,this._value||0),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck())}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(c.b)(e)}get displayValue(){return this._roundLabelTo&&this.value&&this.value%1!=0?this.value.toFixed(this._roundLabelTo):this.value||0}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?m:this._isMinValue&&!this.thumbLabel?this._isActive?g:f:0}get _trackBackgroundStyles(){let e=this.vertical?"Y":"X";return{transform:`translate${e}(${this._invertMouseCoords?"-":""}${this._thumbGap}px) scale${e}(${1-this.percent})`}}get _trackFillStyles(){let e=this.vertical?"Y":"X";return{transform:`translate${e}(${this._invertMouseCoords?"":"-"}${this._thumbGap}px) scale${e}(${this.percent})`}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._direction?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let e=100*this._tickIntervalPercent,t={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._direction?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._direction?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){t[`padding${this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left"}`]=`${this._thumbGap}px`}return t}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._direction||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}get _invertMouseCoords(){return"rtl"!=this._direction||this.vertical?this._invertAxis:!this._invertAxis}get _direction(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef.nativeElement,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onClick(e){if(this.disabled)return;let t=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:e.clientX,y:e.clientY}),t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}_onSlide(e){if(this.disabled)return;this._isSliding||this._onSlideStart(null),e.preventDefault();let t=this.value;this._updateValueFromPosition({x:e.center.x,y:e.center.y}),t!=this.value&&this._emitInputEvent()}_onSlideStart(e){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,e&&(this._updateValueFromPosition({x:e.center.x,y:e.center.y}),e.preventDefault()))}_onSlideEnd(){this._isSliding=!1,this._valueOnSlideStart!=this.value&&this._emitChangeEvent(),this._valueOnSlideStart=null}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled)return;let t=this.value;switch(e.keyCode){case u.l:this._increment(10);break;case u.k:this._increment(-10);break;case u.e:this.value=this.max;break;case u.h:this.value=this.min;break;case u.i:this._increment("rtl"==this._direction?1:-1);break;case u.p:this._increment(1);break;case u.m:this._increment("rtl"==this._direction?-1:1);break;case u.d:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}_onKeyup(){this._isSliding=!1}_increment(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let t=this.vertical?this._sliderDimensions.top:this._sliderDimensions.left,n=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,i=this.vertical?e.y:e.x,r=this._clamp((i-t)/n);this._invertMouseCoords&&(r=1-r);let s=this._calculateValue(r),o=Math.round((s-this.min)/this.step)*this.step+this.min;this.value=this._clamp(o,this.min,this.max)}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=e*this.step/(this.max-this.min),n=Math.ceil(p/t)*this.step;this._tickIntervalPercent=n/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(e=this.value){let t=new y;return t.source=this,t.value=e,t}_calculatePercentage(e){return((e||0)-this.min)/(this.max-this.min)}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,t=0,n=1){return Math.max(t,Math.min(e,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(){this._elementRef.nativeElement.focus()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}_.decorators=[{type:o.j,args:[{selector:"mat-slider",exportAs:"matSlider",providers:[v],host:{"(focus)":"_onFocus()","(blur)":"_onBlur()","(click)":"_onClick($event)","(keydown)":"_onKeydown($event)","(keyup)":"_onKeyup()","(mouseenter)":"_onMouseenter()","(slide)":"_onSlide($event)","(slideend)":"_onSlideEnd()","(slidestart)":"_onSlideStart($event)",class:"mat-slider",role:"slider","[tabIndex]":"tabIndex","[attr.aria-disabled]":"disabled","[attr.aria-valuemax]":"max","[attr.aria-valuemin]":"min","[attr.aria-valuenow]":"value","[attr.aria-orientation]":'vertical ? "vertical" : "horizontal"',"[class.mat-slider-disabled]":"disabled","[class.mat-slider-has-ticks]":"tickInterval","[class.mat-slider-horizontal]":"!vertical","[class.mat-slider-axis-inverted]":"_invertAxis","[class.mat-slider-sliding]":"_isSliding","[class.mat-slider-thumb-label-showing]":"thumbLabel","[class.mat-slider-vertical]":"vertical","[class.mat-slider-min-value]":"_isMinValue","[class.mat-slider-hide-last-tick]":"disabled || _isMinValue && _thumbGap && _invertAxis"},template:'<div class="mat-slider-wrapper" #sliderWrapper><div class="mat-slider-track-wrapper"><div class="mat-slider-track-background" [ngStyle]="_trackBackgroundStyles"></div><div class="mat-slider-track-fill" [ngStyle]="_trackFillStyles"></div></div><div class="mat-slider-ticks-container" [ngStyle]="_ticksContainerStyles"><div class="mat-slider-ticks" [ngStyle]="_ticksStyles"></div></div><div class="mat-slider-thumb-container" [ngStyle]="_thumbContainerStyles"><div class="mat-slider-focus-ring"></div><div class="mat-slider-thumb"></div><div class="mat-slider-thumb-label"><span class="mat-slider-thumb-label-text">{{displayValue}}</span></div></div></div>',styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-keyboard-focused .mat-slider-focus-ring,.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}"],inputs:["disabled","color","tabIndex"],encapsulation:o.Z.None,preserveWhitespaces:!1,changeDetection:o.g.OnPush}]}],_.ctorParameters=(()=>[{type:o.o},{type:i.h},{type:o.h},{type:r.c,decorators:[{type:o.G}]},{type:void 0,decorators:[{type:o.f,args:["tabindex"]}]}]),_.propDecorators={invert:[{type:o.y}],max:[{type:o.y}],min:[{type:o.y}],step:[{type:o.y}],thumbLabel:[{type:o.y}],_thumbLabelDeprecated:[{type:o.y,args:["thumb-label"]}],tickInterval:[{type:o.y}],_tickIntervalDeprecated:[{type:o.y,args:["tick-interval"]}],value:[{type:o.y}],vertical:[{type:o.y}],change:[{type:o.H}],input:[{type:o.H}],_sliderWrapper:[{type:o.W,args:["sliderWrapper"]}]};class x{}x.decorators=[{type:o.C,args:[{imports:[s.a,a.n,r.a,i.a],exports:[_,a.n],declarations:[_],providers:[{provide:l.f,useClass:a.e}]}]}],x.ctorParameters=(()=>[])},wgF0:function(e,t,n){"use strict";t.a=function(e){return e instanceof Date&&!isNaN(+e)}},xEcM:function(e,t,n){"use strict";const i=n("2K0D").a.Symbol,r="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber";t.a=r},xGT6:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("1GK5"),r=function(){function e(){}return e.prototype.onDrop=function(e){this.node.mouseAction("drop",e.event,{from:e.element,to:{parent:this.node,index:this.dropIndex}})},e.prototype.allowDrop=function(e,t){return this.node.options.allowDrop(e,{parent:this.node,index:this.dropIndex},t)},e.decorators=[{type:i.j,args:[{selector:"TreeNodeDropSlot, tree-node-drop-slot",encapsulation:i.Z.None,styles:[],template:'\n    <div\n      class="node-drop-slot"\n      (treeDrop)="onDrop($event)"\n      [treeAllowDrop]="allowDrop.bind(this)">\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={node:[{type:i.y}],dropIndex:[{type:i.y}]},e}()},xIV4:function(e,t,n){"use strict";var i=n("Z6sF");n.d(t,"a",function(){return i.t})},xrDH:function(e,t,n){(function(e,i){var r;(function(){function s(e,t){return e.set(t[0],t[1]),e}function o(e,t){return e.add(t),e}function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function c(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function u(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function h(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function d(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function p(e,t){return!!(null==e?0:e.length)&&w(e,t,0)>-1}function m(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function f(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function g(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function v(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function y(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function b(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function _(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function x(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function w(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):x(e,T,n)}function E(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function T(e){return e!=e}function S(e,t){var n=null==e?0:e.length;return n?M(e,t)/n:xe}function k(e){return function(t){return null==t?H:t[e]}}function A(e){return function(t){return null==e?H:e[t]}}function C(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function M(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);s!==H&&(n=n===H?s:n+s)}return n}function R(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function L(e){return function(t){return e(t)}}function P(e,t){return f(t,function(t){return e[t]})}function O(e,t){return e.has(t)}function D(e,t){for(var n=-1,i=e.length;++n<i&&w(t,e[n],0)>-1;);return n}function F(e,t){for(var n=e.length;n--&&w(t,e[n],0)>-1;);return n}function I(e){return"\\"+_n[e]}function N(e){return mn.test(e)}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function j(e,t){return function(n){return e(t(n))}}function z(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n];o!==t&&o!==K||(e[n]=K,s[r++]=n)}return s}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function V(e){return N(e)?function(e){var t=dn.lastIndex=0;for(;dn.test(e);)++t;return t}(e):Nn(e)}function G(e){return N(e)?function(e){return e.match(dn)||[]}(e):function(e){return e.split("")}(e)}var H,W=200,$="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",q="Expected a function",X="__lodash_hash_undefined__",Y=500,K="__lodash_placeholder__",Z=1,J=2,Q=4,ee=1,te=2,ne=1,ie=2,re=4,se=8,oe=16,ae=32,le=64,ce=128,ue=256,he=512,de=30,pe="...",me=800,fe=16,ge=1,ve=2,ye=1/0,be=9007199254740991,_e=1.7976931348623157e308,xe=NaN,we=4294967295,Ee=we-1,Te=we>>>1,Se=[["ary",ce],["bind",ne],["bindKey",ie],["curry",se],["curryRight",oe],["flip",he],["partial",ae],["partialRight",le],["rearg",ue]],ke="[object Arguments]",Ae="[object Array]",Ce="[object AsyncFunction]",Me="[object Boolean]",Re="[object Date]",Le="[object DOMException]",Pe="[object Error]",Oe="[object Function]",De="[object GeneratorFunction]",Fe="[object Map]",Ie="[object Number]",Ne="[object Null]",Be="[object Object]",je="[object Proxy]",ze="[object RegExp]",Ue="[object Set]",Ve="[object String]",Ge="[object Symbol]",He="[object Undefined]",We="[object WeakMap]",$e="[object WeakSet]",qe="[object ArrayBuffer]",Xe="[object DataView]",Ye="[object Float32Array]",Ke="[object Float64Array]",Ze="[object Int8Array]",Je="[object Int16Array]",Qe="[object Int32Array]",et="[object Uint8Array]",tt="[object Uint8ClampedArray]",nt="[object Uint16Array]",it="[object Uint32Array]",rt=/\b__p \+= '';/g,st=/\b(__p \+=) '' \+/g,ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,at=/&(?:amp|lt|gt|quot|#39);/g,lt=/[&<>"']/g,ct=RegExp(at.source),ut=RegExp(lt.source),ht=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,gt=/^\./,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(yt.source),_t=/^\s+|\s+$/g,xt=/^\s+/,wt=/\s+$/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tt=/\{\n\/\* \[wrapped with (.+)\] \*/,St=/,? & /,kt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,At=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mt=/\w*$/,Rt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Pt=/^\[object .+?Constructor\]$/,Ot=/^0o[0-7]+$/i,Dt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,It=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,Bt="\\ud800-\\udfff",jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",zt="a-z\\xdf-\\xf6\\xf8-\\xff",Ut="A-Z\\xc0-\\xd6\\xd8-\\xde",Vt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gt="["+Bt+"]",Ht="["+Vt+"]",Wt="["+jt+"]",$t="\\d+",qt="[\\u2700-\\u27bf]",Xt="["+zt+"]",Yt="[^"+Bt+Vt+$t+"\\u2700-\\u27bf"+zt+Ut+"]",Kt="\\ud83c[\\udffb-\\udfff]",Zt="[^"+Bt+"]",Jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",en="["+Ut+"]",tn="(?:"+Xt+"|"+Yt+")",nn="(?:"+en+"|"+Yt+")",rn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",sn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",on="(?:"+Wt+"|"+Kt+")"+"?",an="[\\ufe0e\\ufe0f]?"+on+("(?:\\u200d(?:"+[Zt,Jt,Qt].join("|")+")[\\ufe0e\\ufe0f]?"+on+")*"),ln="(?:"+[qt,Jt,Qt].join("|")+")"+an,cn="(?:"+[Zt+Wt+"?",Wt,Jt,Qt,Gt].join("|")+")",un=RegExp("['\u2019]","g"),hn=RegExp(Wt,"g"),dn=RegExp(Kt+"(?="+Kt+")|"+cn+an,"g"),pn=RegExp([en+"?"+Xt+"+"+rn+"(?="+[Ht,en,"$"].join("|")+")",nn+"+"+sn+"(?="+[Ht,en+tn,"$"].join("|")+")",en+"?"+tn+"+"+rn,en+"+"+sn,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",$t,ln].join("|"),"g"),mn=RegExp("[\\u200d"+Bt+jt+"\\ufe0e\\ufe0f]"),fn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vn=-1,yn={};yn[Ye]=yn[Ke]=yn[Ze]=yn[Je]=yn[Qe]=yn[et]=yn[tt]=yn[nt]=yn[it]=!0,yn[ke]=yn[Ae]=yn[qe]=yn[Me]=yn[Xe]=yn[Re]=yn[Pe]=yn[Oe]=yn[Fe]=yn[Ie]=yn[Be]=yn[ze]=yn[Ue]=yn[Ve]=yn[We]=!1;var bn={};bn[ke]=bn[Ae]=bn[qe]=bn[Xe]=bn[Me]=bn[Re]=bn[Ye]=bn[Ke]=bn[Ze]=bn[Je]=bn[Qe]=bn[Fe]=bn[Ie]=bn[Be]=bn[ze]=bn[Ue]=bn[Ve]=bn[Ge]=bn[et]=bn[tt]=bn[nt]=bn[it]=!0,bn[Pe]=bn[Oe]=bn[We]=!1;var _n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xn=parseFloat,wn=parseInt,En="object"==typeof e&&e&&e.Object===Object&&e,Tn="object"==typeof self&&self&&self.Object===Object&&self,Sn=En||Tn||Function("return this")(),kn="object"==typeof t&&t&&!t.nodeType&&t,An=kn&&"object"==typeof i&&i&&!i.nodeType&&i,Cn=An&&An.exports===kn,Mn=Cn&&En.process,Rn=function(){try{return Mn&&Mn.binding&&Mn.binding("util")}catch(e){}}(),Ln=Rn&&Rn.isArrayBuffer,Pn=Rn&&Rn.isDate,On=Rn&&Rn.isMap,Dn=Rn&&Rn.isRegExp,Fn=Rn&&Rn.isSet,In=Rn&&Rn.isTypedArray,Nn=k("length"),Bn=A({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),jn=A({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),zn=A({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Un=function e(t){function n(e){if(ds(e)&&!nl(e)&&!(e instanceof A)){if(e instanceof r)return e;if(to.call(e,"__wrapped__"))return Fr(e)}return new r(e)}function i(){}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function A(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function Bt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ut(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zt;++t<n;)this.add(e[t])}function Vt(e){var t=this.__data__=new jt(e);this.size=t.size}function Gt(e,t){var n=nl(e),i=!n&&tl(e),r=!n&&!i&&rl(e),s=!n&&!i&&!r&&cl(e),o=n||i||r||s,a=o?R(e.length,Xs):[],l=a.length;for(var c in e)!t&&!to.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xr(c,l))||a.push(c);return a}function Ht(e){var t=e.length;return t?e[oi(0,t-1)]:H}function Wt(e,t){return Pr(Ni(e),en(t,0,e.length))}function $t(e){return Pr(Ni(e))}function qt(e,t,n){(n===H||rs(e[t],n))&&(n!==H||t in e)||Jt(e,t,n)}function Xt(e,t,n){var i=e[t];to.call(e,t)&&rs(i,n)&&(n!==H||t in e)||Jt(e,t,n)}function Yt(e,t){for(var n=e.length;n--;)if(rs(e[n][0],t))return n;return-1}function Kt(e,t,n,i){return ea(e,function(e,r,s){t(i,e,n(e),s)}),i}function Zt(e,t){return e&&Bi(t,ks(t),e)}function Jt(e,t,n){"__proto__"==t&&_o?_o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Qt(e,t){for(var n=-1,i=t.length,r=Us(i),s=null==e;++n<i;)r[n]=s?H:Ts(e,t[n]);return r}function en(e,t,n){return e==e&&(n!==H&&(e=e<=n?e:n),t!==H&&(e=e>=t?e:t)),e}function tn(e,t,n,i,r,a){var l,u=t&Z,h=t&J,d=t&Q;if(n&&(l=r?n(e,i,r,a):n(e)),l!==H)return l;if(!hs(e))return e;var p=nl(e);if(p){if(l=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&to.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Ni(e,l)}else{var m=da(e),f=m==Oe||m==De;if(rl(e))return Li(e,u);if(m==Be||m==ke||f&&!r){if(l=h||f?{}:br(e),!u)return h?function(e,t){return Bi(e,ha(e),t)}(e,function(e,t){return e&&Bi(t,As(t),e)}(l,e)):function(e,t){return Bi(e,ua(e),t)}(e,Zt(l,e))}else{if(!bn[m])return r?e:{};l=function(e,t,n,i){var r=e.constructor;switch(t){case qe:return Pi(e);case Me:case Re:return new r(+e);case Xe:return function(e,t){var n=t?Pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case Ye:case Ke:case Ze:case Je:case Qe:case et:case tt:case nt:case it:return Oi(e,i);case Fe:return function(e,t,n){return v(t?n(B(e),Z):B(e),s,new e.constructor)}(e,i,n);case Ie:case Ve:return new r(e);case ze:return function(e){var t=new e.constructor(e.source,Mt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Ue:return function(e,t,n){return v(t?n(U(e),Z):U(e),o,new e.constructor)}(e,i,n);case Ge:return function(e){return Zo?$s(Zo.call(e)):{}}(e)}}(e,m,tn,u)}}a||(a=new Vt);var g=a.get(e);if(g)return g;a.set(e,l);var y=p?H:(d?h?hr:ur:h?As:ks)(e);return c(y||e,function(i,r){y&&(i=e[r=i]),Xt(l,r,tn(i,t,n,r,e,a))}),l}function nn(e,t,n){var i=n.length;if(null==e)return!i;for(e=$s(e);i--;){var r=n[i],s=t[r],o=e[r];if(o===H&&!(r in e)||!s(o))return!1}return!0}function rn(e,t,n){if("function"!=typeof e)throw new Ys(q);return fa(function(){e.apply(H,n)},t)}function sn(e,t,n,i){var r=-1,s=p,o=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=f(t,L(n))),i?(s=m,o=!1):t.length>=W&&(s=O,o=!1,t=new Ut(t));e:for(;++r<a;){var u=e[r],h=null==n?u:n(u);if(u=i||0!==u?u:0,o&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else s(t,h,i)||l.push(u)}return l}function on(e,t){var n=!0;return ea(e,function(e,i,r){return n=!!t(e,i,r)}),n}function an(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],o=t(s);if(null!=o&&(a===H?o==o&&!gs(o):n(o,a)))var a=o,l=s}return l}function ln(e,t){var n=[];return ea(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function cn(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=_r),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?cn(a,t-1,n,i,r):g(r,a):i||(r[r.length]=a)}return r}function dn(e,t){return e&&na(e,t,ks)}function mn(e,t){return e&&ia(e,t,ks)}function _n(e,t){return d(t,function(t){return ls(e[t])})}function En(e,t){for(var n=0,i=(t=Mi(t,e)).length;null!=e&&n<i;)e=e[Or(t[n++])];return n&&n==i?e:H}function Tn(e,t,n){var i=t(e);return nl(e)?i:g(i,n(e))}function kn(e){return null==e?e===H?He:Ne:bo&&bo in $s(e)?function(e){var t=to.call(e,bo),n=e[bo];try{e[bo]=H;var i=!0}catch(e){}var r=ro.call(e);return i&&(t?e[bo]=n:delete e[bo]),r}(e):function(e){return ro.call(e)}(e)}function An(e,t){return e>t}function Mn(e,t){return null!=e&&to.call(e,t)}function Rn(e,t){return null!=e&&t in $s(e)}function Nn(e,t,n){for(var i=n?m:p,r=e[0].length,s=e.length,o=s,a=Us(s),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=f(u,L(t))),l=Po(u.length,l),a[o]=!n&&(t||r>=120&&u.length>=120)?new Ut(o&&u):H}u=e[0];var h=-1,d=a[0];e:for(;++h<r&&c.length<l;){var g=u[h],v=t?t(g):g;if(g=n||0!==g?g:0,!(d?O(d,v):i(c,v,n))){for(o=s;--o;){var y=a[o];if(!(y?O(y,v):i(e[o],v,n)))continue e}d&&d.push(v),c.push(g)}}return c}function Vn(e,t,n){var i=null==(e=Mr(e,t=Mi(t,e)))?e:e[Or(zr(t))];return null==i?H:a(i,e,n)}function Gn(e){return ds(e)&&kn(e)==ke}function Hn(e,t,n,i,r){return e===t||(null==e||null==t||!ds(e)&&!ds(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var o=nl(e),a=nl(t),l=o?Ae:da(e),c=a?Ae:da(t),u=(l=l==ke?Be:l)==Be,h=(c=c==ke?Be:c)==Be,d=l==c;if(d&&rl(e)){if(!rl(t))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new Vt),o||cl(e)?lr(e,t,n,i,r,s):function(e,t,n,i,r,s,o){switch(n){case Xe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qe:return!(e.byteLength!=t.byteLength||!s(new uo(e),new uo(t)));case Me:case Re:case Ie:return rs(+e,+t);case Pe:return e.name==t.name&&e.message==t.message;case ze:case Ve:return e==t+"";case Fe:var a=B;case Ue:var l=i&ee;if(a||(a=U),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=te,o.set(e,t);var u=lr(a(e),a(t),i,r,s,o);return o.delete(e),u;case Ge:if(Zo)return Zo.call(e)==Zo.call(t)}return!1}(e,t,l,n,i,r,s);if(!(n&ee)){var p=u&&to.call(e,"__wrapped__"),m=h&&to.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,g=m?t.value():t;return s||(s=new Vt),r(f,g,n,i,s)}}return!!d&&(s||(s=new Vt),function(e,t,n,i,r,s){var o=n&ee,a=ur(e),l=a.length,c=ur(t).length;if(l!=c&&!o)return!1;for(var u=l;u--;){var h=a[u];if(!(o?h in t:to.call(t,h)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=o;++u<l;){h=a[u];var f=e[h],g=t[h];if(i)var v=o?i(g,f,h,t,e,s):i(f,g,h,e,t,s);if(!(v===H?f===g||r(f,g,n,i,s):v)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,i,r,s))}(e,t,n,i,Hn,r))}function Wn(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=$s(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var l=(a=n[r])[0],c=e[l],u=a[1];if(o&&a[2]){if(c===H&&!(l in e))return!1}else{var h=new Vt;if(i)var d=i(c,u,l,e,t,h);if(!(d===H?Hn(u,c,ee|te,i,h):d))return!1}}return!0}function $n(e){return!(!hs(e)||function(e){return!!io&&io in e}(e))&&(ls(e)?ao:Pt).test(Dr(e))}function qn(e){return"function"==typeof e?e:null==e?Ds:"object"==typeof e?nl(e)?Qn(e[0],e[1]):Jn(e):Bs(e)}function Xn(e){if(!Sr(e))return Ro(e);var t=[];for(var n in $s(e))to.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Yn(e){if(!hs(e))return function(e){var t=[];if(null!=e)for(var n in $s(e))t.push(n);return t}(e);var t=Sr(e),n=[];for(var i in e)("constructor"!=i||!t&&to.call(e,i))&&n.push(i);return n}function Kn(e,t){return e<t}function Zn(e,t){var n=-1,i=ss(e)?Us(e.length):[];return ea(e,function(e,r,s){i[++n]=t(e,r,s)}),i}function Jn(e){var t=gr(e);return 1==t.length&&t[0][2]?Ar(t[0][0],t[0][1]):function(n){return n===e||Wn(n,e,t)}}function Qn(e,t){return Er(e)&&kr(t)?Ar(Or(e),t):function(n){var i=Ts(n,e);return i===H&&i===t?Ss(n,e):Hn(t,i,ee|te)}}function ei(e,t,n,i,r){e!==t&&na(t,function(s,o){if(hs(s))r||(r=new Vt),function(e,t,n,i,r,s,o){var a=e[n],l=t[n],c=o.get(l);if(c)qt(e,n,c);else{var u=s?s(a,l,n+"",e,t,o):H,h=u===H;if(h){var d=nl(l),p=!d&&rl(l),m=!d&&!p&&cl(l);u=l,d||p||m?nl(a)?u=a:os(a)?u=Ni(a):p?(h=!1,u=Li(l,!0)):m?(h=!1,u=Oi(l,!0)):u=[]:ms(l)||tl(l)?(u=a,tl(a)?u=ws(a):(!hs(a)||i&&ls(a))&&(u=br(l))):h=!1}h&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),qt(e,n,u)}}(e,t,o,n,ei,i,r);else{var a=i?i(e[o],s,o+"",e,t,r):H;a===H&&(a=s),qt(e,o,a)}},As)}function ti(e,t){var n=e.length;if(n)return t+=t<0?n:0,xr(t,n)?e[t]:H}function ni(e,t,n){var i=-1;return t=f(t.length?t:[Ds],L(mr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Zn(e,function(e,n,r){return{criteria:f(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;++i<o;){var l=Di(r[i],s[i]);if(l){if(i>=a)return l;var c=n[i];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function ii(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=En(e,o);n(a,o)&&hi(s,Mi(o,e),a)}return s}function ri(e,t,n,i){var r=i?E:w,s=-1,o=t.length,a=e;for(e===t&&(t=Ni(t)),n&&(a=f(e,L(n)));++s<o;)for(var l=0,c=t[s],u=n?n(c):c;(l=r(a,u,l,i))>-1;)a!==e&&go.call(a,l,1),go.call(e,l,1);return e}function si(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;xr(r)?go.call(e,r,1):xi(e,r)}}return e}function oi(e,t){return e+So(Fo()*(t-e+1))}function ai(e,t){var n="";if(!e||t<1||t>be)return n;do{t%2&&(n+=e),(t=So(t/2))&&(e+=e)}while(t);return n}function li(e,t){return ga(Cr(e,t,Ds),e+"")}function ci(e){return Ht(Ms(e))}function ui(e,t){var n=Ms(e);return Pr(n,en(t,0,n.length))}function hi(e,t,n,i){if(!hs(e))return e;for(var r=-1,s=(t=Mi(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var l=Or(t[r]),c=n;if(r!=o){var u=a[l];(c=i?i(u,l,a):H)===H&&(c=hs(u)?u:xr(t[r+1])?[]:{})}Xt(a,l,c),a=a[l]}return e}function di(e){return Pr(Ms(e))}function pi(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Us(r);++i<r;)s[i]=e[i+t];return s}function mi(e,t){var n;return ea(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function fi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=Te){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!gs(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return gi(e,t,Ds,n)}function gi(e,t,n,i){t=n(t);for(var r=0,s=null==e?0:e.length,o=t!=t,a=null===t,l=gs(t),c=t===H;r<s;){var u=So((r+s)/2),h=n(e[u]),d=h!==H,p=null===h,m=h==h,f=gs(h);if(o)var g=i||m;else g=c?m&&(i||d):a?m&&d&&(i||!p):l?m&&d&&!p&&(i||!f):!p&&!f&&(i?h<=t:h<t);g?r=u+1:s=u}return Po(s,Ee)}function vi(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!rs(a,l)){var l=a;s[r++]=0===o?0:o}}return s}function yi(e){return"number"==typeof e?e:gs(e)?xe:+e}function bi(e){if("string"==typeof e)return e;if(nl(e))return f(e,bi)+"";if(gs(e))return Jo?Jo.call(e):"";var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function _i(e,t,n){var i=-1,r=p,s=e.length,o=!0,a=[],l=a;if(n)o=!1,r=m;else if(s>=W){var c=t?null:la(e);if(c)return U(c);o=!1,r=O,l=new Ut}else l=t?[]:a;e:for(;++i<s;){var u=e[i],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else r(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function xi(e,t){return t=Mi(t,e),null==(e=Mr(e,t))||delete e[Or(zr(t))]}function wi(e,t,n,i){return hi(e,t,n(En(e,t)),i)}function Ei(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?pi(e,i?0:s,i?s+1:r):pi(e,i?s+1:0,i?r:s)}function Ti(e,t){var n=e;return n instanceof A&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function Si(e,t,n){var i=e.length;if(i<2)return i?_i(e[0]):[];for(var r=-1,s=Us(i);++r<i;)for(var o=e[r],a=-1;++a<i;)a!=r&&(s[r]=sn(s[r]||o,e[a],t,n));return _i(cn(s,1),t,n)}function ki(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:H;n(o,e[i],a)}return o}function Ai(e){return os(e)?e:[]}function Ci(e){return"function"==typeof e?e:Ds}function Mi(e,t){return nl(e)?e:Er(e,t)?[e]:va(Es(e))}function Ri(e,t,n){var i=e.length;return n=n===H?i:n,!t&&n>=i?e:pi(e,t,n)}function Li(e,t){if(t)return e.slice();var n=e.length,i=ho?ho(n):new e.constructor(n);return e.copy(i),i}function Pi(e){var t=new e.constructor(e.byteLength);return new uo(t).set(new uo(e)),t}function Oi(e,t){var n=t?Pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Di(e,t){if(e!==t){var n=e!==H,i=null===e,r=e==e,s=gs(e),o=t!==H,a=null===t,l=t==t,c=gs(t);if(!a&&!c&&!s&&e>t||s&&o&&l&&!a&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!s&&!c&&e<t||c&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!l)return-1}return 0}function Fi(e,t,n,i){for(var r=-1,s=e.length,o=n.length,a=-1,l=t.length,c=Lo(s-o,0),u=Us(l+c),h=!i;++a<l;)u[a]=t[a];for(;++r<o;)(h||r<s)&&(u[n[r]]=e[r]);for(;c--;)u[a++]=e[r++];return u}function Ii(e,t,n,i){for(var r=-1,s=e.length,o=-1,a=n.length,l=-1,c=t.length,u=Lo(s-a,0),h=Us(u+c),d=!i;++r<u;)h[r]=e[r];for(var p=r;++l<c;)h[p+l]=t[l];for(;++o<a;)(d||r<s)&&(h[p+n[o]]=e[r++]);return h}function Ni(e,t){var n=-1,i=e.length;for(t||(t=Us(i));++n<i;)t[n]=e[n];return t}function Bi(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i?i(n[a],e[a],a,n,e):H;l===H&&(l=e[a]),r?Jt(n,a,l):Xt(n,a,l)}return n}function ji(e,t){return function(n,i){var r=nl(n)?l:Kt,s=t?t():{};return r(n,e,mr(i,2),s)}}function zi(e){return li(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:H,o=r>2?n[2]:H;for(s=e.length>3&&"function"==typeof s?(r--,s):H,o&&wr(n[0],n[1],o)&&(s=r<3?H:s,r=1),t=$s(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t})}function Ui(e,t){return function(n,i){if(null==n)return n;if(!ss(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=$s(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Vi(e){return function(t,n,i){for(var r=-1,s=$s(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}}function Gi(e){return function(t){var n=N(t=Es(t))?G(t):H,i=n?n[0]:t.charAt(0),r=n?Ri(n,1).join(""):t.slice(1);return i[e]()+r}}function Hi(e){return function(t){return v(Ps(Ls(t).replace(un,"")),e,"")}}function Wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qo(e.prototype),i=e.apply(n,t);return hs(i)?i:n}}function $i(e){return function(t,n,i){var r=$s(t);if(!ss(t)){var s=mr(n,3);t=ks(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:H}}function qi(e){return cr(function(t){var n=t.length,i=n,s=r.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new Ys(q);if(s&&!a&&"wrapper"==dr(o))var a=new r([],!0)}for(i=a?i:n;++i<n;){var l=dr(o=t[i]),c="wrapper"==l?ca(o):H;a=c&&Tr(c[0])&&c[1]==(ce|se|ae|ue)&&!c[4].length&&1==c[9]?a[dr(c[0])].apply(a,c[3]):1==o.length&&Tr(o)?a[l]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&nl(i))return a.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}})}function Xi(e,t,n,i,r,s,o,a,l,c){function u(){for(var v=arguments.length,y=Us(v),b=v;b--;)y[b]=arguments[b];if(m)var _=pr(u),x=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(y,_);if(i&&(y=Fi(y,i,r,m)),s&&(y=Ii(y,s,o,m)),v-=x,m&&v<c){var w=z(y,_);return tr(e,t,Xi,u.placeholder,n,y,w,a,l,c-v)}var E=d?n:this,T=p?E[e]:e;return v=y.length,a?y=function(e,t){for(var n=e.length,i=Po(t.length,n),r=Ni(e);i--;){var s=t[i];e[i]=xr(s,n)?r[s]:H}return e}(y,a):f&&v>1&&y.reverse(),h&&l<v&&(y.length=l),this&&this!==Sn&&this instanceof u&&(T=g||Wi(T)),T.apply(E,y)}var h=t&ce,d=t&ne,p=t&ie,m=t&(se|oe),f=t&he,g=p?H:Wi(e);return u}function Yi(e,t){return function(n,i){return function(e,t,n,i){return dn(e,function(e,r,s){t(i,n(e),r,s)}),i}(n,e,t(i),{})}}function Ki(e,t){return function(n,i){var r;if(n===H&&i===H)return t;if(n!==H&&(r=n),i!==H){if(r===H)return i;"string"==typeof n||"string"==typeof i?(n=bi(n),i=bi(i)):(n=yi(n),i=yi(i)),r=e(n,i)}return r}}function Zi(e){return cr(function(t){return t=f(t,L(mr())),li(function(n){var i=this;return e(t,function(e){return a(e,i,n)})})})}function Ji(e,t){var n=(t=t===H?" ":bi(t)).length;if(n<2)return n?ai(t,e):t;var i=ai(t,To(e/V(t)));return N(t)?Ri(G(i),0,e).join(""):i.slice(0,e)}function Qi(e){return function(t,n,i){return i&&"number"!=typeof i&&wr(t,n,i)&&(n=i=H),t=ys(t),n===H?(n=t,t=0):n=ys(n),i=i===H?t<n?1:-1:ys(i),function(e,t,n,i){for(var r=-1,s=Lo(To((t-e)/(n||1)),0),o=Us(s);s--;)o[i?s:++r]=e,e+=n;return o}(t,n,i,e)}}function er(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=xs(t),n=xs(n)),e(t,n)}}function tr(e,t,n,i,r,s,o,a,l,c){var u=t&se;t|=u?ae:le,(t&=~(u?le:ae))&re||(t&=~(ne|ie));var h=[e,t,r,u?s:H,u?o:H,u?H:s,u?H:o,a,l,c],d=n.apply(H,h);return Tr(e)&&ma(d,h),d.placeholder=i,Rr(d,e,t)}function nr(e){var t=Ws[e];return function(e,n){if(e=xs(e),n=null==n?0:Po(bs(n),292)){var i=(Es(e)+"e").split("e");return+((i=(Es(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}function ir(e){return function(t){var n=da(t);return n==Fe?B(t):n==Ue?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return f(t,function(t){return[t,e[t]]})}(t,e(t))}}function rr(e,t,n,i,r,s,o,l){var c=t&ie;if(!c&&"function"!=typeof e)throw new Ys(q);var u=i?i.length:0;if(u||(t&=~(ae|le),i=r=H),o=o===H?o:Lo(bs(o),0),l=l===H?l:bs(l),u-=r?r.length:0,t&le){var h=i,d=r;i=r=H}var p=c?H:ca(e),m=[e,t,n,i,r,h,d,s,o,l];if(p&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<(ne|ie|ce),o=i==ce&&n==se||i==ce&&n==ue&&e[7].length<=t[8]||i==(ce|ue)&&t[7].length<=t[8]&&n==se;if(!s&&!o)return e;i&ne&&(e[2]=t[2],r|=n&ne?0:re);var a=t[3];if(a){var l=e[3];e[3]=l?Fi(l,a,t[4]):a,e[4]=l?z(e[3],K):t[4]}(a=t[5])&&(l=e[5],e[5]=l?Ii(l,a,t[6]):a,e[6]=l?z(e[5],K):t[6]),(a=t[7])&&(e[7]=a),i&ce&&(e[8]=null==e[8]?t[8]:Po(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(m,p),e=m[0],t=m[1],n=m[2],i=m[3],r=m[4],!(l=m[9]=m[9]===H?c?0:e.length:Lo(m[9]-u,0))&&t&(se|oe)&&(t&=~(se|oe)),t&&t!=ne)f=t==se||t==oe?function(e,t,n){function i(){for(var s=arguments.length,o=Us(s),l=s,c=pr(i);l--;)o[l]=arguments[l];var u=s<3&&o[0]!==c&&o[s-1]!==c?[]:z(o,c);return(s-=u.length)<n?tr(e,t,Xi,i.placeholder,H,o,u,H,H,n-s):a(this&&this!==Sn&&this instanceof i?r:e,this,o)}var r=Wi(e);return i}(e,t,l):t!=ae&&t!=(ne|ae)||r.length?Xi.apply(H,m):function(e,t,n,i){function r(){for(var t=-1,l=arguments.length,c=-1,u=i.length,h=Us(u+l),d=this&&this!==Sn&&this instanceof r?o:e;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++t];return a(d,s?n:this,h)}var s=t&ne,o=Wi(e);return r}(e,t,n,i);else var f=function(e,t,n){function i(){return(this&&this!==Sn&&this instanceof i?s:e).apply(r?n:this,arguments)}var r=t&ne,s=Wi(e);return i}(e,t,n);return Rr((p?ra:ma)(f,m),e,t)}function sr(e,t,n,i){return e===H||rs(e,Js[n])&&!to.call(i,n)?t:e}function or(e,t,n,i,r,s){return hs(e)&&hs(t)&&(s.set(t,e),ei(e,t,H,or,s),s.delete(t)),e}function ar(e){return ms(e)?H:e}function lr(e,t,n,i,r,s){var o=n&ee,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var u=-1,h=!0,d=n&te?new Ut:H;for(s.set(e,t),s.set(t,e);++u<a;){var p=e[u],m=t[u];if(i)var f=o?i(m,p,u,t,e,s):i(p,m,u,e,t,s);if(f!==H){if(f)continue;h=!1;break}if(d){if(!b(t,function(e,t){if(!O(d,t)&&(p===e||r(p,e,n,i,s)))return d.push(t)})){h=!1;break}}else if(p!==m&&!r(p,m,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function cr(e){return ga(Cr(e,H,Br),e+"")}function ur(e){return Tn(e,ks,ua)}function hr(e){return Tn(e,As,ha)}function dr(e){for(var t=e.name+"",n=Ho[t],i=to.call(Ho,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function pr(e){return(to.call(n,"placeholder")?n:e).placeholder}function mr(){var e=n.iteratee||Fs;return e=e===Fs?qn:e,arguments.length?e(arguments[0],arguments[1]):e}function fr(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function gr(e){for(var t=ks(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,kr(r)]}return t}function vr(e,t){var n=function(e,t){return null==e?H:e[t]}(e,t);return $n(n)?n:H}function yr(e,t,n){for(var i=-1,r=(t=Mi(t,e)).length,s=!1;++i<r;){var o=Or(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&us(r)&&xr(o,r)&&(nl(e)||tl(e))}function br(e){return"function"!=typeof e.constructor||Sr(e)?{}:Qo(po(e))}function _r(e){return nl(e)||tl(e)||!!(vo&&e&&e[vo])}function xr(e,t){return!!(t=null==t?be:t)&&("number"==typeof e||Dt.test(e))&&e>-1&&e%1==0&&e<t}function wr(e,t,n){if(!hs(n))return!1;var i=typeof t;return!!("number"==i?ss(n)&&xr(t,n.length):"string"==i&&t in n)&&rs(n[t],e)}function Er(e,t){if(nl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gs(e))||ft.test(e)||!mt.test(e)||null!=t&&e in $s(t)}function Tr(e){var t=dr(e),i=n[t];if("function"!=typeof i||!(t in A.prototype))return!1;if(e===i)return!0;var r=ca(i);return!!r&&e===r[0]}function Sr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Js)}function kr(e){return e==e&&!hs(e)}function Ar(e,t){return function(n){return null!=n&&n[e]===t&&(t!==H||e in $s(n))}}function Cr(e,t,n){return t=Lo(t===H?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=Lo(i.length-t,0),o=Us(s);++r<s;)o[r]=i[t+r];r=-1;for(var l=Us(t+1);++r<t;)l[r]=i[r];return l[t]=n(o),a(e,this,l)}}function Mr(e,t){return t.length<2?e:En(e,pi(t,0,-1))}function Rr(e,t,n){var i=t+"";return ga(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Et,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return c(Se,function(n){var i="_."+n[0];t&n[1]&&!p(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(Tt);return t?t[1].split(St):[]}(i),n)))}function Lr(e){var t=0,n=0;return function(){var i=Oo(),r=fe-(i-n);if(n=i,r>0){if(++t>=me)return arguments[0]}else t=0;return e.apply(H,arguments)}}function Pr(e,t){var n=-1,i=e.length,r=i-1;for(t=t===H?i:t;++n<t;){var s=oi(n,r),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function Or(e){if("string"==typeof e||gs(e))return e;var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function Dr(e){if(null!=e){try{return eo.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fr(e){if(e instanceof A)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ir(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:bs(n);return r<0&&(r=Lo(i+r,0)),x(e,mr(t,3),r)}function Nr(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==H&&(r=bs(n),r=n<0?Lo(i+r,0):Po(r,i-1)),x(e,mr(t,3),r,!0)}function Br(e){return null!=e&&e.length?cn(e,1):[]}function jr(e){return e&&e.length?e[0]:H}function zr(e){var t=null==e?0:e.length;return t?e[t-1]:H}function Ur(e,t){return e&&e.length&&t&&t.length?ri(e,t):e}function Vr(e){return null==e?e:Io.call(e)}function Gr(e){if(!e||!e.length)return[];var t=0;return e=d(e,function(e){if(os(e))return t=Lo(e.length,t),!0}),R(t,function(t){return f(e,k(t))})}function Hr(e,t){if(!e||!e.length)return[];var n=Gr(e);return null==t?n:f(n,function(e){return a(t,H,e)})}function Wr(e){var t=n(e);return t.__chain__=!0,t}function $r(e,t){return t(e)}function qr(){return this}function Xr(e,t){return(nl(e)?c:ea)(e,mr(t,3))}function Yr(e,t){return(nl(e)?u:ta)(e,mr(t,3))}function Kr(e,t){return(nl(e)?f:Zn)(e,mr(t,3))}function Zr(e,t,n){return t=n?H:t,t=e&&null==t?e.length:t,rr(e,ce,H,H,H,H,t)}function Jr(e,t){var n;if("function"!=typeof t)throw new Ys(q);return e=bs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=H),n}}function Qr(e,t,n){var i=rr(e,se,H,H,H,H,H,t=n?H:t);return i.placeholder=Qr.placeholder,i}function es(e,t,n){var i=rr(e,oe,H,H,H,H,H,t=n?H:t);return i.placeholder=es.placeholder,i}function ts(e,t,n){function i(t){var n=l,i=c;return l=c=H,m=t,h=e.apply(i,n)}function r(e){var n=e-p;return p===H||n>=t||n<0||g&&e-m>=u}function s(){var e=Ha();if(r(e))return o(e);d=fa(s,function(e){var n=t-(e-p);return g?Po(n,u-(e-m)):n}(e))}function o(e){return d=H,v&&l?i(e):(l=c=H,h)}function a(){var e=Ha(),n=r(e);if(l=arguments,c=this,p=e,n){if(d===H)return function(e){return m=e,d=fa(s,t),f?i(e):h}(p);if(g)return d=fa(s,t),i(p)}return d===H&&(d=fa(s,t)),h}var l,c,u,h,d,p,m=0,f=!1,g=!1,v=!0;if("function"!=typeof e)throw new Ys(q);return t=xs(t)||0,hs(n)&&(f=!!n.leading,u=(g="maxWait"in n)?Lo(xs(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),a.cancel=function(){d!==H&&aa(d),m=0,l=p=c=d=H},a.flush=function(){return d===H?h:o(Ha())},a}function ns(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ys(q);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(ns.Cache||zt),n}function is(e){if("function"!=typeof e)throw new Ys(q);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function rs(e,t){return e===t||e!=e&&t!=t}function ss(e){return null!=e&&us(e.length)&&!ls(e)}function os(e){return ds(e)&&ss(e)}function as(e){if(!ds(e))return!1;var t=kn(e);return t==Pe||t==Le||"string"==typeof e.message&&"string"==typeof e.name&&!ms(e)}function ls(e){if(!hs(e))return!1;var t=kn(e);return t==Oe||t==De||t==Ce||t==je}function cs(e){return"number"==typeof e&&e==bs(e)}function us(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=be}function hs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ds(e){return null!=e&&"object"==typeof e}function ps(e){return"number"==typeof e||ds(e)&&kn(e)==Ie}function ms(e){if(!ds(e)||kn(e)!=Be)return!1;var t=po(e);if(null===t)return!0;var n=to.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eo.call(n)==so}function fs(e){return"string"==typeof e||!nl(e)&&ds(e)&&kn(e)==Ve}function gs(e){return"symbol"==typeof e||ds(e)&&kn(e)==Ge}function vs(e){if(!e)return[];if(ss(e))return fs(e)?G(e):Ni(e);if(yo&&e[yo])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[yo]());var t=da(e);return(t==Fe?B:t==Ue?U:Ms)(e)}function ys(e){return e?(e=xs(e))===ye||e===-ye?(e<0?-1:1)*_e:e==e?e:0:0===e?e:0}function bs(e){var t=ys(e),n=t%1;return t==t?n?t-n:t:0}function _s(e){return e?en(bs(e),0,we):0}function xs(e){if("number"==typeof e)return e;if(gs(e))return xe;if(hs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=hs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(_t,"");var n=Lt.test(e);return n||Ot.test(e)?wn(e.slice(2),n?2:8):Rt.test(e)?xe:+e}function ws(e){return Bi(e,As(e))}function Es(e){return null==e?"":bi(e)}function Ts(e,t,n){var i=null==e?H:En(e,t);return i===H?n:i}function Ss(e,t){return null!=e&&yr(e,t,Rn)}function ks(e){return ss(e)?Gt(e):Xn(e)}function As(e){return ss(e)?Gt(e,!0):Yn(e)}function Cs(e,t){if(null==e)return{};var n=f(hr(e),function(e){return[e]});return t=mr(t),ii(e,n,function(e,n){return t(e,n[0])})}function Ms(e){return null==e?[]:P(e,ks(e))}function Rs(e){return Fl(Es(e).toLowerCase())}function Ls(e){return(e=Es(e))&&e.replace(Ft,Bn).replace(hn,"")}function Ps(e,t,n){return e=Es(e),(t=n?H:t)===H?function(e){return fn.test(e)}(e)?function(e){return e.match(pn)||[]}(e):function(e){return e.match(kt)||[]}(e):e.match(t)||[]}function Os(e){return function(){return e}}function Ds(e){return e}function Fs(e){return qn("function"==typeof e?e:tn(e,Z))}function Is(e,t,n){var i=ks(t),r=_n(t,i);null!=n||hs(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=_n(t,ks(t)));var s=!(hs(n)&&"chain"in n&&!n.chain),o=ls(e);return c(r,function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Ni(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,g([this.value()],arguments))})}),e}function Ns(){}function Bs(e){return Er(e)?k(Or(e)):function(e){return function(t){return En(t,e)}}(e)}function js(){return[]}function zs(){return!1}var Us=(t=null==t?Sn:Un.defaults(Sn.Object(),t,Un.pick(Sn,gn))).Array,Vs=t.Date,Gs=t.Error,Hs=t.Function,Ws=t.Math,$s=t.Object,qs=t.RegExp,Xs=t.String,Ys=t.TypeError,Ks=Us.prototype,Zs=Hs.prototype,Js=$s.prototype,Qs=t["__core-js_shared__"],eo=Zs.toString,to=Js.hasOwnProperty,no=0,io=function(){var e=/[^.]+$/.exec(Qs&&Qs.keys&&Qs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ro=Js.toString,so=eo.call($s),oo=Sn._,ao=qs("^"+eo.call(to).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lo=Cn?t.Buffer:H,co=t.Symbol,uo=t.Uint8Array,ho=lo?lo.allocUnsafe:H,po=j($s.getPrototypeOf,$s),mo=$s.create,fo=Js.propertyIsEnumerable,go=Ks.splice,vo=co?co.isConcatSpreadable:H,yo=co?co.iterator:H,bo=co?co.toStringTag:H,_o=function(){try{var e=vr($s,"defineProperty");return e({},"",{}),e}catch(e){}}(),xo=t.clearTimeout!==Sn.clearTimeout&&t.clearTimeout,wo=Vs&&Vs.now!==Sn.Date.now&&Vs.now,Eo=t.setTimeout!==Sn.setTimeout&&t.setTimeout,To=Ws.ceil,So=Ws.floor,ko=$s.getOwnPropertySymbols,Ao=lo?lo.isBuffer:H,Co=t.isFinite,Mo=Ks.join,Ro=j($s.keys,$s),Lo=Ws.max,Po=Ws.min,Oo=Vs.now,Do=t.parseInt,Fo=Ws.random,Io=Ks.reverse,No=vr(t,"DataView"),Bo=vr(t,"Map"),jo=vr(t,"Promise"),zo=vr(t,"Set"),Uo=vr(t,"WeakMap"),Vo=vr($s,"create"),Go=Uo&&new Uo,Ho={},Wo=Dr(No),$o=Dr(Bo),qo=Dr(jo),Xo=Dr(zo),Yo=Dr(Uo),Ko=co?co.prototype:H,Zo=Ko?Ko.valueOf:H,Jo=Ko?Ko.toString:H,Qo=function(){function e(){}return function(t){if(!hs(t))return{};if(mo)return mo(t);e.prototype=t;var n=new e;return e.prototype=H,n}}();n.templateSettings={escape:ht,evaluate:dt,interpolate:pt,variable:"",imports:{_:n}},(n.prototype=i.prototype).constructor=n,(r.prototype=Qo(i.prototype)).constructor=r,(A.prototype=Qo(i.prototype)).constructor=A,Bt.prototype.clear=function(){this.__data__=Vo?Vo(null):{},this.size=0},Bt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bt.prototype.get=function(e){var t=this.__data__;if(Vo){var n=t[e];return n===X?H:n}return to.call(t,e)?t[e]:H},Bt.prototype.has=function(e){var t=this.__data__;return Vo?t[e]!==H:to.call(t,e)},Bt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vo&&t===H?X:t,this},jt.prototype.clear=function(){this.__data__=[],this.size=0},jt.prototype.delete=function(e){var t=this.__data__,n=Yt(t,e);return!(n<0||(n==t.length-1?t.pop():go.call(t,n,1),--this.size,0))},jt.prototype.get=function(e){var t=this.__data__,n=Yt(t,e);return n<0?H:t[n][1]},jt.prototype.has=function(e){return Yt(this.__data__,e)>-1},jt.prototype.set=function(e,t){var n=this.__data__,i=Yt(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},zt.prototype.clear=function(){this.size=0,this.__data__={hash:new Bt,map:new(Bo||jt),string:new Bt}},zt.prototype.delete=function(e){var t=fr(this,e).delete(e);return this.size-=t?1:0,t},zt.prototype.get=function(e){return fr(this,e).get(e)},zt.prototype.has=function(e){return fr(this,e).has(e)},zt.prototype.set=function(e,t){var n=fr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Ut.prototype.add=Ut.prototype.push=function(e){return this.__data__.set(e,X),this},Ut.prototype.has=function(e){return this.__data__.has(e)},Vt.prototype.clear=function(){this.__data__=new jt,this.size=0},Vt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Vt.prototype.get=function(e){return this.__data__.get(e)},Vt.prototype.has=function(e){return this.__data__.has(e)},Vt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof jt){var i=n.__data__;if(!Bo||i.length<W-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new zt(i)}return n.set(e,t),this.size=n.size,this};var ea=Ui(dn),ta=Ui(mn,!0),na=Vi(),ia=Vi(!0),ra=Go?function(e,t){return Go.set(e,t),e}:Ds,sa=_o?function(e,t){return _o(e,"toString",{configurable:!0,enumerable:!1,value:Os(t),writable:!0})}:Ds,oa=li,aa=xo||function(e){return Sn.clearTimeout(e)},la=zo&&1/U(new zo([,-0]))[1]==ye?function(e){return new zo(e)}:Ns,ca=Go?function(e){return Go.get(e)}:Ns,ua=ko?function(e){return null==e?[]:(e=$s(e),d(ko(e),function(t){return fo.call(e,t)}))}:js,ha=ko?function(e){for(var t=[];e;)g(t,ua(e)),e=po(e);return t}:js,da=kn;(No&&da(new No(new ArrayBuffer(1)))!=Xe||Bo&&da(new Bo)!=Fe||jo&&"[object Promise]"!=da(jo.resolve())||zo&&da(new zo)!=Ue||Uo&&da(new Uo)!=We)&&(da=function(e){var t=kn(e),n=t==Be?e.constructor:H,i=n?Dr(n):"";if(i)switch(i){case Wo:return Xe;case $o:return Fe;case qo:return"[object Promise]";case Xo:return Ue;case Yo:return We}return t});var pa=Qs?ls:zs,ma=Lr(ra),fa=Eo||function(e,t){return Sn.setTimeout(e,t)},ga=Lr(sa),va=function(e){var t=ns(e,function(e){return n.size===Y&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return gt.test(e)&&t.push(""),e.replace(vt,function(e,n,i,r){t.push(i?r.replace(At,"$1"):n||e)}),t}),ya=li(function(e,t){return os(e)?sn(e,cn(t,1,os,!0)):[]}),ba=li(function(e,t){var n=zr(t);return os(n)&&(n=H),os(e)?sn(e,cn(t,1,os,!0),mr(n,2)):[]}),_a=li(function(e,t){var n=zr(t);return os(n)&&(n=H),os(e)?sn(e,cn(t,1,os,!0),H,n):[]}),xa=li(function(e){var t=f(e,Ai);return t.length&&t[0]===e[0]?Nn(t):[]}),wa=li(function(e){var t=zr(e),n=f(e,Ai);return t===zr(n)?t=H:n.pop(),n.length&&n[0]===e[0]?Nn(n,mr(t,2)):[]}),Ea=li(function(e){var t=zr(e),n=f(e,Ai);return(t="function"==typeof t?t:H)&&n.pop(),n.length&&n[0]===e[0]?Nn(n,H,t):[]}),Ta=li(Ur),Sa=cr(function(e,t){var n=null==e?0:e.length,i=Qt(e,t);return si(e,f(t,function(e){return xr(e,n)?+e:e}).sort(Di)),i}),ka=li(function(e){return _i(cn(e,1,os,!0))}),Aa=li(function(e){var t=zr(e);return os(t)&&(t=H),_i(cn(e,1,os,!0),mr(t,2))}),Ca=li(function(e){var t=zr(e);return t="function"==typeof t?t:H,_i(cn(e,1,os,!0),H,t)}),Ma=li(function(e,t){return os(e)?sn(e,t):[]}),Ra=li(function(e){return Si(d(e,os))}),La=li(function(e){var t=zr(e);return os(t)&&(t=H),Si(d(e,os),mr(t,2))}),Pa=li(function(e){var t=zr(e);return t="function"==typeof t?t:H,Si(d(e,os),H,t)}),Oa=li(Gr),Da=li(function(e){var t=e.length,n=t>1?e[t-1]:H;return n="function"==typeof n?(e.pop(),n):H,Hr(e,n)}),Fa=cr(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,s=function(t){return Qt(t,e)};return!(t>1||this.__actions__.length)&&i instanceof A&&xr(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:$r,args:[s],thisArg:H}),new r(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(H),e})):this.thru(s)}),Ia=ji(function(e,t,n){to.call(e,n)?++e[n]:Jt(e,n,1)}),Na=$i(Ir),Ba=$i(Nr),ja=ji(function(e,t,n){to.call(e,n)?e[n].push(t):Jt(e,n,[t])}),za=li(function(e,t,n){var i=-1,r="function"==typeof t,s=ss(e)?Us(e.length):[];return ea(e,function(e){s[++i]=r?a(t,e,n):Vn(e,t,n)}),s}),Ua=ji(function(e,t,n){Jt(e,n,t)}),Va=ji(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ga=li(function(e,t){if(null==e)return[];var n=t.length;return n>1&&wr(e,t[0],t[1])?t=[]:n>2&&wr(t[0],t[1],t[2])&&(t=[t[0]]),ni(e,cn(t,1),[])}),Ha=wo||function(){return Sn.Date.now()},Wa=li(function(e,t,n){var i=ne;if(n.length){var r=z(n,pr(Wa));i|=ae}return rr(e,i,t,n,r)}),$a=li(function(e,t,n){var i=ne|ie;if(n.length){var r=z(n,pr($a));i|=ae}return rr(t,i,e,n,r)}),qa=li(function(e,t){return rn(e,1,t)}),Xa=li(function(e,t,n){return rn(e,xs(t)||0,n)});ns.Cache=zt;var Ya=oa(function(e,t){var n=(t=1==t.length&&nl(t[0])?f(t[0],L(mr())):f(cn(t,1),L(mr()))).length;return li(function(i){for(var r=-1,s=Po(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return a(e,this,i)})}),Ka=li(function(e,t){var n=z(t,pr(Ka));return rr(e,ae,H,t,n)}),Za=li(function(e,t){var n=z(t,pr(Za));return rr(e,le,H,t,n)}),Ja=cr(function(e,t){return rr(e,ue,H,H,H,t)}),Qa=er(An),el=er(function(e,t){return e>=t}),tl=Gn(function(){return arguments}())?Gn:function(e){return ds(e)&&to.call(e,"callee")&&!fo.call(e,"callee")},nl=Us.isArray,il=Ln?L(Ln):function(e){return ds(e)&&kn(e)==qe},rl=Ao||zs,sl=Pn?L(Pn):function(e){return ds(e)&&kn(e)==Re},ol=On?L(On):function(e){return ds(e)&&da(e)==Fe},al=Dn?L(Dn):function(e){return ds(e)&&kn(e)==ze},ll=Fn?L(Fn):function(e){return ds(e)&&da(e)==Ue},cl=In?L(In):function(e){return ds(e)&&us(e.length)&&!!yn[kn(e)]},ul=er(Kn),hl=er(function(e,t){return e<=t}),dl=zi(function(e,t){if(Sr(t)||ss(t))Bi(t,ks(t),e);else for(var n in t)to.call(t,n)&&Xt(e,n,t[n])}),pl=zi(function(e,t){Bi(t,As(t),e)}),ml=zi(function(e,t,n,i){Bi(t,As(t),e,i)}),fl=zi(function(e,t,n,i){Bi(t,ks(t),e,i)}),gl=cr(Qt),vl=li(function(e){return e.push(H,sr),a(ml,H,e)}),yl=li(function(e){return e.push(H,or),a(El,H,e)}),bl=Yi(function(e,t,n){e[t]=n},Os(Ds)),_l=Yi(function(e,t,n){to.call(e,t)?e[t].push(n):e[t]=[n]},mr),xl=li(Vn),wl=zi(function(e,t,n){ei(e,t,n)}),El=zi(function(e,t,n,i){ei(e,t,n,i)}),Tl=cr(function(e,t){var n={};if(null==e)return n;var i=!1;t=f(t,function(t){return t=Mi(t,e),i||(i=t.length>1),t}),Bi(e,hr(e),n),i&&(n=tn(n,Z|J|Q,ar));for(var r=t.length;r--;)xi(n,t[r]);return n}),Sl=cr(function(e,t){return null==e?{}:function(e,t){return ii(e,t,function(t,n){return Ss(e,n)})}(e,t)}),kl=ir(ks),Al=ir(As),Cl=Hi(function(e,t,n){return t=t.toLowerCase(),e+(n?Rs(t):t)}),Ml=Hi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Rl=Hi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ll=Gi("toLowerCase"),Pl=Hi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ol=Hi(function(e,t,n){return e+(n?" ":"")+Fl(t)}),Dl=Hi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Fl=Gi("toUpperCase"),Il=li(function(e,t){try{return a(e,H,t)}catch(e){return as(e)?e:new Gs(e)}}),Nl=cr(function(e,t){return c(t,function(t){t=Or(t),Jt(e,t,Wa(e[t],e))}),e}),Bl=qi(),jl=qi(!0),zl=li(function(e,t){return function(n){return Vn(n,e,t)}}),Ul=li(function(e,t){return function(n){return Vn(e,n,t)}}),Vl=Zi(f),Gl=Zi(h),Hl=Zi(b),Wl=Qi(),$l=Qi(!0),ql=Ki(function(e,t){return e+t},0),Xl=nr("ceil"),Yl=Ki(function(e,t){return e/t},1),Kl=nr("floor"),Zl=Ki(function(e,t){return e*t},1),Jl=nr("round"),Ql=Ki(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new Ys(q);return e=bs(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Zr,n.assign=dl,n.assignIn=pl,n.assignInWith=ml,n.assignWith=fl,n.at=gl,n.before=Jr,n.bind=Wa,n.bindAll=Nl,n.bindKey=$a,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return nl(e)?e:[e]},n.chain=Wr,n.chunk=function(e,t,n){t=(n?wr(e,t,n):t===H)?1:Lo(bs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var r=0,s=0,o=Us(To(i/t));r<i;)o[s++]=pi(e,r,r+=t);return o},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Us(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return g(nl(n)?Ni(n):[n],cn(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=mr();return e=t?f(e,function(e){if("function"!=typeof e[1])throw new Ys(q);return[n(e[0]),e[1]]}):[],li(function(n){for(var i=-1;++i<t;){var r=e[i];if(a(r[0],this,n))return a(r[1],this,n)}})},n.conforms=function(e){return function(e){var t=ks(e);return function(n){return nn(n,e,t)}}(tn(e,Z))},n.constant=Os,n.countBy=Ia,n.create=function(e,t){var n=Qo(e);return null==t?n:Zt(n,t)},n.curry=Qr,n.curryRight=es,n.debounce=ts,n.defaults=vl,n.defaultsDeep=yl,n.defer=qa,n.delay=Xa,n.difference=ya,n.differenceBy=ba,n.differenceWith=_a,n.drop=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===H?1:bs(t),pi(e,t<0?0:t,i)):[]},n.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===H?1:bs(t),t=i-t,pi(e,0,t<0?0:t)):[]},n.dropRightWhile=function(e,t){return e&&e.length?Ei(e,mr(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Ei(e,mr(t,3),!0):[]},n.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wr(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=bs(n))<0&&(n=-n>r?0:r+n),(i=i===H||i>r?r:bs(i))<0&&(i+=r),i=n>i?0:_s(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},n.filter=function(e,t){return(nl(e)?d:ln)(e,mr(t,3))},n.flatMap=function(e,t){return cn(Kr(e,t),1)},n.flatMapDeep=function(e,t){return cn(Kr(e,t),ye)},n.flatMapDepth=function(e,t,n){return n=n===H?1:bs(n),cn(Kr(e,t),n)},n.flatten=Br,n.flattenDeep=function(e){return null!=e&&e.length?cn(e,ye):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?(t=t===H?1:bs(t),cn(e,t)):[]},n.flip=function(e){return rr(e,he)},n.flow=Bl,n.flowRight=jl,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},n.functions=function(e){return null==e?[]:_n(e,ks(e))},n.functionsIn=function(e){return null==e?[]:_n(e,As(e))},n.groupBy=ja,n.initial=function(e){return null!=e&&e.length?pi(e,0,-1):[]},n.intersection=xa,n.intersectionBy=wa,n.intersectionWith=Ea,n.invert=bl,n.invertBy=_l,n.invokeMap=za,n.iteratee=Fs,n.keyBy=Ua,n.keys=ks,n.keysIn=As,n.map=Kr,n.mapKeys=function(e,t){var n={};return t=mr(t,3),dn(e,function(e,i,r){Jt(n,t(e,i,r),e)}),n},n.mapValues=function(e,t){var n={};return t=mr(t,3),dn(e,function(e,i,r){Jt(n,i,t(e,i,r))}),n},n.matches=function(e){return Jn(tn(e,Z))},n.matchesProperty=function(e,t){return Qn(e,tn(t,Z))},n.memoize=ns,n.merge=wl,n.mergeWith=El,n.method=zl,n.methodOf=Ul,n.mixin=Is,n.negate=is,n.nthArg=function(e){return e=bs(e),li(function(t){return ti(t,e)})},n.omit=Tl,n.omitBy=function(e,t){return Cs(e,is(mr(t)))},n.once=function(e){return Jr(2,e)},n.orderBy=function(e,t,n,i){return null==e?[]:(nl(t)||(t=null==t?[]:[t]),n=i?H:n,nl(n)||(n=null==n?[]:[n]),ni(e,t,n))},n.over=Vl,n.overArgs=Ya,n.overEvery=Gl,n.overSome=Hl,n.partial=Ka,n.partialRight=Za,n.partition=Va,n.pick=Sl,n.pickBy=Cs,n.property=Bs,n.propertyOf=function(e){return function(t){return null==e?H:En(e,t)}},n.pull=Ta,n.pullAll=Ur,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ri(e,t,mr(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ri(e,t,H,n):e},n.pullAt=Sa,n.range=Wl,n.rangeRight=$l,n.rearg=Ja,n.reject=function(e,t){return(nl(e)?d:ln)(e,is(mr(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=mr(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return si(e,r),n},n.rest=function(e,t){if("function"!=typeof e)throw new Ys(q);return t=t===H?t:bs(t),li(e,t)},n.reverse=Vr,n.sampleSize=function(e,t,n){return t=(n?wr(e,t,n):t===H)?1:bs(t),(nl(e)?Wt:ui)(e,t)},n.set=function(e,t,n){return null==e?e:hi(e,t,n)},n.setWith=function(e,t,n,i){return i="function"==typeof i?i:H,null==e?e:hi(e,t,n,i)},n.shuffle=function(e){return(nl(e)?$t:di)(e)},n.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&wr(e,t,n)?(t=0,n=i):(t=null==t?0:bs(t),n=n===H?i:bs(n)),pi(e,t,n)):[]},n.sortBy=Ga,n.sortedUniq=function(e){return e&&e.length?vi(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?vi(e,mr(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&wr(e,t,n)&&(t=n=H),(n=n===H?we:n>>>0)?(e=Es(e))&&("string"==typeof t||null!=t&&!al(t))&&!(t=bi(t))&&N(e)?Ri(G(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Ys(q);return t=null==t?0:Lo(bs(t),0),li(function(n){var i=n[t],r=Ri(n,0,t);return i&&g(r,i),a(e,this,r)})},n.tail=function(e){var t=null==e?0:e.length;return t?pi(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?(t=n||t===H?1:bs(t),pi(e,0,t<0?0:t)):[]},n.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===H?1:bs(t),t=i-t,pi(e,t<0?0:t,i)):[]},n.takeRightWhile=function(e,t){return e&&e.length?Ei(e,mr(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Ei(e,mr(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Ys(q);return hs(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ts(e,t,{leading:i,maxWait:t,trailing:r})},n.thru=$r,n.toArray=vs,n.toPairs=kl,n.toPairsIn=Al,n.toPath=function(e){return nl(e)?f(e,Or):gs(e)?[e]:Ni(va(Es(e)))},n.toPlainObject=ws,n.transform=function(e,t,n){var i=nl(e),r=i||rl(e)||cl(e);if(t=mr(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:hs(e)&&ls(s)?Qo(po(e)):{}}return(r?c:dn)(e,function(e,i,r){return t(n,e,i,r)}),n},n.unary=function(e){return Zr(e,1)},n.union=ka,n.unionBy=Aa,n.unionWith=Ca,n.uniq=function(e){return e&&e.length?_i(e):[]},n.uniqBy=function(e,t){return e&&e.length?_i(e,mr(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:H,e&&e.length?_i(e,H,t):[]},n.unset=function(e,t){return null==e||xi(e,t)},n.unzip=Gr,n.unzipWith=Hr,n.update=function(e,t,n){return null==e?e:wi(e,t,Ci(n))},n.updateWith=function(e,t,n,i){return i="function"==typeof i?i:H,null==e?e:wi(e,t,Ci(n),i)},n.values=Ms,n.valuesIn=function(e){return null==e?[]:P(e,As(e))},n.without=Ma,n.words=Ps,n.wrap=function(e,t){return Ka(Ci(t),e)},n.xor=Ra,n.xorBy=La,n.xorWith=Pa,n.zip=Oa,n.zipObject=function(e,t){return ki(e||[],t||[],Xt)},n.zipObjectDeep=function(e,t){return ki(e||[],t||[],hi)},n.zipWith=Da,n.entries=kl,n.entriesIn=Al,n.extend=pl,n.extendWith=ml,Is(n,n),n.add=ql,n.attempt=Il,n.camelCase=Cl,n.capitalize=Rs,n.ceil=Xl,n.clamp=function(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=(n=xs(n))==n?n:0),t!==H&&(t=(t=xs(t))==t?t:0),en(xs(e),t,n)},n.clone=function(e){return tn(e,Q)},n.cloneDeep=function(e){return tn(e,Z|Q)},n.cloneDeepWith=function(e,t){return t="function"==typeof t?t:H,tn(e,Z|Q,t)},n.cloneWith=function(e,t){return t="function"==typeof t?t:H,tn(e,Q,t)},n.conformsTo=function(e,t){return null==t||nn(e,t,ks(t))},n.deburr=Ls,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=Yl,n.endsWith=function(e,t,n){e=Es(e),t=bi(t);var i=e.length,r=n=n===H?i:en(bs(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},n.eq=rs,n.escape=function(e){return(e=Es(e))&&ut.test(e)?e.replace(lt,jn):e},n.escapeRegExp=function(e){return(e=Es(e))&&bt.test(e)?e.replace(yt,"\\$&"):e},n.every=function(e,t,n){var i=nl(e)?h:on;return n&&wr(e,t,n)&&(t=H),i(e,mr(t,3))},n.find=Na,n.findIndex=Ir,n.findKey=function(e,t){return _(e,mr(t,3),dn)},n.findLast=Ba,n.findLastIndex=Nr,n.findLastKey=function(e,t){return _(e,mr(t,3),mn)},n.floor=Kl,n.forEach=Xr,n.forEachRight=Yr,n.forIn=function(e,t){return null==e?e:na(e,mr(t,3),As)},n.forInRight=function(e,t){return null==e?e:ia(e,mr(t,3),As)},n.forOwn=function(e,t){return e&&dn(e,mr(t,3))},n.forOwnRight=function(e,t){return e&&mn(e,mr(t,3))},n.get=Ts,n.gt=Qa,n.gte=el,n.has=function(e,t){return null!=e&&yr(e,t,Mn)},n.hasIn=Ss,n.head=jr,n.identity=Ds,n.includes=function(e,t,n,i){e=ss(e)?e:Ms(e),n=n&&!i?bs(n):0;var r=e.length;return n<0&&(n=Lo(r+n,0)),fs(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&w(e,t,n)>-1},n.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:bs(n);return r<0&&(r=Lo(i+r,0)),w(e,t,r)},n.inRange=function(e,t,n){return t=ys(t),n===H?(n=t,t=0):n=ys(n),e=xs(e),function(e,t,n){return e>=Po(t,n)&&e<Lo(t,n)}(e,t,n)},n.invoke=xl,n.isArguments=tl,n.isArray=nl,n.isArrayBuffer=il,n.isArrayLike=ss,n.isArrayLikeObject=os,n.isBoolean=function(e){return!0===e||!1===e||ds(e)&&kn(e)==Me},n.isBuffer=rl,n.isDate=sl,n.isElement=function(e){return ds(e)&&1===e.nodeType&&!ms(e)},n.isEmpty=function(e){if(null==e)return!0;if(ss(e)&&(nl(e)||"string"==typeof e||"function"==typeof e.splice||rl(e)||cl(e)||tl(e)))return!e.length;var t=da(e);if(t==Fe||t==Ue)return!e.size;if(Sr(e))return!Xn(e).length;for(var n in e)if(to.call(e,n))return!1;return!0},n.isEqual=function(e,t){return Hn(e,t)},n.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:H)?n(e,t):H;return i===H?Hn(e,t,H,n):!!i},n.isError=as,n.isFinite=function(e){return"number"==typeof e&&Co(e)},n.isFunction=ls,n.isInteger=cs,n.isLength=us,n.isMap=ol,n.isMatch=function(e,t){return e===t||Wn(e,t,gr(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:H,Wn(e,t,gr(t),n)},n.isNaN=function(e){return ps(e)&&e!=+e},n.isNative=function(e){if(pa(e))throw new Gs($);return $n(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=ps,n.isObject=hs,n.isObjectLike=ds,n.isPlainObject=ms,n.isRegExp=al,n.isSafeInteger=function(e){return cs(e)&&e>=-be&&e<=be},n.isSet=ll,n.isString=fs,n.isSymbol=gs,n.isTypedArray=cl,n.isUndefined=function(e){return e===H},n.isWeakMap=function(e){return ds(e)&&da(e)==We},n.isWeakSet=function(e){return ds(e)&&kn(e)==$e},n.join=function(e,t){return null==e?"":Mo.call(e,t)},n.kebabCase=Ml,n.last=zr,n.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==H&&(r=(r=bs(n))<0?Lo(i+r,0):Po(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):x(e,T,r,!0)},n.lowerCase=Rl,n.lowerFirst=Ll,n.lt=ul,n.lte=hl,n.max=function(e){return e&&e.length?an(e,Ds,An):H},n.maxBy=function(e,t){return e&&e.length?an(e,mr(t,2),An):H},n.mean=function(e){return S(e,Ds)},n.meanBy=function(e,t){return S(e,mr(t,2))},n.min=function(e){return e&&e.length?an(e,Ds,Kn):H},n.minBy=function(e,t){return e&&e.length?an(e,mr(t,2),Kn):H},n.stubArray=js,n.stubFalse=zs,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Zl,n.nth=function(e,t){return e&&e.length?ti(e,bs(t)):H},n.noConflict=function(){return Sn._===this&&(Sn._=oo),this},n.noop=Ns,n.now=Ha,n.pad=function(e,t,n){e=Es(e);var i=(t=bs(t))?V(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Ji(So(r),n)+e+Ji(To(r),n)},n.padEnd=function(e,t,n){e=Es(e);var i=(t=bs(t))?V(e):0;return t&&i<t?e+Ji(t-i,n):e},n.padStart=function(e,t,n){e=Es(e);var i=(t=bs(t))?V(e):0;return t&&i<t?Ji(t-i,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Do(Es(e).replace(xt,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wr(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=ys(e),t===H?(t=e,e=0):t=ys(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Fo();return Po(e+r*(t-e+xn("1e-"+((r+"").length-1))),t)}return oi(e,t)},n.reduce=function(e,t,n){var i=nl(e)?v:C,r=arguments.length<3;return i(e,mr(t,4),n,r,ea)},n.reduceRight=function(e,t,n){var i=nl(e)?y:C,r=arguments.length<3;return i(e,mr(t,4),n,r,ta)},n.repeat=function(e,t,n){return t=(n?wr(e,t,n):t===H)?1:bs(t),ai(Es(e),t)},n.replace=function(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var i=-1,r=(t=Mi(t,e)).length;for(r||(r=1,e=H);++i<r;){var s=null==e?H:e[Or(t[i])];s===H&&(i=r,s=n),e=ls(s)?s.call(e):s}return e},n.round=Jl,n.runInContext=e,n.sample=function(e){return(nl(e)?Ht:ci)(e)},n.size=function(e){if(null==e)return 0;if(ss(e))return fs(e)?V(e):e.length;var t=da(e);return t==Fe||t==Ue?e.size:Xn(e).length},n.snakeCase=Pl,n.some=function(e,t,n){var i=nl(e)?b:mi;return n&&wr(e,t,n)&&(t=H),i(e,mr(t,3))},n.sortedIndex=function(e,t){return fi(e,t)},n.sortedIndexBy=function(e,t,n){return gi(e,t,mr(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=fi(e,t);if(i<n&&rs(e[i],t))return i}return-1},n.sortedLastIndex=function(e,t){return fi(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return gi(e,t,mr(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=fi(e,t,!0)-1;if(rs(e[n],t))return n}return-1},n.startCase=Ol,n.startsWith=function(e,t,n){return e=Es(e),n=null==n?0:en(bs(n),0,e.length),t=bi(t),e.slice(n,n+t.length)==t},n.subtract=Ql,n.sum=function(e){return e&&e.length?M(e,Ds):0},n.sumBy=function(e,t){return e&&e.length?M(e,mr(t,2)):0},n.template=function(e,t,i){var r=n.templateSettings;i&&wr(e,t,i)&&(t=H),e=Es(e),t=ml({},t,r,sr);var s,o,a=ml({},t.imports,r.imports,sr),l=ks(a),c=P(a,l),u=0,h=t.interpolate||It,d="__p += '",p=qs((t.escape||It).source+"|"+h.source+"|"+(h===pt?Ct:It).source+"|"+(t.evaluate||It).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++vn+"]")+"\n";e.replace(p,function(t,n,i,r,a,l){return i||(i=r),d+=e.slice(u,l).replace(Nt,I),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var f=t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(rt,""):d).replace(st,"$1").replace(ot,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Il(function(){return Hs(l,m+"return "+d).apply(H,c)});if(g.source=d,as(g))throw g;return g},n.times=function(e,t){if((e=bs(e))<1||e>be)return[];var n=we,i=Po(e,we);t=mr(t),e-=we;for(var r=R(i,t);++n<e;)t(n);return r},n.toFinite=ys,n.toInteger=bs,n.toLength=_s,n.toLower=function(e){return Es(e).toLowerCase()},n.toNumber=xs,n.toSafeInteger=function(e){return e?en(bs(e),-be,be):0===e?e:0},n.toString=Es,n.toUpper=function(e){return Es(e).toUpperCase()},n.trim=function(e,t,n){if((e=Es(e))&&(n||t===H))return e.replace(_t,"");if(!e||!(t=bi(t)))return e;var i=G(e),r=G(t);return Ri(i,D(i,r),F(i,r)+1).join("")},n.trimEnd=function(e,t,n){if((e=Es(e))&&(n||t===H))return e.replace(wt,"");if(!e||!(t=bi(t)))return e;var i=G(e);return Ri(i,0,F(i,G(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Es(e))&&(n||t===H))return e.replace(xt,"");if(!e||!(t=bi(t)))return e;var i=G(e);return Ri(i,D(i,G(t))).join("")},n.truncate=function(e,t){var n=de,i=pe;if(hs(t)){var r="separator"in t?t.separator:r;n="length"in t?bs(t.length):n,i="omission"in t?bi(t.omission):i}var s=(e=Es(e)).length;if(N(e)){var o=G(e);s=o.length}if(n>=s)return e;var a=n-V(i);if(a<1)return i;var l=o?Ri(o,0,a).join(""):e.slice(0,a);if(r===H)return l+i;if(o&&(a+=l.length-a),al(r)){if(e.slice(a).search(r)){var c,u=l;for(r.global||(r=qs(r.source,Es(Mt.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,h===H?a:h)}}else if(e.indexOf(bi(r),a)!=a){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},n.unescape=function(e){return(e=Es(e))&&ct.test(e)?e.replace(at,zn):e},n.uniqueId=function(e){var t=++no;return Es(e)+t},n.upperCase=Dl,n.upperFirst=Fl,n.each=Xr,n.eachRight=Yr,n.first=jr,Is(n,function(){var e={};return dn(n,function(t,i){to.call(n.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),c(["drop","take"],function(e,t){A.prototype[e]=function(n){n=n===H?1:Lo(bs(n),0);var i=this.__filtered__&&!t?new A(this):this.clone();return i.__filtered__?i.__takeCount__=Po(n,i.__takeCount__):i.__views__.push({size:Po(n,we),type:e+(i.__dir__<0?"Right":"")}),i},A.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==ge||3==n;A.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:mr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");A.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");A.prototype[e]=function(){return this.__filtered__?new A(this):this[n](1)}}),A.prototype.compact=function(){return this.filter(Ds)},A.prototype.find=function(e){return this.filter(e).head()},A.prototype.findLast=function(e){return this.reverse().find(e)},A.prototype.invokeMap=li(function(e,t){return"function"==typeof e?new A(this):this.map(function(n){return Vn(n,e,t)})}),A.prototype.reject=function(e){return this.filter(is(mr(e)))},A.prototype.slice=function(e,t){e=bs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new A(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(n=(t=bs(t))<0?n.dropRight(-t):n.take(t-e)),n)},A.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},A.prototype.toArray=function(){return this.take(we)},dn(A.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),o=n[s?"take"+("last"==t?"Right":""):t],a=s||/^find/.test(t);o&&(n.prototype[t]=function(){var t=this.__wrapped__,l=s?[1]:arguments,c=t instanceof A,u=l[0],h=c||nl(t),d=function(e){var t=o.apply(n,g([e],l));return s&&p?t[0]:t};h&&i&&"function"==typeof u&&1!=u.length&&(c=h=!1);var p=this.__chain__,m=!!this.__actions__.length,f=a&&!p,v=c&&!m;if(!a&&h){t=v?t:new A(this);var y=e.apply(t,l);return y.__actions__.push({func:$r,args:[d],thisArg:H}),new r(y,p)}return f&&v?e.apply(this,l):(y=this.thru(d),f?s?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ks[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(nl(n)?n:[],e)}return this[i](function(n){return t.apply(nl(n)?n:[],e)})}}),dn(A.prototype,function(e,t){var i=n[t];if(i){var r=i.name+"";(Ho[r]||(Ho[r]=[])).push({name:t,func:i})}}),Ho[Xi(H,ie).name]=[{name:"wrapper",func:H}],A.prototype.clone=function(){var e=new A(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},A.prototype.reverse=function(){if(this.__filtered__){var e=new A(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},A.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=nl(e),i=t<0,r=n?e.length:0,s=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Po(t,e+o);break;case"takeRight":e=Lo(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,l=a-o,c=i?a:o-1,u=this.__iteratees__,h=u.length,d=0,p=Po(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Ti(e,this.__actions__);var m=[];e:for(;l--&&d<p;){for(var f=-1,g=e[c+=t];++f<h;){var v=u[f],y=v.iteratee,b=v.type,_=y(g);if(b==ve)g=_;else if(!_){if(b==ge)continue e;break e}}m[d++]=g}return m},n.prototype.at=Fa,n.prototype.chain=function(){return Wr(this)},n.prototype.commit=function(){return new r(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===H&&(this.__values__=vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?H:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof i;){var r=Fr(n);r.__index__=0,r.__values__=H,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof A){var t=e;return this.__actions__.length&&(t=new A(this)),(t=t.reverse()).__actions__.push({func:$r,args:[Vr],thisArg:H}),new r(t,this.__chain__)}return this.thru(Vr)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Ti(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,yo&&(n.prototype[yo]=qr),n}();Sn._=Un,(r=(function(){return Un}).call(t,n,t,i))===H||(i.exports=r)}).call(this)}).call(t,n("fRUx"),n("ZwkM")(e))},yxpl:function(e,t,n){"use strict";function i(e){return r._38(2,[r._28(null,0)],null,null)}n.d(t,"a",function(){return h}),t.b=i;var r=n("1GK5"),s=n("6DMU"),o=n("ZDMg"),a=n("AdGS"),l=n("CaT7"),c=n("PXDV"),u=n("IMoF"),h=(r._12(s.c,[],function(e){return r._26([r._27(512,r.k,r._8,[[8,[]],[3,r.k],r.D]),r._27(6144,o.b,null,[a.b]),r._27(4608,o.c,o.c,[[2,o.b]]),r._27(5120,s.d,s.a,[[3,s.d],[2,l.c],c.c]),r._27(512,o.a,o.a,[]),r._27(256,u.f,!0,[]),r._27(512,u.n,u.n,[[2,u.f]]),r._27(512,s.c,s.c,[])])}),r._13({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}"],data:{}}));r._11("mat-icon",s.b,function(e){return r._38(0,[(e()(),r._15(0,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,i,h)),r._14(1,638976,null,0,s.b,[r.o,s.d,[8,null]],null,null)],function(e,t){e(t,1,0)},null)},{color:"color",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},{},["*"])},"z/pR":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i,r=n("/JaN"),s=n("xrDH"),o=(n.n(s),{TOGGLE_SELECTED:function(e,t,n){return t&&t.toggleActivated()},TOGGLE_SELECTED_MULTI:function(e,t,n){return t&&t.toggleActivated(!0)},SELECT:function(e,t,n){return t.setIsActive(!0)},DESELECT:function(e,t,n){return t.setIsActive(!1)},FOCUS:function(e,t,n){return t.focus()},TOGGLE_EXPANDED:function(e,t,n){return t.hasChildren&&t.toggleExpanded()},EXPAND:function(e,t,n){return t.expand()},COLLAPSE:function(e,t,n){return t.collapse()},DRILL_DOWN:function(e,t,n){return e.focusDrillDown()},DRILL_UP:function(e,t,n){return e.focusDrillUp()},NEXT_NODE:function(e,t,n){return e.focusNextNode()},PREVIOUS_NODE:function(e,t,n){return e.focusPreviousNode()},MOVE_NODE:function(e,t,n,i){var r=i.from,s=i.to;n.ctrlKey?e.copyNode(r,s):e.moveNode(r,s)}}),a={mouse:{click:o.TOGGLE_SELECTED,dblClick:null,contextMenu:null,expanderClick:o.TOGGLE_EXPANDED,drop:o.MOVE_NODE},keys:(i={},i[r.a.RIGHT]=o.DRILL_DOWN,i[r.a.LEFT]=o.DRILL_UP,i[r.a.DOWN]=o.NEXT_NODE,i[r.a.UP]=o.PREVIOUS_NODE,i[r.a.SPACE]=o.TOGGLE_SELECTED,i[r.a.ENTER]=o.TOGGLE_SELECTED,i)},l=function(){function e(e){void 0===e&&(e={}),this.options=e,this.actionMapping=s.defaultsDeep({},this.options.actionMapping,a),e.rtl&&(this.actionMapping.keys[r.a.RIGHT]=s.get(e,["actionMapping","keys",r.a.RIGHT])||o.DRILL_UP,this.actionMapping.keys[r.a.LEFT]=s.get(e,["actionMapping","keys",r.a.LEFT])||o.DRILL_DOWN)}return Object.defineProperty(e.prototype,"hasChildrenField",{get:function(){return this.options.hasChildrenField||"hasChildren"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childrenField",{get:function(){return this.options.childrenField||"children"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayField",{get:function(){return this.options.displayField||"name"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idField",{get:function(){return this.options.idField||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpandedField",{get:function(){return this.options.isExpandedField||"isExpanded"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getChildren",{get:function(){return this.options.getChildren},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"levelPadding",{get:function(){return this.options.levelPadding||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useVirtualScroll",{get:function(){return this.options.useVirtualScroll},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animateExpand",{get:function(){return this.options.animateExpand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animateSpeed",{get:function(){return this.options.animateSpeed||30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animateAcceleration",{get:function(){return this.options.animateAcceleration||1.2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollOnSelect",{get:function(){return void 0===this.options.scrollOnSelect||this.options.scrollOnSelect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rtl",{get:function(){return!!this.options.rtl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootId",{get:function(){return this.options.rootId},enumerable:!0,configurable:!0}),e.prototype.getNodeClone=function(e){return this.options.getNodeClone?this.options.getNodeClone(e):s.omit(Object.assign({},e.data),["id"])},e.prototype.allowDrop=function(e,t,n){return this.options.allowDrop instanceof Function?this.options.allowDrop(e,t,n):void 0===this.options.allowDrop||this.options.allowDrop},e.prototype.allowDrag=function(e){return this.options.allowDrag instanceof Function?this.options.allowDrag(e):this.options.allowDrag},e.prototype.nodeClass=function(e){return this.options.nodeClass?this.options.nodeClass(e):""},e.prototype.nodeHeight=function(e){if(e.data.virtual)return 0;var t=this.options.nodeHeight||22;return"function"==typeof t&&(t=t(e)),t+(0===e.index?2:1)*this.dropSlotHeight},Object.defineProperty(e.prototype,"dropSlotHeight",{get:function(){return s.isNumber(this.options.dropSlotHeight)?this.options.dropSlotHeight:2},enumerable:!0,configurable:!0}),e}()},z1aO:function(e,t){},zswv:function(e,t,n){"use strict";(function(e){function i(e,t){return _.writeFile("./src/assets/gs-json/"+t,e.toJSON(),e=>{if(e)return console.log("Error writing file: "+t),console.error(e),!1;console.log("File has been created: "+t)}),!0}function r(){return new b.d}function s(){const e=new b.d;return e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,0,0]]),e}function o(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0]]);return e.getGeom().addPolyline(t,!1),e}function a(){const e=new b.d,t=e.getGeom().addPoints([[-7.931049823760986,4.17618989944458,0],[-5.577179908752441,-3.2098400592803955,0],[.898481011390686,-3.6717300415039062,0],[7.178500175476074,-2.0277199745178223,0],[5.293560028076172,1.5589900016784668,0],[7.212399959564209,6.495269775390625,0],[5.317729949951172,10.390199661254883,0]]);return e.getGeom().addPolyline(t,!0),e}function l(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[2],t[6],t[7],t[3]],[t[3],t[7],t[4],t[0]],[t[7],t[6],t[5],t[4]]]),e}function c(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]),n=e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[2],t[6],t[7],t[3]],[t[3],t[7],t[4],t[0]],[t[7],t[6],t[5],t[4]]]),i=e.addEntAttrib("height",b.c.points,b.b.type_num);t.forEach(e=>e.setAttribValue(i,e.getPosition()[2]));const r=e.addTopoAttrib("neighbours",b.c.vertices,b.b.type_str_arr),s=b.a.flatten(n.getVertices());for(const u of s){const e=[];for(const t of u.verticesSharedPoint()[1])t!==u&&e.push(t.getTopoPathStr());u.setAttribValue(r,e)}const o=e.addTopoAttrib("face_type",b.c.faces,b.b.type_str),a=n.getFaces();a[0].setAttribValue(o,"floor"),a[1].setAttribValue(o,"wall"),a[2].setAttribValue(o,"wall"),a[3].setAttribValue(o,"wall"),a[4].setAttribValue(o,"wall"),a[5].setAttribValue(o,"roof");const l=e.addTopoAttrib("horizontal",b.c.edges,b.b.type_bool),c=[];c.push(...a[0].getEdges()),c.push(...a[5].getEdges());for(const u of a.slice(1,5)){const e=u.getEdges();c.push(...[e[1],e[3]])}return c.forEach(e=>e.setAttribValue(l,!0)),e}function u(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[2],t[6],t[7],t[3]],[t[7],t[6],t[5],t[4]]]),e}function h(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[1],t[5],t[6],t[2]],[t[7],t[6],t[5],t[4]]]),e}function d(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[0,10,0],[0,0,10],[10,0,10],[10,10,10],[0,10,10]]);return e.getGeom().addPolymesh([[t[0],t[1],t[2],t[3]],[t[0],t[4],t[5],t[1]],[t[2],t[6],t[7],t[3]],[t[7],t[6],t[5],t[4]]]),e}function p(){const e=new b.d,t=e.getGeom().addPoints([[-.7794438004493713,-1,0],[.22055619955062866,-1,0],[.22055619955062866,-1,3],[-.7794438004493713,-1,3],[-.7794438004493713,1,0],[.22055619955062866,1,0],[.22055619955062866,1,3],[-.7794438004493713,1,3],[1.3269386291503906,-1,0],[2.3269386291503906,-1,0],[2.3269386291503906,-1,3],[1.3269386291503906,-1,3],[1.3269386291503906,1,0],[2.3269386291503906,1,0],[2.3269386291503906,1,3],[1.3269386291503906,1,3]]);return e.getGeom().addPolymesh([[t[1],t[5],t[4],t[0]],[t[2],t[6],t[5],t[1]],[t[3],t[7],t[6],t[2]],[t[0],t[4],t[7],t[3]],[t[5],t[6],t[7],t[4]]]),e.getGeom().addPolymesh([[t[9],t[13],t[12],t[8]],[t[11],t[15],t[14],t[10]],[t[10],t[9],t[8],t[11]],[t[13],t[14],t[15],t[12]]]),e}function m(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,0,0],[11,0,0],[12,0,1],[15,15,0],[15,30,-1],[10,30,1],[10,10,-1],[0,10,0],[0,5,0]]);return e.getGeom().addPolymesh([t]),e}function f(){const e=new b.d,t=e.getGeom().addPoints([[0,0,0],[10,0,0],[10,10,0],[5,-5,0],[0,10,0]]);return e.getGeom().addPolymesh([t]),e}function g(){const e=new b.d,t=e.getGeom().addPoints([[-.7794438004493713,-1,0],[.22055619955062866,-1,0],[.22055619955062866,-1,3],[-.7794438004493713,-1,3],[-.7794438004493713,1,0],[.22055619955062866,1,0],[.22055619955062866,1,3],[-.7794438004493713,1,3],[1.3269386291503906,-1,0],[2.3269386291503906,-1,0],[2.3269386291503906,-1,3],[1.3269386291503906,-1,3],[1.3269386291503906,1,0],[2.3269386291503906,1,0],[2.3269386291503906,1,3],[1.3269386291503906,1,3],[1.4623746871948242,-2.6389076709747314,-.31497955322265625],[1.4623746871948242,-2.3732826709747314,-.31497955322265625],[1.4623746871948242,-2.1076576709747314,-.31497955322265625],[1.5453824996948242,-1.9250404834747314,-.31497955322265625],[1.5453824996948242,-2.1906654834747314,-.31497955322265625],[1.5453824996948242,-2.4562904834747314,-.31497955322265625],[-.5512971878051758,-2.6389076709747314,-.31497955322265625],[-.6549032330513,-2.368194580078125,-.31497955322265625],[-.7585092782974243,-2.0974817276000977,-.31497955322265625],[-.7905550003051758,-2.194010019302368,-.31497955322265625],[-.7905550003051758,-2.4838716983795166,-.31497955322265625],[-.8672151565551758,-2.580742120742798,-.31497955322265625],[-.8672151565551758,-2.2908804416656494,-.31497955322265625],[-.8672151565551758,-2.001019239425659,-.31497955322265625],[-.7103590369224548,-2.0080180168151855,-.31497955322265625],[-.6064698696136475,-2.278623104095459,-.31497955322265625],[-.4999831020832062,-2.482268810272217,-.31497955322265625],[-.3953130841255188,-2.211965322494507,-.31497955322265625],[-.2906434237957001,-1.9416617155075073,-.31497955322265625],[-.16018390655517578,-2.073054313659668,-.31497955322265625],[-.16018390655517578,-2.3629159927368164,-.31497955322265625],[-.17405441403388977,-2.6389076709747314,-.31497955322265625],[-.24319171905517578,-2.4181833267211914,-.31497955322265625],[-.24252620339393616,-2.128326177597046,-.31497955322265625],[-.2995643615722656,-2.16054630279541,-.31497955322265625],[-.4040381610393524,-2.430924654006958,-.31497955322265625],[.6552457809448242,-2.2809975147247314,-.31497955322265625],[.5780249238014221,-2.538818597793579,-.31497955322265625],[.3367978632450104,-2.648444652557373,-.31497955322265625],[.5011316537857056,-2.5077075958251953,-.31497955322265625],[.5664176940917969,-2.2479758262634277,-.31497955322265625],[.4481579661369324,-2.014356851577759,-.31497955322265625],[.18578748404979706,-2.028092622756958,-.31497955322265625],[.0865355059504509,-2.272844076156616,-.31497955322265625],[.17117466032505035,-2.5248000621795654,-.31497955322265625],[.2941988706588745,-2.647393226623535,-.31497955322265625],[.06101566553115845,-2.522721767425537,-.31497955322265625],[-.0011052392655983567,-2.259951591491699,-.31497955322265625],[.08764392882585526,-2.006666421890259,-.31497955322265625],[.3368940055370331,-1.9140163660049438,-.31497955322265625],[.5783979296684265,-2.023050546646118,-.31497955322265625],[.8144254684448242,-1.9250404834747314,-.31497955322265625],[1.102770209312439,-1.9299184083938599,-.31497955322265625],[1.2849626541137695,-2.1093807220458984,-.31497955322265625],[1.1502881050109863,-2.2096476554870605,-.31497955322265625],[1.090009331703186,-2.001718044281006,-.31497955322265625],[.8974332809448242,-2.092536687850952,-.31497955322265625],[1.0478017330169678,-2.2305264472961426,-.31497955322265625],[1.0315463542938232,-2.3010170459747314,-.31497955322265625],[.8974332809448242,-2.4554409980773926,-.31497955322265625],[1.0732861757278442,-2.5672106742858887,-.31497955322265625],[1.208114743232727,-2.3706717491149902,-.31497955322265625],[1.2719993591308594,-2.32572603225708,-.31497955322265625],[1.24326753616333,-2.5858538150787354,-.31497955322265625],[.9661754369735718,-2.6389076709747314,-.31497955322265625],[.8144254684448242,-2.5021183490753174,-.31497955322265625],[.8144254684448242,-2.2135796546936035,-.31497955322265625],[2.280245780944824,-1.9250404834747314,-.31497955322265625],[2.280245780944824,-2.193127393722534,-.31497955322265625],[2.2724032402038574,-2.460641384124756,-.31497955322265625],[2.0921428203582764,-2.6389458179473877,-.31497955322265625],[1.833667516708374,-2.6027204990386963,-.31497955322265625],[1.7338590621948242,-2.3665759563446045,-.31497955322265625],[1.7338590621948242,-2.0984888076782227,-.31497955322265625],[1.8168668746948242,-1.9366711378097534,-.31497955322265625],[1.8168668746948242,-2.2047581672668457,-.31497955322265625],[1.8297230005264282,-2.4713997840881348,-.31497955322265625],[2.054230213165283,-2.5724759101867676,-.31497955322265625],[2.197237968444824,-2.378206491470337,-.31497955322265625],[2.197237968444824,-2.110119342803955,-.31497955322265625],[2.872042655944824,-2.4489662647247314,-.31497955322265625],[2.6958096027374268,-2.6418278217315674,-.31497955322265625],[2.422823905944824,-2.6069283485412598,-.31497955322265625],[2.633169174194336,-2.5757405757904053,-.31497955322265625],[2.77113938331604,-2.3934872150421143,-.31497955322265625],[2.520369291305542,-2.2608282566070557,-.31497955322265625],[2.453770875930786,-2.00935697555542,-.31497955322265625],[2.7089829444885254,-1.9171342849731445,-.31497955322265625],[2.7718653678894043,-2.006145715713501,-.31497955322265625],[2.5197558403015137,-2.0665476322174072,-.31497955322265625],[2.695028305053711,-2.251216411590576,-.31497955322265625]]);return e.getGeom().addPolyline([16,17,18,19,20,21].map((e,n)=>t[e]),!1),e.getGeom().addPolyline([22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([42,43,44,45,46,47,48,49,50,51,52,53,54,55,56].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([73,74,75,76,77,78,79,80,81,82,83,84,85].map((e,n)=>t[n]),!1),e.getGeom().addPolyline([86,87,88,89,90,91,92,93,94,95,96].map((e,n)=>t[n]),!1),e.getGeom().addPolymesh([[1,5,4,0],[2,6,5,1],[3,7,6,2],[0,4,7,3],[5,6,7,4]].map((e,n)=>e.map((e,n)=>t[e]))),e.getGeom().addPolymesh([[9,13,12,8],[11,15,14,10],[10,9,8,11],[13,14,15,12]].map((e,n)=>e.map((e,n)=>t[e]))),e}function v(){const e=new b.d,t=e.getGeom().addPoints([[-5,-5,5.2243194580078125],[-3.8888888359069824,-5,5.2243194580078125],[-2.777777671813965,-5,5.2243194580078125],[-1.6666665077209473,-5,5.2243194580078125],[-.5555553436279297,-5,5.2243194580078125],[.5555558204650879,-5,5.2243194580078125],[1.6666669845581055,-5,5.2243194580078125],[2.777778148651123,-5,5.2243194580078125],[3.8888893127441406,-5,5.2243194580078125],[5,-5,5.2243194580078125],[-5,-3.8888888359069824,5.2243194580078125],[-3.8888888359069824,-3.8888888359069824,5.2243194580078125],[-2.777777671813965,-3.8888888359069824,5.2243194580078125],[-1.6666665077209473,-3.8888888359069824,5.2243194580078125],[-.5555553436279297,-3.8888888359069824,5.2243194580078125],[.5555558204650879,-3.8888888359069824,5.2243194580078125],[1.6666669845581055,-3.8888888359069824,5.2243194580078125],[2.777778148651123,-3.8888888359069824,5.2243194580078125],[3.8888893127441406,-3.8888888359069824,5.2243194580078125],[5,-3.8888888359069824,5.2243194580078125],[-5,-2.777777671813965,5.2243194580078125],[-3.8888888359069824,-2.777777671813965,5.2243194580078125],[-2.777777671813965,-2.777777671813965,5.2243194580078125],[-1.6666665077209473,-2.777777671813965,5.2243194580078125],[-.5555553436279297,-2.777777671813965,5.2243194580078125],[.5555558204650879,-2.777777671813965,5.2243194580078125],[1.6666669845581055,-2.777777671813965,5.2243194580078125],[2.777778148651123,-2.777777671813965,5.2243194580078125],[3.8888893127441406,-2.777777671813965,5.2243194580078125],[5,-2.777777671813965,5.2243194580078125],[-5,-1.6666665077209473,5.2243194580078125],[-3.8888888359069824,-1.6666665077209473,5.2243194580078125],[-2.777777671813965,-1.6666665077209473,5.2243194580078125],[-1.6666665077209473,-1.6666665077209473,5.2243194580078125],[-.5555553436279297,-1.6666665077209473,5.2243194580078125],[.5555558204650879,-1.6666665077209473,5.2243194580078125],[1.6666669845581055,-1.6666665077209473,5.2243194580078125],[2.777778148651123,-1.6666665077209473,5.2243194580078125],[3.8888893127441406,-1.6666665077209473,5.2243194580078125],[5,-1.6666665077209473,5.2243194580078125],[-5,-.5555553436279297,5.2243194580078125],[-3.8888888359069824,-.5555553436279297,5.2243194580078125],[-2.777777671813965,-.5555553436279297,5.2243194580078125],[-1.6666665077209473,-.5555553436279297,5.2243194580078125],[-.5555553436279297,-.5555553436279297,5.2243194580078125],[.5555558204650879,-.5555553436279297,5.2243194580078125],[1.6666669845581055,-.5555553436279297,5.2243194580078125],[2.777778148651123,-.5555553436279297,5.2243194580078125],[3.8888893127441406,-.5555553436279297,5.2243194580078125],[5,-.5555553436279297,5.2243194580078125],[-5,.5555558204650879,5.2243194580078125],[-3.8888888359069824,.5555558204650879,5.2243194580078125],[-2.777777671813965,.5555558204650879,5.2243194580078125],[-1.6666665077209473,.5555558204650879,5.2243194580078125],[-.5555553436279297,.5555558204650879,5.2243194580078125],[.5555558204650879,.5555558204650879,5.2243194580078125],[1.6666669845581055,.5555558204650879,5.2243194580078125],[2.777778148651123,.5555558204650879,5.2243194580078125],[3.8888893127441406,.5555558204650879,5.2243194580078125],[5,.5555558204650879,5.2243194580078125],[-5,1.6666669845581055,5.2243194580078125],[-3.8888888359069824,1.6666669845581055,5.2243194580078125],[-2.777777671813965,1.6666669845581055,5.2243194580078125],[-1.6666665077209473,1.6666669845581055,5.2243194580078125],[-.5555553436279297,1.6666669845581055,5.2243194580078125],[.5555558204650879,1.6666669845581055,5.2243194580078125],[1.6666669845581055,1.6666669845581055,5.2243194580078125],[2.777778148651123,1.6666669845581055,5.2243194580078125],[3.8888893127441406,1.6666669845581055,5.2243194580078125],[5,1.6666669845581055,5.2243194580078125],[-5,2.777778148651123,5.2243194580078125],[-3.8888888359069824,2.777778148651123,5.2243194580078125],[-2.777777671813965,2.777778148651123,5.2243194580078125],[-1.6666665077209473,2.777778148651123,5.2243194580078125],[-.5555553436279297,2.777778148651123,5.2243194580078125],[.5555558204650879,2.777778148651123,5.2243194580078125],[1.6666669845581055,2.777778148651123,5.2243194580078125],[2.777778148651123,2.777778148651123,5.2243194580078125],[3.8888893127441406,2.777778148651123,5.2243194580078125],[5,2.777778148651123,5.2243194580078125],[-5,3.8888893127441406,5.2243194580078125],[-3.8888888359069824,3.8888893127441406,5.2243194580078125],[-2.777777671813965,3.8888893127441406,5.2243194580078125],[-1.6666665077209473,3.8888893127441406,5.2243194580078125],[-.5555553436279297,3.8888893127441406,5.2243194580078125],[.5555558204650879,3.8888893127441406,5.2243194580078125],[1.6666669845581055,3.8888893127441406,5.2243194580078125],[2.777778148651123,3.8888893127441406,5.2243194580078125],[3.8888893127441406,3.8888893127441406,5.2243194580078125],[5,3.8888893127441406,5.2243194580078125],[-5,5,5.2243194580078125],[-3.8888888359069824,5,5.2243194580078125],[-2.777777671813965,5,5.2243194580078125],[-1.6666665077209473,5,5.2243194580078125],[-.5555553436279297,5,5.2243194580078125],[.5555558204650879,5,5.2243194580078125],[1.6666669845581055,5,5.2243194580078125],[2.777778148651123,5,5.2243194580078125],[3.8888893127441406,5,5.2243194580078125],[5,5,5.2243194580078125]]);return e.getGeom().addPolymesh([[0,1,11,10],[1,2,12,11],[2,3,13,12],[3,4,14,13],[4,5,15,14],[5,6,16,15],[6,7,17,16],[7,8,18,17],[8,9,19,18],[10,11,21,20],[11,12,22,21],[12,13,23,22],[13,14,24,23],[14,15,25,24],[15,16,26,25],[16,17,27,26],[17,18,28,27],[18,19,29,28],[20,21,31,30],[21,22,32,31],[22,23,33,32],[23,24,34,33],[24,25,35,34],[25,26,36,35],[26,27,37,36],[27,28,38,37],[28,29,39,38],[30,31,41,40],[31,32,42,41],[32,33,43,42],[33,34,44,43],[37,38,48,47],[38,39,49,48],[40,41,51,50],[41,42,52,51],[42,43,53,52],[43,44,54,53],[44,45,55,54],[45,46,56,55],[46,47,57,56],[47,48,58,57],[48,49,59,58],[50,51,61,60],[51,52,62,61],[52,53,63,62],[53,54,64,63],[54,55,65,64],[55,56,66,65],[56,57,67,66],[57,58,68,67],[58,59,69,68],[60,61,71,70],[61,62,72,71],[65,66,76,75],[66,67,77,76],[67,68,78,77],[68,69,79,78],[70,71,81,80],[71,72,82,81],[72,73,83,82],[73,74,84,83],[74,75,85,84],[75,76,86,85],[76,77,87,86],[77,78,88,87],[78,79,89,88],[80,81,91,90],[81,82,92,91],[82,83,93,92],[83,84,94,93],[84,85,95,94],[85,86,96,95],[86,87,97,96],[87,88,98,97],[88,89,99,98]].map((e,n)=>e.map((e,n)=>t[e]))),e}function y(){const e=new b.d,t=e.getGeom().addPoints([[1.5,11682431022563833e-22,-4.371138828673793e-8],[1.4488884210586548,.388229638338089,-4.371138828673793e-8],[1.2990376949310303,.7500008940696716,-4.371138828673793e-8],[1.0606595277786255,1.0606608390808105,-4.371138828673793e-8],[.7499992251396179,1.2990385293960571,-4.371138828673793e-8],[.38822782039642334,1.448888897895813,-4.371138828673793e-8],[-6.97368420787825e-7,1.5,-4.371138828673793e-8],[-.3882291316986084,1.4488885402679443,-4.371138828673793e-8],[-.7500004768371582,1.2990378141403198,-4.371138828673793e-8],[-1.0606608390808105,1.060659646987915,-4.371138828673793e-8],[-1.2990384101867676,.7499994039535522,-4.371138828673793e-8],[-1.448888897895813,.3882279396057129,-4.371138828673793e-8],[-1.5,-5.841215511281916e-7,-4.371138828673793e-8],[-1.4488886594772339,-.3882290720939636,-4.371138828673793e-8],[-1.2990379333496094,-.7500003576278687,-4.371138828673793e-8],[-1.0606598854064941,-1.0606603622436523,-4.371138828673793e-8],[-.7499997615814209,-1.299038290977478,-4.371138828673793e-8],[-.3882283866405487,-1.4488887786865234,-4.371138828673793e-8],[1.1324685544877866e-7,-1.5,-4.371138828673793e-8],[.3882285952568054,-1.4488887786865234,-4.371138828673793e-8],[.7499999403953552,-1.2990381717681885,-4.371138828673793e-8],[1.0606601238250732,-1.0606601238250732,-4.371138828673793e-8],[1.299038052558899,-.75,-4.371138828673793e-8],[1.4488887786865234,-.38822856545448303,-4.371138828673793e-8],[1.43301260471344,11160714166180696e-22,-.25000008940696716],[1.384183645248413,.3708919882774353,-.25000008940696716],[1.2410248517990112,.7165071368217468,-.25000008940696716],[1.0132923126220703,1.0132936239242554,-.25000008940696716],[.7165055871009827,1.241025686264038,-.25000008940696716],[.37089022994041443,1.3841840028762817,-.25000008940696716],[-6.662251621492032e-7,1.43301260471344,-.25000008940696716],[-.3708915114402771,1.384183645248413,-.25000008940696716],[-.7165067195892334,1.2410250902175903,-.25000008940696716],[-1.0132935047149658,1.0132924318313599,-.25000008940696716],[-1.241025686264038,.7165057063102722,-.25000008940696716],[-1.3841840028762817,.370890349149704,-.25000008940696716],[-1.43301260471344,-5.580357083090348e-7,-.25000008940696716],[-1.3841837644577026,-.37089142203330994,-.25000008940696716],[-1.2410250902175903,-.7165066599845886,-.25000008940696716],[-1.013292670249939,-1.0132931470870972,-.25000008940696716],[-.7165060639381409,-1.241025447845459,-.25000008940696716],[-.3708907663822174,-1.3841840028762817,-.25000008940696716],[1.0818944673474107e-7,-1.43301260471344,-.25000008940696716],[.3708910048007965,-1.3841838836669922,-.25000008940696716],[.7165062427520752,-1.2410253286361694,-.25000008940696716],[1.013292908668518,-1.013292908668518,-.25000008940696716],[1.2410253286361694,-.71650630235672,-.25000008940696716],[1.3841838836669922,-.37089094519615173,-.25000008940696716],[1.25,9.735358617035672e-7,-.4330127239227295],[1.207406997680664,.32352471351623535,-.4330127239227295],[1.0825313329696655,.6250007152557373,-.4330127239227295],[.8838829398155212,.883884072303772,-.4330127239227295],[.6249993443489075,1.0825321674346924,-.4330127239227295],[.3235231637954712,1.2074074745178223,-.4330127239227295],[-5.811403411826177e-7,1.25,-.4330127239227295],[-.3235242962837219,1.2074071168899536,-.4330127239227295],[-.6250003576278687,1.082531452178955,-.4330127239227295],[-.8838839530944824,.883882999420166,-.4330127239227295],[-1.0825320482254028,.624999463558197,-.4330127239227295],[-1.2074074745178223,.32352328300476074,-.4330127239227295],[-1.25,-4.867679308517836e-7,-.4330127239227295],[-1.2074072360992432,-.32352420687675476,-.4330127239227295],[-1.0825315713882446,-.6250002980232239,-.4330127239227295],[-.8838832378387451,-.8838837146759033,-.4330127239227295],[-.6249998211860657,-1.0825319290161133,-.4330127239227295],[-.3235236406326294,-1.2074073553085327,-.4330127239227295],[9.437237480369731e-8,-1.25,-.4330127239227295],[.3235238492488861,-1.2074072360992432,-.4330127239227295],[.6249999403953552,-1.0825318098068237,-.4330127239227295],[.8838834762573242,-.8838834762573242,-.4330127239227295],[1.0825316905975342,-.625,-.4330127239227295],[1.2074072360992432,-.3235238194465637,-.4330127239227295],[1,7.788287348375889e-7,-.5],[.9659256339073181,.2588197588920593,-.5],[.8660250902175903,.5000005960464478,-.5],[.707106351852417,.7071072459220886,-.5],[.4999994933605194,.8660256862640381,-.5],[.25881853699684143,.965925931930542,-.5],[-4.649122899991198e-7,1,-.5],[-.25881943106651306,.9659256935119629,-.5],[-.5000002980232239,.8660252094268799,-.5],[-.7071071863174438,.7071064114570618,-.5],[-.8660256266593933,.4999995827674866,-.5],[-.965925931930542,.2588186264038086,-.5],[-1,-3.8941436741879443e-7,-.5],[-.9659257531166077,-.2588193714618683,-.5],[-.8660252690315247,-.5000002384185791,-.5],[-.7071065902709961,-.7071069478988647,-.5],[-.49999985098838806,-.8660255074501038,-.5],[-.25881892442703247,-.9659258723258972,-.5],[7.549790126404332e-8,-1,-.5],[.2588190734386444,-.9659258127212524,-.5],[.4999999701976776,-.866025447845459,-.5],[.7071067690849304,-.7071067690849304,-.5],[.8660253882408142,-.5,-.5],[.9659258127212524,-.258819043636322,-.5],[.7500000596046448,5.841216079716105e-7,-.4330127239227295],[.7244442701339722,.1941148340702057,-.4330127239227295],[.6495188474655151,.3750004768371582,-.4330127239227295],[.5303298234939575,.53033047914505,-.4330127239227295],[.37499964237213135,.6495193243026733,-.4330127239227295],[.19411392509937286,.7244445085525513,-.4330127239227295],[-3.4868423881562194e-7,.7500000596046448,-.4330127239227295],[-.1941145956516266,.7244443297386169,-.4330127239227295],[-.3750002682209015,.6495189666748047,-.4330127239227295],[-.5303304195404053,.5303298234939575,-.4330127239227295],[-.6495192646980286,.3749997019767761,-.4330127239227295],[-.7244445085525513,.19411398470401764,-.4330127239227295],[-.7500000596046448,-2.9206080398580525e-7,-.4330127239227295],[-.7244443893432617,-.194114550948143,-.4330127239227295],[-.6495190262794495,-.3750002086162567,-.4330127239227295],[-.5303300023078918,-.530330240726471,-.4330127239227295],[-.37499991059303284,-.6495192050933838,-.4330127239227295],[-.19411420822143555,-.7244444489479065,-.4330127239227295],[5.662343127710301e-8,-.7500000596046448,-.4330127239227295],[.1941143274307251,-.7244443893432617,-.4330127239227295],[.375,-.649519145488739,-.4330127239227295],[.5303301215171814,-.5303301215171814,-.4330127239227295],[.6495190858840942,-.3750000298023224,-.4330127239227295],[.7244443893432617,-.1941142976284027,-.4330127239227295],[.5669873356819153,4.4158602463539864e-7,-.25000008940696716],[.5476676225662231,.14674752950668335,-.25000008940696716],[.49102526903152466,.2834939956665039,-.25000008940696716],[.4009203612804413,.4009208679199219,-.25000008940696716],[.28349336981773376,.4910255968570709,-.25000008940696716],[.14674682915210724,.5476677417755127,-.25000008940696716],[-2.6359938942732697e-7,.5669873356819153,-.25000008940696716],[-.14674733579158783,.5476676225662231,-.25000008940696716],[-.28349384665489197,.49102532863616943,-.25000008940696716],[-.4009208083152771,.40092039108276367,-.25000008940696716],[-.49102556705474854,.28349342942237854,-.25000008940696716],[-.5476677417755127,.14674688875675201,-.25000008940696716],[-.5669873356819153,-2.2079301231769932e-7,-.25000008940696716],[-.5476676821708679,-.14674730598926544,-.25000008940696716],[-.4910253584384918,-.2834938168525696,-.25000008940696716],[-.40092048048973083,-.40092068910598755,-.25000008940696716],[-.2834935784339905,-.49102550745010376,-.25000008940696716],[-.14674705266952515,-.5476677417755127,-.25000008940696716],[4.2806352240631895e-8,-.5669873356819153,-.25000008940696716],[.1467471420764923,-.5476676821708679,-.25000008940696716],[.28349363803863525,-.491025447845459,-.25000008940696716],[.400920569896698,-.400920569896698,-.25000008940696716],[.4910254180431366,-.28349366784095764,-.25000008940696716],[.5476676821708679,-.14674712717533112,-.25000008940696716],[.5,3.8941436741879443e-7,-1.5099580252808664e-7],[.48296281695365906,.12940987944602966,-1.5099580252808664e-7],[.43301254510879517,.2500002980232239,-1.5099580252808664e-7],[.3535531759262085,.3535536229610443,-1.5099580252808664e-7],[.2499997466802597,.43301284313201904,-1.5099580252808664e-7],[.12940926849842072,.482962965965271,-1.5099580252808664e-7],[-2.324561449995599e-7,.5,-1.5099580252808664e-7],[-.12940971553325653,.48296284675598145,-1.5099580252808664e-7],[-.25000014901161194,.43301260471343994,-1.5099580252808664e-7],[-.3535535931587219,.3535532057285309,-1.5099580252808664e-7],[-.43301281332969666,.2499997913837433,-1.5099580252808664e-7],[-.482962965965271,.1294093132019043,-1.5099580252808664e-7],[-.5,-1.9470718370939721e-7,-1.5099580252808664e-7],[-.48296287655830383,-.12940968573093414,-1.5099580252808664e-7],[-.43301263451576233,-.25000011920928955,-1.5099580252808664e-7],[-.35355329513549805,-.3535534739494324,-1.5099580252808664e-7],[-.24999992549419403,-.4330127537250519,-1.5099580252808664e-7],[-.12940946221351624,-.4829629361629486,-1.5099580252808664e-7],[3.774895063202166e-8,-.5,-1.5099580252808664e-7],[.1294095367193222,-.4829629063606262,-1.5099580252808664e-7],[.2499999850988388,-.4330127239227295,-1.5099580252808664e-7],[.3535533845424652,-.3535533845424652,-1.5099580252808664e-7],[.4330126941204071,-.25,-1.5099580252808664e-7],[.4829629063606262,-.129409521818161,-1.5099580252808664e-7],[.566987156867981,4.415858825268515e-7,.24999982118606567],[.5476674437522888,.14674748480319977,.24999982118606567],[.49102509021759033,.28349390625953674,.24999982118606567],[.40092021226882935,.40092071890830994,.24999982118606567],[.2834932804107666,.491025447845459,.24999982118606567],[.14674678444862366,.5476676225662231,.24999982118606567],[-2.635993041621987e-7,.566987156867981,.24999982118606567],[-.14674729108810425,.5476674437522888,.24999982118606567],[-.2834937572479248,.4910251796245575,.24999982118606567],[-.40092068910598755,.40092024207115173,.24999982118606567],[-.4910254180431366,.2834933400154114,.24999982118606567],[-.5476676225662231,.14674684405326843,.24999982118606567],[-.566987156867981,-2.2079294126342575e-7,.24999982118606567],[-.5476675033569336,-.14674726128578186,.24999982118606567],[-.4910252094268799,-.2834937274456024,.24999982118606567],[-.4009203612804413,-.400920569896698,.24999982118606567],[-.2834934890270233,-.49102532863616943,.24999982118606567],[-.14674700796604156,-.5476675629615784,.24999982118606567],[4.280634158249086e-8,-.566987156867981,.24999982118606567],[.14674709737300873,-.5476675033569336,.24999982118606567],[.2834935486316681,-.49102529883384705,.24999982118606567],[.40092045068740845,-.40092045068740845,.24999982118606567],[.49102526903152466,-.2834935784339905,.24999982118606567],[.5476675033569336,-.14674706757068634,.24999982118606567],[.7499997615814209,5.841213805979351e-7,.43301257491111755],[.7244439721107483,.19411475956439972,.43301257491111755],[.649518609046936,.37500032782554626,.43301257491111755],[.5303295850753784,.530330240726471,.43301257491111755],[.3749994933605194,.6495190858840942,.43301257491111755],[.1941138356924057,.7244442105293274,.43301257491111755],[-3.486840967070748e-7,.7499997615814209,.43301257491111755],[-.19411450624465942,.7244440317153931,.43301257491111755],[-.37500008940696716,.6495187282562256,.43301257491111755],[-.530330240726471,.5303296446800232,.43301257491111755],[-.6495190262794495,.3749995827674866,.43301257491111755],[-.7244442105293274,.19411391019821167,.43301257491111755],[-.7499997615814209,-2.9206069029896753e-7,.43301257491111755],[-.7244440913200378,-.19411446154117584,.43301257491111755],[-.6495187282562256,-.3750000596046448,.43301257491111755],[-.5303297638893127,-.5303300619125366,.43301257491111755],[-.3749997615814209,-.6495189070701599,.43301257491111755],[-.19411413371562958,-.7244441509246826,.43301257491111755],[5.662340640810726e-8,-.7499997615814209,.43301257491111755],[.19411423802375793,-.7244441509246826,.43301257491111755],[.37499985098838806,-.6495189070701599,.43301257491111755],[.5303298830986023,-.5303298830986023,.43301257491111755],[.6495188474655151,-.37499988079071045,.43301257491111755],[.7244441509246826,-.19411422312259674,.43301257491111755],[.9999997019767761,7.788285074639134e-7,.5],[.9659253358840942,.25881966948509216,.5],[.8660248517990112,.5000004172325134,.5],[.7071061134338379,.7071070075035095,.5],[.49999934434890747,.866025447845459,.5],[.25881844758987427,.9659256339073181,.5],[-4.6491214789057267e-7,.9999997019767761,.5],[-.2588193416595459,.965925395488739,.5],[-.5000001192092896,.8660249710083008,.5],[-.7071069478988647,.7071061730384827,.5],[-.8660253882408142,.49999943375587463,.5],[-.9659256339073181,.25881853699684143,.5],[-.9999997019767761,-3.894142537319567e-7,.5],[-.9659254550933838,-.2588192820549011,.5],[-.8660250306129456,-.5000000596046448,.5],[-.707106351852417,-.7071067094802856,.5],[-.4999997019767761,-.8660252690315247,.5],[-.2588188350200653,-.9659255743026733,.5],[7.549787994776125e-8,-.9999997019767761,.5],[.25881898403167725,-.9659255146980286,.5],[.4999998211860657,-.8660252094268799,.5],[.7071065306663513,-.7071065306663513,.5],[.8660251498222351,-.49999985098838806,.5],[.9659255146980286,-.25881895422935486,.5],[1.2499996423721313,9.735356343298918e-7,.43301287293434143],[1.2074066400527954,.3235245943069458,.43301287293434143],[1.0825310945510864,.625000536441803,.43301287293434143],[.8838827013969421,.8838838338851929,.43301287293434143],[.6249991655349731,1.0825318098068237,.43301287293434143],[.32352307438850403,1.2074071168899536,.43301287293434143],[-5.811401706523611e-7,1.2499996423721313,.43301287293434143],[-.32352420687675476,1.207406759262085,.43301287293434143],[-.6250001788139343,1.082531213760376,.43301287293434143],[-.8838837146759033,.8838827610015869,.43301287293434143],[-1.0825316905975342,.6249992847442627,.43301287293434143],[-1.2074071168899536,.3235231935977936,.43301287293434143],[-1.2499996423721313,-4.867678171649459e-7,.43301287293434143],[-1.2074068784713745,-.3235241174697876,.43301287293434143],[-1.0825313329696655,-.6250001192092896,.43301287293434143],[-.883882999420166,-.8838834166526794,.43301287293434143],[-.6249996423721313,-1.0825315713882446,.43301287293434143],[-.32352355122566223,-1.207406997680664,.43301287293434143],[9.437234638198788e-8,-1.2499996423721313,.43301287293434143],[.32352375984191895,-1.2074068784713745,.43301287293434143],[.6249997615814209,-1.082531452178955,.43301287293434143],[.8838832378387451,-.8838832378387451,.43301287293434143],[1.082531452178955,-.6249998211860657,.43301287293434143],[1.2074068784713745,-.32352370023727417,.43301287293434143],[1.4330124855041504,1116071302931232e-21,.25000035762786865],[1.3841835260391235,.3708919584751129,.25000035762786865],[1.0132921934127808,1.0132935047149658,.25000035762786865],[.7165055274963379,1.2410255670547485,.25000035762786865],[.37089020013809204,1.3841838836669922,.25000035762786865],[-6.662251053057844e-7,1.4330124855041504,.25000035762786865],[-.3708914816379547,1.3841835260391235,.25000035762786865],[-.7165066599845886,1.2410249710083008,.25000035762786865],[-1.0132933855056763,1.0132923126220703,.25000035762786865],[-1.2410255670547485,.7165056467056274,.25000035762786865],[-1.3841838836669922,.3708903193473816,.25000035762786865],[-1.4330124855041504,-5.58035651465616e-7,.25000035762786865],[-1.384183645248413,-.37089139223098755,.25000035762786865],[-1.2410249710083008,-.7165066003799438,.25000035762786865],[-1.0132925510406494,-1.0132930278778076,.25000035762786865],[-.7165060043334961,-1.2410253286361694,.25000035762786865],[-.370890736579895,-1.3841838836669922,.25000035762786865],[1.0818943252388635e-7,-1.4330124855041504,.25000035762786865],[.3708909749984741,-1.3841837644577026,.25000035762786865],[.7165061831474304,-1.2410253286361694,.25000035762786865],[1.0132927894592285,-1.0132927894592285,.25000035762786865],[1.2410252094268799,-.7165062427520752,.25000035762786865]]);return e.getGeom().addPolymesh([[0,1,25,24],[1,2,26,25],[2,3,27,26],[3,4,28,27],[4,5,29,28],[5,6,30,29],[6,7,31,30],[7,8,32,31],[8,9,33,32],[9,10,34,33],[10,11,35,34],[11,12,36,35],[12,13,37,36],[13,14,38,37],[14,15,39,38],[15,16,40,39],[16,17,41,40],[17,18,42,41],[18,19,43,42],[19,20,44,43],[20,21,45,44],[21,22,46,45],[22,23,47,46],[23,0,24,47],[24,25,49,48],[25,26,50,49],[26,27,51,50],[27,28,52,51],[28,29,53,52],[29,30,54,53],[30,31,55,54],[31,32,56,55],[32,33,57,56],[33,34,58,57],[34,35,59,58],[35,36,60,59],[36,37,61,60],[37,38,62,61],[38,39,63,62],[39,40,64,63],[40,41,65,64],[41,42,66,65],[42,43,67,66],[43,44,68,67],[44,45,69,68],[45,46,70,69],[46,47,71,70],[47,24,48,71],[48,49,73,72],[49,50,74,73],[50,51,75,74],[51,52,76,75],[52,53,77,76],[53,54,78,77],[54,55,79,78],[55,56,80,79],[56,57,81,80],[57,58,82,81],[58,59,83,82],[59,60,84,83],[60,61,85,84],[61,62,86,85],[62,63,87,86],[63,64,88,87],[64,65,89,88],[65,66,90,89],[66,67,91,90],[67,68,92,91],[68,69,93,92],[69,70,94,93],[70,71,95,94],[71,48,72,95],[72,73,97,96],[73,74,98,97],[74,75,99,98],[75,76,100,99],[76,77,101,100],[77,78,102,101],[78,79,103,102],[79,80,104,103],[80,81,105,104],[81,82,106,105],[82,83,107,106],[83,84,108,107],[84,85,109,108],[85,86,110,109],[86,87,111,110],[87,88,112,111],[88,89,113,112],[89,90,114,113],[90,91,115,114],[91,92,116,115],[92,93,117,116],[93,94,118,117],[94,95,119,118],[95,72,96,119],[96,97,121,120],[97,98,122,121],[98,99,123,122],[99,100,124,123],[100,101,125,124],[101,102,126,125],[102,103,127,126],[103,104,128,127],[104,105,129,128],[105,106,130,129],[106,107,131,130],[107,108,132,131],[108,109,133,132],[109,110,134,133],[110,111,135,134],[111,112,136,135],[112,113,137,136],[113,114,138,137],[114,115,139,138],[115,116,140,139],[116,117,141,140],[117,118,142,141],[118,119,143,142],[119,96,120,143],[120,121,145,144],[121,122,146,145],[122,123,147,146],[123,124,148,147],[124,125,149,148],[125,126,150,149],[126,127,151,150],[127,128,152,151],[128,129,153,152],[129,130,154,153],[130,131,155,154],[131,132,156,155],[132,133,157,156],[133,134,158,157],[134,135,159,158],[135,136,160,159],[136,137,161,160],[137,138,162,161],[138,139,163,162],[139,140,164,163],[140,141,165,164],[141,142,166,165],[142,143,167,166],[143,120,144,167],[144,145,169,168],[145,146,170,169],[146,147,171,170],[147,148,172,171],[148,149,173,172],[149,150,174,173],[150,151,175,174],[151,152,176,175],[152,153,177,176],[153,154,178,177],[154,155,179,178],[155,156,180,179],[156,157,181,180],[157,158,182,181],[158,159,183,182],[159,160,184,183],[160,161,185,184],[161,162,186,185],[162,163,187,186],[163,164,188,187],[164,165,189,188],[165,166,190,189],[166,167,191,190],[167,144,168,191],[168,169,193,192],[169,170,194,193],[170,171,195,194],[171,172,196,195],[172,173,197,196],[173,174,198,197],[174,175,199,198],[175,176,200,199],[176,177,201,200],[177,178,202,201],[178,179,203,202],[179,180,204,203],[180,181,205,204],[181,182,206,205],[182,183,207,206],[183,184,208,207],[184,185,209,208],[185,186,210,209],[186,187,211,210],[187,188,212,211],[188,189,213,212],[189,190,214,213],[190,191,215,214],[191,168,192,215],[192,193,217,216],[193,194,218,217],[194,195,219,218],[195,196,220,219],[196,197,221,220],[197,198,222,221],[198,199,223,222],[199,200,224,223],[200,201,225,224],[201,202,226,225],[202,203,227,226],[203,204,228,227],[204,205,229,228],[205,206,230,229],[206,207,231,230],[207,208,232,231],[208,209,233,232],[209,210,234,233],[210,211,235,234],[211,212,236,235],[212,213,237,236],[213,214,238,237],[214,215,239,238],[215,192,216,239],[216,217,241,240],[217,218,242,241],[218,219,243,242],[219,220,244,243],[220,221,245,244],[221,222,246,245],[222,223,247,246],[223,224,248,247],[224,225,249,248],[225,226,250,249],[226,227,251,250],[227,228,252,251],[228,229,253,252],[229,230,254,253],[230,231,255,254],[231,232,256,255],[232,233,257,256],[233,234,258,257],[234,235,259,258],[235,236,260,259],[236,237,261,260],[237,238,262,261],[238,239,263,262],[239,216,240,263],[240,241,265,264],[243,244,267,266],[244,245,268,267],[245,246,269,268],[246,247,270,269],[247,248,271,270],[248,249,272,271],[249,250,273,272],[250,251,274,273],[251,252,275,274],[252,253,276,275],[253,254,277,276],[254,255,278,277],[255,256,279,278],[256,257,280,279],[257,258,281,280],[258,259,282,281],[259,260,283,282],[260,261,284,283],[261,262,285,284],[264,265,1,0],[266,267,4,3],[267,268,5,4],[268,269,6,5],[269,270,7,6],[270,271,8,7],[271,272,9,8],[272,273,10,9],[273,274,11,10],[274,275,12,11],[275,276,13,12],[276,277,14,13],[277,278,15,14],[278,279,16,15],[279,280,17,16],[280,281,18,17],[281,282,19,18],[282,283,20,19],[283,284,21,20],[284,285,22,21]].map((e,n)=>e.map((e,n)=>t[e]))),e}t.h=r,t.l=s,t.k=o,t.f=a,t.a=l,t.e=c,t.b=u,t.c=h,t.d=d,t.o=p,t.g=m,t.j=f,t.m=g,t.i=v,t.n=y;var b=n("7TGV"),_=n("z1aO");n.n(_);n.c[n.s]===e&&(i(r(),"model_empty.gs"),i(s(),"model_points.gs"),i(o(),"model_open_polyline.gs"),i(a(),"model_closed_polyline.gs"),i(l(),"model_box.gs"),i(c(),"model_box_with_attribs.gs"),i(u(),"model_box_open1.gs"),i(h(),"model_box_open2.gs"),i(d(),"model_box_open2_disjoint.gs"),i(p(),"model_two_boxes.gs"),i(m(),"model_difficult_polymesh.gs"),i(f(),"model_invalid_polymesh.gs"),i(g(),"model_polylines_boxes.gs"),i(v(),"model_grid.gs"),i(y(),"model_torus.gs"))}).call(t,n("qhgb")(e))},zvsF:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("1GK5"),r=n("caAJ"),s=n("Yali"),o=n("xrDH"),a=(n.n(o),o.includes),l=o.pick,c=function(){function e(e,t,n){var r=this;this.treeModel=e,this.treeDraggedElement=t,this.renderer=n,e.eventNames.forEach(function(e){return r[e]=new i.q}),e.subscribeToState(function(e){return r.stateChange.emit(e)})}return Object.defineProperty(e.prototype,"nodes",{set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{set:function(e){this.treeModel.setFocus(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{set:function(e){this.treeModel.setState(e)},enumerable:!0,configurable:!0}),e.prototype.onKeydown=function(e){if(this.treeModel.isFocused&&!a(["input","textarea"],document.activeElement.tagName.toLowerCase())){var t=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(t,e)}},e.prototype.onMousedown=function(e){this.renderer.invokeElementMethod(e.target,"closest",["Tree"])||this.treeModel.setFocus(!1)},e.prototype.ngOnChanges=function(e){this.treeModel.setData({options:e.options&&e.options.currentValue,nodes:e.nodes&&e.nodes.currentValue,events:l(this,this.treeModel.eventNames)})},e.prototype.sizeChanged=function(){this.viewportComponent.setViewport()},e.decorators=[{type:i.j,args:[{selector:"Tree, tree-root",providers:[r.a],styles:[],template:'\n    <tree-viewport #viewport>\n      <div\n        class="angular-tree-component"\n        [class.node-dragging]="treeDraggedElement.isDragging()"\n        [class.angular-tree-component-rtl]="treeModel.options.rtl">\n        <tree-node-collection\n          *ngIf="treeModel.roots"\n          [nodes]="treeModel.roots"\n          [treeModel]="treeModel"\n          [templates]="{\n            loadingTemplate: loadingTemplate,\n            treeNodeTemplate: treeNodeTemplate,\n            treeNodeWrapperTemplate: treeNodeWrapperTemplate,\n            treeNodeFullTemplate: treeNodeFullTemplate\n          }">\n        </tree-node-collection>\n        <tree-node-drop-slot\n          class="empty-tree-drop-slot"\n          *ngIf="treeModel.isEmptyTree()"\n          [dropIndex]="0"\n          [node]="treeModel.virtualRoot">\n        </tree-node-drop-slot>\n      </div>\n    </tree-viewport>\n  '}]}],e.ctorParameters=function(){return[{type:r.a},{type:s.a},{type:i.L}]},e.propDecorators={loadingTemplate:[{type:i.l,args:["loadingTemplate"]}],treeNodeTemplate:[{type:i.l,args:["treeNodeTemplate"]}],treeNodeWrapperTemplate:[{type:i.l,args:["treeNodeWrapperTemplate"]}],treeNodeFullTemplate:[{type:i.l,args:["treeNodeFullTemplate"]}],viewportComponent:[{type:i.W,args:["viewport"]}],nodes:[{type:i.y}],options:[{type:i.y}],focused:[{type:i.y}],state:[{type:i.y}],toggleExpanded:[{type:i.H}],activate:[{type:i.H}],deactivate:[{type:i.H}],focus:[{type:i.H}],blur:[{type:i.H}],updateData:[{type:i.H}],initialized:[{type:i.H}],moveNode:[{type:i.H}],copyNode:[{type:i.H}],loadNodeChildren:[{type:i.H}],changeFilter:[{type:i.H}],event:[{type:i.H}],stateChange:[{type:i.H}],onKeydown:[{type:i.t,args:["body: keydown",["$event"]]}],onMousedown:[{type:i.t,args:["body: mousedown",["$event"]]}]},e}()}});